(this.webpackJsonp=this.webpackJsonp||[]).push([[0],[function(e,t,n){const r=n(381),o=n(318),i=n(1);r.createClass=o,r.PropTypes=i,e.exports=r},function(e,t,n){e.exports=n(539)()},function(e,t,n){"use strict";function r(e,t){return e===t}function o(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,o=0;o<r;o++)if(!e(t[o],n[o]))return!1;return!0}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,i=null;return function(){return o(t,n,arguments)||(i=e.apply(null,arguments)),n=arguments,i}}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];var s=0,l=r.pop(),c=a(r),u=e.apply(void 0,[function(){return s++,l.apply(null,arguments)}].concat(n)),d=i((function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return u.apply(null,e)}));return d.resultFunc=l,d.recomputations=function(){return s},d.resetRecomputations=function(){return s=0},d}}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=s,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce((function(e,t,r){return e[n[r]]=t,e}),{})}))};var l=t.createSelector=s(i)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var o=n(0),i=n(1),a=n.n(i),s=a.a.shape({trySubscribe:a.a.func.isRequired,tryUnsubscribe:a.a.func.isRequired,notifyNestedSubs:a.a.func.isRequired,isSubscribed:a.a.func.isRequired}),l=a.a.shape({subscribe:a.a.func.isRequired,dispatch:a.a.func.isRequired,getState:a.a.func.isRequired});!function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",i=function(t){r(a,t);var i=a.prototype;function a(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return i.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},i.render=function(){return o.Children.only(this.props.children)},a}(o.Component);i.propTypes={store:l.isRequired,children:a.a.element.isRequired},i.childContextTypes=((t={})[e]=l.isRequired,t[n]=s,t)}();function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var h=n(475),p=n.n(h),f=n(56),m=n.n(f),g=n(370),v={notify:function(){}};var y=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=v}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=null,e=null},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&null!==e&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=v)},e}(),b=0,_={};function w(){}function C(e,t){var n,i;void 0===t&&(t={});var a=t,h=a.getDisplayName,f=void 0===h?function(e){return"ConnectAdvanced("+e+")"}:h,v=a.methodName,C=void 0===v?"connectAdvanced":v,S=a.renderCountProp,E=void 0===S?void 0:S,x=a.shouldHandleStateChanges,k=void 0===x||x,O=a.storeKey,T=void 0===O?"store":O,M=a.withRef,P=void 0!==M&&M,L=d(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),N=T+"Subscription",A=b++,I=((n={})[T]=l,n[N]=s,n),R=((i={})[N]=s,i);return function(t){m()(Object(g.isValidElementType)(t),"You must pass a component to the function returned by "+C+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",i=f(n),a=u({},L,{getDisplayName:f,methodName:C,renderCountProp:E,shouldHandleStateChanges:k,storeKey:T,withRef:P,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=function(n){function s(e,t){var r;return(r=n.call(this,e,t)||this).version=A,r.state={},r.renderCount=0,r.store=e[T]||t[T],r.propsMode=Boolean(e[T]),r.setWrappedInstance=r.setWrappedInstance.bind(c(c(r))),m()(r.store,'Could not find "'+T+'" in either the context or props of "'+i+'". Either wrap the root component in a <Provider>, or explicitly pass "'+T+'" as a prop to "'+i+'".'),r.initSelector(),r.initSubscription(),r}r(s,n);var l=s.prototype;return l.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[N]=t||this.context[N],e},l.componentDidMount=function(){k&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(e){this.selector.run(e)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=w,this.store=null,this.selector.run=w,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return m()(P,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+C+"() call."),this.wrappedInstance},l.setWrappedInstance=function(e){this.wrappedInstance=e},l.initSelector=function(){var t=e(this.store.dispatch,a);this.selector=function(e,t){var n={run:function(r){try{var o=e(t.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(k){var e=(this.propsMode?this.props:this.context)[N];this.subscription=new y(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(_)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(e){if(!(P||E||this.propsMode&&this.subscription))return e;var t=u({},e);return P&&(t.ref=this.setWrappedInstance),E&&(t[E]=this.renderCount++),this.propsMode&&this.subscription&&(t[N]=this.subscription),t},l.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(o.createElement)(t,this.addExtraProps(e.props))},s}(o.Component);return s.WrappedComponent=t,s.displayName=i,s.childContextTypes=R,s.contextTypes=I,s.propTypes=I,p()(s,t)}}var S=Object.prototype.hasOwnProperty;function E(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function x(e,t){if(E(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!S.call(t,n[o])||!E(e[n[o]],t[n[o]]))return!1;return!0}var k=n(38);function O(e){return function(t,n){var r=e(t,n);function o(){return r}return o.dependsOnOwnProps=!1,o}}function T(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function M(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=T(e);var o=r(t,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=T(o),o=r(t,n)),o},r}}var P=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:O((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?O((function(t){return Object(k.b)(e,t)})):void 0}];var L=[function(e){return"function"==typeof e?M(e):void 0},function(e){return e?void 0:O((function(){return{}}))}];function N(e,t,n){return u({},n,e,t)}var A=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,o=n.pure,i=n.areMergedPropsEqual,a=!1;return function(t,n,s){var l=e(t,n,s);return a?o&&i(l,r)||(r=l):(a=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return N}}];function I(e,t,n,r){return function(o,i){return n(e(o,i),t(r,i),i)}}function R(e,t,n,r,o){var i,a,s,l,c,u=o.areStatesEqual,d=o.areOwnPropsEqual,h=o.areStatePropsEqual,p=!1;function f(o,p){var f,m,g=!d(p,a),v=!u(o,i);return i=o,a=p,g&&v?(s=e(i,a),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):g?(e.dependsOnOwnProps&&(s=e(i,a)),t.dependsOnOwnProps&&(l=t(r,a)),c=n(s,l,a)):v?(f=e(i,a),m=!h(f,s),s=f,m&&(c=n(s,l,a)),c):c}return function(o,u){return p?f(o,u):(s=e(i=o,a=u),l=t(r,a),c=n(s,l,a),p=!0,c)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,o=t.initMergeProps,i=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,i),s=r(e,i),l=o(e,i);return(i.pure?R:I)(a,s,l,e,i)}function j(e,t,n){for(var r=t.length-1;r>=0;r--){var o=t[r](e);if(o)return o}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function z(e,t){return e===t}var F,B,W,H,U,G,V,Y,q,Z,$,K,X=(W=(B=void 0===F?{}:F).connectHOC,H=void 0===W?C:W,U=B.mapStateToPropsFactories,G=void 0===U?L:U,V=B.mapDispatchToPropsFactories,Y=void 0===V?P:V,q=B.mergePropsFactories,Z=void 0===q?A:q,$=B.selectorFactory,K=void 0===$?D:$,function(e,t,n,r){void 0===r&&(r={});var o=r,i=o.pure,a=void 0===i||i,s=o.areStatesEqual,l=void 0===s?z:s,c=o.areOwnPropsEqual,h=void 0===c?x:c,p=o.areStatePropsEqual,f=void 0===p?x:p,m=o.areMergedPropsEqual,g=void 0===m?x:m,v=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),y=j(e,G,"mapStateToProps"),b=j(t,Y,"mapDispatchToProps"),_=j(n,Z,"mergeProps");return H(K,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:y,initMapDispatchToProps:b,initMergeProps:_,pure:a,areStatesEqual:l,areOwnPropsEqual:h,areStatePropsEqual:f,areMergedPropsEqual:g},v))});n.d(t,"a",(function(){return X}))},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(294),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(15);function o(e){return r.a.api?`${r.a.api.address}${e}`:e}function i(e){return new Promise((t,n)=>{$.ajax(e).done(e=>t(e)).fail(e=>n(e))})}function a(e,t,n,r){return i({type:e,url:o(t),contentType:"application/json; charset=UTF-8",data:"GET"===e?n:JSON.stringify(n),dataType:"json",headers:r})}function s(e,t,n,r,a){return i({type:e,url:o(t),contentType:n,data:r,processData:!1,dataType:"json",xhr:a?function(){const e=new window.XMLHttpRequest;let t=0;return e.upload.addEventListener("progress",e=>{if(e.lengthComputable){const n=e.loaded/e.total*100,r=10*Math.floor(n/10);r>t&&(a(r),t=r)}},!1),e}:void 0})}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(178),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));const r={READY:"READY",PROCESSING:"PROCESSING",NOT_FOUND:"NOT_FOUND",FAILED:"FAILED",ABORTED:"ABORTED"},o={metadata:"metadata",typing:"typing",stats:"stats",antibiotics:"antibiotics",snps:"snps",genes:"genes",kleborateAMR:"kleborateAMR",kleborateAMRGenotypes:"kleborateAMRGenotypes",timeline:"timeline",vista:"vista"},i={[o.antibiotics]:"Antibiotics",[o.genes]:"Genes",[o.kleborateAMR]:"Antibiotics",[o.kleborateAMRGenotypes]:"AMR Genotypes",[o.metadata]:"Metadata",[o.stats]:"Stats",[o.snps]:"SNPs",[o.timeline]:"Timeline",[o.typing]:"Typing",[o.vista]:"Virulence"}},function(e,t,n){"use strict";n(212);var r=n(129);n.d(t,"a",(function(){return r.FormattedName})),n.d(t,"c",(function(){return r.getOrganismName})),n.d(t,"d",(function(){return r.taxIdMap})),n.d(t,"b",(function(){return r.default}))},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(591)),o=a(n(595)),i=a(n(178));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(389),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"e",(function(){return f}));var r=n(2),o=n(296),i=n.n(o),a=n(21),s=n(10);const l=({viewer:e})=>e,c=({viewer:e})=>e.history,u=e=>l(e).entities.collection,d=e=>u(e).isClusterView,h=Object(r.createSelector)(u,({title:e})=>e?i()(e):null),p=Object(r.createSelector)(u,e=>({title:e.title,description:e.description,dateCreated:new Date(e.createdAt),pmid:e.pmid,owner:e.owner,access:e.access})),f=Object(r.createSelector)(u,e=>e.size<3?a.b:s.b.uiOptions.noPopulation?a.a:null)},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(237);const o=["ATTEMPT","SUCCESS","FAILURE"];function i(e){return o.reduce((t,n)=>({...t,[n]:`${e}::${n}`}),{})}function a(e,t){return(n,o)=>{const i=o(),a=t(i),s=e(a),{promise:l,...c}=s.payload;return n({type:s.type,payload:{...c,promise:l.then(e=>{const n=o(),i=t(n);return a!==i?r.a:e})}})}}},function(e,t,n){"use strict";(function(e){t.a=function(){if("PW_CONFIG"in e){const e=Object.assign({},PW_CONFIG);return PW_CONFIG=void 0,e}return{}}()}).call(this,n(45))},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return s}));const r={COLOURS:{GREEN_LIGHT:"#d0e9dc",GREEN_MID:"#87c7a6",GREEN:"#48996F",TURQUOISE:"#3c7383",PURPLE_LIGHT:"#a386bd",PURPLE_WARM:"#AC65A6",PURPLE:"#673c90",GREY:"#e5e5e5",GREY_LIGHT:"#efefef",GREY_DARK:"#ababab"}},o=[".fa",".fas",".fna",".ffn",".faa",".frn",".fasta",".genome",".contig",".dna"],i={SHAPE:"circle",COLOUR:"#555555",DANGER_COLOUR:"#d11b1b",WARNING_COLOUR:"#d19b1b",TREE_TYPE:"rectangular",NODE_SIZE:10,LABEL_SIZE:10,LAYOUT:{MINIMUM_CONTAINER_WIDTH:150,MINIMUM_CONTAINER_HEIGHT:50},SELECTED_TREE_NODE_LABEL:"id",MAP:{CENTER:{LATITUDE:47.34452036,LONGITUDE:5.85082183}}},a={LOADING:0,ERROR:1,SUCCESS:2},s={cgmlst:"cgMLST",core:"Core SNPs",genotyphi:"Genotyphi",inctyper:"Inctyper",kleborate:"Kleborate",metrics:"Stats",mlst:"MLST",mlst2:"MLST",ngmast:"NG-MAST",ngstar:"NG-STAR",paarsnp:"AMR",poppunk:"Strain",serotype:"Serotype",speciator:"Species prediction",spn_pbp_amr:"AMR (PBPs)",vista:"Vista Virulence"}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"f",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"g",(function(){return f}));var r=n(14),o=n(31),i=n(183);const a=Object(r.b)("FETCH_GENOME_SUMMARY");function s(e){return{type:a,payload:{filter:e,promise:Object(i.e)(e)}}}const l=Object(r.b)("FETCH_GENOME_LIST"),c=e=>null!=e;function u(e,t){let n=void 0,r=void 0;c(e)&&(n=e,c(t)&&(r=t-e+1));const a={skip:n,limit:r};return(e,t)=>{const n=Object(o.a)(t());return e({type:l,payload:{filter:n,options:a,promise:Object(i.b)({...n,...a})}})}}const d=Object(r.b)("FETCH_GENOME_MAP");function h(){return(e,t)=>{const n=Object(o.a)(t());e({type:d,payload:{filter:n,promise:Object(i.c)(n)}})}}const p=Object(r.b)("FETCH_GENOME_STATS");function f(){return(e,t)=>{const n=Object(o.a)(t());e({type:p,payload:{filter:n,promise:Object(i.d)(n)}})}}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(541)},function(e,t,n){"use strict";n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"k",(function(){return b})),n.d(t,"o",(function(){return C})),n.d(t,"l",(function(){return S})),n.d(t,"r",(function(){return E})),n.d(t,"f",(function(){return x})),n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return T})),n.d(t,"j",(function(){return P})),n.d(t,"b",(function(){return B})),n.d(t,"g",(function(){return H})),n.d(t,"i",(function(){return U})),n.d(t,"h",(function(){return G})),n.d(t,"a",(function(){return Z})),n.d(t,"e",(function(){return $}));var r=n(2),o=n(218),i=n(104),a=n(13),s=n(211),l=n(16),c=n(46);const u={0:"#673c90",1:"#b199c7","-1":"#9eb8c0"},d={0:"#9a6fc3",1:"#e3dbeb"};d[-1]="#dae4e7";const h=e=>e.clustering||{},p=e=>h(e).index||{},f=e=>h(e).selectedGenomeId,m=e=>h(e).status,g=e=>h(e).threshold,v=e=>h(e).triedBuilding,y=e=>h(e).edgeMatrix,b=e=>h(e).progress,_=e=>h(e).allSchemeSts,w=e=>h(e).indexOfSelectedInAll,C=e=>h(e).taskId,S=e=>h(e).scheme,E=e=>h(e).version,x=e=>h(e).nodes,k=Object(r.createSelector)(y,e=>(e||[]).filter(e=>1===e).length),O=(Object(r.createSelector)(k,e=>e>0),Object(r.createSelector)(g,p,(e,{pi:t,lambda:n})=>{if(0!==(t||[]).length)return Object(o.a)(e,t,n)})),T=Object(r.createSelector)(w,_,O,(e,t,n)=>{if(n)return t.filter((t,r)=>n[r]===n[e])}),M=Object(r.createSelector)(T,x,(e=[],t)=>e.map(e=>t[e])),P=Object(r.createSelector)(T,e=>(e||[]).length),L=Object(r.createSelector)(w,O,_,T,(e,t,n,r)=>{if(!t)return;const o=n[e];return r.indexOf(o)}),N=Object(r.createSelector)(w,O,M,(e,t,n)=>{if(!t)return;const r=[];for(let e=0;e<n.length;e++){const{ids:t}=n[e];r.push(t)}return r}),A=Object(r.createSelector)(M,e=>{if(e)return e.map(e=>0===e.ids.length?"Unnamed":1===e.ids.length?e.label:2===e.ids.length?`${e.label} and one other`:`${e.label} and ${e.ids.length-1} others`)}),I=Object(r.createSelector)(y,L,(function(e,t){if(!e)return;const n=[];let r=0;for(let t=0;r<e.length;t++){const o={neighbours:[],explored:!1,degrees:3};n.push(o);for(let i=0;i<t;i++){const t=n[i];e[r]&&(o.neighbours.push(t),t.neighbours.push(o)),r++}}let o=[n[t]];for(let e=0;e<3;e++){let t=[];for(const n of o)n.explored||(t=[...t,...n.neighbours],n.degrees=e,n.explored=!0);o=t}return n.map(e=>e.degrees)})),R=Object(r.createSelector)(I,a.g,M,s.a,(e,t,n,r)=>{const o=e?e.map(e=>u[e]||u[-1]):[u[0]];if(!t)return o;const i=[l.c.DANGER_COLOUR,l.c.WARNING_COLOUR,l.c.COLOUR,c.k],a=r[Object.keys(r)[0]].colour;return i.includes(a)?n.map(e=>e.ids).map(e=>{const t=e.flat().map(e=>e in r?r[e].colour:c.k).reduce((e,t)=>(e.hasOwnProperty(t)||(e[t]=0),e[t]+=1,e),{});return l.c.DANGER_COLOUR in t?l.c.DANGER_COLOUR:l.c.WARNING_COLOUR in t?l.c.WARNING_COLOUR:c.k}):o}),D=Object(r.createSelector)(N,e=>e?function(e){const t=Math.max(...e),n=Math.min(...e),r=t-n;return 0===r?e.map(()=>.5):e.map(e=>.5+(e-n)/r)}(e.map(e=>e.length**.3)):void 0),j=Object(r.createSelector)(I,(function(e){if(!e)return;const t=[];for(let n=1;n<e.length;n++)for(let r=0;r<n;r++){const o=Math.min(e[n],e[r]);t.push(o)}return t})),z=Object(r.createSelector)(j,e=>e?e.map(e=>d[e]||d[-1]):void 0),F=[...Array(i.d+1)].map((e,t)=>t),B=()=>F,W=Object(r.createSelector)(_,x,(e,t)=>t?e.map(e=>t[e].ids.length):void 0),H=Object(r.createSelector)(w,B,p,W,(e,t,{pi:n,lambda:r},i)=>{if(n)return t.map(t=>{const a=Object(o.a)(t,n,r),s=a[e];let l=0;for(let e=0;e<i.length;e++)a[e]===s&&(l+=i[e]);return l})}),U=Object(r.createSelector)(w,B,p,(e,t,{pi:n,lambda:r})=>{if(n)return t.map(t=>{const i=Object(o.a)(t,n,r),a=i[e];let s=0;for(const e of i)e===a&&s++;return s})}),G=Object(r.createSelector)(B,g,H,(e=[],t,n=[])=>{if(t in e)return n[e.indexOf(t)]}),V="#ccc",Y="#b199c7",q="#673c90",Z=Object(r.createSelector)(U,g,(e,t)=>{if(!e)return;const n=[],r=[];for(let o=0;o<e.length;o++){e[o]>i.b?(n.push(V),r.push(V)):(n.push(o===t?q:Y),r.push(q))}return{status:n,hover:r}});const $=Object(r.createSelector)(m,T,x,L,A,D,R,I,e=>h(e).nodeCoordinates||[],y,z,j,(function(e,t,n,r,o,i,a,s,l,c,d,h){const p=[],f=[];if(!t)return{nodes:p,edges:f};const m=t.length;if(0===m)return{nodes:[],edges:[]};if(1===m){const e=t[0];return{nodes:[{label:o[0],_label:o[0],color:a[0],genomeIds:n[e].ids,id:e,size:1,style:{colour:u[0],shape:"circle"},zIndex:0,x:0,y:0}],edges:[]}}if(!c)return{nodes:p,edges:f};let g=0;for(let u=0;u<m;u++){const v="COMPLETED_LAYOUT"===e&&u===r,y=t[u];p.push({label:v?o[u]:void 0,color:v?a[u]:void 0,hoverLabel:v?void 0:o[u],id:y,genomeIds:n[y].ids,size:i[u],style:{colour:a[u],shape:"circle"},zIndex:s[u],x:y in l?l[y].x:Math.cos(2*u*Math.PI/m),y:y in l?l[y].y:Math.sin(2*u*Math.PI/m)});for(let e=0;e<u;e++)c[g]&&f.push({id:`e${g}`,source:t[e],target:t[u],style:{colour:d[g]},zIndex:h[g]}),g++}return p.sort((e,t)=>t.zIndex-e.zIndex),f.sort((e,t)=>t.zIndex-e.zIndex),{nodes:p,edges:f}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="collection",o="population"},function(e,t,n){"use strict";n.d(t,"e",(function(){return g})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return _})),n.d(t,"d",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"j",(function(){return E})),n.d(t,"a",(function(){return k})),n.d(t,"k",(function(){return O}));var r=n(2),o=n(43),i=n.n(o),a=n(78),s=n.n(a),l=n(53),c=n(143),u=n(98),d=n(31),h=n(126),p=n(6),f=n(16);const m=({genomes:e})=>e.selection,g=e=>m(e).genomes,v=e=>m(e).dropdown,y=e=>m(e).download,b=e=>m(e).lastSelectedIndex,_=Object(r.createSelector)(g,d.d,(e,t)=>{const n=Object.keys(e);return"bin"===t?n.filter(t=>e[t].binned):n}),w=Object(r.createSelector)(g,_,(e,t)=>t.map(t=>e[t])),C=e=>w(e).length,S=Object(r.createSelector)(w,u.a,(e,t)=>e.filter(e=>t.has(e.organismId))),E=(Object(r.createSelector)(_,e=>Object(h.c)(e.length)),Object(r.createSelector)(_,l.a,c.c,(e,t,n)=>0===e.length?"UNCHECKED":t.length===n&&t.every(({id:t})=>-1!==e.indexOf(t))?"CHECKED":"INDETERMINATE"));function x(e,t,n){const r=Object(p.c)(`/download/analysis/${e}`),o={};"serotype"===e&&(o.speciesId=n.speciesId),"mlst"===e&&(o.filename=`mlst-${t[0]}.csv`),"mlst2"===e&&(o.filename=`mlst-${t[0]}.csv`);const i=s.a.stringify(o);return i?`${r}?${i}`:r}const k=Object(r.createSelector)(y,({summary:e})=>e?e.map(e=>{const t=new Set,n=[];for(const{task:r,ids:o,sources:i}of e.tasks){"paarsnp"===r?n.push({ids:o,sources:i,name:"paarsnp",label:"AMR antibiogram",link:x("paarsnp")},{ids:o,sources:i,name:"paarsnp-snps-genes",label:"AMR SNPs/genes",link:x("paarsnp-snps-genes")}):n.push({ids:o,sources:i,name:r,label:f.d[r]||r,link:x(r,i,e)});for(const e of o)t.add(e)}return{speciesId:e.speciesId,speciesName:e.speciesName,total:e.total,ids:Array.from(t),tasks:i()(n,e=>e.label.toUpperCase())}}):[]),O=Object(r.createSelector)(c.a,d.d,(e,t)=>"all"===t&&e.visible===e.total)},function(e,t,n){
/* @preserve
 * Leaflet 1.4.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(e){"use strict";var t=Object.freeze;function n(e){var t,n,r,o;for(n=1,r=arguments.length;n<r;n++)for(t in o=arguments[n])e[t]=o[t];return e}Object.freeze=function(e){return e};var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function o(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var i=0;function a(e){return e._leaflet_id=e._leaflet_id||++i,e._leaflet_id}function s(e,t,n){var r,o,i,a;return a=function(){r=!1,o&&(i.apply(n,o),o=!1)},i=function(){r?o=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)}}function l(e,t,n){var r=t[1],o=t[0],i=r-o;return e===r&&n?e:((e-o)%i+i)%i+o}function c(){return!1}function u(e,t){var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function d(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function h(e){return d(e).split(/\s+/)}function p(e,t){for(var n in e.hasOwnProperty("options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function f(e,t,n){var r=[];for(var o in e)r.push(encodeURIComponent(n?o.toUpperCase():o)+"="+encodeURIComponent(e[o]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var m=/\{ *([\w_-]+) *\}/g;function g(e,t){return e.replace(m,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"==typeof r&&(r=r(t)),r}))}var v=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function y(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var b="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var w=0;function C(e){var t=+new Date,n=Math.max(0,16-(t-w));return w=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||_("RequestAnimationFrame")||C,E=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function x(e,t,n){if(!n||S!==C)return S.call(window,o(e,t));e.call(t)}function k(e){e&&E.call(window,e)}var O=(Object.freeze||Object)({freeze:t,extend:n,create:r,bind:o,lastId:i,stamp:a,throttle:s,wrapNum:l,falseFn:c,formatNum:u,trim:d,splitWords:h,setOptions:p,getParamString:f,template:g,isArray:v,indexOf:y,emptyImageUrl:b,requestFn:S,cancelFn:E,requestAnimFrame:x,cancelAnimFrame:k});function T(){}T.extend=function(e){var t=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,i=r(o);for(var a in i.constructor=t,t.prototype=i,this)this.hasOwnProperty(a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&(n(t,e.statics),delete e.statics),e.includes&&(function(e){if("undefined"!=typeof L&&L&&L.Mixin){e=v(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(e.includes),n.apply(null,[i].concat(e.includes)),delete e.includes),i.options&&(e.options=n(r(i.options),e.options)),n(i,e),i._initHooks=[],i.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=i._initHooks.length;e<t;e++)i._initHooks[e].call(this)}},t},T.include=function(e){return n(this.prototype,e),this},T.mergeOptions=function(e){return n(this.prototype.options,e),this},T.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"==typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var M={on:function(e,t,n){if("object"==typeof e)for(var r in e)this._on(r,e[r],t);else for(var o=0,i=(e=h(e)).length;o<i;o++)this._on(e[o],t,n);return this},off:function(e,t,n){if(e)if("object"==typeof e)for(var r in e)this._off(r,e[r],t);else for(var o=0,i=(e=h(e)).length;o<i;o++)this._off(e[o],t,n);else delete this._events;return this},_on:function(e,t,n){this._events=this._events||{};var r=this._events[e];r||(r=[],this._events[e]=r),n===this&&(n=void 0);for(var o={fn:t,ctx:n},i=r,a=0,s=i.length;a<s;a++)if(i[a].fn===t&&i[a].ctx===n)return;i.push(o)},_off:function(e,t,n){var r,o,i;if(this._events&&(r=this._events[e]))if(t){if(n===this&&(n=void 0),r)for(o=0,i=r.length;o<i;o++){var a=r[o];if(a.ctx===n&&a.fn===t)return a.fn=c,this._firingCount&&(this._events[e]=r=r.slice()),void r.splice(o,1)}}else{for(o=0,i=r.length;o<i;o++)r[o].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var o=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var i=this._events[e];if(i){this._firingCount=this._firingCount+1||1;for(var a=0,s=i.length;a<s;a++){var l=i[a];l.fn.call(l.ctx||this,o)}this._firingCount--}}return r&&this._propagateEvent(o),this},listens:function(e,t){var n=this._events&&this._events[e];if(n&&n.length)return!0;if(t)for(var r in this._eventParents)if(this._eventParents[r].listens(e,t))return!0;return!1},once:function(e,t,n){if("object"==typeof e){for(var r in e)this.once(r,e[r],t);return this}var i=o((function(){this.off(e,t,n).off(e,i,n)}),this);return this.on(e,t,n).on(e,i,n)},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};M.addEventListener=M.on,M.removeEventListener=M.clearAllEventListeners=M.off,M.addOneTimeEventListener=M.once,M.fireEvent=M.fire,M.hasEventListeners=M.listens;var P=T.extend(M);function N(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var A=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function I(e,t,n){return e instanceof N?e:v(e)?new N(e[0],e[1]):null==e?e:"object"==typeof e&&"x"in e&&"y"in e?new N(e.x,e.y):new N(e,t,n)}function R(e,t){if(e)for(var n=t?[e,t]:e,r=0,o=n.length;r<o;r++)this.extend(n[r])}function D(e,t){return!e||e instanceof R?e:new R(e,t)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,o=n.length;r<o;r++)this.extend(n[r])}function z(e,t){return e instanceof j?e:new j(e,t)}function F(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof F?e:v(e)&&"object"!=typeof e[0]?3===e.length?new F(e[0],e[1],e[2]):2===e.length?new F(e[0],e[1]):null:null==e?e:"object"==typeof e&&"lat"in e?new F(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new F(e,t,n)}N.prototype={clone:function(){return new N(this.x,this.y)},add:function(e){return this.clone()._add(I(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(I(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new N(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new N(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=A(this.x),this.y=A(this.y),this},distanceTo:function(e){var t=(e=I(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=I(e)).x===this.x&&e.y===this.y},contains:function(e){return e=I(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+u(this.x)+", "+u(this.y)+")"}},R.prototype={extend:function(e){return e=I(e),this.min||this.max?(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(e.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(e.y,this.max.y)):(this.min=e.clone(),this.max=e.clone()),this},getCenter:function(e){return new N((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return new N(this.min.x,this.max.y)},getTopRight:function(){return new N(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"==typeof e[0]||e instanceof N?I(e):D(e))instanceof R?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,o=e.max,i=o.x>=t.x&&r.x<=n.x,a=o.y>=t.y&&r.y<=n.y;return i&&a},overlaps:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,o=e.max,i=o.x>t.x&&r.x<n.x,a=o.y>t.y&&r.y<n.y;return i&&a},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(e){var t,n,r=this._southWest,o=this._northEast;if(e instanceof F)t=e,n=e;else{if(!(e instanceof j))return e?this.extend(B(e)||z(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||o?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new F(t.lat,t.lng),this._northEast=new F(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,o=Math.abs(t.lng-n.lng)*e;return new j(new F(t.lat-r,t.lng-o),new F(n.lat+r,n.lng+o))},getCenter:function(){return new F((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new F(this.getNorth(),this.getWest())},getSouthEast:function(){return new F(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"==typeof e[0]||e instanceof F||"lat"in e?B(e):z(e);var t,n,r=this._southWest,o=this._northEast;return e instanceof j?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=o.lat&&t.lng>=r.lng&&n.lng<=o.lng},intersects:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),o=e.getNorthEast(),i=o.lat>=t.lat&&r.lat<=n.lat,a=o.lng>=t.lng&&r.lng<=n.lng;return i&&a},overlaps:function(e){e=z(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),o=e.getNorthEast(),i=o.lat>t.lat&&r.lat<n.lat,a=o.lng>t.lng&&r.lng<n.lng;return i&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=z(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},F.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+u(this.lat,e)+", "+u(this.lng,e)+")"},distanceTo:function(e){return U.distance(this,B(e))},wrap:function(){return U.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return z([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new F(this.lat,this.lng,this.alt)}};var W,H={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new R(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?l(e.lng,this.wrapLng,!0):e.lng;return new F(this.wrapLat?l(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,o=t.lng-n.lng;if(0===r&&0===o)return e;var i=e.getSouthWest(),a=e.getNorthEast();return new j(new F(i.lat-r,i.lng-o),new F(a.lat-r,a.lng-o))}},U=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,o=t.lat*n,i=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=i*i+Math.cos(r)*Math.cos(o)*a*a,l=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*l}}),G={R:6378137,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),o=Math.sin(r*t);return new N(this.R*e.lng*t,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(e){var t=180/Math.PI;return new F((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:(W=6378137*Math.PI,new R([-W,-W],[W,W]))};function V(e,t,n,r){if(v(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function Y(e,t,n,r){return new V(e,t,n,r)}V.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new N((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var q=n({},U,{code:"EPSG:3857",projection:G,transformation:function(){var e=.5/(Math.PI*G.R);return Y(e,.5,-e,.5)}()}),Z=n({},q,{code:"EPSG:900913"});function $(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function K(e,t){var n,r,o,i,a,s,l="";for(n=0,o=e.length;n<o;n++){for(r=0,i=(a=e[n]).length;r<i;r++)l+=(r?"L":"M")+(s=a[r]).x+" "+s.y;l+=t?Oe?"z":"x":""}return l||"M0 0"}var X=document.documentElement.style,Q="ActiveXObject"in window,J=Q&&!document.addEventListener,ee="msLaunchUri"in navigator&&!("documentMode"in document),te=Me("webkit"),ne=Me("android"),re=Me("android 2")||Me("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ie=ne&&Me("Google")&&oe<537&&!("AudioNode"in window),ae=!!window.opera,se=Me("chrome"),le=Me("gecko")&&!te&&!ae&&!Q,ce=!se&&Me("safari"),ue=Me("phantom"),de="OTransition"in X,he=0===navigator.platform.indexOf("Win"),pe=Q&&"transition"in X,fe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!re,me="MozPerspective"in X,ge=!window.L_DISABLE_3D&&(pe||fe||me)&&!de&&!ue,ve="undefined"!=typeof orientation||Me("mobile"),ye=ve&&te,be=ve&&fe,_e=!window.PointerEvent&&window.MSPointerEvent,we=!(!window.PointerEvent&&!_e),Ce=!window.L_NO_TOUCH&&(we||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Se=ve&&ae,Ee=ve&&le,xe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ke=!!document.createElement("canvas").getContext,Oe=!(!document.createElementNS||!$("svg").createSVGRect),Te=!Oe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"==typeof t.adj}catch(e){return!1}}();function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var Pe=(Object.freeze||Object)({ie:Q,ielt9:J,edge:ee,webkit:te,android:ne,android23:re,androidStock:ie,opera:ae,chrome:se,gecko:le,safari:ce,phantom:ue,opera12:de,win:he,ie3d:pe,webkit3d:fe,gecko3d:me,any3d:ge,mobile:ve,mobileWebkit:ye,mobileWebkit3d:be,msPointer:_e,pointer:we,touch:Ce,mobileOpera:Se,mobileGecko:Ee,retina:xe,canvas:ke,svg:Oe,vml:Te}),Le=_e?"MSPointerDown":"pointerdown",Ne=_e?"MSPointerMove":"pointermove",Ae=_e?"MSPointerUp":"pointerup",Ie=_e?"MSPointerCancel":"pointercancel",Re=["INPUT","SELECT","OPTION"],De={},je=!1,ze=0;function Fe(e,t,n,r){return"touchstart"===t?function(e,t,n){var r=o((function(e){if("mouse"!==e.pointerType&&e.MSPOINTER_TYPE_MOUSE&&e.pointerType!==e.MSPOINTER_TYPE_MOUSE){if(!(Re.indexOf(e.target.tagName)<0))return;Dt(e)}Ue(e,t)}));e["_leaflet_touchstart"+n]=r,e.addEventListener(Le,r,!1),je||(document.documentElement.addEventListener(Le,Be,!0),document.documentElement.addEventListener(Ne,We,!0),document.documentElement.addEventListener(Ae,He,!0),document.documentElement.addEventListener(Ie,He,!0),je=!0)}(e,n,r):"touchmove"===t?function(e,t,n){var r=function(e){(e.pointerType!==e.MSPOINTER_TYPE_MOUSE&&"mouse"!==e.pointerType||0!==e.buttons)&&Ue(e,t)};e["_leaflet_touchmove"+n]=r,e.addEventListener(Ne,r,!1)}(e,n,r):"touchend"===t&&function(e,t,n){var r=function(e){Ue(e,t)};e["_leaflet_touchend"+n]=r,e.addEventListener(Ae,r,!1),e.addEventListener(Ie,r,!1)}(e,n,r),this}function Be(e){De[e.pointerId]=e,ze++}function We(e){De[e.pointerId]&&(De[e.pointerId]=e)}function He(e){delete De[e.pointerId],ze--}function Ue(e,t){for(var n in e.touches=[],De)e.touches.push(De[n]);e.changedTouches=[e],t(e)}var Ge=_e?"MSPointerDown":we?"pointerdown":"touchstart",Ve=_e?"MSPointerUp":we?"pointerup":"touchend",Ye="_leaflet_";function qe(e,t,n){var r,o,i=!1;function a(e){var t;if(we){if(!ee||"mouse"===e.pointerType)return;t=ze}else t=e.touches.length;if(!(t>1)){var n=Date.now(),a=n-(r||n);o=e.touches?e.touches[0]:e,i=a>0&&a<=250,r=n}}function s(e){if(i&&!o.cancelBubble){if(we){if(!ee||"mouse"===e.pointerType)return;var n,a,s={};for(a in o)n=o[a],s[a]=n&&n.bind?n.bind(o):n;o=s}o.type="dblclick",t(o),r=null}}return e[Ye+Ge+n]=a,e[Ye+Ve+n]=s,e[Ye+"dblclick"+n]=t,e.addEventListener(Ge,a,!1),e.addEventListener(Ve,s,!1),e.addEventListener("dblclick",t,!1),this}function Ze(e,t){var n=e[Ye+Ge+t],r=e[Ye+Ve+t],o=e[Ye+"dblclick"+t];return e.removeEventListener(Ge,n,!1),e.removeEventListener(Ve,r,!1),ee||e.removeEventListener("dblclick",o,!1),this}var $e,Ke,Xe,Qe,Je,et=gt(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tt=gt(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nt="webkitTransition"===tt||"OTransition"===tt?tt+"End":"transitionend";function rt(e){return"string"==typeof e?document.getElementById(e):e}function ot(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function it(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function at(e){var t=e.parentNode;t&&t.removeChild(e)}function st(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function lt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ct(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function ut(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=ft(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function dt(e,t){if(void 0!==e.classList)for(var n=h(t),r=0,o=n.length;r<o;r++)e.classList.add(n[r]);else if(!ut(e,t)){var i=ft(e);pt(e,(i?i+" ":"")+t)}}function ht(e,t){void 0!==e.classList?e.classList.remove(t):pt(e,d((" "+ft(e)+" ").replace(" "+t+" "," ")))}function pt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function ft(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function mt(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&function(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(e){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}(e,t)}function gt(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function vt(e,t,n){var r=t||new N(0,0);e.style[et]=(pe?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function yt(e,t){e._leaflet_pos=t,ge?vt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function bt(e){return e._leaflet_pos||new N(0,0)}if("onselectstart"in document)$e=function(){Tt(window,"selectstart",Dt)},Ke=function(){Pt(window,"selectstart",Dt)};else{var _t=gt(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$e=function(){if(_t){var e=document.documentElement.style;Xe=e[_t],e[_t]="none"}},Ke=function(){_t&&(document.documentElement.style[_t]=Xe,Xe=void 0)}}function wt(){Tt(window,"dragstart",Dt)}function Ct(){Pt(window,"dragstart",Dt)}function St(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Et(),Qe=e,Je=e.style.outline,e.style.outline="none",Tt(window,"keydown",Et))}function Et(){Qe&&(Qe.style.outline=Je,Qe=void 0,Je=void 0,Pt(window,"keydown",Et))}function xt(e){do{e=e.parentNode}while(!(e.offsetWidth&&e.offsetHeight||e===document.body));return e}function kt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var Ot=(Object.freeze||Object)({TRANSFORM:et,TRANSITION:tt,TRANSITION_END:nt,get:rt,getStyle:ot,create:it,remove:at,empty:st,toFront:lt,toBack:ct,hasClass:ut,addClass:dt,removeClass:ht,setClass:pt,getClass:ft,setOpacity:mt,testProp:gt,setTransform:vt,setPosition:yt,getPosition:bt,disableTextSelection:$e,enableTextSelection:Ke,disableImageDrag:wt,enableImageDrag:Ct,preventOutline:St,restoreOutline:Et,getSizedParentNode:xt,getScale:kt});function Tt(e,t,n,r){if("object"==typeof t)for(var o in t)Lt(e,o,t[o],n);else for(var i=0,a=(t=h(t)).length;i<a;i++)Lt(e,t[i],n,r);return this}var Mt="_leaflet_events";function Pt(e,t,n,r){if("object"==typeof t)for(var o in t)Nt(e,o,t[o],n);else if(t)for(var i=0,a=(t=h(t)).length;i<a;i++)Nt(e,t[i],n,r);else{for(var s in e[Mt])Nt(e,s,e[Mt][s]);delete e[Mt]}return this}function Lt(e,t,n,r){var o=t+a(n)+(r?"_"+a(r):"");if(e[Mt]&&e[Mt][o])return this;var i=function(t){return n.call(r||e,t||window.event)},s=i;we&&0===t.indexOf("touch")?Fe(e,t,i,o):!Ce||"dblclick"!==t||!qe||we&&se?"addEventListener"in e?"mousewheel"===t?e.addEventListener("onwheel"in e?"wheel":"mousewheel",i,!1):"mouseenter"===t||"mouseleave"===t?(i=function(t){t=t||window.event,Vt(e,t)&&s(t)},e.addEventListener("mouseenter"===t?"mouseover":"mouseout",i,!1)):("click"===t&&ne&&(i=function(e){!function(e,t){var n=e.timeStamp||e.originalEvent&&e.originalEvent.timeStamp,r=Wt&&n-Wt;r&&r>100&&r<500||e.target._simulatedClick&&!e._simulated?jt(e):(Wt=n,t(e))}(e,s)}),e.addEventListener(t,i,!1)):"attachEvent"in e&&e.attachEvent("on"+t,i):qe(e,i,o),e[Mt]=e[Mt]||{},e[Mt][o]=i}function Nt(e,t,n,r){var o=t+a(n)+(r?"_"+a(r):""),i=e[Mt]&&e[Mt][o];if(!i)return this;we&&0===t.indexOf("touch")?function(e,t,n){var r=e["_leaflet_"+t+n];"touchstart"===t?e.removeEventListener(Le,r,!1):"touchmove"===t?e.removeEventListener(Ne,r,!1):"touchend"===t&&(e.removeEventListener(Ae,r,!1),e.removeEventListener(Ie,r,!1))}(e,t,o):!Ce||"dblclick"!==t||!Ze||we&&se?"removeEventListener"in e?"mousewheel"===t?e.removeEventListener("onwheel"in e?"wheel":"mousewheel",i,!1):e.removeEventListener("mouseenter"===t?"mouseover":"mouseleave"===t?"mouseout":t,i,!1):"detachEvent"in e&&e.detachEvent("on"+t,i):Ze(e,o),e[Mt][o]=null}function At(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,Gt(e),this}function It(e){return Lt(e,"mousewheel",At),this}function Rt(e){return Tt(e,"mousedown touchstart dblclick",At),Lt(e,"click",Ut),this}function Dt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function jt(e){return Dt(e),At(e),this}function zt(e,t){if(!t)return new N(e.clientX,e.clientY);var n=kt(t),r=n.boundingClientRect;return new N((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Ft=he&&se?2*window.devicePixelRatio:le?window.devicePixelRatio:1;function Bt(e){return ee?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Ft:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}var Wt,Ht={};function Ut(e){Ht[e.type]=!0}function Gt(e){var t=Ht[e.type];return Ht[e.type]=!1,t}function Vt(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(e){return!1}return n!==e}var Yt=(Object.freeze||Object)({on:Tt,off:Pt,stopPropagation:At,disableScrollPropagation:It,disableClickPropagation:Rt,preventDefault:Dt,stop:jt,getMousePosition:zt,getWheelDelta:Bt,fakeStop:Ut,skipped:Gt,isExternalTarget:Vt,addListener:Tt,removeListener:Pt}),qt=P.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=bt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=x(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),yt(this._el,n),this.fire("step")},_complete:function(){k(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Zt=P.extend({options:{crs:q,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=p(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tt&&ge&&!Se&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Tt(this._proxy,nt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(ge?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(ge?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),o=this.getSize().divideBy(2),i=(e instanceof N?e:this.latLngToContainerPoint(e)).subtract(o).multiplyBy(1-1/r),a=this.containerPointToLatLng(o.add(i));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():z(e);var n=I(t.paddingTopLeft||t.padding||[0,0]),r=I(t.paddingBottomRight||t.padding||[0,0]),o=this.getBoundsZoom(e,!1,n.add(r));if((o="number"==typeof t.maxZoom?Math.min(t.maxZoom,o):o)===1/0)return{center:e.getCenter(),zoom:o};var i=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),o),s=this.project(e.getNorthEast(),o);return{center:this.unproject(a.add(s).divideBy(2).add(i),o),zoom:o}},fitBounds:function(e,t){if(!(e=z(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=I(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new qt,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){dt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!ge)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),o=this.project(e),i=this.getSize(),a=this._zoom;e=B(e),t=void 0===t?a:t;var s=Math.max(i.x,i.y),l=s*this.getZoomScale(a,t),c=o.distanceTo(r)||1;function u(e){var t=(l*l-s*s+2.0164*(e?-1:1)*2.0164*c*c)/(2*(e?l:s)*2.0164*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function d(e){return(Math.exp(e)-Math.exp(-e))/2}function h(e){return(Math.exp(e)+Math.exp(-e))/2}var p=u(0);function f(e){return s*(h(p)*(d(t=p+1.42*e)/h(t))-d(p))/2.0164;var t}var m=Date.now(),g=(u(1)-p)/1.42,v=n.duration?1e3*n.duration:1e3*g*.8;return this._moveStart(!0,n.noMoveStart),function n(){var i=(Date.now()-m)/v,l=function(e){return 1-Math.pow(1-e,1.5)}(i)*g;i<=1?(this._flyToFrame=x(n,this),this._move(this.unproject(r.add(o.subtract(r).multiplyBy(f(l)/c)),a),this.getScaleZoom(s/function(e){return s*(h(p)/h(p+1.42*e))}(l),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return(e=z(e)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,z(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=I((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=I(t.paddingBottomRight||t.padding||[0,0]),o=this.getCenter(),i=this.project(o),a=this.project(e),s=this.getPixelBounds(),l=s.getSize().divideBy(2),c=D([s.min.add(n),s.max.subtract(r)]);if(!c.contains(a)){this._enforcingBounds=!0;var u=i.subtract(a),d=I(a.x+u.x,a.y+u.y);(a.x<c.min.x||a.x>c.max.x)&&(d.x=i.x-u.x,u.x>0?d.x+=l.x-n.x:d.x-=l.x-r.x),(a.y<c.min.y||a.y>c.max.y)&&(d.y=i.y-u.y,u.y>0?d.y+=l.y-n.y:d.y-=l.y-r.y),this.panTo(this.unproject(d),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),i=t.divideBy(2).round(),a=r.divideBy(2).round(),s=i.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=o(this._handleGeolocationResponse,this),r=o(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(e){var t=new F(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var o=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(o,r.maxZoom):o)}var i={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"==typeof e.coords[a]&&(i[a]=e.coords[a]);this.fire("locationfound",i)},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(e){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),at(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(k(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)at(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=it("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new j(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=z(e),n=I(n||[0,0]);var r=this.getZoom()||0,o=this.getMinZoom(),i=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),l=this.getSize().subtract(n),c=D(this.project(s,r),this.project(a,r)).getSize(),u=ge?this.options.zoomSnap:1,d=l.x/c.x,h=l.y/c.y,p=t?Math.max(d,h):Math.min(d,h);return r=this.getScaleZoom(p,r),u&&(r=Math.round(r/(u/100))*(u/100),r=t?Math.ceil(r/u)*u:Math.floor(r/u)*u),Math.max(o,Math.min(i,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new R(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"==typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(I(e),t)},layerPointToLatLng:function(e){var t=I(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(z(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return I(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return I(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(I(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return zt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=rt(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Tt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ge,dt(e,"leaflet-container"+(Ce?" leaflet-touch":"")+(xe?" leaflet-retina":"")+(J?" leaflet-oldie":"")+(ce?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=ot(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),yt(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(dt(e.markerPane,"leaflet-zoom-hide"),dt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t){yt(this._mapPane,new N(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var r=this._zoom!==t;this._moveStart(r,!1)._move(e,t)._moveEnd(r),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n){void 0===t&&(t=this._zoom);var r=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),(r||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return k(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){yt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Pt:Tt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),ge&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){k(this._resizeRequest),this._resizeRequest=x((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],o="mouseout"===t||"mouseover"===t,i=e.target||e.srcElement,s=!1;i;){if((n=this._targets[a(i)])&&("click"===t||"preclick"===t)&&!e._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(o&&!Vt(i,e))break;if(r.push(n),o)break}if(i===this._container)break;i=i.parentNode}return r.length||s||o||!Vt(i,e)||(r=[this]),r},_handleDOMEvent:function(e){if(this._loaded&&!Gt(e)){var t=e.type;"mousedown"!==t&&"keypress"!==t||St(e.target||e.srcElement),this._fireDOMEvent(e,t)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var o=n({},e);o.type="preclick",this._fireDOMEvent(o,o.type,r)}if(!e._stopped&&(r=(r||[]).concat(this._findEventTargets(e,t))).length){var i=r[0];"contextmenu"===t&&i.listens(t,!0)&&Dt(e);var a={originalEvent:e};if("keypress"!==e.type){var s=i.getLatLng&&(!i._radius||i._radius<=10);a.containerPoint=s?this.latLngToContainerPoint(i.getLatLng()):this.mouseEventToContainerPoint(e),a.layerPoint=this.containerPointToLayerPoint(a.containerPoint),a.latlng=s?i.getLatLng():this.layerPointToLatLng(a.layerPoint)}for(var l=0;l<r.length;l++)if(r[l].fire(t,a,!0),a.originalEvent._stopped||!1===r[l].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return bt(this._mapPane)||new N(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return D([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),o=this.getSize().divideBy(2),i=new R(r.subtract(o),r.add(o)),a=this._getBoundsOffset(i,n,t);return a.round().equals([0,0])?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new R(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=D(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),o=r.min.subtract(e.min),i=r.max.subtract(e.max);return new N(this._rebound(o.x,-i.x),this._rebound(o.y,-i.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=ge?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ht(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n)||(this.panBy(n,t),0))},_createAnimProxy:function(){var e=this._proxy=it("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=et,n=this._proxy.style[t];vt(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var e=this.getCenter(),t=this.getZoom();vt(this._proxy,this.project(e,t),this.getZoomScale(t,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){at(this._proxy),delete this._proxy},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),o=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(o)||(x((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),0))},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,dt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ht(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),x((function(){this._moveEnd(!0)}),this))}}),$t=T.extend({options:{position:"topright"},initialize:function(e){p(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return dt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this},remove:function(){return this._map?(at(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Kt=function(e){return new $t(e)};Zt.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=it("div",t+"control-container",this._container);function r(r,o){var i=t+r+" "+t+o;e[r+o]=it("div",i,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)at(this._controlCorners[e]);at(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Xt=$t.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in p(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return $t.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){dt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(dt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ht(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ht(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=it("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Rt(t),It(t);var r=this._section=it("section",e+"-list");n&&(this._map.on("click",this.collapse,this),ne||Tt(t,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=it("a",e+"-toggle",t);o.href="#",o.title="Layers",Ce?(Tt(o,"click",jt),Tt(o,"click",this.expand,this)):Tt(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=it("div",e+"-base",r),this._separator=it("div",e+"-separator",r),this._overlaysList=it("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(o((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;st(this._baseLayersList),st(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,o=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,o+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&o>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Tt(t,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+e.name;var i=document.createElement("div");return n.appendChild(i),i.appendChild(t),i.appendChild(o),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],o=[];this._handlingClick=!0;for(var i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||o.push(t);for(i=0;i<o.length;i++)this._map.hasLayer(o[i])&&this._map.removeLayer(o[i]);for(i=0;i<r.length;i++)this._map.hasLayer(r[i])||this._map.addLayer(r[i]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Qt=$t.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=it("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,o){var i=it("a",n,r);return i.innerHTML=e,i.href="#",i.title=t,i.setAttribute("role","button"),i.setAttribute("aria-label",t),Rt(i),Tt(i,"click",jt),Tt(i,"click",o,this),Tt(i,"click",this._refocusOnMap,this),i},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ht(this._zoomInButton,t),ht(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMinZoom())&&dt(this._zoomOutButton,t),(this._disabled||e._zoom===e.getMaxZoom())&&dt(this._zoomInButton,t)}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new Qt,this.addControl(this.zoomControl))}));var Jt=$t.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t=it("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",t),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),t},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=it("div",t,n)),e.imperial&&(this._iScale=it("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,o=3.2808399*e;o>5280?(t=o/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(o),this._updateScale(this._iScale,r+" ft",r/o))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),en=$t.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(e){p(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=it("div","leaflet-control-attribution"),Rt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),this._container},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook((function(){this.options.attributionControl&&(new en).addTo(this)})),$t.Layers=Xt,$t.Zoom=Qt,$t.Scale=Jt,$t.Attribution=en,Kt.layers=function(e,t,n){return new Xt(e,t,n)},Kt.zoom=function(e){return new Qt(e)},Kt.scale=function(e){return new Jt(e)},Kt.attribution=function(e){return new en(e)};var tn=T.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});tn.addTo=function(e,t){return e.addHandler(t,this),this};var nn,rn={Events:M},on=Ce?"touchstart mousedown":"mousedown",an={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},sn={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ln=P.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){p(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Tt(this._dragStartTarget,on,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ln._dragging===this&&this.finishDrag(),Pt(this._dragStartTarget,on,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!e._simulated&&this._enabled&&(this._moved=!1,!ut(this._element,"leaflet-zoom-anim")&&!(ln._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches||(ln._dragging=this,this._preventOutline&&St(this._element),wt(),$e(),this._moving)))){this.fire("down");var t=e.touches?e.touches[0]:e,n=xt(this._element);this._startPoint=new N(t.clientX,t.clientY),this._parentScale=kt(n),Tt(document,sn[e.type],this._onMove,this),Tt(document,an[e.type],this._onUp,this)}},_onMove:function(e){if(!e._simulated&&this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new N(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,Dt(e),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=bt(this._element).subtract(n),dt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),dt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,k(this._animRequest),this._lastEvent=e,this._animRequest=x(this._updatePosition,this,!0)))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),yt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(e){!e._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var e in ht(document.body,"leaflet-dragging"),this._lastTarget&&(ht(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),sn)Pt(document,sn[e],this._onMove,this),Pt(document,an[e],this._onUp,this);Ct(),Ke(),this._moved&&this._moving&&(k(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ln._dragging=!1}});function cn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=function(e,t){var n=e.length,r=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,function e(t,n,r,o,i){var a,s,l,c=0;for(s=o+1;s<=i-1;s++)(l=fn(t[s],t[o],t[i],!0))>c&&(a=s,c=l);c>r&&(n[a]=1,e(t,n,r,o,a),e(t,n,r,a,i))}(e,r,t,0,n-1);var o,i=[];for(o=0;o<n;o++)r[o]&&i.push(e[o]);return i}(e=function(e,t){for(var n=[e[0]],r=1,o=0,i=e.length;r<i;r++)a=e[r],s=e[o],l=void 0,c=void 0,l=s.x-a.x,c=s.y-a.y,l*l+c*c>t&&(n.push(e[r]),o=r);var a,s,l,c;return o<i-1&&n.push(e[i-1]),n}(e,n),n)}function un(e,t,n){return Math.sqrt(fn(e,t,n,!0))}function dn(e,t,n,r,o){var i,a,s,l=r?nn:pn(e,n),c=pn(t,n);for(nn=c;;){if(!(l|c))return[e,t];if(l&c)return!1;s=pn(a=hn(e,t,i=l||c,n,o),n),i===l?(e=a,l=s):(t=a,c=s)}}function hn(e,t,n,r,o){var i,a,s=t.x-e.x,l=t.y-e.y,c=r.min,u=r.max;return 8&n?(i=e.x+s*(u.y-e.y)/l,a=u.y):4&n?(i=e.x+s*(c.y-e.y)/l,a=c.y):2&n?(i=u.x,a=e.y+l*(u.x-e.x)/s):1&n&&(i=c.x,a=e.y+l*(c.x-e.x)/s),new N(i,a,o)}function pn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function fn(e,t,n,r){var o,i=t.x,a=t.y,s=n.x-i,l=n.y-a,c=s*s+l*l;return c>0&&((o=((e.x-i)*s+(e.y-a)*l)/c)>1?(i=n.x,a=n.y):o>0&&(i+=s*o,a+=l*o)),s=e.x-i,l=e.y-a,r?s*s+l*l:new N(i,a)}function mn(e){return!v(e[0])||"object"!=typeof e[0][0]&&void 0!==e[0][0]}function gn(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mn(e)}var vn=(Object.freeze||Object)({simplify:cn,pointToSegmentDistance:un,closestPointOnSegment:function(e,t,n){return fn(e,t,n)},clipSegment:dn,_getEdgeIntersection:hn,_getBitCode:pn,_sqClosestPointOnSegment:fn,isFlat:mn,_flat:gn});function yn(e,t,n){var r,o,i,a,s,l,c,u,d,h=[1,4,2,8];for(o=0,c=e.length;o<c;o++)e[o]._code=pn(e[o],t);for(a=0;a<4;a++){for(u=h[a],r=[],o=0,i=(c=e.length)-1;o<c;i=o++)s=e[o],l=e[i],s._code&u?l._code&u||((d=hn(l,s,u,t,n))._code=pn(d,t),r.push(d)):(l._code&u&&((d=hn(l,s,u,t,n))._code=pn(d,t),r.push(d)),r.push(s));e=r}return e}var bn=(Object.freeze||Object)({clipPolygon:yn}),_n={project:function(e){return new N(e.lng,e.lat)},unproject:function(e){return new F(e.y,e.x)},bounds:new R([-180,-90],[180,90])},wn={R:6378137,R_MINOR:6356752.314245179,bounds:new R([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,o=this.R_MINOR/n,i=Math.sqrt(1-o*o),a=i*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),i/2);return r=-n*Math.log(Math.max(s,1e-10)),new N(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,o=this.R_MINOR/r,i=Math.sqrt(1-o*o),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),l=0,c=.1;l<15&&Math.abs(c)>1e-7;l++)t=i*Math.sin(s),t=Math.pow((1-t)/(1+t),i/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new F(s*n,e.x*n/r)}},Cn=(Object.freeze||Object)({LonLat:_n,Mercator:wn,SphericalMercator:G}),Sn=n({},U,{code:"EPSG:3395",projection:wn,transformation:function(){var e=.5/(Math.PI*wn.R);return Y(e,.5,-e,.5)}()}),En=n({},U,{code:"EPSG:4326",projection:_n,transformation:Y(1/180,1,-1/180,.5)}),xn=n({},H,{projection:_n,transformation:Y(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});H.Earth=U,H.EPSG3395=Sn,H.EPSG3857=q,H.EPSG900913=Z,H.EPSG4326=En,H.Simple=xn;var kn=P.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.getAttribution&&t.attributionControl&&t.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),t.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),e.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(e.getAttribution()),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return!!e&&a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?v(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){!isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var o=this._zoomBoundLayers[r].options;e=void 0===o.minZoom?e:Math.min(e,o.minZoom),t=void 0===o.maxZoom?t:Math.max(t,o.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var On=kn.extend({initialize:function(e,t){var n,r;if(p(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return!!e&&(e in this._layers||this.getLayerId(e)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),Tn=On.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),On.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),On.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new j;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Mn=T.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(e){p(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"==typeof r&&(r=[r,r]);var o=I(r),i=I("shadow"===t&&n.shadowAnchor||n.iconAnchor||o&&o.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),i&&(e.style.marginLeft=-i.x+"px",e.style.marginTop=-i.y+"px"),o&&(e.style.width=o.x+"px",e.style.height=o.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return xe&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}}),Pn=Mn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return Pn.imagePath||(Pn.imagePath=this._detectIconPath()),(this.options.imagePath||Pn.imagePath)+Mn.prototype._getIconUrl.call(this,e)},_detectIconPath:function(){var e=it("div","leaflet-default-icon-path",document.body),t=ot(e,"background-image")||ot(e,"backgroundImage");return document.body.removeChild(e),t=null===t||0!==t.indexOf("url")?"":t.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ln=tn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new ln(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),dt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ht(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,i=bt(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),l=D(a.min._subtract(s).add(o),a.max._subtract(s).subtract(o));if(!l.contains(i)){var c=I((Math.max(l.max.x,i.x)-l.max.x)/(a.max.x-l.max.x)-(Math.min(l.min.x,i.x)-l.min.x)/(a.min.x-l.min.x),(Math.max(l.max.y,i.y)-l.max.y)/(a.max.y-l.max.y)-(Math.min(l.min.y,i.y)-l.min.y)/(a.min.y-l.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),yt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=x(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(k(this._panRequest),this._panRequest=x(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=bt(t._icon),o=t._map.layerPointToLatLng(r);n&&yt(n,r),t._latlng=o,e.latlng=o,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){k(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Nn=kn.extend({options:{icon:new Pn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){p(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),dt(n,t),e.keyboard&&(n.tabIndex="0"),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=e.icon.createShadow(this._shadow),i=!1;o!==this._shadow&&(this._removeShadow(),i=!0),o&&(dt(o,t),o.alt=""),this._shadow=o,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&i&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),at(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&at(this._shadow),this._shadow=null},_setPos:function(e){yt(this._icon,e),this._shadow&&yt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon.style.zIndex=this._zIndex+e},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(dt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ln)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ln(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;mt(this._icon,e),this._shadow&&mt(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),An=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return p(this,e),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),In=An.extend({options:{fill:!0,radius:10},initialize:function(e,t){p(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){return this._latlng=B(e),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return An.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new R(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Rn=In.extend({initialize:function(e,t,r){if("number"==typeof t&&(t=n({},r,{radius:t})),p(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:An.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===U.distance){var o=Math.PI/180,i=this._mRadius/U.R/o,a=n.project([t+i,e]),s=n.project([t-i,e]),l=a.add(s).divideBy(2),c=n.unproject(l).lat,u=Math.acos((Math.cos(i*o)-Math.sin(t*o)*Math.sin(c*o))/(Math.cos(t*o)*Math.cos(c*o)))/o;(isNaN(u)||0===u)&&(u=i/Math.cos(Math.PI/180*t)),this._point=l.subtract(n.getPixelOrigin()),this._radius=isNaN(u)?0:l.x-n.project([c,e-u]).x,this._radiusY=l.y-a.y}else{var d=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(d).x}this._updateBounds()}}),Dn=An.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){p(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,o=null,i=fn,a=0,s=this._parts.length;a<s;a++)for(var l=this._parts[a],c=1,u=l.length;c<u;c++){var d=i(e,t=l[c-1],n=l[c],!0);d<r&&(r=d,o=i(e,t,n))}return o&&(o.distance=Math.sqrt(r)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,o,i,a,s=this._rings[0],l=s.length;if(!l)return null;for(e=0,t=0;e<l-1;e++)t+=s[e].distanceTo(s[e+1])/2;if(0===t)return this._map.layerPointToLatLng(s[0]);for(e=0,r=0;e<l-1;e++)if(o=s[e],i=s[e+1],(r+=n=o.distanceTo(i))>t)return a=(r-t)/n,this._map.layerPointToLatLng([i.x-a*(i.x-o.x),i.y-a*(i.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new j,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return mn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=mn(e),r=0,o=e.length;r<o;r++)n?(t[r]=B(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new R;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e);var t=this._clickTolerance(),n=new N(t,t);this._bounds.isValid()&&e.isValid()&&(e.min._subtract(n),e.max._add(n),this._pxBounds=e)},_projectLatlngs:function(e,t,n){var r,o,i=e[0]instanceof F,a=e.length;if(i){for(o=[],r=0;r<a;r++)o[r]=this._map.latLngToLayerPoint(e[r]),n.extend(o[r]);t.push(o)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,o,i,a,s,l=this._parts;for(t=0,r=0,o=this._rings.length;t<o;t++)for(n=0,i=(s=this._rings[t]).length;n<i-1;n++)(a=dn(s[n],s[n+1],e,n,!0))&&(l[r]=l[r]||[],l[r].push(a[0]),a[1]===s[n+1]&&n!==i-2||(l[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=cn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,o,i,a,s,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,i=this._parts.length;n<i;n++)for(r=0,o=(a=(s=this._parts[n]).length)-1;r<a;o=r++)if((t||0!==r)&&un(e,s[o],s[r])<=l)return!0;return!1}});Dn._flat=gn;var jn=Dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var e,t,n,r,o,i,a,s,l,c=this._rings[0],u=c.length;if(!u)return null;for(i=a=s=0,e=0,t=u-1;e<u;t=e++)n=c[e],r=c[t],o=n.y*r.x-r.y*n.x,a+=(n.x+r.x)*o,s+=(n.y+r.y)*o,i+=3*o;return l=0===i?c[0]:[a/i,s/i],this._map.layerPointToLatLng(l)},_convertLatLngs:function(e){var t=Dn.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof F&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){Dn.prototype._setLatLngs.call(this,e),mn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new N(t,t);if(e=new R(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,o=0,i=this._rings.length;o<i;o++)(r=yn(this._rings[o],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,o,i,a,s,l,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,s=this._parts.length;o<s;o++)for(i=0,a=(l=(t=this._parts[o]).length)-1;i<l;a=i++)n=t[i],r=t[a],n.y>e.y!=r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||Dn.prototype._containsPoint.call(this,e,!0)}}),zn=Tn.extend({initialize:function(e,t){p(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,o=v(e)?e:e.features;if(o){for(t=0,n=o.length;t<n;t++)((r=o[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var i=this.options;if(i.filter&&!i.filter(e))return this;var a=Fn(e,i);return a?(a.feature=Vn(e),a.defaultOptions=a.options,this.resetStyle(a),i.onEachFeature&&i.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){"function"==typeof t&&(t=t(e.feature)),e.setStyle&&e.setStyle(t)}});function Fn(e,t){var n,r,o,i,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,l=[],c=t&&t.pointToLayer,u=t&&t.coordsToLatLng||Bn;if(!s&&!a)return null;switch(a.type){case"Point":return n=u(s),c?c(e,n):new Nn(n);case"MultiPoint":for(o=0,i=s.length;o<i;o++)n=u(s[o]),l.push(c?c(e,n):new Nn(n));return new Tn(l);case"LineString":case"MultiLineString":return r=Wn(s,"LineString"===a.type?0:1,u),new Dn(r,t);case"Polygon":case"MultiPolygon":return r=Wn(s,"Polygon"===a.type?1:2,u),new jn(r,t);case"GeometryCollection":for(o=0,i=a.geometries.length;o<i;o++){var d=Fn({geometry:a.geometries[o],type:"Feature",properties:e.properties},t);d&&l.push(d)}return new Tn(l);default:throw new Error("Invalid GeoJSON object.")}}function Bn(e){return new F(e[1],e[0],e[2])}function Wn(e,t,n){for(var r,o=[],i=0,a=e.length;i<a;i++)r=t?Wn(e[i],t-1,n):(n||Bn)(e[i]),o.push(r);return o}function Hn(e,t){return t="number"==typeof t?t:6,void 0!==e.alt?[u(e.lng,t),u(e.lat,t),u(e.alt,t)]:[u(e.lng,t),u(e.lat,t)]}function Un(e,t,n,r){for(var o=[],i=0,a=e.length;i<a;i++)o.push(t?Un(e[i],t-1,n,r):Hn(e[i],r));return!t&&n&&o.push(o[0]),o}function Gn(e,t){return e.feature?n({},e.feature,{geometry:t}):Vn(t)}function Vn(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var Yn={toGeoJSON:function(e){return Gn(this,{type:"Point",coordinates:Hn(this.getLatLng(),e)})}};function qn(e,t){return new zn(e,t)}Nn.include(Yn),Rn.include(Yn),In.include(Yn),Dn.include({toGeoJSON:function(e){var t=!mn(this._latlngs);return Gn(this,{type:(t?"Multi":"")+"LineString",coordinates:Un(this._latlngs,t?1:0,!1,e)})}}),jn.include({toGeoJSON:function(e){var t=!mn(this._latlngs),n=t&&!mn(this._latlngs[0]),r=Un(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),Gn(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),On.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),Gn(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var o=t.toGeoJSON(e);if(n)r.push(o.geometry);else{var i=Vn(o);"FeatureCollection"===i.type?r.push.apply(r,i.features):r.push(i)}}})),n?Gn(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var Zn=qn,$n=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=z(t),p(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(dt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){at(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&lt(this._image),this},bringToBack:function(){return this._map&&ct(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=z(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:it("img");dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),this.options.className&&dt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=o(this.fire,this,"load"),t.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;vt(this._image,n,t)},_reset:function(){var e=this._image,t=new R(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();yt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){mt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)}}),Kn=$n.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:it("video");if(dt(t,"leaflet-image-layer"),this._zoomAnimated&&dt(t,"leaflet-zoom-animated"),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=o(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],i=0;i<n.length;i++)r.push(n[i].src);this._url=n.length>0?r:[t.src]}else{v(this._url)||(this._url=[this._url]),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var s=it("source");s.src=this._url[a],t.appendChild(s)}}}}),Xn=kn.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(e,t){p(this,e),this._source=t},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&mt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&mt(this._container,1),this.bringToFront()},onRemove:function(e){e._fadeAnimated?(mt(this._container,0),this._removeTimeout=setTimeout(o(at,void 0,this._container),200)):at(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&lt(this._container),this},bringToBack:function(){return this._map&&ct(this._container),this},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=I(this.options.offset),n=this._getAnchor();this._zoomAnimated?yt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Qn=Xn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e.openPopup(this),this},onAdd:function(e){Xn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof An||this._source.on("preclick",At))},onRemove:function(e){Xn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof An||this._source.off("preclick",At))},getEvents:function(){var e=Xn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this._close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var e="leaflet-popup",t=this._container=it("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=it("div",e+"-content-wrapper",t);if(this._contentNode=it("div",e+"-content",n),Rt(n),It(this._contentNode),Tt(n,"contextmenu",At),this._tipContainer=it("div",e+"-tip-container",t),this._tip=it("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=it("a",e+"-close-button",t);r.href="#close",r.innerHTML="&#215;",Tt(r,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,o=this.options.maxHeight;o&&r>o?(t.height=o+"px",dt(e,"leaflet-popup-scrolled")):ht(e,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();yt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var e=this._map,t=parseInt(ot(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,o=new N(this._containerLeft,-n-this._containerBottom);o._add(bt(this._container));var i=e.layerPointToContainerPoint(o),a=I(this.options.autoPanPadding),s=I(this.options.autoPanPaddingTopLeft||a),l=I(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),u=0,d=0;i.x+r+l.x>c.x&&(u=i.x+r-c.x+l.x),i.x-u-s.x<0&&(u=i.x-s.x),i.y+n+l.y>c.y&&(d=i.y+n-c.y+l.y),i.y-d-s.y<0&&(d=i.y-s.y),(u||d)&&e.fire("autopanstart").panBy([u,d])}},_onCloseButtonClick:function(e){this._close(),jt(e)},_getAnchor:function(){return I(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(e,t,n){return e instanceof Qn||(e=new Qn(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=e,this.addLayer(e))},closePopup:function(e){return e&&e!==this._popup||(e=this._popup,this._popup=null),e&&this.removeLayer(e),this}}),kn.include({bindPopup:function(e,t){return e instanceof Qn?(p(e,t),this._popup=e,e._source=this):(this._popup&&!t||(this._popup=new Qn(t,this)),this._popup.setContent(e)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e,t){if(e instanceof kn||(t=e,e=this),e instanceof Tn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._popup&&this._map&&(this._popup._source=e,this._popup.update(),this._map.openPopup(this._popup,t)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(e){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(e)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){var t=e.layer||e.target;this._popup&&this._map&&(jt(e),t instanceof An?this.openPopup(e.layer||e.target,e.latlng):this._map.hasLayer(this._popup)&&this._popup._source===t?this.closePopup():this.openPopup(t,e.latlng))},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Jn=Xn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(e){Xn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(e){Xn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var e=Xn.prototype.getEvents.call(this);return Ce&&!this.options.permanent&&(e.preclick=this._close),e},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=it("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t=this._map,n=this._container,r=t.latLngToContainerPoint(t.getCenter()),o=t.layerPointToContainerPoint(e),i=this.options.direction,a=n.offsetWidth,s=n.offsetHeight,l=I(this.options.offset),c=this._getAnchor();"top"===i?e=e.add(I(-a/2+l.x,-s+l.y+c.y,!0)):"bottom"===i?e=e.subtract(I(a/2-l.x,-l.y,!0)):"center"===i?e=e.subtract(I(a/2+l.x,s/2-c.y+l.y,!0)):"right"===i||"auto"===i&&o.x<r.x?(i="right",e=e.add(I(l.x+c.x,c.y-s/2+l.y,!0))):(i="left",e=e.subtract(I(a+c.x-l.x,s/2-c.y-l.y,!0))),ht(n,"leaflet-tooltip-right"),ht(n,"leaflet-tooltip-left"),ht(n,"leaflet-tooltip-top"),ht(n,"leaflet-tooltip-bottom"),dt(n,"leaflet-tooltip-"+i),yt(n,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&mt(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return I(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Zt.include({openTooltip:function(e,t,n){return e instanceof Jn||(e=new Jn(n).setContent(e)),t&&e.setLatLng(t),this.hasLayer(e)?this:this.addLayer(e)},closeTooltip:function(e){return e&&this.removeLayer(e),this}}),kn.include({bindTooltip:function(e,t){return e instanceof Jn?(p(e,t),this._tooltip=e,e._source=this):(this._tooltip&&!t||(this._tooltip=new Jn(t,this)),this._tooltip.setContent(e)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Ce&&(n.click=this._openTooltip)),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e,t){if(e instanceof kn||(t=e,e=this),e instanceof Tn)for(var n in this._layers){e=this._layers[n];break}return t||(t=e.getCenter?e.getCenter():e.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=e,this._tooltip.update(),this._map.openTooltip(this._tooltip,t),this._tooltip.options.interactive&&this._tooltip._container&&(dt(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(ht(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(e){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(e)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_openTooltip:function(e){var t=e.layer||e.target;this._tooltip&&this._map&&this.openTooltip(t,this._tooltip.options.sticky?e.latlng:void 0)},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var er=Mn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=I(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});Mn.Default=Pn;var tr=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ve,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){p(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),at(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(lt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ct(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof N?e:new N(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),o=0,i=n.length;o<i;o++)t=n[o].style.zIndex,n[o]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!J){mt(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var o=this._tiles[r];if(o.current&&o.loaded){var i=Math.min(1,(e-o.loaded)/200);mt(o.el,i),i<1?t=!0:(o.active?n=!0:this._onOpaqueTile(o),o.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(k(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=it("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(at(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],o=this._map;return r||((r=this._levels[e]={}).el=it("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=o.project(o.unproject(o.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,o.getCenter(),o.getZoom()),r.el.offsetWidth,this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)at(this._levels[e].el),this._onRemoveLevel(e),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var o=Math.floor(e/2),i=Math.floor(t/2),a=n-1,s=new N(+o,+i);s.z=+a;var l=this._tileCoordsToKey(s),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(o,i,a,r))},_retainChildren:function(e,t,n,r){for(var o=2*e;o<2*e+2;o++)for(var i=2*t;i<2*t+2;i++){var a=new N(o,i);a.z=n+1;var s=this._tileCoordsToKey(a),l=this._tiles[s];l&&l.active?l.retain=!0:(l&&l.loaded&&(l.retain=!0),n+1<r&&this._retainChildren(o,i,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var o=this._clampZoom(Math.round(t));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var i=this.options.updateWhenZooming&&o!==this._tileZoom;r&&!i||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),o=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();ge?vt(e.el,o,r):yt(e.el,o)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),o=t.project(e,this._tileZoom).floor(),i=t.getSize().divideBy(2*r);return new R(o.subtract(i),o.add(i))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),o=this._pxBoundsToTileRange(r),i=o.getCenter(),a=[],s=this.options.keepBuffer,l=new R(o.getBottomLeft().subtract([s,-s]),o.getTopRight().add([s,-s]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var u=this._tiles[c].coords;u.z===this._tileZoom&&l.contains(new N(u.x,u.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var d=o.min.y;d<=o.max.y;d++)for(var h=o.min.x;h<=o.max.x;h++){var p=new N(h,d);if(p.z=this._tileZoom,this._isValidTile(p)){var f=this._tiles[this._tileCoordsToKey(p)];f?f.current=!0:a.push(p)}}if(a.sort((function(e,t){return e.distanceTo(i)-t.distanceTo(i)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(h=0;h<a.length;h++)this._addTile(a[h],m);this._level.el.appendChild(m)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return z(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),o=r.add(n);return[t.unproject(r,e.z),t.unproject(o,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new j(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new N(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(at(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){dt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,J&&this.options.opacity<1&&mt(e,this.options.opacity),ne&&!re&&(e.style.WebkitBackfaceVisibility="hidden")},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),i=this.createTile(this._wrapCoords(e),o(this._tileReady,this,e));this._initTile(i),this.createTile.length<2&&x(o(this._tileReady,this,e,null,i)),yt(i,n),this._tiles[r]={el:i,coords:e,current:!0},t.appendChild(i),this.fire("tileloadstart",{tile:i,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(mt(n.el,0),k(this._fadeFrame),this._fadeFrame=x(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(dt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),J||!this._map._fadeAnimated?x(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new N(this._wrapX?l(e.x,this._wrapX):e.x,this._wrapY?l(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new R(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}}),nr=tr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(e,t){this._url=e,(t=p(this,t)).detectRetina&&xe&&t.maxZoom>0&&(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom++):(t.zoomOffset++,t.maxZoom--),t.minZoom=Math.max(0,t.minZoom)),"string"==typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),ne||this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Tt(n,"load",o(this._tileOnLoad,this,t,n)),Tt(n,"error",o(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:xe?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){J?setTimeout(o(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,t.complete||(t.src=b,at(t),delete this._tiles[e]))},_removeTile:function(e){var t=this._tiles[e];if(t)return ie||t.el.setAttribute("src",b),tr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==b))return tr.prototype._tileReady.call(this,e,t,n)}});function rr(e,t){return new nr(e,t)}var or=nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var o in t)o in this.options||(r[o]=t[o]);var i=(t=p(this,t)).detectRetina&&xe?2:1,a=this.getTileSize();r.width=a.x*i,r.height=a.y*i,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,nr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=D(n.project(t[0]),n.project(t[1])),o=r.min,i=r.max,a=(this._wmsVersion>=1.3&&this._crs===En?[o.y,o.x,i.y,i.x]:[o.x,o.y,i.x,i.y]).join(","),s=nr.prototype.getTileUrl.call(this,e);return s+f(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});nr.WMS=or,rr.wms=function(e,t){return new or(e,t)};var ir=kn.extend({options:{padding:.1,tolerance:0},initialize:function(e){p(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&dt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=bt(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),a=this._map.project(e,t).subtract(i),s=o.multiplyBy(-n).add(r).add(o).subtract(a);ge?vt(this._container,s,n):yt(this._container,s)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new R(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ar=ir.extend({getEvents:function(){var e=ir.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ir.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Tt(e,"mousemove",s(this._onMouseMove,32,this),this),Tt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Tt(e,"mouseout",this._handleMouseOut,this),this._ctx=e.getContext("2d")},_destroyContainer:function(){k(this._redrawRequest),delete this._ctx,at(this._container),Pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=xe?2:1;yt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",xe&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){ir.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"==typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),o=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;o.push(t)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||x(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new R,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,o,i,a=e._parts,s=a.length,l=this._ctx;if(s){for(l.beginPath(),n=0;n<s;n++){for(r=0,o=a[n].length;r<o;r++)i=a[n][r],l[r?"lineTo":"moveTo"](i.x,i.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),o=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==o&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(t.x,t.y/o,r,0,2*Math.PI,!1),1!==o&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),o=this._drawFirst;o;o=o.next)(t=o.layer).options.interactive&&t._containsPoint(r)&&!this._map._draggableMoved(t)&&(n=t);n&&(Ut(e),this._fireEvent([n],e))},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ht(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(e,t){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(dt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],e)},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function sr(e){return ke?new ar(e):null}var lr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),cr={_initContainer:function(){this._container=it("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ir.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=lr("shape");dt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=lr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;at(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,o=e._container;o.stroked=!!r.stroke,o.filled=!!r.fill,r.stroke?(t||(t=e._stroke=lr("stroke")),o.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=v(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(o.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=lr("fill")),o.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(o.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){lt(e._container)},_bringToBack:function(e){ct(e._container)}},ur=Te?lr:$,dr=ir.extend({getEvents:function(){var e=ir.prototype.getEvents.call(this);return e.zoomstart=this._onZoomStart,e},_initContainer:function(){this._container=ur("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ur("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){at(this._container),Pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){ir.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),yt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=ur("path");e.options.className&&dt(t,e.options.className),e.options.interactive&&dt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){at(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,K(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){lt(e._path)},_bringToBack:function(e){ct(e._path)}});function hr(e){return Oe||Te?new dr(e):null}Te&&dr.include(cr),Zt.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&sr(e)||hr(e)}});var pr=jn.extend({initialize:function(e,t){jn.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=z(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});dr.create=ur,dr.pointsToPath=K,zn.geometryToLayer=Fn,zn.coordsToLatLng=Bn,zn.coordsToLatLngs=Wn,zn.latLngToCoords=Hn,zn.latLngsToCoords=Un,zn.getFeature=Gn,zn.asFeature=Vn,Zt.mergeOptions({boxZoom:!0});var fr=tn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Tt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){at(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),$e(),wt(),this._startPoint=this._map.mouseEventToContainerPoint(e),Tt(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=it("div","leaflet-zoom-box",this._container),dt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new R(this._point,this._startPoint),n=t.getSize();yt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(at(this._box),ht(this._container,"leaflet-crosshair")),Ke(),Ct(),Pt(document,{contextmenu:jt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var t=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&this._finish()}});Zt.addInitHook("addHandler","boxZoom",fr),Zt.mergeOptions({doubleClickZoom:!0});var mr=tn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,o=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(o):t.setZoomAround(e.containerPoint,o)}});Zt.addInitHook("addHandler","doubleClickZoom",mr),Zt.mergeOptions({dragging:!0,inertia:!re,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gr=tn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new ln(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}dt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ht(this._map._container,"leaflet-grab"),ht(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=z(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,o=(r-t+n)%e+t-n,i=(r+t+n)%e-t-n,a=Math.abs(o+n)<Math.abs(i+n)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),i=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=o.multiplyBy(a/i),l=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),u=s.multiplyBy(c/l),d=c/(n.inertiaDeceleration*a),h=u.multiplyBy(-d/2).round();h.x||h.y?(h=t._limitOffset(h,t.options.maxBounds),x((function(){t.panBy(h,{duration:d,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});Zt.addInitHook("addHandler","dragging",gr),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var vr=tn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Tt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},o=this.keyCodes;for(t=0,n=o.left.length;t<n;t++)r[o.left[t]]=[-1*e,0];for(t=0,n=o.right.length;t<n;t++)r[o.right[t]]=[e,0];for(t=0,n=o.down.length;t<n;t++)r[o.down[t]]=[0,e];for(t=0,n=o.up.length;t<n;t++)r[o.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},o=this.keyCodes;for(t=0,n=o.zoomIn.length;t<n;t++)r[o.zoomIn[t]]=e;for(t=0,n=o.zoomOut.length;t<n;t++)r[o.zoomOut[t]]=-e},_addHooks:function(){Tt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys)r._panAnim&&r._panAnim._inProgress||(t=this._panKeys[n],e.shiftKey&&(t=I(t).multiplyBy(3)),r.panBy(t),r.options.maxBounds&&r.panInsideBounds(r.options.maxBounds));else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}jt(e)}}});Zt.addInitHook("addHandler","keyboard",vr),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yr=tn.extend({addHooks:function(){Tt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Pt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Bt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),r),jt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,i=n?Math.ceil(o/n)*n:o,a=e._limitZoom(t+(this._delta>0?i:-i))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});Zt.addInitHook("addHandler","scrollWheelZoom",yr),Zt.mergeOptions({tap:!0,tapTolerance:15});var br=tn.extend({addHooks:function(){Tt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(e.touches){if(Dt(e),this._fireClick=!0,e.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var t=e.touches[0],n=t.target;this._startPos=this._newPos=new N(t.clientX,t.clientY),n.tagName&&"a"===n.tagName.toLowerCase()&&dt(n,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",t))}),this),1e3),this._simulateEvent("mousedown",t),Tt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(e){if(clearTimeout(this._holdTimeout),Pt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&e&&e.changedTouches){var t=e.changedTouches[0],n=t.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&ht(n,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid()&&this._simulateEvent("click",t)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(e){var t=e.touches[0];this._newPos=new N(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(e,t){var n=document.createEvent("MouseEvents");n._simulated=!0,t.target._simulatedClick=!0,n.initMouseEvent(e,!0,!0,window,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}});Ce&&!we&&Zt.addInitHook("addHandler","tap",br),Zt.mergeOptions({touchZoom:Ce&&!re,bounceAtZoomLimits:!0});var _r=tn.extend({addHooks:function(){dt(this._map._container,"leaflet-touch-zoom"),Tt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ht(this._map._container,"leaflet-touch-zoom"),Pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Tt(document,"touchmove",this._onTouchMove,this),Tt(document,"touchend",this._onTouchEnd,this),Dt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),i=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(i,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&i<1||this._zoom>t.getMaxZoom()&&i>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===i)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===i&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),k(this._animRequest);var s=o(t._move,t,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=x(s,this,!0),Dt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,k(this._animRequest),Pt(document,"touchmove",this._onTouchMove),Pt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Zt.addInitHook("addHandler","touchZoom",_r),Zt.BoxZoom=fr,Zt.DoubleClickZoom=mr,Zt.Drag=gr,Zt.Keyboard=vr,Zt.ScrollWheelZoom=yr,Zt.Tap=br,Zt.TouchZoom=_r,Object.freeze=t,e.version="1.4.0",e.Control=$t,e.control=Kt,e.Browser=Pe,e.Evented=P,e.Mixin=rn,e.Util=O,e.Class=T,e.Handler=tn,e.extend=n,e.bind=o,e.stamp=a,e.setOptions=p,e.DomEvent=Yt,e.DomUtil=Ot,e.PosAnimation=qt,e.Draggable=ln,e.LineUtil=vn,e.PolyUtil=bn,e.Point=N,e.point=I,e.Bounds=R,e.bounds=D,e.Transformation=V,e.transformation=Y,e.Projection=Cn,e.LatLng=F,e.latLng=B,e.LatLngBounds=j,e.latLngBounds=z,e.CRS=H,e.GeoJSON=zn,e.geoJSON=qn,e.geoJson=Zn,e.Layer=kn,e.LayerGroup=On,e.layerGroup=function(e,t){return new On(e,t)},e.FeatureGroup=Tn,e.featureGroup=function(e){return new Tn(e)},e.ImageOverlay=$n,e.imageOverlay=function(e,t,n){return new $n(e,t,n)},e.VideoOverlay=Kn,e.videoOverlay=function(e,t,n){return new Kn(e,t,n)},e.DivOverlay=Xn,e.Popup=Qn,e.popup=function(e,t){return new Qn(e,t)},e.Tooltip=Jn,e.tooltip=function(e,t){return new Jn(e,t)},e.Icon=Mn,e.icon=function(e){return new Mn(e)},e.DivIcon=er,e.divIcon=function(e){return new er(e)},e.Marker=Nn,e.marker=function(e,t){return new Nn(e,t)},e.TileLayer=nr,e.tileLayer=rr,e.GridLayer=tr,e.gridLayer=function(e){return new tr(e)},e.SVG=dr,e.svg=hr,e.Renderer=ir,e.Canvas=ar,e.canvas=sr,e.Path=An,e.CircleMarker=In,e.circleMarker=function(e,t){return new In(e,t)},e.Circle=Rn,e.circle=function(e,t,n){return new Rn(e,t,n)},e.Polyline=Dn,e.polyline=function(e,t){return new Dn(e,t)},e.Polygon=jn,e.polygon=function(e,t){return new jn(e,t)},e.Rectangle=pr,e.rectangle=function(e,t){return new pr(e,t)},e.Map=Zt,e.map=function(e,t){return new Zt(e,t)};var wr=window.L;e.noConflict=function(){return window.L=wr,this},window.L=e}(t)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return f}));var r=n(2),o=n(13),i=n(254),a=n(34);const s=Object(r.createSelector)(e=>e.viewer.entities.genomes,i.a,(e,t)=>{const n={...e},r=new Set;for(const[o,i]of Object.entries(e)){if(!(i.name in t)||r.has(i.name))continue;const{userDefined:e,...a}=t[i.name];n[o]={...i,...a,userDefined:{...i.userDefined,...e}}}return n}),l=Object(r.createSelector)(s,a.e,a.j,(e,t,n)=>{const r=[];for(const o of Object.values(e))n||null===t?o.__isCollection&&r.push(o.uuid):o.analysis&&o.analysis.core&&o.analysis.core.fp.reference===t&&r.push(o.uuid);return r}),c=Object(r.createSelector)(s,l,(e,t)=>Array.from(t).map(t=>e[t])),u=Object(r.createSelector)(c,o.a,(e,{isClusterView:t})=>{let n=!1,r=!1,o=!1,i=!1,a=!1;for(const s of e){if(!n){const{year:e,pmid:t,userDefined:r}=s;(e||t||r&&Object.keys(r).length)&&(n=!0)}if(s.analysis&&(r||i||o||!s.analysis.kleborate||(o=!0,i=!0,r=!0),!a&&s.analysis.vista&&(a=!0),t||r||!s.analysis.paarsnp||(r=!0),n&&o&&i&&a&&(t||r)))break}return{hasMetadata:n,hasAMR:r,hasKleborateAMR:o,hasKleborateAMRGenotypes:i,hasVista:a}}),d=Object(r.createSelector)(u,e=>e.hasMetadata),h=Object(r.createSelector)(u,e=>e.hasAMR),p=Object(r.createSelector)(u,e=>e.hasKleborateAMR),f=(Object(r.createSelector)(u,e=>e.hasKleborateAMRGenotypes),Object(r.createSelector)(u,e=>e.hasVista))},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(389),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e,t,n){return t in e?(0,i.default)(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";var r=n(14),o=n(18),i=n(53),a=n(143),s=n(22),l=n(126),c=n(6);function u(e){return Object(c.a)("POST","/api/download",{ids:e})}n.d(t,"d",(function(){return d})),n.d(t,"m",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"l",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"g",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"n",(function(){return S})),n.d(t,"k",(function(){return E})),n.d(t,"j",(function(){return x}));const d="SELECTION_DROPDOWN_OPENED";function h(e=null){return{type:d,payload:e}}const p=Object(r.b)("SELECTION_FETCH_DOWNLOADS");function f(){return(e,t)=>{const n=Object(s.c)(t());e({type:p,payload:{promise:u(n)}})}}const m="SET_GENOME_SELECTION";function g(e){return Object(l.e)(e),{type:m,payload:{genomes:e}}}const v="CLEAR_GENOME_SELECTION";function y(){return Object(l.e)(),{type:v}}const b="APPEND_GENOME_SELECTION";function _(e,t){return Object(l.a)(e),{type:b,payload:{genomes:e,index:t}}}const w="REMOVE_GENOME_SELECTION";function C(e){return Object(l.d)(e),{type:w,payload:{genomes:e}}}function S(e,t){return(n,r)=>{const o=r(),i=Object(s.e)(o);e.every(e=>e.id in i)?n(C(e)):n(_(e,t))}}function E(e,t){return(n,r)=>{const a=r(),s=Object(i.c)(a),l=Object(i.e)(a),c=Math.min(e,t),u=Math.max(e,t),d=u-c+1,h=[];for(let e=c;e<=u;e++){const t=l[e];t in s&&h.push(s[t])}return h.length===d?(n(_(h)),Promise.resolve()):n(Object(o.e)(c,u)).then(e=>n(_(e)))}}function x(){return(e,t)=>{const n=t();if("CHECKED"===Object(s.j)(n)){return e(C(Object(i.a)(n))),Promise.resolve()}const r=Object(a.c)(n),o=Object(s.e)(n),l=Object(i.e)(n);let c=0;for(let e=0;e<r;e++){if(!(l[e]in o)){c=e;break}}return e(E(c,r-1))}}},function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return m})),n.d(t,"k",(function(){return g})),n.d(t,"j",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"i",(function(){return _})),n.d(t,"c",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"b",(function(){return S})),n.d(t,"l",(function(){return E})),n.d(t,"f",(function(){return x}));var r=n(2),o=n(13),i=n(24),a=n(79),s=n(40),l=n(9);const c=e=>Object(o.f)(e).table,u=e=>c(e).activeAMR,d=e=>c(e).entities,h=Object(r.createSelector)(i.a,e=>{const{leading:t,trailing:n,userDefined:r}=Object(a.a)(e),o=Object(a.b)(t),i=Object(a.c)(n);return[...o,...Object(a.d)(r),...i]}),p=Object(r.createSelector)(h,e=>d(e).metadata.activeColumn,(e,t)=>{for(const n of e)if(n.columnKey===t.columnKey)return t;return s.e}),f=Object(r.createSelector)(d,h,p,i.f,({metadata:e},t,n,r)=>({...e,active:r,activeColumn:n,columns:t})),m=Object(r.createSelector)(d,f,(e,t)=>({...e,metadata:t})),g=Object(r.createSelector)(m,e=>e.typing.active),v=Object(r.createSelector)(i.f,g,(e,t)=>e?l.c.metadata:t?l.c.typing:l.c.stats),y=Object(r.createSelector)(e=>c(e).visible,v,e=>!Object(i.f)(e),(e,t,n)=>null===e?t:e===l.c.metadata&&n?t:e),b=Object(r.createSelector)(e=>c(e).activeData,v,e=>!Object(i.f)(e),(e,t,n)=>null===e?t:e===l.c.metadata&&n?t:e),_=e=>{const t=y(e);return m(e)[t]},w=Object(r.createSelector)(_,({activeColumn:e,activeColumns:t})=>new Set(e?[e.columnKey]:Array.from(t).filter(e=>e).map(e=>e.columnKey))),C=Object(r.createSelector)(m,b,(e,t)=>e[t]),S=Object(r.createSelector)(m,u,(e,t)=>e[t]),E=Object(r.createSelector)(y,u,(e,t)=>e===t),x=Object(r.createSelector)(i.d,E,(e,t)=>{if(!e)return null;let n=88;return t&&(n+=48),n})},function(e,t,n){"use strict";n(949);var r=n(231);n.d(t,"a",(function(){return r.a}))},,function(e,t,n){"use strict";var r=n(14),o=n(6),i=n(159);function a(e){return console.log(`[Pathogenwatch] Getting collection ${e}`),Object(o.a)("GET",`/api/collection/${e}`).then(e=>{const t=e.collection||e;return{...t,genomes:Object(i.a)(t.genomes)}})}n(265);var s=n(10);n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return p}));const l=Object(r.b)("FETCH_COLLECTION");function c(e){return{type:l,payload:{promise:a(e).then(e=>(s.b.current=e.organismId,e))}}}const u="UPDATE_COLLECTION_PROGRESS";function d(e){return{type:u,payload:e}}const h="RESET_COLLECTION_VIEW";function p(){return{type:h}}Object(r.b)("COLLECTION_FETCH_POSITION")},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"e",(function(){return b})),n.d(t,"g",(function(){return w})),n.d(t,"c",(function(){return C})),n.d(t,"b",(function(){return $}));var r=n(2),o=n(43),i=n.n(o),a=n(296),s=n.n(a),l=n(65),c=n(98),u=n(88),d=n(155),h=n(10),p=n(142),f=n(50),m=n(89);const g=e=>l.d.getFilter(e,{stateKey:u.b}),v=e=>l.d.isActive(e,{stateKey:u.b}),y=e=>g(e).prefilter,b=Object(r.createSelector)(g,({searchText:e})=>e||""),_=({genomes:e})=>e.filter,w=e=>_(e).isOpen,C=e=>_(e).listFilters,S=(e,t)=>Object(r.createSelector)(t=>C(t)[e],e=>{try{const n=new RegExp(e,"i");return e=>n.test(t?e[t]:e)}catch(e){return()=>!0}}),E=({genomes:e})=>e.summary,x=Object(r.createSelector)(E,e=>g(e).organismId,c.a,S("organismId","title"),({organismId:e={}},t,n,r)=>i()(Object.keys(e).filter(e=>n.has(e)).map(n=>{const r=h.d.get(n);return{value:n,active:t===n,label:r.formattedName,title:r.name,activeTitle:`Organism: ${r.name}`,count:e[n].count}}).filter(r),"title")),k=Object(r.createSelector)(E,e=>g(e).mlst,S("mlst"),({mlst:e={},sources:t},n,r)=>i()(Object.keys(e).filter(r).map(r=>({value:r,active:n===r,activeTitle:`MLST - ${t.mlst}: ST ${r}`,title:`ST ${r}`,count:e[r].count,novel:Object(m.c)(r)})),"novel",e=>Number(e.value))),O=Object(r.createSelector)(E,e=>g(e).mlst2,S("mlst2"),({mlst2:e={},sources:t},n,r)=>i()(Object.keys(e).filter(r).map(r=>({value:r,active:n===r,activeTitle:`MLST - ${t.mlst2}: ST ${r}`,title:`ST ${r}`,count:e[r].count,novel:Object(m.c)(r)})),"novel",e=>Number(e.value))),T=Object(r.createSelector)(E,e=>g(e).speciesId,S("speciesId","label"),({speciesId:e={}},t,n)=>i()(Object.keys(e).map(n=>({value:n,label:e[n].label,count:e[n].count,active:t===n})).filter(n),"label")),M=Object(r.createSelector)(E,e=>g(e).genusId,S("genusId","label"),({genusId:e={}},t,n)=>i()(Object.keys(e).map(n=>({value:n,label:e[n].label,count:e[n].count,active:t===n})).filter(n),"label")),P=Object(r.createSelector)(E,e=>g(e).country,S("country","label"),({country:e={}},t,n)=>i()(Object.keys(e).map(n=>({value:n,label:Object(d.b)(n),count:e[n].count,active:t===n})).filter(n),"label")),L=Object(r.createSelector)(E,e=>g(e).access,({access:e={}},t)=>i()(Object.keys(e).map(n=>({value:n,label:`${n[0].toUpperCase()}${n.slice(1)}`,count:e[n].count,active:t===n})),"label")),N=Object(r.createSelector)(Object(r.createSelector)(E,({uploadedAt:e={}})=>Object.keys(e).sort((e,t)=>new Date(t)-new Date(e)).map(e=>{const t=new Date(e);return{value:e,label:Object(f.b)(t)}})),E,e=>g(e).uploadedAt,S("uploadedAt","label"),(e,{uploadedAt:t={}},n,r)=>e.filter(r).map(e=>({...e,count:t[e.value].count,active:n===e.value}))),A=Object(r.createSelector)(E,e=>g(e).resistance,S("resistance"),({resistance:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,count:e[n].count,active:t===n})),"value")),I=Object(r.createSelector)(E,e=>g(e).subspecies,S("subspecies"),({subspecies:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,count:e[n].count,active:t===n})),"value")),R=Object(r.createSelector)(e=>E(e).speciesId,(e={})=>{const t=Object.keys(e);return 1===t.length?Object(p.b)(e[t[0]].label):"serotype"}),D=Object(r.createSelector)(E,e=>g(e).serotype,S("serotype"),R,({serotype:e={}},t,n,r)=>i()(Object.keys(e).filter(n).map(n=>({value:n,count:e[n].count,active:t===n,activeTitle:`${r[0].toUpperCase()}${r.slice(1)}: ${n}`})),"value")),j=Object(r.createSelector)(E,e=>g(e).strain,S("strain"),({strain:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,label:`GPSC ${n}`,count:e[n].count,active:t===n})),e=>Number(e.value))),z=Object(r.createSelector)(E,e=>g(e).ngmast,S("ngmast"),({ngmast:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,active:t===n,activeTitle:`NG-MAST: ST ${n}`,count:e[n].count,title:`ST ${n}`})),"value")),F=Object(r.createSelector)(E,e=>g(e).ngstar,S("ngstar"),({ngstar:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,active:t===n,activeTitle:`NG-STAR: ST ${n}`,count:e[n].count,novel:Object(m.c)(n),title:`ST ${n}`})),"novel",e=>Number(e.value))),B=Object(r.createSelector)(E,e=>g(e).genotype,S("genotype"),({genotype:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,active:t===n,count:e[n].count})),"value")),W=Object(r.createSelector)(Object(r.createSelector)(E,({reference:e={}})=>Object.keys(e).sort()),E,e=>g(e).reference,S("reference"),(e,{reference:t={}},n,r)=>e.filter(r).map(e=>({value:e,active:n===e,count:t[e].count}))),H=Object(r.createSelector)(E,e=>g(e).klocus,S("klocus"),({klocus:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,active:t===n,count:e[n].count})),"value")),U=Object(r.createSelector)(E,e=>g(e).olocus,S("olocus"),({olocus:e={}},t,n)=>i()(Object.keys(e).filter(n).map(n=>({value:n,active:t===n,count:e[n].count})),"value")),G=Object(r.createSelector)(E,e=>g(e).minDate,e=>g(e).maxDate,({date:e={}},t,n)=>e.min&&e.max?{bounds:[e.min,e.max],values:[t,n]}:null),V="(untitled collection)",Y=(e,t)=>e.title===V&&t.title!==V?1:e.title!==V&&t.title===V?-1:e.title>t.title?1:e.title<t.title?-1:0,q=Object(r.createSelector)(E,({collection:e={}})=>Object.keys(e).map(t=>{const n=e[t].label||V;return{value:t,label:n,title:s()(n)}}).sort(Y)),Z=Object(r.createSelector)(q,E,e=>g(e).collection,S("collection","title"),(e,{collection:t={}},n,r)=>e.filter(r).map(e=>({...e,activeTitle:`Collection: ${e.title}`,active:n===e.value,count:t[e.value].count}))),$=Object(r.createSelector)(E,L,Z,P,G,B,M,H,O,k,z,F,U,x,W,A,D,T,j,I,N,({loading:e,sources:t={},visible:n},...r)=>{const[o,i,a,s,l,c,u,d,h,p,f,m,g,v,y,b,_,w,C,S]=r;return{loading:e,sources:t,visible:n,access:o,collection:i,country:a,date:s,genotype:l,genusId:c,klocus:u,mlst:h,mlst2:d,ngmast:p,ngstar:f,olocus:m,organismId:g,reference:v,resistance:y,serotype:b,speciesId:_,strain:w,subspecies:C,uploadedAt:S}})},function(e,t,n){"use strict";e.exports=n(230),e.exports.easing=n(322),e.exports.canvas=n(323),e.exports.options=n(324)},function(e,t,n){"use strict";n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"b",(function(){return y}));var r=n(2),o=n(276),i=n(55);const a=e=>e.upload.progress.files,s=e=>a(e).queue.pending,l=e=>a(e).queue.processing,c=e=>a(e).entities,u=(Object(r.createSelector)(c,e=>Object.values(e)),Object(r.createSelector)(s,l,(e,t)=>e.length+t.size)),d=Object(r.createSelector)(l,e=>e.size>0),h=Object(r.createSelector)(u,e=>e>0),p=e=>a(e).status,f=Object(r.createSelector)(p,e=>{const t={},n=Object.values(e);for(const e of n)t[e]=(t[e]||0)+1;return{total:n.length,completed:t[i.a.SUCCESS]||0,errored:t[i.a.ERROR]||0,pending:t[i.a.PENDING]||0}}),m=Object(r.createSelector)(f,({completed:e})=>e),g=Object(r.createSelector)(f,({errored:e})=>e),v=Object(r.createSelector)(e=>a(e).entities,e=>a(e).errors,(e,t)=>{const n=[];for(const r of Object.keys(t))t[r]instanceof o.a&&n.push({filename:Object.keys(e[r])[0],error:t[r]});return n}),y=Object(r.createSelector)(e=>a(e).errors,v,(e,t)=>Object.keys(e).length-t.length)},function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"j",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"a",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(2),o=n(258),i=n(13),a=n(110);const s=e=>Object(i.f)(e).tree,l=e=>s(e).visible,c=e=>s(e).loading,u=Object(r.createSelector)(l,e=>a.b.has(e)),d=e=>s(e).titles,h=Object(r.createSelector)(l,d,(e,t)=>t[e]||a.a[e]||""),p=Object(r.createSelector)(e=>s(e).libmicroreact,e=>{const t={};for(const[n,{current:r}]of Object.entries(e))t[n]=r;return t}),f=Object(r.createSelector)(l,p,(e,t)=>e in t?t[e]:Object(o.a)(void 0,{})),m=Object(r.createSelector)(e=>f(e).subtreeIds,e=>null===e?[]:e),g=Object(r.createSelector)(e=>f(e).ids,e=>null!==e?e:[])},function(e,t,n){e.exports={default:n(575),__esModule:!0}},function(e,t,n){"use strict";t.a={DELAY:64,FONT_SIZE:14,HALO_WIDTH:4,MAX_FONT_SIZE:64,MAX_NODE_SIZE:64,MIN_FONT_SIZE:1,MIN_NODE_SIZE:1,NODE_BORDER_STYLE:"rgba(0, 0, 0, 0.54)",NODE_BORDER_WIDTH:1,NODE_RADIUS:7,NODE_SIZE:14,FONT:'"Roboto", "Helvetica", "Arial", sans-serif'}},function(e,t,n){"use strict";n.d(t,"l",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"r",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"k",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"p",(function(){return d})),n.d(t,"b",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"o",(function(){return m})),n.d(t,"e",(function(){return g})),n.d(t,"s",(function(){return v})),n.d(t,"d",(function(){return y})),n.d(t,"q",(function(){return b})),n.d(t,"j",(function(){return _})),n.d(t,"u",(function(){return w})),n.d(t,"i",(function(){return C})),n.d(t,"t",(function(){return S}));function r(e){return{type:"SEARCH_DROPDOWN_VISIBILITY",payload:e}}const o="SEARCH_TEXT_CHANGED";function i(e){return{type:o,payload:e}}const a="SEARCH_CATEGORY_SELECTED";function s(e){return{type:a,payload:{category:e}}}const l="SEARCH_TERM_ADDED";function c(e){return{type:l,payload:e}}const u="SEARCH_TERM_REMOVED";function d(e,t){return{type:u,payload:{term:e,intersection:t}}}const h="SEARCH_CURSOR_MOVED";function p(e){return{type:h,payload:{delta:e}}}const f="SEARCH_INTERSECTION_MOVED";function m(e){return{type:f,payload:{delta:e}}}const g="SEARCH_SORT_SELECTED";function v(e){return{type:g,payload:e}}const y="SEARCH_OPERATOR_SELECTED";function b(e){return{type:y,payload:e}}const _="SEARCH_TOGGLE_MODE";function w(){return{type:_}}const C="SEARCH_TOGGLE_EXACT_MATCH";function S(e){return{type:C,payload:e}}},function(e,t,n){"use strict";var r=n(207),o=n(374),i="@@redux/INIT";function a(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(a)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var l=e,c=t,u=[],d=u,h=!1;function p(){d===u&&(d=u.slice())}function f(){return c}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return p(),d.push(e),function(){if(t){t=!1,p();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(h)throw new Error("Reducers may not dispatch actions.");try{h=!0,c=l(c,e)}finally{h=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:i}),(s={dispatch:g,subscribe:m,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,g({type:i})}})[o.a]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[o.a]=function(){return this},e},s}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function l(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var o=t[r];0,"function"==typeof e[o]&&(n[o]=e[o])}var a=Object.keys(n);var l=void 0;try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:i}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(e){l=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(l)throw l;for(var r=!1,o={},i=0;i<a.length;i++){var c=a[i],u=n[c],d=e[c],h=u(d,t);if(void 0===h){var p=s(c,t);throw new Error(p)}o[c]=h,r=r||h!==d}return r?o:e}}function c(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return c(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},o=0;o<n.length;o++){var i=n[o],a=e[i];"function"==typeof a&&(r[i]=c(a,t))}return r}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,o){var i,a=e(n,r,o),s=a.dispatch,l={getState:a.getState,dispatch:function(e){return s(e)}};return i=t.map((function(e){return e(l)})),s=d.apply(void 0,i)(a.dispatch),h({},a,{dispatch:s})}}}n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return d}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n(14),o=n(171);const i=Object(r.b)("UPLOAD_ADD_GENOMES");function a(e,t){return{type:i,payload:{genomes:e,uploadedAt:t,promise:o.d(e,t).then(t=>{for(const n of e)n.id in t&&(n.id=t[n.id]);return t})}}}function s(e){return{type:"UPLOAD_ERROR_MESSAGE",payload:e}}const l=Object(r.b)("UPLOAD_FETCH_ASSEMBLER_USAGE");function c(e){return{type:l,payload:{promise:o.c(e)}}}const u="UPLOAD_SETTING_CHANGED";function d(e,t){return{type:u,payload:{setting:e,value:t}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(130),a=n(16),s=({url:e,name:t})=>o.a.createElement("a",{href:e,download:`${t}.fa`,target:"_blank",rel:"noopener",title:"Download genome",className:"wgsa-download-button mdl-button mdl-button--icon"},o.a.createElement(i.a,{color:a.b.COLOURS.PURPLE,label:".fa"})),l=({action:e,title:t,ids:n,children:r})=>o.a.createElement("form",{action:e,method:"POST",target:"_blank",style:{display:"inline"}},o.a.createElement("button",{title:t,className:"wgsa-download-button mdl-button mdl-button--icon"},r),o.a.createElement("input",{type:"hidden",name:"ids",value:n}));const{COLOURS:c}=a.b;var u=({url:e,ids:t})=>o.a.createElement(l,{action:e,title:"Download genomes",ids:t},o.a.createElement(i.a,{isArchive:!0,color:c.PURPLE})),d=n(6),h=({uuid:e,id:t,name:n})=>o.a.createElement("a",{href:Object(d.c)(`/download/collection/${e}/annotations?ids=${t}`),download:`${n}.gff`,target:"_blank",rel:"noopener",title:"Download annotations",className:"wgsa-download-button mdl-button mdl-button--icon"},o.a.createElement(i.a,{color:a.b.COLOURS.GREEN,label:".gff"}));const{COLOURS:p}=a.b;var f=({uuid:e,ids:t,filename:n})=>o.a.createElement(l,{action:Object(d.c)(`/download/collection/${e}/annotations?filename=${n}`),title:"Download annotations",ids:t},o.a.createElement(i.a,{isArchive:!0,color:p.GREEN})),m=n(131),g=n(3);var v=Object(g.a)(e=>({collectionId:e.viewer.entities.collection.token}),null)(({id:e,name:t,text:n,collectionId:r,dispatch:i})=>o.a.createElement("button",{className:"pw-report-button",title:"Details",onClick:()=>i(Object(m.b)(e,t,r))},n)),y=n(69),b=n(9);n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return C})),n.d(t,"f",(function(){return S})),n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return T}));const _=new Set([b.c.metadata,b.c.typing,b.c.stats]),w=new Set([b.c.antibiotics,b.c.snps,b.c.genes,b.c.kleborateAMR,b.c.kleborateAMRGenotypes,b.c.vista]),C={columnKey:"__spacer_l",system:!0,getHeaderContent(){},fixed:!0,fixedWidth:1,flexGrow:1,getCellContents(){}},S={columnKey:"__spacer_r",system:!0,getHeaderContent(){},fixedWidth:24,flexGrow:1,getCellContents(){}},E={columnKey:"__name",valueGetter:({name:e})=>e},x={columnKey:"__downloads",system:!0,fixed:!0,headerClasses:"wgsa-table-cell--skinny",getHeaderContent({collection:e,archiveDownloads:t}){const{ids:n,filenames:r}=t,{uuid:i,isClusterView:a}=e;return a?o.a.createElement("span",{className:"wgsa-table-downloads",onClick:e=>e.stopPropagation()},o.a.createElement(u,{url:Object(d.c)(`/download/genome/fasta?filename=${r.genome}`),ids:n})):o.a.createElement("span",{className:"wgsa-table-downloads",onClick:e=>e.stopPropagation()},o.a.createElement(u,{url:Object(d.c)(`/download/collection/${i}/fastas?filename=${r.genome}`),ids:n}),o.a.createElement(f,{uuid:i,ids:n,filename:r.annotation}))},cellClasses:"wgsa-table-cell--skinny",flexGrow:0,getCellContents({collection:e},{id:t,_id:n=t,name:r}){const{uuid:i,isClusterView:a}=e;return a?o.a.createElement("span",{className:"wgsa-table-downloads",onClick:e=>e.stopPropagation()},o.a.createElement(s,{url:Object(d.c)(`/download/genome/${n}/fasta`),name:r})):o.a.createElement("span",{className:"wgsa-table-downloads",onClick:e=>e.stopPropagation()},o.a.createElement(s,{url:Object(d.c)(`/download/collection/${i}/fastas?ids=${n}`),name:r}),o.a.createElement(h,{uuid:i,id:t||n,name:r}))},addState({collection:e,genomes:t}){return{...this,collection:e,width:e.isClusterView?44:68,archiveDownloads:{ids:t.map(e=>e.id||e._id),filenames:{genome:Object(y.a)(e,"genomes.zip"),annotation:Object(y.a)(e,"annotations.zip")}}}}},k={color:a.b.COLOURS.PURPLE};function O(e,t){const n=t(e);return e.__isCollection?o.a.createElement("strong",{style:k},n):e.__isReference||e.reference?o.a.createElement("strong",null,n):o.a.createElement("span",null,n)}const T={...E,fixed:!0,getCellContents:({valueGetter:e},t)=>o.a.createElement("div",{onClick:e=>e.stopPropagation()},o.a.createElement(v,{id:t.id,name:t.name,text:O(t,e)}))}},function(e,t,n){"use strict";var r=n(78),o=n.n(r),i=n(675),a=n(0),s=n.n(a),l=n(3);const c=s.a.createClass({displayName:"LocationListener",propTypes:{query:s.a.PropTypes.object,onChange:s.a.PropTypes.func.isRequired},componentDidUpdate(e){e.query!==this.props.query&&this.props.onChange(this.props.query)},render:()=>null});var u=Object(l.a)((function({location:e}){return{query:e.query}}),(function(e,{update:t}){return{onChange:n=>e(t(n))}}))(c),d=n(375),h=n(4),p=n.n(h);function f(e,t,n=!1){return!!e&&(n?t===e:0===e.indexOf(t))}var m=Object(l.a)((function({location:e}){return{activePathname:e.pathname}}))(({className:e,icon:t,to:n,activeOnIndexOnly:r,activePathname:o,external:i,badge:a=null,children:l})=>i?s.a.createElement("a",{href:n,target:"_blank",rel:"noopener",className:p()("mdl-navigation__link",e)},t&&s.a.createElement("i",{className:"material-icons"},t),s.a.createElement("span",null,l)):s.a.createElement(d.a,{className:p()("mdl-navigation__link",e,{"mdl-navigation__link--active":f(o,n,r)}),to:n},"string"==typeof t?s.a.createElement("i",{className:"material-icons"},t):t,s.a.createElement("span",{className:"wgsa-nav-label"},l),null!==a&&s.a.createElement("span",{className:"wgsa-nav-badge pw-pill-purple"},a)));function g(e=""){i.b.push({pathname:location.pathname,search:e.length?`?${e.replace(/%20/g,"+")}`:""})}function v(e){const t=o.a.parse(location.search);g(o.a.stringify({...t,...Object.keys(e).reduce((n,r)=>{const o=e[r];return n[r]=o===t[r]?void 0:o,n},{})}))}function y(){g()}n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return _})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m}));const b="LOCATION_CHANGE";function _(e){return{type:b,payload:{location:e}}}},function(e,t,n){"use strict";var r=n(14),o=n(6),i=n(15);function a(e,t,n,r,i){return Object(o.a)("POST",`/api/genome/${e}/clusters/edges`,{scheme:t,version:n,threshold:Number(r),sts:i})}n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"p",(function(){return g})),n.d(t,"j",(function(){return v})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return b})),n.d(t,"n",(function(){return w})),n.d(t,"o",(function(){return C})),n.d(t,"m",(function(){return S}));const s=Object(r.b)("REQUEST_BUILD_CLUSTERS"),l="SET_CLUSTERING_PROGRESS",c=Object(r.b)("FETCH_CLUSTERS"),u=Object(r.b)("FETCH_CLUSTER_EDGES"),d=Object(r.b)("RUN_CLUSTER_LAYOUT"),h="SET_CLUSTER_THRESHOLD",p="SET_CLUSTER_GENOME",f="SKIP_LAYOUT";function m(e){return{type:s,payload:{promise:(t=e,Object(o.a)("POST",`/api/genome/${t}/clusters`,{clientId:i.a.clientId})),genomeId:e}};var t}function g(e){return{type:l,payload:e}}function v(e){return{type:c,payload:{promise:(t=e,Object(o.a)("GET",`/api/genome/${t}/clusters`)),genomeId:e}};var t}function y(e,t,n,r,o){return{type:u,payload:{promise:a(e,t,n,r,o),genomeId:e,threshold:r,sts:o,scheme:t,version:n}}}function b(e){return{type:h,payload:e}}function _(e){const t={};for(const n of e){const{x:e,y:r,id:o}=n;t[o]={x:e,y:r}}return t}function w(){return{type:d.ATTEMPT,payload:{}}}function C(e){return{type:d.SUCCESS,payload:{result:{coordinates:e}}}}function S(e){return{type:f,payload:_(e)}}},function(e,t,n){(function(e,n){var r="[object Arguments]",o="[object Map]",i="[object Object]",a="[object Set]",s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[r]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f[o]=f["[object Number]"]=f[i]=f["[object RegExp]"]=f[a]=f["[object String]"]=f["[object WeakMap]"]=!1;var m="object"==typeof e&&e&&e.Object===Object&&e,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")(),y=t&&!t.nodeType&&t,b=y&&"object"==typeof n&&n&&!n.nodeType&&n,_=b&&b.exports===y&&m.process,w=function(){try{return _&&_.binding("util")}catch(e){}}(),C=w&&w.isTypedArray;function S(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function E(e,t){for(var n=-1,r=e?e.length:0,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function x(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function k(e,t){for(var n=-1,r=e?e.length:0;++n<r;)if(t(e[n],n,e))return!0;return!1}function O(e){return function(t){return e(t)}}function T(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function M(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function P(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var L,N,A,I=Array.prototype,R=Function.prototype,D=Object.prototype,j=v["__core-js_shared__"],z=(L=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||""))?"Symbol(src)_1."+L:"",F=R.toString,B=D.hasOwnProperty,W=D.toString,H=RegExp("^"+F.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=v.Symbol,G=v.Uint8Array,V=D.propertyIsEnumerable,Y=I.splice,q=U?U.isConcatSpreadable:void 0,Z=(N=Object.keys,A=Object,function(e){return N(A(e))}),$=Math.max,K=Ne(v,"DataView"),X=Ne(v,"Map"),Q=Ne(v,"Promise"),J=Ne(v,"Set"),ee=Ne(v,"WeakMap"),te=Ne(Object,"create"),ne=He(K),re=He(X),oe=He(Q),ie=He(J),ae=He(ee),se=U?U.prototype:void 0,le=se?se.valueOf:void 0,ce=se?se.toString:void 0;function ue(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function de(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function he(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function pe(e){var t=-1,n=e?e.length:0;for(this.__data__=new he;++t<n;)this.add(e[t])}function fe(e){this.__data__=new de(e)}function me(e,t){var n=qe(e)||Ye(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!B.call(e,i)||o&&("length"==i||Re(i,r))||n.push(i);return n}function ge(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}ue.prototype.clear=function(){this.__data__=te?te(null):{}},ue.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ue.prototype.get=function(e){var t=this.__data__;if(te){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return B.call(t,e)?t[e]:void 0},ue.prototype.has=function(e){var t=this.__data__;return te?void 0!==t[e]:B.call(t,e)},ue.prototype.set=function(e,t){return this.__data__[e]=te&&void 0===t?"__lodash_hash_undefined__":t,this},de.prototype.clear=function(){this.__data__=[]},de.prototype.delete=function(e){var t=this.__data__,n=ge(t,e);return!(n<0)&&(n==t.length-1?t.pop():Y.call(t,n,1),!0)},de.prototype.get=function(e){var t=this.__data__,n=ge(t,e);return n<0?void 0:t[n][1]},de.prototype.has=function(e){return ge(this.__data__,e)>-1},de.prototype.set=function(e,t){var n=this.__data__,r=ge(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},he.prototype.clear=function(){this.__data__={hash:new ue,map:new(X||de),string:new ue}},he.prototype.delete=function(e){return Le(this,e).delete(e)},he.prototype.get=function(e){return Le(this,e).get(e)},he.prototype.has=function(e){return Le(this,e).has(e)},he.prototype.set=function(e,t){return Le(this,e).set(e,t),this},pe.prototype.add=pe.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},pe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.clear=function(){this.__data__=new de},fe.prototype.delete=function(e){return this.__data__.delete(e)},fe.prototype.get=function(e){return this.__data__.get(e)},fe.prototype.has=function(e){return this.__data__.has(e)},fe.prototype.set=function(e,t){var n=this.__data__;if(n instanceof de){var r=n.__data__;if(!X||r.length<199)return r.push([e,t]),this;n=this.__data__=new he(r)}return n.set(e,t),this};var ve,ye,be=(ve=function(e,t){return e&&_e(e,t,tt)},function(e,t){if(null==e)return e;if(!Ze(e))return ve(e,t);for(var n=e.length,r=ye?n:-1,o=Object(e);(ye?r--:++r<n)&&!1!==t(o[r],r,o););return e});var _e=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();function we(e,t){for(var n=0,r=(t=je(t,e)?[t]:Te(t)).length;null!=e&&n<r;)e=e[We(t[n++])];return n&&n==r?e:void 0}function Ce(e,t){return null!=e&&t in Object(e)}function Se(e,t,n,s,l){return e===t||(null==e||null==t||!Xe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,n,s,l,c){var u=qe(e),d=qe(t),h="[object Array]",p="[object Array]";u||(h=(h=Ae(e))==r?i:h);d||(p=(p=Ae(t))==r?i:p);var f=h==i&&!T(e),m=p==i&&!T(t),g=h==p;if(g&&!f)return c||(c=new fe),u||et(e)?Pe(e,t,n,s,l,c):function(e,t,n,r,i,s,l){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new G(e),new G(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ve(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case o:var c=M;case a:var u=2&s;if(c||(c=P),e.size!=t.size&&!u)return!1;var d=l.get(e);if(d)return d==t;s|=1,l.set(e,t);var h=Pe(c(e),c(t),r,i,s,l);return l.delete(e),h;case"[object Symbol]":if(le)return le.call(e)==le.call(t)}return!1}(e,t,h,n,s,l,c);if(!(2&l)){var v=f&&B.call(e,"__wrapped__"),y=m&&B.call(t,"__wrapped__");if(v||y){var b=v?e.value():e,_=y?t.value():t;return c||(c=new fe),n(b,_,s,l,c)}}if(!g)return!1;return c||(c=new fe),function(e,t,n,r,o,i){var a=2&o,s=tt(e),l=s.length,c=tt(t).length;if(l!=c&&!a)return!1;var u=l;for(;u--;){var d=s[u];if(!(a?d in t:B.call(t,d)))return!1}var h=i.get(e);if(h&&i.get(t))return h==t;var p=!0;i.set(e,t),i.set(t,e);var f=a;for(;++u<l;){d=s[u];var m=e[d],g=t[d];if(r)var v=a?r(g,m,d,t,e,i):r(m,g,d,e,t,i);if(!(void 0===v?m===g||n(m,g,r,o,i):v)){p=!1;break}f||(f="constructor"==d)}if(p&&!f){var y=e.constructor,b=t.constructor;y!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(e),i.delete(t),p}(e,t,n,s,l,c)}(e,t,Se,n,s,l))}function Ee(e){return!(!Xe(e)||function(e){return!!z&&z in e}(e))&&($e(e)||T(e)?H:h).test(He(e))}function xe(e){return"function"==typeof e?e:null==e?nt:"object"==typeof e?qe(e)?function(e,t){if(je(e)&&ze(t))return Fe(We(e),t);return function(n){var r=function(e,t,n){var r=null==e?void 0:we(e,t);return void 0===r?n:r}(n,e);return void 0===r&&r===t?function(e,t){return null!=e&&function(e,t,n){t=je(t,e)?[t]:Te(t);var r,o=-1,i=t.length;for(;++o<i;){var a=We(t[o]);if(!(r=null!=e&&n(e,a)))break;e=e[a]}if(r)return r;return!!(i=e?e.length:0)&&Ke(i)&&Re(a,i)&&(qe(e)||Ye(e))}(e,t,Ce)}(n,e):Se(t,r,void 0,3)}}(e[0],e[1]):function(e){var t=function(e){var t=tt(e),n=t.length;for(;n--;){var r=t[n],o=e[r];t[n]=[r,o,ze(o)]}return t}(e);if(1==t.length&&t[0][2])return Fe(t[0][0],t[0][1]);return function(n){return n===e||function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new fe;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?Se(u,c,r,3,d):h))return!1}}return!0}(n,e,t)}}(e):je(t=e)?(n=We(t),function(e){return null==e?void 0:e[n]}):function(e){return function(t){return we(t,e)}}(t);var t,n}function ke(e){if(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||D,t!==r)return Z(e);var t,n,r,o=[];for(var i in Object(e))B.call(e,i)&&"constructor"!=i&&o.push(i);return o}function Oe(e,t,n){var r=-1;return t=E(t.length?t:[nt],O(xe)),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(function(e,t){var n=-1,r=Ze(e)?Array(e.length):[];return be(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}(e,(function(e,n,o){return{criteria:E(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,o=e.criteria,i=t.criteria,a=o.length,s=n.length;for(;++r<a;){var l=Me(o[r],i[r]);if(l){if(r>=s)return l;var c=n[r];return l*("desc"==c?-1:1)}}return e.index-t.index}(e,t,n)}))}function Te(e){return qe(e)?e:Be(e)}function Me(e,t){if(e!==t){var n=void 0!==e,r=null===e,o=e==e,i=Je(e),a=void 0!==t,s=null===t,l=t==t,c=Je(t);if(!s&&!c&&!i&&e>t||i&&a&&l&&!s&&!c||r&&a&&l||!n&&l||!o)return 1;if(!r&&!i&&!c&&e<t||c&&n&&o&&!r&&!i||s&&n&&o||!a&&o||!l)return-1}return 0}function Pe(e,t,n,r,o,i){var a=2&o,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,h=1&o?new pe:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var p=e[u],f=t[u];if(r)var m=a?r(f,p,u,t,e,i):r(p,f,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!k(t,(function(e,t){if(!h.has(t)&&(p===e||n(p,e,r,o,i)))return h.add(t)}))){d=!1;break}}else if(p!==f&&!n(p,f,r,o,i)){d=!1;break}}return i.delete(e),i.delete(t),d}function Le(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ee(n)?n:void 0}var Ae=function(e){return W.call(e)};function Ie(e){return qe(e)||Ye(e)||!!(q&&e&&e[q])}function Re(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||p.test(e))&&e>-1&&e%1==0&&e<t}function De(e,t,n){if(!Xe(n))return!1;var r=typeof t;return!!("number"==r?Ze(n)&&Re(t,n.length):"string"==r&&t in n)&&Ve(n[t],e)}function je(e,t){if(qe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Je(e))||(l.test(e)||!s.test(e)||null!=t&&e in Object(t))}function ze(e){return e==e&&!Xe(e)}function Fe(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}(K&&"[object DataView]"!=Ae(new K(new ArrayBuffer(1)))||X&&Ae(new X)!=o||Q&&"[object Promise]"!=Ae(Q.resolve())||J&&Ae(new J)!=a||ee&&"[object WeakMap]"!=Ae(new ee))&&(Ae=function(e){var t=W.call(e),n=t==i?e.constructor:void 0,r=n?He(n):void 0;if(r)switch(r){case ne:return"[object DataView]";case re:return o;case oe:return"[object Promise]";case ie:return a;case ae:return"[object WeakMap]"}return t});var Be=Ge((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(Je(e))return ce?ce.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(t);var n=[];return c.test(e)&&n.push(""),e.replace(u,(function(e,t,r,o){n.push(r?o.replace(d,"$1"):t||e)})),n}));function We(e){if("string"==typeof e||Je(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function He(e){if(null!=e){try{return F.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var Ue=function(e,t){return t=$(void 0===t?e.length-1:t,0),function(){for(var n=arguments,r=-1,o=$(n.length-t,0),i=Array(o);++r<o;)i[r]=n[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=n[r];return a[t]=i,S(e,this,a)}}((function(e,t){if(null==e)return[];var n=t.length;return n>1&&De(e,t[0],t[1])?t=[]:n>2&&De(t[0],t[1],t[2])&&(t=[t[0]]),Oe(e,function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Ie),i||(i=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):x(i,l):o||(i[i.length]=l)}return i}(t,1),[])}));function Ge(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(Ge.Cache||he),n}function Ve(e,t){return e===t||e!=e&&t!=t}function Ye(e){return function(e){return Qe(e)&&Ze(e)}(e)&&B.call(e,"callee")&&(!V.call(e,"callee")||W.call(e)==r)}Ge.Cache=he;var qe=Array.isArray;function Ze(e){return null!=e&&Ke(e.length)&&!$e(e)}function $e(e){var t=Xe(e)?W.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function Ke(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Xe(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Qe(e){return!!e&&"object"==typeof e}function Je(e){return"symbol"==typeof e||Qe(e)&&"[object Symbol]"==W.call(e)}var et=C?O(C):function(e){return Qe(e)&&Ke(e.length)&&!!f[W.call(e)]};function tt(e){return Ze(e)?me(e):ke(e)}function nt(e){return e}n.exports=Ue}).call(this,n(45),n(197)(e))},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return u}));const r="SET_TABLE";function o(e){return{type:r,payload:{name:e}}}const i="SET_LABEL_COLUMN";function a(e,t){return{type:i,payload:{table:e,column:t}}}const s="SET_COLOUR_COLUMNS";function l(e,t){return{type:s,payload:{table:e,columns:t}}}const c="AMR_TOGGLE_MULTI";function u(){return{type:c}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v}));var r=n(16);const o={RESISTANT:r.c.DANGER_COLOUR,INDUCIBLE:"#E68D44",INTERMEDIATE:r.c.WARNING_COLOUR},i="#fff",a=Object.keys(o).reduce((e,t)=>e.set(o[t],t),new Map([[i,"UNKNOWN"]])),s=e=>a.get(e);function l(e){return o[e]||o.RESISTANT}function c({antibiotics:e},t){if(!(t in e))return!1;const{state:n}=e[t];return n in o}function u(e,t,n){const{paarsnp:r}=e.analysis;return!!r&&-1!==r[t].indexOf(n)}function d({amr:e},t){return!!e.profile&&t in e.profile&&!!e.profile[t].resistant}function h(e){return e.replace("^","").replace("*","").replace("?","").replace(/\.v\d/,"").replace(/-\d+%/g,"_truncated").replace(/^(\d+\w+)$/,"SHV-1_$1")}function p({amr:{profile:e}},t,n){if("-"===n||!e)return!1;for(const r of Object.keys(e)){if(!("name"in e[r])||e[r].name!==t)continue;if("-"===e[r].matches)return!1;return e[r].matches.split(";").map(e=>h(e)).includes(n)}return!1}function f(e){return e&&e.__isCollection?r.b.COLOURS.PURPLE_LIGHT:r.b.COLOURS.GREY}function m(e,t){const{paarsnp:n}=t.analysis;return n?c(n,e)?l(n.antibiotics[e].state):i:f(t)}function g({key:e,effect:t},n,r){const{paarsnp:a}=r.analysis;return a?u(r,n,e)?o[t]||o.RESISTANT:i:f(r)}function v(e,t){return function(n){const r=function(e,t){const n=[];if(e.size)for(const r of e)n.push(r.valueGetter(t));else n.push(f(t));return new Set(n)}(e.activeColumns,n);if(1===r.size)return Array.from(r)[0];if(t&&r.has(i))return i;r.delete(i);const a=Array.from(r);return 1===a.length?a[0]:o.RESISTANT}}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(4),a=n.n(i);t.a=o.a.createClass({displayName:"Spinner.react",componentDidMount(){componentHandler.upgradeElement(this.refs.spinner)},render(){return o.a.createElement("div",{ref:"spinner",className:a()("mdl-spinner mdl-js-spinner is-active",{"mdl-spinner--single-colour":this.props.singleColour})})}})},function(e,t,n){"use strict";var r=n(32);e.exports={_set:function(e,t){return r.merge(this[e]||(this[e]={}),t)}}},function(e,t,n){"use strict";n.d(t,"e",(function(){return f})),n.d(t,"c",(function(){return g})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return _}));var r=n(483),o=n.n(r),i=n(484),a=n.n(i),s=n(233),l=n.n(s),c=n(373),u=n.n(c),d=n(485),h=n.n(d);const p=/^[0-9]{4}$/;const f=["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,t)=>({text:e,value:t})),m=e=>f[e-1].text;function g(e){if(!function({year:e,month:t,day:n}){return!(!e||n&&!t)&&((!n||n>=1&&n<=31)&&(!t||t>=1&&t<=12)&&p.test(e))}(e))return"";const{year:t,month:n,day:r}=e;return t&&n&&r?`${function(e){const t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}(r)} ${m(n)} ${t}`:t&&n?`${m(n)} ${t}`:t}function v(e){return e?o()(e)?`Today, ${l()(e,"HH:mm")}`:a()(e)?`Yesterday, ${l()(e,"HH:mm")}`:l()(e,"D MMMM, HH:mm"):null}const y=new Date("0001-01-01T00:00:00Z");function b(e){return u()(e,y)}function _(e){return h()(y,e)}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(3),a=n(190);class s extends o.a.Component{componentWillMount(){this.updateTitle()}componentDidUpdate(){this.updateTitle()}updateTitle(){const e=this.props.children||this.props.title,t=a.b[this.props.brandingId];document.title=`${t} | ${e}`}render(){return null}}t.a=Object(i.a)((function(e){return{brandingId:e.branding.id}}))(s)},function(e,t,n){"use strict";var r=n(3),o=n(190);var i=Object(r.a)((function(e){return{brandingId:e.branding.id}}))(({brandingId:e})=>o.b[e]),a=n(0),s=n.n(a);const l={WGSA:"/images/WGSA.FINAL.svg",Pathogenwatch:"/images/pathogenwatch-saira-semicondensed.svg",PathogenDotWatch:"/images/pathogen-dot-watch-saira-caps.svg"};var c=Object(r.a)((function(e){return{brandingId:e.branding.id}}))(({className:e,brandingId:t})=>s.a.createElement("img",{className:e,src:l[t]}));const u={WGSA:"/images/WGSA.Icon.FINAL.svg",Pathogenwatch:"/images/pathogenwatch-icon.svg",PathogenDotWatch:"/images/pathogenwatch-icon.svg"};var d=Object(r.a)((function(e){return{brandingId:e.branding.id}}))(({className:e,brandingId:t})=>s.a.createElement("img",{className:e,src:u[t]})),h=n(51);n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return h.a}))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n(2);const o=({genomes:e})=>e,i=e=>o(e).entities,a=Object(r.createSelector)(i,e=>Object.keys(e).map(t=>e[t])),s=(Object(r.createSelector)(a,e=>e.map(e=>e.id)),e=>a(e).length),l=e=>o(e).waiting,c=e=>o(e).status,u=a,d=e=>o(e).indices},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={VISIBILITY:"VISIBILITY",TREE:"TREE",MAP:"MAP"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(95);n.d(t,"b",(function(){return r.a}));const o={PENDING:0,QUEUED:1,UPLOADING:2,COMPRESSING:3,ERROR:4,SUCCESS:5}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"f",(function(){return v})),n.d(t,"h",(function(){return y}));var r=n(2),o=n(123),i=n(100),a=n(59),s=n(33),l=n(206);const c=({upload:e})=>e.progress,u=e=>c(e)._.view,d=e=>c(e)._.uploadedAt,h=Object(r.createSelector)((e,t)=>Object(a.e)(e)[t],(e,t)=>Object(s.i)(e)[t],(e,t)=>Object(l.a)(e)[t],(e,t)=>Object(s.h)(e)[t],(e,t,n,r)=>({...e,files:Object.values(t),recovery:n,status:r})),p=Object(r.createSelector)(s.e,a.e,s.i,s.h,(e,t,n,r)=>Array.from(e).map(e=>({...t[e],files:Object.values(n[e]),status:r[e]}))),f=Object(r.createSelector)(i.d,o.a,(e,t)=>{const n={pending:0,done:0,total:0},r={pending:0,done:0,total:0};let o=0;for(const e of Object.values(t))for(const t of Object.keys(e)){const i=null===e[t];!1===e[t]&&o++,"speciator"===t&&(n.total++,i&&n.pending++),r.total++,i&&r.pending++}return n.done=n.total-n.pending,r.done=r.total-r.pending,{assembly:e,speciation:n,analyses:r,errors:o}}),m=Object(r.createSelector)(a.a,f,(e,{speciation:t})=>t.total>0&&t.done===e),g=Object(r.createSelector)(f,({analyses:e})=>e.total>0&&e.done===e.total),v=Object(r.createSelector)(f,({errors:e})=>e>0),y=Object(r.createSelector)(a.a,s.k,a.f,i.f,(e,t,n,r)=>!(e>0)||!t&&(!!n&&!r))},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a}));var r=n(50);n.d(t,"b",(function(){return r.c}));const o=(e,{userDefined:t})=>t?t[e]:void 0;function i(e){return e.label?e.label:e.getLabel?e.getLabel():e.columnKey.replace(/_?_autocolou?r$/,"").replace(/^__/,"").replace(/_/g," ").toUpperCase()}function a(e,t,n){if(!t||!e||0===e.length)return;if(!e[0].group)return e[0].flexGrow=1,void(e[0].width=null);const[r,o,i]=e[0].columns,a=o.width+i.width,s=function e(t){return t.reduce((t,n)=>n.group?t+e(n.columns):n.hidden?t:n.width?t+n.width:n.fixedWidth?t+n.fixedWidth+(n.cellPadding||0):t,0)}(e.slice(1))+a;Math.max(t-s,0)/2+a<n+8?(r.flexGrow=0,r.width=n-a+8):(r.flexGrow=1,r.width=null)}},function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return h}));var r=n(2),o=n(33),i=n(55);const a=e=>e.upload.progress.genomes,s=Object(r.createSelector)(a,e=>Object.keys(e).map(t=>e[t])),l=Object(r.createSelector)(s,e=>e.length),c=Object(r.createSelector)(s,o.h,(e,t)=>{let n=0;for(const r of e)r.type===i.b.READS&&t[r.id]===i.a.ERROR&&n++;return n}),u=Object(r.createSelector)(s,e=>{let t=0,n=0;for(const r of e)r.type===i.b.ASSEMBLY&&n++,r.type===i.b.READS&&t++;return{reads:t,assemblies:n}}),d=(Object(r.createSelector)(u,e=>e.assemblies),Object(r.createSelector)(u,e=>e.reads)),h=e=>d(e)>0},function(e,t,n){var r=n(604),o=n(400),i=/[T ]/,a=/:/,s=/^(\d{2})$/,l=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],c=/^(\d{4})/,u=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,h=/^-?(\d{3})$/,p=/^-?(\d{2})-?(\d{2})$/,f=/^-?W(\d{2})$/,m=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,v=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,y=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,b=/([Z+-].*)$/,_=/^(Z)$/,w=/^([+-])(\d{2})$/,C=/^([+-])(\d{2}):?(\d{2})$/;function S(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var o=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}e.exports=function(e,t){if(o(e))return new Date(e.getTime());if("string"!=typeof e)return new Date(e);var n=(t||{}).additionalDigits;n=null==n?2:Number(n);var E=function(e){var t,n={},r=e.split(i);a.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1]);if(t){var o=b.exec(t);o?(n.time=t.replace(o[1],""),n.timezone=o[1]):n.time=t}return n}(e),x=function(e,t){var n,r=l[t],o=u[t];if(n=c.exec(e)||o.exec(e)){var i=n[1];return{year:parseInt(i,10),restDateString:e.slice(i.length)}}if(n=s.exec(e)||r.exec(e)){var a=n[1];return{year:100*parseInt(a,10),restDateString:e.slice(a.length)}}return{year:null}}(E.date,n),k=x.year,O=function(e,t){if(null===t)return null;var n,r,o,i;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=d.exec(e))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(t,o),r;if(n=h.exec(e)){r=new Date(0);var a=parseInt(n[1],10);return r.setUTCFullYear(t,0,a),r}if(n=p.exec(e)){r=new Date(0),o=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return r.setUTCFullYear(t,o,s),r}if(n=f.exec(e))return i=parseInt(n[1],10)-1,S(t,i);if(n=m.exec(e)){i=parseInt(n[1],10)-1;var l=parseInt(n[2],10)-1;return S(t,i,l)}return null}(x.restDateString,k);if(O){var T,M=O.getTime(),P=0;if(E.time&&(P=function(e){var t,n,r;if(t=g.exec(e))return(n=parseFloat(t[1].replace(",",".")))%24*36e5;if(t=v.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),n%24*36e5+6e4*r;if(t=y.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var o=parseFloat(t[3].replace(",","."));return n%24*36e5+6e4*r+1e3*o}return null}(E.time)),E.timezone)T=6e4*function(e){var t,n;if(t=_.exec(e))return 0;if(t=w.exec(e))return n=60*parseInt(t[2],10),"+"===t[1]?-n:n;if(t=C.exec(e))return n=60*parseInt(t[2],10)+parseInt(t[3],10),"+"===t[1]?-n:n;return 0}(E.timezone);else{var L=M+P,N=new Date(L);T=r(N);var A=new Date(L);A.setDate(N.getDate()+1);var I=r(A)-r(N);I>0&&(T+=I)}return new Date(M+P+T)}return new Date(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}},function(e,t,n){"use strict";var r=n(14),o=n(33),i=n(57),a=n(105),s=n(226),l=n(158),c=n(276),u=n(314),d=n.n(u);n(15);function h(e){return d()().compress(e)}var p=n(210),f=n(95);n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"e",(function(){return C}));const m="GENOME_UPLOAD_PROGRESS";const g=Object(r.b)("COMPRESS_GENOME");const v=Object(r.b)("UPLOAD_GENOME");function y(e,t){return n=>{const{id:r,metadata:o}=e;return n({type:v,payload:{id:r,promise:s.b(e,t,e=>n(function(e,t){return{type:m,payload:{id:e,progress:t}}}(r,e))).then(e=>o?s.a(e.id,o).then(t=>({...e,...t})):e)}})}}function b(e,t,n){return function(e){return Promise.resolve(e.files[0].handle).then(l.readAsText).then(c.b)}(n).then(r=>{return Object(a.b)(t(),"compression")?e((o=n.id,{type:g,payload:{id:o,promise:h(r)}})):r;var o}).then(t=>e(y(n,t)))}function _(e,t,n){const r=t(),o=Object(i.d)(r),a=r.auth.token;return Object(p.c)(n,{token:a,uploadedAt:o},e)}const w=Object(r.b)("PROCESS_GENOME");function C(){return(e,t)=>{if(o.l(t()))return;const n=Object(a.b)(t(),"individual");let r=1;!function a(){const s=t(),l=o.g(s),c=o.e(s);if(l.length&&c.size<r){const o=l[0],c=Object(i.a)(s,o);c.type===f.a.ASSEMBLY&&(r=n?1:5),e({type:w,payload:{id:o,promise:c.type===f.a.READS?_(e,t,c):b(e,t,c)}}).then(a).catch(a),a()}}()}}},function(e,t,n){"use strict";n(931);var r=n(0),o=n.n(r),i=n(3),a=n(113),s=n.n(a);const l=o.a.createClass({displayName:"ToastContainer",componentDidUpdate(e){if(this.timeout&&clearTimeout(this.timeout),e.visible&&!this.props.visible)return;this.props.action&&this.refs.actionButton?this.refs.actionButton.focus():this.refs.closeButton&&this.refs.closeButton.focus();const{autohide:t=!0,onCloseButtonClick:n}=this.props;t&&(this.timeout=setTimeout(n,5e3))},render(){const{visible:e,message:t,action:n,onCloseButtonClick:r,closeButton:i=!0}=this.props;return o.a.createElement(s.a,{className:"wgsa-toast-container",transitionName:"wgsa-toast",transitionEnterTimeout:280,transitionLeaveTimeout:280},e&&o.a.createElement("aside",{className:"wgsa-toast",key:t},o.a.createElement("span",{className:"wgsa-toast__message"},t),n&&o.a.createElement("button",{ref:"actionButton",onClick:()=>{n.onClick(),r()},className:"wgsa-toast__action mdl-button"},n.label),i&&o.a.createElement("button",{ref:"closeButton",onClick:r,className:"wgsa-toast__dismiss mdl-button mdl-button--icon"},o.a.createElement("i",{className:"material-icons"},"close"))))}});var c=Object(i.a)((function({toast:e}){return e}),(function(e){return{onCloseButtonClick:()=>e(d())}}))(l);n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return c}));function u(e){return{type:"TOAST_SHOW",payload:e}}function d(){return{type:"TOAST_HIDE"}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return d}));var r=n(54);const o="ACTIVATE_FILTER";function i(e,t=r.a.VISIBILITY){return{type:o,payload:{ids:new Set(e),key:t}}}const a="APPEND_TO_FILTER";const s="REMOVE_FROM_FILTER";const l="RESET_FILTER";function c(e=r.a.VISIBILITY){return{type:l,payload:{key:e}}}const u="CLEAR_FILTERS";function d(){return{type:u,payload:{}}}},function(e,t,n){"use strict";n(961);var r=n(141),o=n(154),i=n(0),a=n.n(i),s=n(3),l=n(4),c=n.n(l),u=n(2);const d=Object(u.createSelector)(o.getFilter,e=>e.sort),h=(e,t)=>{const n=d(e,t);return n&&0===n.indexOf(t.sortKey)},p=Object(u.createSelector)(d,(e="")=>"-"!==e.slice(-1)),f=({className:e,onClick:t,children:n,active:r,sortOrder:o})=>a.a.createElement("button",{onClick:e=>{e.preventDefault(),t(!r||!o)},className:c()(e,{active:r})},n,r&&a.a.createElement("i",{className:"material-icons"},o?"arrow_drop_up":"arrow_drop_down"));f.propTypes={stateKey:a.a.PropTypes.string.isRequired,sortKey:a.a.PropTypes.string.isRequired,sortOrder:a.a.PropTypes.bool,onClick:a.a.PropTypes.func};var m=Object(s.a)((function(e,t){return{active:h(e,t),sortOrder:p(e,t)}}),(function(e,{sortKey:t,update:n}){return{onClick:r=>{e(n({sort:`${t}${r?"":"-"}`}))}}}))(f);n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return o.isActive}))},function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";var r=n(292),o="object"==typeof self&&self&&self.Object===Object&&self,i=r.a||o||Function("return this")();t.a=i},function(e,t,n){"use strict";n(999);var r=n(17),o=n.n(r),i=n(0),a=n.n(i),s=n(4),l=n.n(s),c=n(1),u=n.n(c),d=n(91);const h=({className:e,active:t,...n})=>a.a.createElement(d.a,o()({},n,{className:l()("libmr-ControlsButton",{active:t},e)}));h.propTypes={...d.a.props,active:u.a.bool};var p=h;n.d(t,"a",(function(){return p}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(6),o=n(10);encodeURIComponent,Object(r.c)("/download/file");function i(e,t=""){return e.isClusterView?`pathogenwatch-${t}`:["pathogenwatch",o.b.nickname,e.uuid,t].join("-")}},function(e,t,n){"use strict";n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return m}));var r=n(88),o=n(65),i=n(18),a=n(14),s=n(31);function l(e){return o.b.update(r.b,e)}function c(){return Object(a.a)(i.h,s.a)}function u(e,t=!0){return n=>{n(t?l(e):o.b.setFilter(r.b,e));const a=Object.keys(e);1===a.length&&"sort"===a[0]?n(Object(i.e)()):n(c())}}function d(){return(e,t)=>{e(o.b.clear(r.b));const n=Object(s.a)(t());return e(Object(i.h)(n))}}const h="GENOMES_FILTER_OPENED";function p(){return{type:h}}const f="GENOMES_FILTER_SUMMARY_LIST";function m(e,t){return{type:f,payload:{filterKey:e,text:t}}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));const r="SET_HIGHLIGHT";function o(e,t){return{type:r,payload:{ids:e,append:t}}}const i="REMOVE_FROM_HIGHLIGHT";function a(e){return{type:i,payload:{ids:e}}}const s="CLEAR_HIGHLIGHT";function l(){return{type:s,payload:{}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c}));function r(){return localforage.getItem("offline-collections").then(e=>e||[]).then(e=>e.map(e=>({...e,token:e.token||e.slug})))}function o(e){return localforage.setItem("offline-collections",e)}function i(e){return r().then(t=>t.concat({token:e.token,size:e.size,title:e.title,description:e.description,createdAt:e.createdAt,organismId:e.organismId})).then(o)}function a(){return"caches"in window&&"serviceWorker"in navigator}function s(){return!navigator.onLine}function l(e){return`wgsa-collection-${e}`}function c(e){return Promise.all([r().then(t=>t.filter(t=>t.token!==e)).then(o),caches.delete(l(e))])}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(2),o=n(34),i=n(110);const a=e=>Object(o.d)(e).entities,s=e=>Object.keys(a(e)).length>0,l=Object(r.createSelector)(o.d,({visible:e,entities:t})=>e?t[e]:null),c=(Object(r.createSelector)(l,e=>!!e.newick),Object(r.createSelector)(a,e=>Object.keys(e).filter(e=>!i.b.has(e)))),u=(Object(r.createSelector)(e=>Object(o.d)(e).selectedInternalNode,({trees:e,active:t})=>e[t]),Object(r.createSelector)(a,e=>{for(const t of Object.keys(e))if("READY"!==e[t].status)return!1;return!0})),d=Object(r.createSelector)(o.b,a,(e,t)=>{const n=[];for(const r of Object.keys(e).sort())r in t&&"READY"===t[r].status&&n.push([r,e[r]]);return n})},function(e,t,n){var r=n(321)();r.helpers=n(32),n(325)(r),r.defaults=n(49),r.Element=n(121),r.elements=n(152),r.Interaction=n(311),r.platform=n(312),n(332)(r),n(334)(r),n(380)(r),n(404)(r),n(408)(r),n(409)(r),n(410)(r),n(411)(r),n(412)(r),n(413)(r),n(415)(r),n(416)(r),n(417)(r),n(420)(r),n(444)(r),n(445)(r),n(446)(r),n(472)(r),n(492)(r),n(502)(r),n(510)(r),n(511)(r),n(513)(r),n(514)(r),n(515)(r),n(536)(r),n(644)(r),n(647)(r);var o=[];o.push(n(659)(r),n(660)(r),n(661)(r)),r.plugins.register(o),r.platform.initialize(),e.exports=r,"undefined"!=typeof window&&(window.Chart=r),r.canvasHelpers=r.helpers.canvas},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(14),o=n(223);const i=Object(r.b)("FETCH_COLLECTION_SUMMARY");function a(e){return{type:i,payload:{promise:o.c(e)}}}const s=Object(r.b)("FETCH_COLLECTIONS");function l(e){return{type:s,payload:{promise:o.b(e)}}}},function(e,t,n){"use strict";var r=n(67).a.Symbol;t.a=r},function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(599),o=n(245);function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=o({arrayFormat:"none"},t)),r=Object.create(null);return"string"!=typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),o=t.shift(),i=t.length>0?t.join("="):void 0;i=void 0===i?null:decodeURIComponent(i),n(decodeURIComponent(o),i,r)})),Object.keys(r).sort().reduce((function(e,t){var n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(n):e[t]=n,e}),Object.create(null))):r},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[i(t,e),"[",r,"]"].join(""):[i(t,e),"[",i(r,e),"]=",i(n,e)].join("")};case"bracket":return function(t,n){return null===n?i(t,e):[i(t,e),"[]=",i(n,e)].join("")};default:return function(t,n){return null===n?i(t,e):[i(t,e),"=",i(n,e)].join("")}}}(t=o({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var o=e[r];if(void 0===o)return"";if(null===o)return i(r,t);if(Array.isArray(o)){var a=[];return o.slice().forEach((function(e){void 0!==e&&a.push(n(r,e,a.length))})),a.join("&")}return i(r,t)+"="+i(o,t)})).filter((function(e){return e.length>0})).join("&"):""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d}));var r=n(58),o=n(40),i=n(90);function a(e){const t=new Set,n=new Set,r=new Set;return e.forEach(e=>{e.userDefined&&Object.keys(e.userDefined).filter(e=>e.length&&!/__colou?r$/.test(e)).forEach(e=>n.add(e)),e.year&&t.add("__date"),e.pmid&&r.add("__pmid")}),{leading:t,userDefined:n,trailing:r}}function s(e){return Array.from(e).map(e=>({columnKey:e,valueGetter:t=>Object(r.c)(e,t)}))}function l(e){return[o.d,o.c,o.e].concat(Array.from(e).map(e=>i.a[e]))}function c(e){return Array.from(e).map(e=>i.a[e]).concat([o.f])}let u={};function d(){u={}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return p})),n.d(t,"c",(function(){return f})),n.d(t,"g",(function(){return m}));var r=n(2),o=n(43),i=n.n(o),a=n(65),s=n(10),l=n(150);const c=e=>a.d.getFilter(e,{stateKey:l.b}),u=e=>a.d.isActive(e,{stateKey:l.b}),d=e=>c(e).prefilter,h=e=>c(e).sort,p=Object(r.createSelector)(c,({searchText:e})=>e||""),f=Object(r.createSelector)(({collections:e})=>e.summary,c,({loading:e,visible:t,organismId:n,access:r={},publicationYear:o,createdAt:a},l)=>({loading:e,visible:t,organism:i()(Object.keys(n).map(e=>{const t=s.d.get(e);return{value:e,label:t.formattedName,title:t.name,count:n[e].count,active:l.organismId===e}}),"title"),access:i()(Object.keys(r).map(e=>({value:e,label:`${e[0].toUpperCase()}${e.slice(1)}`,count:r[e].count,active:l.access===e})),"label"),publicationYear:i()(Object.keys(o).map(e=>({value:e,label:e,count:o[e].count,active:l.publicationYear===e})),"label"),date:a.min&&a.max?{bounds:[a.min,a.max],values:[l.minDate,l.maxDate]}:null})),m=e=>(({collections:e})=>e.filter)(e).isOpen},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));const r=window.URL||window.webkitURL;let o={};function i(e,t){o[e]=t}function a(e){o[e]=void 0}function s(e,t,n=!0){if("function"==typeof o[e])return Promise.resolve(t).then(o[e]).then(o=>{if(n){const[,n]=e.split("-");!function(e,t,n){let o=e;"svg"===n?o=r.createObjectURL(new Blob([e],{type:"image/svg+xml"})):"nwk"===n&&(o=r.createObjectURL(new Blob([e],{type:"text/plain"})));const i=document.createElement("a");void 0!==i.download?(i.download=`${t}.${n}`,i.href=o,document.body.appendChild(i),i.click(),document.body.removeChild(i)):document.location.href="png"===n?o.replace("data:image/png","image/octet-stream"):o}(o,t,n)}return o});throw new Error(`Invalid export type: ${e}`)}},function(e,t,n){"use strict";n.r(t),n.d(t,"MAP_STORE_BOUNDS",(function(){return r})),n.d(t,"storeBounds",(function(){return o})),n.d(t,"MAP_LASSO_CHANGE",(function(){return i})),n.d(t,"changeLassoPath",(function(){return a})),n.d(t,"MAP_VIEW_BY_COUNTRY",(function(){return s})),n.d(t,"viewByCountry",(function(){return l})),n.d(t,"MAP_MARKER_SIZE_CHANGED",(function(){return c})),n.d(t,"markerSizeChanged",(function(){return u}));const r="MAP_STORE_BOUNDS";function o(e,t){return{type:r,payload:{stateKey:e,bounds:t}}}const i="MAP_LASSO_CHANGE";function a(e,t){return{type:i,payload:{stateKey:e,path:t}}}const s="MAP_VIEW_BY_COUNTRY";function l(e,t){return{type:s,payload:{stateKey:e,active:t}}}const c="MAP_MARKER_SIZE_CHANGED";function u(e,t){return{type:c,payload:{stateKey:e,size:t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(14),o=n(171);const i=Object(r.b)("UPLOAD_FETCH_GENOMES");function a(e){return{type:i,payload:{uploadedAt:e,promise:o.a(e)}}}const s="UPLOAD_RESET";function l(){return{type:s}}},function(e,t,n){"use strict";e.exports=n(0)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r=e=>40===e.length;function o(e,t){return e.map(({hits:e})=>e.length?e.map(e=>t&&r(e)?`(${e.slice(0,t)})`:e).join(","):"?").join("_")}},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u}));var r=n(14),o=n(264);const i="SET_TREE";function a(e){return{type:i,payload:{name:e}}}const s=Object(r.b)("FETCH_TREE");function l(e,t){return{type:s,payload:{stateKey:e,promise:t}}}const c=Object(r.b)("FETCH_TREE_POSITION");function u(e,t){return{type:c,payload:{stateKey:e,promise:o.a(t)}}}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function l(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,r){return St(e,t,n,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){if(null==e._isValid){var t=p(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),o=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(o=o&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return o;e._isValid=o}return e._isValid}function m(e){var t=h(NaN);return null!=e?d(p(t),e):p(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function v(e,t){var n,r,o;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)a(o=t[r=g[n]])||(e[r]=o);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,r.updateOffset(this),y=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&a++;return a+i}function E(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,O={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),O[e]||(E(t),O[e]=!0)}function M(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&i(e[n])&&(r[n]=d({},r[n]));return r}function L(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var N={};function A(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function I(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)u(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var D={};function j(e,t){D[e]=t}function z(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,B=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,W={},H={};function U(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(H[e]=o),t&&(H[t[0]]=function(){return z(o.apply(this,arguments),t[1],t[2])}),n&&(H[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=V(t,e.localeData()),W[t]=W[t]||function(e){var t,n,r,o=e.match(F);for(t=0,n=o.length;t<n;t++)H[o[t]]?o[t]=H[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=M(o[r])?o[r].call(t,e):o[r];return i}}(t),W[t](e)):e.localeData().invalidDate()}function V(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(B.lastIndex=0;n>=0&&B.test(e);)e=e.replace(B,r),B.lastIndex=0,n-=1;return e}var Y=/\d/,q=/\d\d/,Z=/\d{3}/,$=/\d{4}/,K=/[+-]?\d{6}/,X=/\d\d?/,Q=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,oe=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,ae=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,le={};function ce(e,t,n){le[e]=M(t)?t:function(e,r){return e&&n?n:t}}function ue(e,t){return u(le,e)?le[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function pe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)he[e[n]]=r}function fe(e,t){pe(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function me(e,t,n){null!=t&&u(he,e)&&he[e](t,n._a,n,e)}function ge(e){return ve(e)?366:365}function ve(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),U(0,["YY",2],0,(function(){return this.year()%100})),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),A("year","y"),j("year",1),ce("Y",oe),ce("YY",X,q),ce("YYYY",te,$),ce("YYYYY",ne,K),ce("YYYYYY",ne,K),pe(["YYYYY","YYYYYY"],0),pe("YYYY",(function(e,t){t[0]=2===e.length?r.parseTwoDigitYear(e):C(e)})),pe("YY",(function(e,t){t[0]=r.parseTwoDigitYear(e)})),pe("Y",(function(e,t){t[0]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var ye,be=_e("FullYear",!0);function _e(e,t){return function(n){return null!=n?(Ce(this,e,n),r.updateOffset(this,t),this):we(this,e)}}function we(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ce(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ve(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Se(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Se(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?ve(e)?29:28:31-r%7%2}ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",(function(){return this.month()+1})),U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),U("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),A("month","M"),j("month",8),ce("M",X),ce("MM",X,q),ce("MMM",(function(e,t){return t.monthsShortRegex(e)})),ce("MMMM",(function(e,t){return t.monthsRegex(e)})),pe(["M","MM"],(function(e,t){t[1]=C(e)-1})),pe(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:p(n).invalidMonth=e}));var Ee=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,xe="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ke="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Oe(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=h([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,a))?o:null:-1!==(o=ye.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=ye.call(this._shortMonthsParse,a))?o:-1!==(o=ye.call(this._longMonthsParse,a))?o:null:-1!==(o=ye.call(this._longMonthsParse,a))?o:-1!==(o=ye.call(this._shortMonthsParse,a))?o:null}function Te(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Se(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Me(e){return null!=e?(Te(this,e),r.updateOffset(this,!0),this):we(this,"Month")}var Pe=se,Le=se;function Ne(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=h([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=de(r[t]),o[t]=de(o[t]);for(t=0;t<24;t++)i[t]=de(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Ae(e,t,n,r,o,i,a){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,r,o,i,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,r,o,i,a),s}function Ie(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Re(e,t,n){var r=7+t-n;return-(7+Ie(e,0,r).getUTCDay()-t)%7+r-1}function De(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+Re(e,r,o);return s<=0?a=ge(i=e-1)+s:s>ge(e)?(i=e+1,a=s-ge(e)):(i=e,a=s),{year:i,dayOfYear:a}}function je(e,t,n){var r,o,i=Re(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+ze(o=e.year()-1,t,n):a>ze(e.year(),t,n)?(r=a-ze(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function ze(e,t,n){var r=Re(e,t,n),o=Re(e+1,t,n);return(ge(e)-r+o)/7}function Fe(e,t){return e.slice(t,7).concat(e.slice(0,t))}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),j("week",5),j("isoWeek",5),ce("w",X),ce("ww",X,q),ce("W",X),ce("WW",X,q),fe(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=C(e)})),U("d",0,"do","day"),U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),ce("d",X),ce("e",X),ce("E",X),ce("dd",(function(e,t){return t.weekdaysMinRegex(e)})),ce("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),ce("dddd",(function(e,t){return t.weekdaysRegex(e)})),fe(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:p(n).invalidWeekday=e})),fe(["d","e","E"],(function(e,t,n,r){t[r]=C(e)}));var Be="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),He="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function Ue(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=h([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=ye.call(this._weekdaysParse,a))?o:-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:-1!==(o=ye.call(this._weekdaysParse,a))?o:-1!==(o=ye.call(this._minWeekdaysParse,a))?o:null:-1!==(o=ye.call(this._minWeekdaysParse,a))?o:-1!==(o=ye.call(this._weekdaysParse,a))?o:-1!==(o=ye.call(this._shortWeekdaysParse,a))?o:null}var Ge=se,Ve=se,Ye=se;function qe(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),l.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=de(s[t]),l[t]=de(l[t]),c[t]=de(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ze(){return this.hours()%12||12}function $e(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function Ke(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Ze),U("k",["kk",2],0,(function(){return this.hours()||24})),U("hmm",0,0,(function(){return""+Ze.apply(this)+z(this.minutes(),2)})),U("hmmss",0,0,(function(){return""+Ze.apply(this)+z(this.minutes(),2)+z(this.seconds(),2)})),U("Hmm",0,0,(function(){return""+this.hours()+z(this.minutes(),2)})),U("Hmmss",0,0,(function(){return""+this.hours()+z(this.minutes(),2)+z(this.seconds(),2)})),$e("a",!0),$e("A",!1),A("hour","h"),j("hour",13),ce("a",Ke),ce("A",Ke),ce("H",X),ce("h",X),ce("k",X),ce("HH",X,q),ce("hh",X,q),ce("kk",X,q),ce("hmm",Q),ce("hmmss",J),ce("Hmm",Q),ce("Hmmss",J),pe(["H","HH"],3),pe(["k","kk"],(function(e,t,n){var r=C(e);t[3]=24===r?0:r})),pe(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),pe(["h","hh"],(function(e,t,n){t[3]=C(e),p(n).bigHour=!0})),pe("hmm",(function(e,t,n){var r=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r)),p(n).bigHour=!0})),pe("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r,2)),t[5]=C(e.substr(o)),p(n).bigHour=!0})),pe("Hmm",(function(e,t,n){var r=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r))})),pe("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r,2)),t[5]=C(e.substr(o))}));var Xe,Qe=_e("Hours",!0),Je={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:xe,monthsShort:ke,week:{dow:0,doy:6},weekdays:Be,weekdaysMin:He,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},et={},tt={};function nt(e){return e?e.toLowerCase().replace("_","-"):e}function rt(t){var n=null;if(!et[t]&&void 0!==e&&e&&e.exports)try{n=Xe._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),ot(n)}catch(e){}return et[t]}function ot(e,t){var n;return e&&((n=a(t)?at(e):it(e,t))?Xe=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Xe._abbr}function it(e,t){if(null!==t){var n,r=Je;if(t.abbr=e,null!=et[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=et[e]._config;else if(null!=t.parentLocale)if(null!=et[t.parentLocale])r=et[t.parentLocale]._config;else{if(null==(n=rt(t.parentLocale)))return tt[t.parentLocale]||(tt[t.parentLocale]=[]),tt[t.parentLocale].push({name:e,config:t}),null;r=n._config}return et[e]=new L(P(r,t)),tt[e]&&tt[e].forEach((function(e){it(e.name,e.config)})),ot(e),et[e]}return delete et[e],null}function at(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Xe;if(!o(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=nt(e[i]).split("-")).length,n=(n=nt(e[i+1]))?n.split("-"):null;t>0;){if(r=rt(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(o,n,!0)>=t-1)break;t--}i++}return Xe}(e)}function st(e){var t,n=e._a;return n&&-2===p(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>Se(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,p(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),p(e)._overflowWeeks&&-1===t&&(t=7),p(e)._overflowWeekday&&-1===t&&(t=8),p(e).overflow=t),e}function lt(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,o,i,a,s=[];if(!e._d){for(o=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,a=4,n=lt(t.GG,e._a[0],je(Et(),1,4).year),r=lt(t.W,1),((o=lt(t.E,1))<1||o>7)&&(l=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var c=je(Et(),i,a);n=lt(t.gg,e._a[0],c.year),r=lt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i}r<1||r>ze(n,i,a)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(s=De(n,r,o,i,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(a=lt(e._a[0],o[0]),(e._dayOfYear>ge(a)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),n=Ie(a,0,e._dayOfYear),e._a[1]=n.getUTCMonth(),e._a[2]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=o[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ie:Ae).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(p(e).weekdayMismatch=!0)}}var ut=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,pt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ft=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],mt=/^\/?Date\((\-?\d+)/i;function gt(e){var t,n,r,o,i,a,s=e._i,l=ut.exec(s)||dt.exec(s);if(l){for(p(e).iso=!0,t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[1])){o=pt[t][0],r=!1!==pt[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=ft.length;t<n;t++)if(ft[t][1].exec(l[3])){i=(l[2]||" ")+ft[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!ht.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),wt(e)}else e._isValid=!1}var vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function yt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var bt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function _t(e){var t,n,r,o,i,a,s,l=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var c=(t=l[4],n=l[3],r=l[2],o=l[5],i=l[6],a=l[7],s=[yt(t),ke.indexOf(n),parseInt(r,10),parseInt(o,10),parseInt(i,10)],a&&s.push(parseInt(a,10)),s);if(!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(n).weekdayMismatch=!0,n._isValid=!1,!1)}(l[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return bt[e];if(t)return 0;var r=parseInt(n,10),o=r%100;return(r-o)/100*60+o}(l[8],l[9],l[10]),e._d=Ie.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function wt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],p(e).empty=!0;var t,n,o,i,a,s=""+e._i,l=s.length,c=0;for(o=V(e._f,e._locale).match(F)||[],t=0;t<o.length;t++)i=o[t],(n=(s.match(ue(i,e))||[])[0])&&((a=s.substr(0,s.indexOf(n))).length>0&&p(e).unusedInput.push(a),s=s.slice(s.indexOf(n)+n.length),c+=n.length),H[i]?(n?p(e).empty=!1:p(e).unusedTokens.push(i),me(i,n,e)):e._strict&&!n&&p(e).unusedTokens.push(i);p(e).charsLeftOver=l-c,s.length>0&&p(e).unusedInput.push(s),e._a[3]<=12&&!0===p(e).bigHour&&e._a[3]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),ct(e),st(e)}else _t(e);else gt(e)}function Ct(e){var t=e._i,n=e._f;return e._locale=e._locale||at(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(st(t)):(l(t)?e._d=t:o(n)?function(e){var t,n,r,o,i;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],wt(t),f(t)&&(i+=p(t).charsLeftOver,i+=10*p(t).unusedTokens.length,p(t).score=i,(null==r||i<r)&&(r=i,n=t));d(e,n||t)}(e):n?wt(e):function(e){var t=e._i;a(t)?e._d=new Date(r.now()):l(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=mt.exec(e._i);null===t?(gt(e),!1===e._isValid&&(delete e._isValid,_t(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):o(t)?(e._a=c(t.slice(0),(function(e){return parseInt(e,10)})),ct(e)):i(t)?function(e){if(!e._d){var t=R(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),ct(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function St(e,t,n,r,a){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=r,(s=new b(st(Ct(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Et(e,t,n,r){return St(e,t,n,r,!1)}r.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var xt=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),kt=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Et.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Ot(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Et();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var Tt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=R(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===ye.call(Tt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<Tt.length;++r)if(e[Tt[r]]){if(n)return!1;parseFloat(e[Tt[r]])!==C(e[Tt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=at(),this._bubble()}function Pt(e){return e instanceof Mt}function Lt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Nt(e,t){U(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+z(~~(e/60),2)+t+z(~~e%60,2)}))}Nt("Z",":"),Nt("ZZ",""),ce("Z",ae),ce("ZZ",ae),pe(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=It(ae,e)}));var At=/([\+\-]|\d\d)/gi;function It(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(At)||["-",0,0],o=60*r[1]+C(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Rt(e,t){var n,o;return t._isUTC?(n=t.clone(),o=(_(e)||l(e)?e.valueOf():Et(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+o),r.updateOffset(n,!1),n):Et(e).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function jt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var zt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Bt(e,t){var n,r,o,i,a,l,c=e,d=null;return Pt(e)?c={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(c={},t?c[t]=e:c.milliseconds=e):(d=zt.exec(e))?(n="-"===d[1]?-1:1,c={y:0,d:C(d[2])*n,h:C(d[3])*n,m:C(d[4])*n,s:C(d[5])*n,ms:C(Lt(1e3*d[6]))*n}):(d=Ft.exec(e))?(n="-"===d[1]?-1:1,c={y:Wt(d[2],n),M:Wt(d[3],n),w:Wt(d[4],n),d:Wt(d[5],n),h:Wt(d[6],n),m:Wt(d[7],n),s:Wt(d[8],n)}):null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(i=Et(c.from),a=Et(c.to),o=i.isValid()&&a.isValid()?(a=Rt(a,i),i.isBefore(a)?l=Ht(i,a):((l=Ht(a,i)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(c={}).ms=o.milliseconds,c.M=o.months),r=new Mt(c),Pt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function Wt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ut(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Gt(this,Bt(n="string"==typeof n?+n:n,r),e),this}}function Gt(e,t,n,o){var i=t._milliseconds,a=Lt(t._days),s=Lt(t._months);e.isValid()&&(o=null==o||o,s&&Te(e,we(e,"Month")+s*n),a&&Ce(e,"Date",we(e,"Date")+a*n),i&&e._d.setTime(e._d.valueOf()+i*n),o&&r.updateOffset(e,a||s))}Bt.fn=Mt.prototype,Bt.invalid=function(){return Bt(NaN)};var Vt=Ut(1,"add"),Yt=Ut(-1,"subtract");function qt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Zt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=at(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $t=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Kt(){return this._locale}function Xt(e,t){return(e%t+t)%t}function Qt(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-126227808e5:new Date(e,t,n).valueOf()}function Jt(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-126227808e5:Date.UTC(e,t,n)}function en(e,t){U(0,[e,e.length],0,t)}function tn(e,t,n,r,o){var i;return null==e?je(this,r,o).year:(t>(i=ze(e,r,o))&&(t=i),nn.call(this,e,t,n,r,o))}function nn(e,t,n,r,o){var i=De(e,t,n,r,o),a=Ie(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}U(0,["gg",2],0,(function(){return this.weekYear()%100})),U(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),en("gggg","weekYear"),en("ggggg","weekYear"),en("GGGG","isoWeekYear"),en("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),ce("G",oe),ce("g",oe),ce("GG",X,q),ce("gg",X,q),ce("GGGG",te,$),ce("gggg",te,$),ce("GGGGG",ne,K),ce("ggggg",ne,K),fe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=C(e)})),fe(["gg","GG"],(function(e,t,n,o){t[o]=r.parseTwoDigitYear(e)})),U("Q",0,"Qo","quarter"),A("quarter","Q"),j("quarter",7),ce("Q",Y),pe("Q",(function(e,t){t[1]=3*(C(e)-1)})),U("D",["DD",2],"Do","date"),A("date","D"),j("date",9),ce("D",X),ce("DD",X,q),ce("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),pe(["D","DD"],2),pe("Do",(function(e,t){t[2]=C(e.match(X)[0])}));var rn=_e("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),j("dayOfYear",4),ce("DDD",ee),ce("DDDD",Z),pe(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=C(e)})),U("m",["mm",2],0,"minute"),A("minute","m"),j("minute",14),ce("m",X),ce("mm",X,q),pe(["m","mm"],4);var on=_e("Minutes",!1);U("s",["ss",2],0,"second"),A("second","s"),j("second",15),ce("s",X),ce("ss",X,q),pe(["s","ss"],5);var an,sn=_e("Seconds",!1);for(U("S",0,0,(function(){return~~(this.millisecond()/100)})),U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),U(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),U(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),U(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),U(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),U(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),A("millisecond","ms"),j("millisecond",16),ce("S",ee,Y),ce("SS",ee,q),ce("SSS",ee,Z),an="SSSS";an.length<=9;an+="S")ce(an,re);function ln(e,t){t[6]=C(1e3*("0."+e))}for(an="S";an.length<=9;an+="S")pe(an,ln);var cn=_e("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var un=b.prototype;function dn(e){return e}un.add=Vt,un.calendar=function(e,t){var n=e||Et(),o=Rt(n,this).startOf("day"),i=r.calendarFormat(this,o)||"sameElse",a=t&&(M(t[i])?t[i].call(this,n):t[i]);return this.format(a||this.localeData().calendar(i,this,Et(n)))},un.clone=function(){return new b(this)},un.diff=function(e,t,n){var r,o,i;if(!this.isValid())return NaN;if(!(r=Rt(e,this)).isValid())return NaN;switch(o=6e4*(r.utcOffset()-this.utcOffset()),t=I(t)){case"year":i=qt(this,r)/12;break;case"month":i=qt(this,r);break;case"quarter":i=qt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-o)/864e5;break;case"week":i=(this-r-o)/6048e5;break;default:i=this-r}return n?i:w(i)},un.endOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Jt:Qt;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Xt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Xt(t,1e3)-1}return this._d.setTime(t),r.updateOffset(this,!0),this},un.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)},un.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Et(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.fromNow=function(e){return this.from(Et(),e)},un.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||Et(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},un.toNow=function(e){return this.to(Et(),e)},un.get=function(e){return M(this[e=I(e)])?this[e]():this},un.invalidAt=function(){return p(this).overflow},un.isAfter=function(e,t){var n=_(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},un.isBefore=function(e,t){var n=_(e)?e:Et(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},un.isBetween=function(e,t,n,r){var o=_(e)?e:Et(e),i=_(t)?t:Et(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&("("===(r=r||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===r[1]?this.isBefore(i,n):!this.isAfter(i,n))},un.isSame=function(e,t){var n,r=_(e)?e:Et(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},un.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},un.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},un.isValid=function(){return f(this)},un.lang=$t,un.locale=Zt,un.localeData=Kt,un.max=kt,un.min=xt,un.parsingFlags=function(){return d({},p(this))},un.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:D[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=R(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(M(this[e=I(e)]))return this[e](t);return this},un.startOf=function(e){var t;if(void 0===(e=I(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?Jt:Qt;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Xt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Xt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Xt(t,1e3)}return this._d.setTime(t),r.updateOffset(this,!0),this},un.subtract=Yt,un.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},un.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},un.toDate=function(){return new Date(this.valueOf())},un.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?G(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):M(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",G(n,"Z")):G(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},un.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},un.toJSON=function(){return this.isValid()?this.toISOString():null},un.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},un.unix=function(){return Math.floor(this.valueOf()/1e3)},un.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},un.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},un.year=be,un.isLeapYear=function(){return ve(this.year())},un.weekYear=function(e){return tn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},un.isoWeekYear=function(e){return tn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},un.quarter=un.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},un.month=Me,un.daysInMonth=function(){return Se(this.year(),this.month())},un.week=un.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},un.isoWeek=un.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},un.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},un.isoWeeksInYear=function(){return ze(this.year(),1,4)},un.date=rn,un.day=un.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},un.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},un.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},un.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},un.hour=un.hours=Qe,un.minute=un.minutes=on,un.second=un.seconds=sn,un.millisecond=un.milliseconds=cn,un.utcOffset=function(e,t,n){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=It(ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(o=Dt(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Gt(this,Bt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Dt(this)},un.utc=function(e){return this.utcOffset(0,e)},un.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this},un.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=It(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},un.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Et(e).utcOffset():0,(this.utcOffset()-e)%60==0)},un.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},un.isLocal=function(){return!!this.isValid()&&!this._isUTC},un.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},un.isUtc=jt,un.isUTC=jt,un.zoneAbbr=function(){return this._isUTC?"UTC":""},un.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},un.dates=x("dates accessor is deprecated. Use date instead.",rn),un.months=x("months accessor is deprecated. Use month instead",Me),un.years=x("years accessor is deprecated. Use year instead",be),un.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),un.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Ct(e))._a){var t=e._isUTC?h(e._a):Et(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var hn=L.prototype;function pn(e,t,n,r){var o=at(),i=h().set(r,t);return o[n](i,e)}function fn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return pn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=pn(e,r,n,"month");return o}function mn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var o,i=at(),a=e?i._week.dow:0;if(null!=n)return pn(t,(n+a)%7,r,"day");var l=[];for(o=0;o<7;o++)l[o]=pn(t,(o+a)%7,r,"day");return l}hn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return M(r)?r.call(t,n):r},hn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},hn.invalidDate=function(){return this._invalidDate},hn.ordinal=function(e){return this._ordinal.replace("%d",e)},hn.preparse=dn,hn.postformat=dn,hn.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return M(o)?o(e,t,n,r):o.replace(/%d/i,e)},hn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return M(n)?n(t):n.replace(/%s/i,t)},hn.set=function(e){var t,n;for(n in e)M(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ee).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},hn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ee.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hn.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return Oe.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=h([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},hn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ne.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},hn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ne.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Pe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},hn.week=function(e){return je(e,this._week.dow,this._week.doy).week},hn.firstDayOfYear=function(){return this._week.doy},hn.firstDayOfWeek=function(){return this._week.dow},hn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Fe(n,this._week.dow):e?n[e.day()]:n},hn.weekdaysMin=function(e){return!0===e?Fe(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},hn.weekdaysShort=function(e){return!0===e?Fe(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},hn.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return Ue.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=h([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},hn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ge),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},hn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ve),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},hn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ot("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=x("moment.lang is deprecated. Use moment.locale instead.",ot),r.langData=x("moment.langData is deprecated. Use moment.localeData instead.",at);var gn=Math.abs;function vn(e,t,n,r){var o=Bt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function bn(e){return 4800*e/146097}function _n(e){return 146097*e/4800}function wn(e){return function(){return this.as(e)}}var Cn=wn("ms"),Sn=wn("s"),En=wn("m"),xn=wn("h"),kn=wn("d"),On=wn("w"),Tn=wn("M"),Mn=wn("Q"),Pn=wn("y");function Ln(e){return function(){return this.isValid()?this._data[e]:NaN}}var Nn=Ln("milliseconds"),An=Ln("seconds"),In=Ln("minutes"),Rn=Ln("hours"),Dn=Ln("days"),jn=Ln("months"),zn=Ln("years"),Fn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,M:11};function Wn(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var Hn=Math.abs;function Un(e){return(e>0)-(e<0)||+e}function Gn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Hn(this._milliseconds)/1e3,r=Hn(this._days),o=Hn(this._months);e=w(n/60),t=w(e/60),n%=60,e%=60;var i=w(o/12),a=o%=12,s=r,l=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var h=d<0?"-":"",p=Un(this._months)!==Un(d)?"-":"",f=Un(this._days)!==Un(d)?"-":"",m=Un(this._milliseconds)!==Un(d)?"-":"";return h+"P"+(i?p+i+"Y":"")+(a?p+a+"M":"")+(s?f+s+"D":"")+(l||c||u?"T":"")+(l?m+l+"H":"")+(c?m+c+"M":"")+(u?m+u+"S":"")}var Vn=Mt.prototype;return Vn.isValid=function(){return this._isValid},Vn.abs=function(){var e=this._data;return this._milliseconds=gn(this._milliseconds),this._days=gn(this._days),this._months=gn(this._months),e.milliseconds=gn(e.milliseconds),e.seconds=gn(e.seconds),e.minutes=gn(e.minutes),e.hours=gn(e.hours),e.months=gn(e.months),e.years=gn(e.years),this},Vn.add=function(e,t){return vn(this,e,t,1)},Vn.subtract=function(e,t){return vn(this,e,t,-1)},Vn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+bn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(_n(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Vn.asMilliseconds=Cn,Vn.asSeconds=Sn,Vn.asMinutes=En,Vn.asHours=xn,Vn.asDays=kn,Vn.asWeeks=On,Vn.asMonths=Tn,Vn.asQuarters=Mn,Vn.asYears=Pn,Vn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Vn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,l=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*yn(_n(s)+a),a=0,s=0),l.milliseconds=i%1e3,e=w(i/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,a+=w(n/24),o=w(bn(a)),s+=o,a-=yn(_n(o)),r=w(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Vn.clone=function(){return Bt(this)},Vn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Vn.milliseconds=Nn,Vn.seconds=An,Vn.minutes=In,Vn.hours=Rn,Vn.days=Dn,Vn.weeks=function(){return w(this.days()/7)},Vn.months=jn,Vn.years=zn,Vn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Bt(e).abs(),o=Fn(r.as("s")),i=Fn(r.as("m")),a=Fn(r.as("h")),s=Fn(r.as("d")),l=Fn(r.as("M")),c=Fn(r.as("y")),u=o<=Bn.ss&&["s",o]||o<Bn.s&&["ss",o]||i<=1&&["m"]||i<Bn.m&&["mm",i]||a<=1&&["h"]||a<Bn.h&&["hh",a]||s<=1&&["d"]||s<Bn.d&&["dd",s]||l<=1&&["M"]||l<Bn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,Wn.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Vn.toISOString=Gn,Vn.toString=Gn,Vn.toJSON=Gn,Vn.locale=Zt,Vn.localeData=Kt,Vn.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),Vn.lang=$t,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ce("x",oe),ce("X",/[+-]?\d+(\.\d{1,3})?/),pe("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),pe("x",(function(e,t,n){n._d=new Date(C(e))})),r.version="2.24.0",t=Et,r.fn=un,r.min=function(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)},r.max=function(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)},r.now=function(){return Date.now?Date.now():+new Date},r.utc=h,r.unix=function(e){return Et(1e3*e)},r.months=function(e,t){return fn(e,t,"months")},r.isDate=l,r.locale=ot,r.invalid=m,r.duration=Bt,r.isMoment=_,r.weekdays=function(e,t,n){return mn(e,t,n,"weekdays")},r.parseZone=function(){return Et.apply(null,arguments).parseZone()},r.localeData=at,r.isDuration=Pt,r.monthsShort=function(e,t){return fn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return mn(e,t,n,"weekdaysMin")},r.defineLocale=it,r.updateLocale=function(e,t){if(null!=t){var n,r,o=Je;null!=(r=rt(e))&&(o=r._config),t=P(o,t),(n=new L(t)).parentLocale=et[e],et[e]=n,ot(e)}else null!=et[e]&&(null!=et[e].parentLocale?et[e]=et[e].parentLocale:null!=et[e]&&delete et[e]);return et[e]},r.locales=function(){return k(et)},r.weekdaysShort=function(e,t,n){return mn(e,t,n,"weekdaysShort")},r.normalizeUnits=I,r.relativeTimeRounding=function(e){return void 0===e?Fn:"function"==typeof e&&(Fn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Bn[e]&&(void 0===t?Bn[e]:(Bn[e]=t,"s"===e&&(Bn.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=un,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(197)(e))},function(e,t,n){"use strict";var r=n(228),o=n(0),i=n.n(o),a=n(3),s=n(41),l=n(288),c=n(161),u=n(285),d=n(89),h=n(17),p=n.n(h),f=n(232),m=({autoSelect:e=!0,disabled:t=!1,listFilterActive:n,summary:r,children:o,...a})=>i.a.createElement(f.a,p()({},a,{autoSelect:e&&!n,disabled:t&&!n,summary:r}),0===r.length&&n?i.a.createElement("p",null,"No matches"):o),g=n(31),v=n(70);var y=Object(a.a)((function(e,{filterKey:t}){return{value:Object(g.c)(e)[t]}}),(function(e,{filterKey:t,summary:n}){return{onChange:n=>e(Object(v.e)(t,n.target.value)),onSubmit:r=>{r.preventDefault(),1===n.length&&e(Object(v.g)({[t]:n[0].value}))}}}))(({filterKey:e,heading:t,isOpen:n,onChange:r,onSubmit:o,value:a})=>{const s=i.a.createRef();i.a.useEffect(()=>{componentHandler.upgradeElement(s.current.parentElement)},[]),i.a.useEffect(()=>{const e=s.current;n?(e.parentElement.MaterialTextfield.checkDirty(),e.focus()):(e.value=null,e.parentElement.MaterialTextfield.checkDirty())},[n]);const l=`${e}-filter`;return i.a.createElement("form",{action:"#",onClick:n?e=>e.stopPropagation():null,onSubmit:o,autoComplete:"off",autoCorrect:"off"},i.a.createElement("div",{className:"mdl-textfield mdl-js-textfield"},i.a.createElement("input",{className:"mdl-textfield__input",readOnly:!n,id:l,onChange:r,onFocus:()=>{a&&a.length&&s.current.setSelectionRange(a.length,a.length)},ref:s,tabIndex:n?void 0:"-1",title:t,type:"text",value:a}),i.a.createElement("label",{className:"mdl-textfield__label",htmlFor:l},t)))});var b=Object(a.a)((function(e,{filterKey:t}){const n=Object(g.c)(e);return{listFilterActive:n[t]&&n[t].length}}))(e=>i.a.createElement(m,p()({},e,{headerComponent:y}))),_=n(156),w=n(65);const C=["subspecies","serotype","strain","mlst","mlst2","ngmast","ngstar","genotype","reference"],S=C.concat(["speciesId","klocus","olocus","collection"]),E=C.concat(["klocus","olocus"]);var x=Object(a.a)((function(e){return{filterState:g.a(e,{stateKey:r.b}),filterSummary:g.b(e,{stateKey:r.b}),isActive:w.d.isActive(e,{stateKey:r.b}),isOpen:g.g(e),listFilters:g.c(e),prefilter:g.d(e),textValue:g.e(e)}}),(function(e){return{clearFilter:()=>e(v.d()),updateFilterValue:(t,n)=>e(v.h({[t]:n})),applyFilter:()=>e(v.c()),updateFilter:(t,n)=>e(v.g({[t]:n})),clearDependants:(t,n)=>(r,o)=>{const i={[r]:o};for(const[e,r]of Object.entries(t))n.includes(e)&&(i[e]=r);e(v.g(i))}}}))(({applyFilter:e,clearFilter:t,filterSummary:n,filterState:r,isActive:o,prefilter:a,textValue:h,updateFilter:p,updateFilterValue:f,clearDependants:m})=>{return i.a.createElement(l.a,{active:o,clear:t,prefilter:a,summary:n,textOnChange:e=>f("searchText",e),textOnChangeEffect:e,textValue:h,updateFilter:p},i.a.createElement(b,{autoSelect:!1,disabled:!n.organismId.length,disabledText:"No supported organisms in current filter.",filterKey:"organismId",heading:"Supported organism",hidden:!n.visible,icon:"bug_report",updateFilter:m(r,S)}),i.a.createElement(b,{filterKey:"collection",heading:"Collection",icon:"collections",renderLabel:({label:e})=>i.a.createElement(_.a,null,e),updateFilter:m(r,E)}),i.a.createElement(b,{filterKey:"genusId",heading:"Genus",icon:"bug_report",hidden:r.organismId,renderLabel:({label:e})=>i.a.createElement("em",null,e),updateFilter:m(r,S)}),i.a.createElement(b,{disabled:!n.speciesId.length,disabledText:"Select a genus to filter by species.",filterKey:"speciesId",heading:"Species",hidden:!n.genusId.length||r.organismId,icon:"bug_report",renderLabel:({label:e})=>i.a.createElement("em",null,e),updateFilter:m(r,C)}),i.a.createElement(b,{filterKey:"subspecies",heading:"Subspecies",hidden:!n.speciesId.length||r.organismId,icon:"bug_report",renderLabel:({value:e})=>i.a.createElement(i.a.Fragment,null,"subsp. ",i.a.createElement("em",null,e)),updateFilter:m(r,["serotype"])}),i.a.createElement(b,{filterKey:"serotype",heading:(g=r.genusId,"590"===g?"Serovar":"Serotype"),hidden:r.organismId,icon:"bug_report",renderLabel:({value:e})=>`ser. ${e}`}),i.a.createElement(b,{filterKey:"strain",heading:"Strain",icon:"scatter_plot"}),i.a.createElement(b,{filterKey:"mlst",heading:`MLST - ${n.sources.mlst}`,icon:"label",renderLabel:({active:e,value:t})=>i.a.createElement(i.a.Fragment,null,e&&(n.mlst2.length?`${n.sources.mlst}:`:"MLST:")," ST ",i.a.createElement(d.b,{id:t}))}),i.a.createElement(b,{filterKey:"mlst2",heading:`MLST - ${n.sources.mlst2}`,icon:"label",renderLabel:({active:e,value:t})=>i.a.createElement(i.a.Fragment,null,e&&(n.mlst.length?`${n.sources.mlst2}:`:"MLST:")," ST ",i.a.createElement(d.b,{id:t}))}),i.a.createElement(b,{filterKey:"ngstar",heading:"NG-STAR",icon:"label",renderLabel:({active:e,value:t})=>i.a.createElement(i.a.Fragment,null,e?"NG-STAR: ST":"ST"," ",i.a.createElement(d.b,{id:t}))}),i.a.createElement(b,{filterKey:"ngmast",heading:"NG-MAST",icon:"label",renderLabel:({active:e,value:t})=>i.a.createElement(i.a.Fragment,null,e?"NG-MAST: ST":"ST"," ",i.a.createElement(d.b,{id:t}))}),i.a.createElement(b,{filterKey:"genotype",heading:"Genotype",icon:"label",renderLabel:({value:e,active:t})=>t?`Genotype ${e}`:e}),i.a.createElement(b,{filterKey:"klocus",heading:"K Locus",icon:"label"}),i.a.createElement(b,{filterKey:"olocus",heading:"O Locus",icon:"label"}),i.a.createElement(b,{filterKey:"reference",heading:"PW Reference",icon:"book"}),i.a.createElement(b,{filterKey:"resistance",heading:"Resistance",icon:"local_pharmacy"}),i.a.createElement(b,{filterKey:"country",heading:"Country",icon:"language"}),i.a.createElement(u.a,{summary:n.date}),i.a.createElement(c.a,{filterKey:"access",headerComponent:({heading:e})=>i.a.createElement("span",null,e),heading:"Access",icon:"person"}),i.a.createElement(b,{autoSelect:1===n.access.length,filterKey:"uploadedAt",heading:"Uploaded at",icon:"cloud_upload"}),i.a.createElement(s.b,{update:p}));var g});n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return x}))},function(e,t,n){"use strict";n(959);var r=n(188);n.d(t,"b",(function(){return r.a}));var o=n(234);n.d(t,"a",(function(){return o.a}));n(189);var i=n(85);n.d(t,"c",(function(){return i.b}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),o=n.n(r),i=n(188),a=n(189),s=n(85),l=n(58),c=n(79);const u={__date:{columnKey:"__date",valueGetter:e=>Object(l.b)(e)},__pmid:{columnKey:"__pmid",valueGetter:({pmid:e})=>e,getCellContents({valueGetter:e},t){const n=e(t);return n?o.a.createElement("a",{href:`http://www.ncbi.nlm.nih.gov/pubmed/${n}`,target:"_blank",rel:"noopener",title:"View publication",style:{color:"#369"},onClick:e=>e.stopPropagation()},n):null}},__reference:{columnKey:"__reference",valueGetter:({analysis:e})=>e.core&&e.core.fp?e.core.fp.reference:null},__mlst:{columnKey:"__mlst",label:"ST",get displayName(){return c.f.mlst?`MLST ST (${c.f.mlst})`:"MLST ST"},valueGetter({analysis:e}){if(!e.mlst)return null;const{st:t}=e.mlst;return Object(s.b)(t)?`*${t.slice(0,4)}`:t},display:({analysis:e})=>e.mlst?o.a.createElement(i.a,{id:e.mlst.st}):null},__mlst_profile:{columnKey:"__mlst_profile",label:"PROFILE",get displayName(){return c.f.mlst?`MLST PROFILE (${c.f.mlst})`:"MLST PROFILE"},valueGetter:({analysis:e})=>e.mlst?Object(s.a)(e.mlst.alleles,4):null,display:({analysis:e})=>e.mlst?o.a.createElement(a.a,{alleles:e.mlst.alleles}):null},__mlst2:{columnKey:"__mlst2",label:"ST",get displayName(){return c.f.mlst2?`MLST ST (${c.f.mlst2})`:"MLST ST"},valueGetter({analysis:e}){if(!e.mlst2)return null;const{st:t}=e.mlst2;return Object(s.b)(t)?`*${t.slice(0,4)}`:t},display:({analysis:e})=>e.mlst2?o.a.createElement(i.a,{id:e.mlst2.st}):null},__mlst2_profile:{columnKey:"__mlst2_profile",label:"PROFILE",get displayName(){return c.f.mlst2?`MLST PROFILE (${c.f.mlst2})`:"MLST PROFILE"},valueGetter:({analysis:e})=>e.mlst2?Object(s.a)(e.mlst2.alleles,4):null,display:({analysis:e})=>e.mlst2?o.a.createElement(a.a,{alleles:e.mlst2.alleles}):null},__ngstar:{columnKey:"__ngstar",label:"TYPE",get displayName(){return"NG-STAR TYPE"},valueGetter({analysis:e}){if(!e.ngstar)return null;const{st:t}=e.ngstar;return Object(s.b)(t)?`*${t.slice(0,4)}`:t},display:({analysis:e})=>e.ngstar?o.a.createElement(i.a,{id:e.ngstar.st}):null},__ngstar_profile:{columnKey:"__ngstar_profile",label:"PROFILE",get displayName(){return"NG-STAR PROFILE"},valueGetter:({analysis:e})=>e.ngstar?Object(s.a)(e.ngstar.alleles,4):null,display:({analysis:e})=>e.ngstar?o.a.createElement(a.a,{alleles:e.ngstar.alleles}):null},__inc_types:{columnKey:"__inc_types",displayName:"Inc Types",valueGetter:({analysis:e})=>e.inctyper?0===Object.keys(e.inctyper).length&&e.inctyper.constructor===Object?null:Object.values(e.inctyper["Inc Matches"].reduce((e,t)=>(e.hasOwnProperty(t.Contig)||(e[t.Contig]=[]),e[t.Contig].push(t),e),{})).map(t=>t.map(t=>"gram_negative"===e.inctyper.Library?t["Inc Match"].replace(/_\d+$/,""):t.Group).sort().join("--")).sort().join("; "):null},__Virulence_Score:{columnKey:"__Virulence_Score",displayName:"Virulence Score",label:"Virulence Score",valueGetter:({analysis:e})=>e.kleborate?`${e.kleborate.virulence_score}`:null},__K_locus:{columnKey:"__K_locus",displayName:"K LOCUS (wzi)",label:"K LOCUS (wzi)",valueGetter:({analysis:e})=>e.kleborate?`${e.kleborate.typing.K_locus} (${e.kleborate.typing.wzi})`:null},__O_locus:{columnKey:"__O_locus",valueGetter:({analysis:e})=>e.kleborate?e.kleborate.typing.O_locus:null},__Aerobactin:{columnKey:"__Aerobactin",displayName:"AEROBACTIN (AbST)",label:"AEROBACTIN (AbST)",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.Aerobactin?null:`${e.kleborate.virulence.Aerobactin} (${e.kleborate.virulence.AbST})`:null},__Colibactin:{columnKey:"__Colibactin",displayName:"COLIBACTIN (CbST)",label:"COLIBACTIN (CbST)",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.Colibactin?null:`${e.kleborate.virulence.Colibactin} (${e.kleborate.virulence.CbST})`:null},__Salmochelin:{columnKey:"__Salmochelin",displayName:"SALMOCHELIN (SmST)",label:"SALMOCHELIN (SmST)",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.Salmochelin?null:`${e.kleborate.virulence.Salmochelin} (${e.kleborate.virulence.SmST})`:null},__Yersiniabactin:{columnKey:"__Yersiniabactin",displayName:"YERSINIABACTIN (YbST)",label:"YERSINIABACTIN (YbST)",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.Yersiniabactin?null:`${e.kleborate.virulence.Yersiniabactin} (${e.kleborate.virulence.YbST})`:null},__RmpADC:{columnKey:"__RmpADC",displayName:"RmpADC",label:"RmpADC",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.virulence.RmpADC?null:e.kleborate.virulence.RmpADC:null},__rmpA2:{columnKey:"__rmpA2",displayName:"rmpA2",label:"rmpA2",valueGetter:({analysis:e})=>e.kleborate?"-"===e.kleborate.virulence.rmpA2?null:e.kleborate.virulence.rmpA2:null},"__ng-mast":{columnKey:"__ng-mast",displayName:"NG-MAST TYPE",valueGetter:({analysis:e})=>e.ngmast?e.ngmast.ngmast:null},__por:{columnKey:"__por",displayName:"NG-MAST POR",valueGetter:({analysis:e})=>e.ngmast?e.ngmast.por:null},__tbpb:{columnKey:"__tbpb",displayName:"NG-MAST TBPB",valueGetter:({analysis:e})=>e.ngmast?e.ngmast.tbpb:null},__genotyphi_type:{columnKey:"__genotyphi_type",label:"GENOTYPE",displayName:"GENOTYPHI GENOTYPE",valueGetter:({analysis:e})=>e.genotyphi?e.genotyphi.genotype:null},__genotyphi_snps:{columnKey:"__genotyphi_snps",label:"SNPs",valueGetter:({analysis:e})=>e.genotyphi?e.genotyphi.snps:null},__genotyphi_snps_called:{columnKey:"__genotyphi_snps_called",label:"SNPs CALLED",displayName:"GENOTYPHI SNPs CALLED",valueGetter:({analysis:e})=>e.genotyphi?e.genotyphi.foundLoci:null,numeric:!0},__vista_biotype:{columnKey:"__vista_biotype",label:"BIOTYPE",displayName:"V. CHOLERAE BIOTYPE",valueGetter:({analysis:e})=>e.vista?e.vista.biotype:null},__vista_serogroup:{columnKey:"__vista_serogroup",label:"SEROGROUP",displayName:"V. CHOLERAE SEROGROUP",valueGetter:({analysis:e})=>e.vista?e.vista.serogroup:null},__core_matches:{columnKey:"__core_matches",valueGetter:({analysis:e})=>e.core&&e.core.summary?e.core.summary.kernelSize:null,numeric:!0},"__%_core_families":{columnKey:"__%_core_families",valueGetter:({analysis:e})=>e.core&&e.core.summary?e.core.summary.percentKernelMatched:null,numeric:!0},"__%_non-core":{columnKey:"__%_non-core",valueGetter({analysis:e}){const{core:t={}}=e;return t.summary&&t.summary.percentAssemblyMatched?(100-t.summary.percentAssemblyMatched).toFixed(1):null},numeric:!0},__genome_length:{columnKey:"__genome_length",valueGetter:({analysis:e})=>e.metrics?e.metrics.length:null,numeric:!0},__n50:{columnKey:"__n50",valueGetter:({analysis:e})=>e.metrics?e.metrics.N50:null,numeric:!0},"__no._contigs":{columnKey:"__no._contigs",valueGetter:({analysis:e})=>e.metrics?e.metrics.contigs:null,numeric:!0},"__non-ATCG":{columnKey:"__non-ATCG",valueGetter:({analysis:e})=>e.metrics?e.metrics.nonATCG:null,numeric:!0},"__%_GC_Content":{columnKey:"__%_GC_Content",label:"% GC CONTENT",valueGetter:({analysis:e})=>e.metrics?e.metrics.gcContent:null,numeric:!0}}},function(e,t,n){"use strict";n(984);var r=n(0),o=n.n(r),i=n(4),a=n.n(i),s=n(1),l=n.n(s);const c=o.a.forwardRef(({children:e,className:t,onClick:n,title:r},i)=>o.a.createElement("button",{className:a()("mdc-icon-button",t),onClick:n,ref:i,title:r},e));c.propTypes={children:l.a.node,className:l.a.string,onClick:l.a.func,title:l.a.string};var u=c;n.d(t,"a",(function(){return u}))},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(341)("wks"),o=n(270),i=n(92).Symbol,a="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=a&&i[e]||(a?i:o)("Symbol."+e))}).store=r},function(e,t,n){"use strict";var r=n(0),o=n(382);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r={RECOVERY:1,PROGRESS:2},o={READS:"reads",ASSEMBLY:"assembly"}},function(e,t,n){"use strict";n(965);var r=n(0),o=n.n(r),i=n(4),a=n.n(i),s=n(236);var l=({className:e,children:t,tooltip:n,title:r,icon:i,fadeOverflow:l})=>o.a.createElement("div",{className:a()(e,"wgsa-card-metadata",{"wgsa-overflow-fade":l}),title:n},function(e,t){return e?"wgsa_genome"===e?o.a.createElement(s.a,{title:t,viewBox:"4 4 60 60"}):o.a.createElement("i",{title:t,className:"material-icons"},e):null}(i,r),t),c=({className:e,children:t})=>o.a.createElement("article",{className:a()("wgsa-card",e)},t);n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={UNSAVED:0,SAVING:1,SAVED:2,ERRORED:3}},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(2);const o=e=>e.summary,i=Object(r.createSelector)(o,e=>{const t={};for(const[n,r]of Object.entries(e))t[n]=Number(r).toLocaleString();return t}),a=({summary:e})=>new Set(e.deployedOrganisms)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c}));var r=n(2);const o={center:[0,0],zoom:1};function i(e,{stateKey:t}){return e.maps[t]||{}}const a=Object(r.createSelector)(i,({bounds:e=o})=>e),s=Object(r.createSelector)(i,({lassoPath:e})=>e),l=Object(r.createSelector)(i,({viewByCountry:e=!1})=>e),c=Object(r.createSelector)(i,({markerSize:e=1})=>e)},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"h",(function(){return g}));var r=n(2),o=n(59),i=n(16);const a=({upload:e})=>e.progress.assembly,s=e=>a(e).status,l=e=>a(e).loaded,c=e=>s(e).pending,u=Object(r.createSelector)(o.d,s,e=>a(e).tick,({reads:e,assemblies:t},{runningSince:n=[],failed:r=0,complete:o=0},a=Date.now())=>{if(0===e)return null;const s=e+t;let l=0;for(const e of n){l+=(a-1e3*e)/18e5*(100/s)}const c=n.length>0?Math.max(Math.min(99,l),1):0,u=(o+t)/s*100,d=r/s*100,h=c*((100-u-d)/100);return{label:"Assembly progress",data:[u,d,h,100-u-d-h],backgroundColor:["#3c7383",i.c.DANGER_COLOUR,"#ac65a6","rgba(0, 0, 0, .14)"],labels:["Assembled","Failed","Assembling","Remaining"],tooltips:[`${o+t} / ${s}, ${u.toFixed(1)}%`,`${r} / ${s}`,`${n.length} / ${s}, ${c.toFixed(1)}%`,`${s-n.length-r-o} / ${s}`],parents:[],total:100}}),d=Object(r.createSelector)(s,({runningSince:e=[]})=>e.length>0),h=Object(r.createSelector)(o.c,s,(e,{complete:t=0,failed:n=0})=>({total:e,complete:t,failed:n,done:t+n,pending:e-n-t})),p=Object(r.createSelector)(h,o.b,({pending:e},t)=>e-t>0),f=Object(r.createSelector)(e=>a(e).errors,o.e,(e,t)=>{const n=[];for(const[r,o]of Object.entries(e))r in t&&n.push({name:t[r].name,message:o});return n}),m=Object(r.createSelector)(f,e=>e.length),g=Object(r.createSelector)(p,s,m,(e,{failed:t=0},n)=>!!e||t>0&&n<t)},function(e,t,n){"use strict";n(981);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n.n(s),c=n(488),u=n.n(c),d=n(213);const h={down:"top",up:"bottom"};function p({top:e=0,height:t=0},n,r){return{maxHeight:"up"===r?`${e-40}px`:`calc(100vh - ${e+t+40}px)`,transformOrigin:`${h[r]} ${n}`}}class f extends o.a.Component{constructor(e){super(e),this.handleOutClick=e=>{const{current:t}=this.buttonRef;t&&t.contains(e.target)||this.props.toggle()},this.handleKeyUp=e=>{27===e.keyCode&&this.props.toggle()},this.buttonRef=o.a.createRef()}render(){const{align:e="left",button:t,caret:n=!1,children:r,className:i,direction:a="down",header:s,open:c=!1,style:h,toggle:f,toggleOnClick:m=!0}=this.props,g=this.el?this.el.getBoundingClientRect():{},{height:v=0}=g;return o.a.createElement("div",{className:l()("libmr-Menu",{open:c,caret:n},i),onKeyUp:c?e=>this.handleKeyUp(e):null,ref:e=>{this.el=e},style:h,tabIndex:"-1"},o.a.cloneElement(t,{ref:this.buttonRef,onClick:f,open:c}),o.a.createElement(u.a,{className:"libmr-RelativePortal",component:"div",right:"right"===e?0:void 0,bottom:"up"===a?v:void 0,onOutClick:c?e=>this.handleOutClick(e):null},o.a.createElement(d.a,{visible:c,removeOnLeave:!0,motionName:"libmr"},t=>o.a.createElement("div",{className:l()("libmr-Menu-element",e,a,{caret:n},i,t.className),style:p(g,e,a),tabIndex:"-1"},s,o.a.createElement("div",{className:"libmr-Menu-content",onClick:m?f:null},r)))))}}f.propTypes={active:a.a.bool,align:a.a.oneOf(["left","right"]),button:a.a.node,caret:a.a.bool,children:a.a.node,className:a.a.string,direction:a.a.oneOf(["up","down"]),header:a.a.node,open:a.a.bool,style:a.a.object,toggle:a.a.func,toggleOnClick:a.a.bool};var m=f;n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return m}));const g=e=>t=>{const[n,r]=o.a.useState(!1);return o.a.createElement(e,{...t,open:n,toggle:()=>r(!n)})}},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=3)}([function(e,t,n){e.exports=n(1),e.exports.parse_nhx=n(2)},function(e,t){e.exports.parse_newick=function(e){for(var t=[],n={},r=e.split(/\s*(;|\(|\)|,|:)\s*/),o=0;o<r.length;o++){var i=r[o];switch(i){case"(":var a={};n.children=[a],t.push(n),n=a;break;case",":a={},t[t.length-1].children.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:var s=r[o-1];")"==s||"("==s||","==s?n.name=i:":"==s&&(n.branch_length=parseFloat(i))}}return n},e.exports.parse_json=function(e){return function e(t){var n="";if(t.hasOwnProperty("children")){var r=[];t.children.forEach((function(t){var n=e(t);r.push(n)}));var o=r.join();t.hasOwnProperty("name")&&(n="("+o+")"+t.name),t.hasOwnProperty("branch_length")&&(n=n+":"+t.branch_length)}else{var i="";t.hasOwnProperty("name")&&(i=t.name),t.hasOwnProperty("branch_length")&&(i=i+":"+t.branch_length),n+=i}return n}(e)+";"}},function(e,t){e.exports=parse_nhx=function(e){for(var t=[],n={},r=e.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/),o=0;o<r.length;o++){var i=r[o];switch(i){case"(":var a={};n.children=[a],t.push(n),n=a;break;case",":a={},t[t.length-1].children.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:var s=r[o-1];if(")"==s||"("==s||","==s)n.name=i;else if(":"==s)isNaN(i)||(n.branch_length=parseFloat(i));else if("="==s)switch(r[o-2]){case"D":n.duplication=i;break;case"G":n.gene_id=i;break;case"T":n.taxon_id=i}}}return n}},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"Angles",(function(){return o})),n.d(r,"TreeTypes",(function(){return i})),n.d(r,"EmptyArray",(function(){return a}));var o={Degrees0:0,Degrees45:.25*Math.PI,Degrees90:.5*Math.PI,Degrees180:Math.PI,Degrees270:1.5*Math.PI,Degrees360:2*Math.PI},i={Radial:"rd",Rectangular:"rc",Circular:"cr",Diagonal:"dg",Hierarchical:"hr"},a=[],s={alignLabels:!1,branchScale:null,collapsedIds:a,fillStyle:"#222",fontFamily:"serif",fontSize:16,fontWeight:"normal",haloRadius:12,haloStyle:"#3C7383",haloWidth:4,highlightedId:null,highlightedStyle:"#3C7383",internalNodeStyle:{shape:"none"},labelThreshold:8,leafNodeStyle:{shape:"circle"},lineWidth:1,nodeSize:14,nodesPowRatio:.5,padding:32,renderInternalLabels:!1,renderLabels:!0,renderLeafLabels:!0,rootId:null,rotatedIds:a,selectableInternalNodes:!0,selectableLeafNodes:!0,selectedIds:a,showLabels:!1,showNodes:!0,stepScale:8,strokeStyle:"#222",styleLeafLabels:!1,styleNodeLines:!1,styles:{},type:i.Rectangular,zoomFactor:3};function l(e,t){var n=this[e];this[e]=function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];return t.call(this,n.bind(this),r)}}var c=function(e,t){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var s=i.value;if("function"!=typeof s)throw new Error("Invalid plugin provided.");s.call(e,e,l.bind(e),s.options)}}catch(e){r=!0,o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}},u=function(e,t,n){var r=e.state.zoomFactor;return 0===n?t:Math.pow(10,Math.log(t)/Math.log(10)+n*r*.01)},d=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(n){var r=e.indexOf(t);if(-1===r)return e.concat(t);var o=e.concat();return o.splice(r,1),o}return[t]},h={rd:{alignableLabels:!1,branchScalingAxis:"xy",drawLine:function(e,t,n){e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath()},getBranchScale:function(e){var t=function(e){return Math.min(e.ctx.canvas.width,e.ctx.canvas.height)}(e)/2,n=e.getVirtualTree(),r=n.rootNode.totalLeafLength-n.rootNode.branchLength;return r>0?t/r:r<0?t*r:0},getNodeAtPoint:function(e,t,n,r){for(var o=e.layout(),i=o.rootNode,a=o.postorderTraversal,s=i.postIndex-i.totalNodes+1;s<=i.postIndex;s++){var l=a[s];if(l.parent&&(l.x>l.parent.x?t<l.x&&t>l.parent.x:t<l.parent.x&&t>l.x))if(isNaN(l.slope)){if(l.y>l.parent.y?n<l.y&&n>l.parent.y:n<l.parent.y&&n>l.y)return l}else if(n>l.slope*t+l.intercept-r&&n<l.slope*t+l.intercept+r)return l}return null},layoutNodes:function(e,t){for(var n=0,r=t.rootNode,i=r.postIndex-r.totalNodes+1;i<=r.postIndex;i++){var a=t.postorderTraversal[i];if(a.isLeaf)a.angle=n*(o.Degrees360/r.visibleLeaves);else{var s=0,l=!0,c=!1,u=void 0;try{for(var d,h=a.children[Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var p=d.value;s+=p.angle*p.totalLeaves}}catch(e){c=!0,u=e}finally{try{l||null==h.return||h.return()}finally{if(c)throw u}}a.angle=s/a.totalLeaves}(a.isLeaf&&!a.isHidden||a.isCollapsed&&!a.isHidden)&&(n+=1)}for(var f=r.preIndex;f<r.preIndex+r.totalNodes;f++){var m=t.preorderTraversal[f],g=m.branchLength*e.state.branchScale;m.x=(m!==r?m.parent.x:0)+g*Math.cos(m.angle),m.y=(m!==r?m.parent.y:0)+g*Math.sin(m.angle),m!==r&&(m.slope=(m.parent.y-m.y)/(m.parent.x-m.x),m.intercept=m.y-m.slope*m.x)}}},rc:{alignableLabels:!0,branchScalingAxis:"x",drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},getBranchScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.stepScale,n=e.getVirtualTree(),r=n.rootNode.totalLeaves*t,o=e.ctx.canvas.width/e.ctx.canvas.height*r,i=n.rootNode.totalLeafLength-n.rootNode.branchLength;return 0===i&&e.error(501),o/i},getNodeAtPoint:function(e,t,n,r){for(var o=e.layout(),i=o.rootNode,a=o.postorderTraversal,s=i.postIndex-i.totalNodes+1;s<=i.postIndex;s++){var l=a[s];if(l.parent&&(t<l.x+r&&t>l.parent.x-r&&n<l.y+r&&n>l.y-r||t<l.parent.x+r&&t>l.parent.x-r&&(n<l.parent.y?n>l.y-r:n<l.y+r)))return l}return null},mainAxis:"x",layoutNodes:function(e,t){for(var n=0,r=t.rootNode,i=r.postIndex-r.totalNodes+1;i<=r.postIndex;i++){var a=t.postorderTraversal[i];if(a.angle=o.Degrees0,a.x=a.distanceFromRoot*e.state.branchScale,a.isLeaf)a.y=n*e.state.stepScale;else if(a.isCollapsed)a.y=n*e.state.stepScale;else{var s=a.children[0].y,l=a.children[a.children.length-1].y;a.y=(l+s)/2}(a.isLeaf&&!a.isHidden||a.isCollapsed&&!a.isHidden)&&(n+=1)}},stepScalingAxis:"y"},cr:{alignableLabels:!0,branchScalingAxis:"xy",drawLine:function(e,t,n){var r=t.rootNode,o=n.parent.distanceFromRoot-r.distanceFromRoot;if(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(o*e.state.branchScale*Math.cos(n.angle),o*e.state.branchScale*Math.sin(n.angle)),e.ctx.stroke(),e.ctx.closePath(),n.children&&n.children.length&&!n.isCollapsed){var i=n.children[0].angle,a=n.children[n.children.length-1].angle,s=Math.abs(n.distanceFromRoot-r.distanceFromRoot);e.ctx.beginPath(),e.ctx.arc(0,0,s*e.state.branchScale,i,a,a<i),e.ctx.stroke(),e.ctx.closePath()}},getBranchScale:function(e){var t=function(e){return Math.min(e.ctx.canvas.width,e.ctx.canvas.height)}(e)/2,n=e.getVirtualTree().rootNode;return n.totalLeafLength>0?t/n.totalLeafLength:n.totalLeafLength<0?t*n.totalLeafLength:0},getNodeAtPoint:function(e,t,n,r){for(var o=e.layout(),i=o.rootNode,a=o.postorderTraversal,s=i.postIndex-i.totalNodes+1;s<=i.postIndex;s++){var l=a[s];if(l.parent){var c=l.parent.distanceFromRoot-i.distanceFromRoot,u=c*e.state.branchScale*Math.cos(l.angle);if(l.x>u?t<l.x&&t>u:t<u&&t>l.x)if(isNaN(l.slope)){var d=c*e.state.branchScale*Math.sin(l.angle);if(l.y>d?n<l.y&&n>d:n<d&&n>l.y)return l}else if(n>l.slope*t+l.intercept-r&&n<l.slope*t+l.intercept+r)return l}}return null},layoutNodes:function(e,t){for(var n=0,r=t.rootNode,i=r.postIndex-r.totalNodes+1;i<=r.postIndex;i++){var a=t.postorderTraversal[i];if(a.isLeaf)a.angle=n*(o.Degrees360/t.rootNode.visibleLeaves);else{var s=a.children[0].angle,l=a.children[a.children.length-1].angle;a.angle=(l+s)/2}var c=(a.distanceFromRoot-t.rootNode.distanceFromRoot)*e.state.branchScale;a.x=c*Math.cos(a.angle),a.y=c*Math.sin(a.angle),(a.isLeaf&&!a.isHidden||a.isCollapsed&&!a.isHidden)&&(n+=1),a.parent&&(a.slope=Math.tan(a.angle),a.intercept=a.y-a.slope*a.x)}}},dg:{alignableLabels:!1,getBranchScale:function(e){var t=e.getVirtualTree().rootNode,n=e.ctx.canvas.width-2*e.state.padding;return t.totalLeafLength>0?n/t.totalLeafLength:t.totalLeafLength<0?n*t.totalLeafLength:0},getNodeAtPoint:function(e,t,n,r){for(var o=e.getVirtualTree(),i=o.rootNode,a=o.postorderTraversal,s=i.postIndex-i.totalNodes+1;s<=i.postIndex;s++){var l=a[s];if(l&&l.parent&&t<l.x&&t>l.parent.x&&n>l.slope*t+l.intercept-r&&n<l.slope*t+l.intercept+r)return l}return null},drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},layoutNodes:function(e,t){for(var n=0,r=t.rootNode,i=r.postIndex-r.totalNodes+1;i<=r.postIndex;i++){var a=t.postorderTraversal[i];if(a.angle=o.Degrees0,a.x=(t.rootNode.visibleLeaves-a.visibleLeaves)*e.state.stepScale/2,a.isLeaf)a.y=n*e.state.stepScale;else if(a.isCollapsed)a.y=n*e.state.stepScale;else{var s=a.children[0].y,l=(a.visibleLeaves-a.children[0].visibleLeaves)*e.state.stepScale;a.y=s+l/2}a.isLeaf&&n++}for(var c=r.preIndex;c<r.preIndex+r.totalNodes;c++){var u=t.preorderTraversal[c];u.parent&&(u.slope=(u.parent.y-u.y)/(u.parent.x-u.x),u.intercept=u.y-u.slope*u.x)}},mainAxis:"x",stepScalingAxis:"y"},hr:{alignableLabels:!0,drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.x,n.parent.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},branchScalingAxis:"y",getBranchScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.stepScale,n=e.getVirtualTree(),r=n.rootNode.totalLeaves*t,o=e.ctx.canvas.height/e.ctx.canvas.width*r,i=n.rootNode.totalLeafLength-n.rootNode.branchLength;return 0===i&&e.error(501),o/i},getNodeAtPoint:function(e,t,n,r){for(var o=e.layout(),i=o.rootNode,a=o.preorderTraversal,s=i.preIndex;s<i.preIndex+i.totalNodes;s++){var l=a[s];if(l.parent&&(t<l.x+r&&t>l.x-r&&n<l.y+r&&n>l.parent.y-r||n<l.parent.y+r&&n>l.parent.y-r&&(t<l.parent.x?t>l.x-r:t<l.x+r)))return l}return null},mainAxis:"y",layoutNodes:function(e,t){for(var n=0,r=t.rootNode,i=r.postIndex-r.totalNodes+1;i<=r.postIndex;i++){var a=t.postorderTraversal[i];if(a.angle=o.Degrees90,a.y=a.distanceFromRoot*e.state.branchScale,a.isLeaf)a.x=-1*n*e.state.stepScale;else if(a.isCollapsed)a.x=n*e.state.stepScale;else{var s=a.children[0].x,l=a.children[a.children.length-1].x;a.x=(l+s)/2}(a.isLeaf&&!a.isHidden||a.isCollapsed&&!a.isHidden)&&(n+=1)}},stepScalingAxis:"x"}},p=function(e){return{minScale:e/2,maxScale:Math.max(e,16)}},f=function(e){var t=e.getBounds(!1),n=e.getDrawingArea(),r=t.maxX-t.minX,o=t.maxY-t.minY,i=Math.max(.333*n.width,n.right-n.left-e.state.nodeSize),a=Math.max(.333*n.height,n.bottom-n.top-e.state.nodeSize),s=i/r,l=a/o,c=Math.min(s,l),u=e.state.padding+Math.max(e.state.nodeSize,e.state.fontSize)/2,d=-1*t.minX*c,f=-1*t.minY*c;s>l?(d+=u+(i-r*c)/2,f+=u):s<l?(d+=u,f+=u+(a-o*c)/2):(d+=u,f+=u),void 0===h[e.state.type].mainAxis&&(d+=(n.width-i)/2-u,f+=(n.height-a)/2-u);var m=p(c);return{offsetX:d,offsetY:f,scale:c,minScale:m.minScale,maxScale:m.maxScale}},m=function(e,t,n){var r=d(e.state.collapsedIds,t);return e.chain((function(){return{collapsedIds:r}}),n?f:null)},g=function(e,t){return t/e.state.scale},v={},y=function(e){e.setState(f(e))};function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(e){for(var t=[],n=[e];n.length;){var r=n.shift();t.push(r),Array.isArray(r.children)&&n.unshift.apply(n,w(r.children))}return t}function S(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function E(e){for(var t=[],n=[e];n.length;){var r=n.pop();Array.isArray(r.children)&&n.push.apply(n,S(r.children)),t.push(r)}return t.reverse()}var x=n(0),k=function(e){var t=e;"string"==typeof e&&(t={type:"newick",data:e});var n=t,r=n.type,o=n.data,i=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(n,["type","data"]),a=null;if("newick"===r||void 0===r)a=x.parse_newick(o);else{if("biojs"!==r)throw new Error("Source type is not supported: ".concat(r));a=o}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.trimQuotes,r=void 0===n||n,o=E(e),i=C(e),a=o.every((function(e){return 0===(e.branchLength||e.branch_length||0)}));if(a){e.branchLength=0;for(var s=0;s<i.length;s++){var l=i[s];if(l.children){var c=!0,u=!1,d=void 0;try{for(var h,p=l.children[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value;f.branchLength=l.branchLength+1}}catch(e){u=!0,d=e}finally{try{c||null==p.return||p.return()}finally{if(u)throw d}}}}}for(var m=0;m<o.length;m++){var g=o[m];if(g.postIndex=m,g.isLeaf=!Array.isArray(g.children),g.branchLength=Math.abs(g.branchLength||g.branch_length||0),delete g.branch_length,g.isLeaf&&"string"==typeof g.name&&(g.id=r?g.name.trim().replace(/^['"]|['"]$/g,""):g.name,delete g.name),g.totalNodes=1,g.totalLeaves=1,g.totalLeafLength=g.branchLength,!g.isLeaf){g.totalNodes=1,g.totalLeaves=0;var v=0,y=!0,b=!1,_=void 0;try{for(var w,S=g.children[Symbol.iterator]();!(y=(w=S.next()).done);y=!0){var x=w.value;g.totalNodes+=x.totalNodes,g.totalLeaves+=x.totalLeaves,x.totalLeafLength>v&&(v=x.totalLeafLength),x.parent=g}}catch(e){b=!0,_=e}finally{try{y||null==S.return||S.return()}finally{if(b)throw _}}g.totalLeafLength=g.branchLength+v,g.longestLeaf=v}}for(var k={},O=[],T=0;T<i.length;T++){var M=i[T];M.preIndex=T,M.id||(M.id=T.toString()),k[M.id]=M,M.distanceFromRoot=(M.parent?M.parent.distanceFromRoot:0)+M.branchLength,M.isLeaf&&O.push(M),M.visibleLeaves=M.totalLeaves}return{nodeById:k,rootNode:e,leafNodes:O,postorderTraversal:o,preorderTraversal:i}}(a,i)};function O(e){var t=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/t}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function M(e,t,n){var r=[],o=!0,i=!1,a=void 0;try{for(var s,l=n.children[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value,u=e.splice(t,c.totalNodes);r.push(u)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}for(var d=0,h=r;d<h.length;d++){var p=h[d];e.splice.apply(e,[t,0].concat(T(p)))}}var P=function(e,t,n){var r=t.preorderTraversal,o=t.postorderTraversal;M(r,r.indexOf(n)+1,n);for(var i=0;i<r.length;i++)r[i].preIndex=i;M(o,o.indexOf(n)-n.totalNodes+1,n);for(var a=0;a<o.length;a++)o[a].postIndex=a;n.children.reverse()};function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){var t=E(e),n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.isLeaf)n.push("".concat(l.id,":").concat(l.branchLength));else if(l!==e){var c=n.splice(n.length-l.children.length,l.children.length);n.push("(".concat(c.join(","),"):").concat(l.branchLength))}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return"(".concat(n.join(","),");")}var I=function(e){return{branchScale:h[e.state.type].getBranchScale(e,s.stepScale)}},R=function(e){return{stepScale:s.stepScale}},D=function(e){return e.chain(R,I,f)},j=function(e){return{collapsedIds:a}},z=function(e,t,n){return e.pixelRatio=O(e.ctx),{size:{width:t,height:n}}},F=function(e,t,n){var r=d(e.state.rotatedIds,t);return e.chain((function(){return{rotatedIds:r}}),n?f:null)},B=function(e){return{minScale:f(e).minScale}},W=function(e,t,n){var r=n.x,o=n.y,i=e.state.offsetX,a=e.state.offsetY;if(n){var s=h[e.state.type].branchScalingAxis,l=t/e.state.branchScale;if("x"===s||"xy"===s){var c=e.state.offsetX;i=c+(r-((r-c)*l+c))}if("y"===s||"xy"===s){var u=e.state.offsetY;a=u+(o-((o-u)*l+u))}}return e.chain((function(){return{branchScale:t,offsetX:i,offsetY:a}}),B)};function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var G=function(e){return{rootId:s.rootId}},V=function(e){return{rotatedIds:a}},Y=function(e,t,n){var r=n.x,o=n.y,i=e.state.offsetX,a=e.state.offsetY,s=t/e.state.stepScale;if(n){var l=h[e.state.type].stepScalingAxis;if("x"===l||"xy"===l){var c=e.state.offsetX;i=c+(r-((r-c)*s+c))}if("y"===l||"xy"===l){var u=e.state.offsetY;a=u+(o-((o-u)*s+u))}}return e.chain((function(){return{stepScale:t,offsetX:i,offsetY:a}}),B)};function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=o.x,a=o.y,s=e.state.offsetX+t,l=e.state.offsetY+n;if(0===r)return{offsetX:s,offsetY:l};var c=u(e,e.state.scale,r),d=e.state.scale;return{offsetX:-1*((-1*s+i)/d*c-i),offsetY:-1*((-1*l+a)/d*c-a),scale:c}},$={cache:function(e,t){return e._.cache[t]||(e._.cache[t]=new Map)},chain:function(e){for(var t={},n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(var i=0,a=r;i<a.length;i++){var s=a[i];if("function"==typeof s){var l=s(e);Object.assign(t,l),Object.assign(e.state,l)}}return t},changeBranchScale:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint();e.setBranchScale(u(e,e.state.branchScale,t),n)},changeScale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint();e.transform(0,0,t,n)},changeStepScale:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint();e.setStepScale(u(e,e.state.stepScale,t),n)},collapseNode:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.refit,o=void 0!==r&&r,i=e.getNodeById(t);i&&e.setState(m(e,i.id,o))},destroy:function(e){},drawHighlight:function(e,t){var n=e.ctx,r=e.state,i=e._,a=i.actualNodeSize,l=i.actualHaloWidth;n.lineWidth=l,n.strokeWidth=l,n.strokeStyle=r.haloStyle;var c=a/2,u=g(e,s.nodeSize/2),d=t.isLeaf?r.leafNodeStyle:r.internalNodeStyle,h=(r.styles[t.id]||d).shape,p="none"===(void 0===h?d.shape:h)?1.5*l:c+u+Math.floor(c/u/2);n.beginPath(),n.arc(t.x,t.y,p,0,o.Degrees360,!1),n.closePath(),n.stroke()},drawNode:function(e,t,n){var r=e.ctx,i=e.state;r.translate(n.x,n.y),r.rotate(n.angle);var a=(i.styles?i.styles[n.id]:void 0)||v,s=n.isLeaf?i.leafNodeStyle:i.internalNodeStyle;r.fillStyle=a.fillStyle||i.fillStyle||s.fillStyle,r.strokeStyle=e.state.strokeStyle;var l=e._.actualNodeSize,c=e._.actualNodeSize/2;if(e._.renderShapes){var u=(a?a.shape:void 0)||s.shape;e.drawNodeShape(n,u,l)}if((e.state.showLabels||e._.renderLabels)&&(n.isLeaf&&i.renderLeafLabels||!n.isLeaf&&i.renderInternalLabels)){var d=n.isLeaf&&i.alignLabels&&!1!==h[i.type].alignableLabels?i.branchScale*(t.rootNode.longestLeaf-n.distanceFromRoot):0;if(d>0&&e.state.lineWidth*e.state.scale>1){var p=e.ctx.lineWidth;e.ctx.lineWidth=e.ctx.lineWidth/4,e.ctx.strokeWidth=e.ctx.lineWidth,r.beginPath(),r.moveTo(c,0),r.lineTo(c+d,0),r.stroke(),r.closePath(),e.ctx.lineWidth=p,e.ctx.strokeWidth=e.ctx.lineWidth}var f=(n.isLeaf?2:0)*c+d,m=n.angle>o.Degrees90&&n.angle<o.Degrees270;m&&r.rotate(o.Degrees180),r.textAlign=m?"right":"left";var g=r.font;a.fontStyle&&(r.font="".concat(a.fontStyle," ").concat(e._.actualFontSize,"px ").concat(e.state.fontFamily)),!1===i.styleLeafLabels&&(r.fillStyle=a.labelFillStyle||i.fillStyle||s.fillStyle),r.fillText(e.getLabel(n),m?-f:f,0),r.font=g,m&&r.rotate(-o.Degrees180)}r.rotate(-n.angle),r.translate(-n.x,-n.y)},drawNodeShape:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r/2,a=e.ctx;if(a.beginPath(),"dot"===n)a.arc(0,0,2*a.lineWidth,o.Degrees0,o.Degrees360);else if("circle"===n)a.arc(0,0,i,o.Degrees0,o.Degrees360);else if("square"===n)a.rect(-i,-i,r,r);else if("triangle"===n)a.moveTo(0,-i),a.lineTo(i,i),a.lineTo(-i,i),a.lineTo(0,-i);else if("star"===n){var s=Math.PI/5,l=Math.PI/2*3;a.moveTo(0,-i);for(var c=0;c<5;c++)a.lineTo(Math.cos(l)*i,Math.sin(l)*i),l+=s,a.lineTo(Math.cos(l)*i*.5,Math.sin(l)*i*.5),l+=s;a.lineTo(0,-i)}a.fill(),a.stroke(),a.closePath()},exportPNG:function(e){return e.ctx.canvas.toDataURL()},fitInPanel:y,getBounds:function(e){for(var t=e.state,n=e.layout(),r=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,l=t.type===i.Circular&&t.alignLabels,c=n.rootNode,u=c.preIndex;u<c.preIndex+c.totalNodes;u++){var d=n.preorderTraversal[u],h=d.x,p=d.x,f=d.y,m=d.y;if(d.isLeaf){var g=0;l&&(g+=t.branchScale*(n.rootNode.totalLeafLength-d.distanceFromRoot)),p+=g*Math.cos(d.angle),m+=g*Math.sin(d.angle)}h<r&&(r=h),p<r&&(r=p),h>a&&(a=h),p>a&&(a=p),f<o&&(o=f),m<o&&(o=m),f>s&&(s=f),m>s&&(s=m),d.isCollapsed&&(u+=d.totalNodes-1)}return{minX:r,maxX:a,minY:o,maxY:s}},getCentrePoint:function(e){return{x:e.ctx.canvas.width/2/e.pixelRatio,y:e.ctx.canvas.height/2/e.pixelRatio}},getDrawingArea:function(e){var t=e.state.size.width,n=e.state.size.height,r=e.state.padding;return{width:t,height:n,left:r,top:r,right:t-r,bottom:n-r}},getInitialState:function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{},t)},getLabel:function(e,t){var n=e.state.styles;return t.id in n&&n[t.id].label||t.label||t.id},getLeafIds:function(e,t){for(var n=e.getVirtualTree(),r=e.getNodeById(t||n.rootNode),o=[],i=r.preIndex;i<r.preIndex+r.totalNodes;i++)n.preorderTraversal[i].isLeaf&&o.push(n.preorderTraversal[i].id);return o},getLeafLabels:function(e,t){for(var n=e.getVirtualTree(),r=e.getNodeById(t||n.rootNode),o=[],i=r.preIndex;i<r.preIndex+r.totalNodes;i++){var a=n.preorderTraversal[i];a.isLeaf&&o.push(e.getLabel(a))}return o},getNewick:function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.layout(),o=t?e.getNodeById(t):r.rootNode,i=n.excludeCollapsed,a=void 0===i||i,s=[],l=o.postIndex-o.totalNodes+1;l<o.postIndex;l++){var c=r.postorderTraversal[l];if(c.isLeaf)s.push("".concat(e.getLabel(c),":").concat(c.branchLength));else{var u=s.splice(s.length-c.children.length,c.children.length);a&&c.isCollapsed?s.push("[".concat(c.totalLeaves," hidden ").concat(1===c.totalLeaves?"leaf":"leaves","]:").concat(c.branchLength)):s.push("(".concat(u.join(","),"):").concat(c.branchLength))}}return"(".concat(s.join(","),");")},getNodeAtPoint:function(e,t,n){for(var r=e._.actualNodeSize/2+g(e,3),o=e.layout(),i=o.rootNode,a=i.preIndex;a<i.preIndex+i.totalNodes;a++){var s=o.preorderTraversal[a];if(!s.isHidden&&t>s.x-r&&t<s.x+r&&n>s.y-r&&n<s.y+r)return s}var l=h[e.state.type];return l.getNodeAtPoint?l.getNodeAtPoint(e,t,n,r):null},getNodeById:function(e,t){var n=e.getVirtualTree();if("string"==typeof t){var r=n.nodeById[t];return r||e.error("Cannot find node of ID=",t),r}var o=n.nodeById[t.id];return o&&o===t||e.error("Node not found",t),o},getNodeLabels:function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value,c=e.getNodeById(l);c&&c.isLeaf&&n.push(e.getLabel(c))}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n},getVirtualTree:function(e){var t=e.state,n=void 0===t?{}:t,r=e.cache("virtual");if(r.get("source")!==n.source){var o=performance.now(),i=k(n.source),a=i.nodeById,s=i.rootNode,l=i.leafNodes,c=i.postorderTraversal,u=i.preorderTraversal;e.nodes={nodeById:a,rootNode:s,leafNodes:l,postorderTraversal:c,preorderTraversal:u,source:n.source,originalSource:n.source.original||n.source};var d=performance.now();e.log("parsing virtual tree took ",d-o," milliseconds."),e._.cache={},r=e.cache("virtual")}if((r.get("rootId")||null)!==e.state.rootId){var h=e.nodes.nodeById[e.state.rootId]||e.nodes.preorderTraversal[0],p=[];h.distanceFromRoot=0;for(var f=h.preIndex+1;f<h.preIndex+h.totalNodes;f++){var m=e.nodes.preorderTraversal[f];m.distanceFromRoot=m.parent.distanceFromRoot+m.branchLength,m.isLeaf&&p.push(m)}e.nodes.leafNodes=p,e.nodes.rootNode=h}return r.set("source",n.source),r.set("rootId",e.state.rootId),e.nodes},highlightNode:function(e,t){var n="string"==typeof t?e.getNodeById(t):t,r=n&&!n.isHidden?n.id:null;e._.highlightedId!==r&&(e._.highlightedId=r,e.render())},init:function(e,t){e.state=e.getInitialState(t),e.pixelRatio=O(e.ctx)},layout:function(e){var t=e.state,n=e.getVirtualTree(),r=e.cache("layout");if(isNaN(n.maxLabelWidth)||r.get("styles")!==t.styles){var o="",i=!0,a=!1,s=void 0;try{for(var l,c=n.leafNodes[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=e.getLabel(u);d.length>o.length&&(o=d)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}n.maxLabelWidth=e.measureTextWidth(o)}if(r.get("rotatedIds")!==t.rotatedIds){var p=new Set(t.rotatedIds);if(r.get("rotatedIds")){var f=!0,m=!1,g=void 0;try{for(var v,y=r.get("rotatedIds")[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var b=v.value,_=n.nodeById[b];p.has(_.id)||(P(0,n,_),_.isInverted=!1)}}catch(e){m=!0,g=e}finally{try{f||null==y.return||y.return()}finally{if(m)throw g}}}var w=!0,C=!1,S=void 0;try{for(var E,x=t.rotatedIds[Symbol.iterator]();!(w=(E=x.next()).done);w=!0){var k=E.value,O=n.nodeById[k];O.isInverted||(P(0,n,O),O.isInverted=!0)}}catch(e){C=!0,S=e}finally{try{w||null==x.return||x.return()}finally{if(C)throw S}}}if(r.get("collapsedIds")!==t.collapsedIds){for(var T=new Set(t.collapsedIds),M=0;M<n.postorderTraversal.length;M++){var L=n.preorderTraversal[M];L.isCollapsed=T.has(L.id),L.parent&&(L.parent.isCollapsed||L.parent.isHidden)?L.isHidden=!0:L.isHidden=!1}for(var N=0;N<n.postorderTraversal.length;N++){var A=n.postorderTraversal[N];if(A.isLeaf)A.visibleLeaves=1;else if(A.isCollapsed)A.visibleLeaves=1;else{A.visibleLeaves=0;var I=!0,R=!1,D=void 0;try{for(var j,z=A.children[Symbol.iterator]();!(I=(j=z.next()).done);I=!0){var F=j.value;A.visibleLeaves+=F.visibleLeaves}}catch(e){R=!0,D=e}finally{try{I||null==z.return||z.return()}finally{if(R)throw D}}}}}if(r.get("branchScale")!==t.branchScale||r.get("collapsedIds")!==t.collapsedIds||r.get("rootId")!==t.rootId||r.get("rotatedIds")!==t.rotatedIds||r.get("stepScale")!==t.stepScale||r.get("type")!==t.type){var B=performance.now();h[t.type].layoutNodes(e,n);var W=performance.now();e.log("layout nodes took ",W-B," milliseconds.")}return r.set("branchScale",t.branchScale),r.set("collapsedIds",t.collapsedIds),r.set("rootId",t.rootId),r.set("rotatedIds",t.rotatedIds),r.set("stepScale",t.stepScale),r.set("type",t.type),r.set("styles",t.styles),n},measureTextWidth:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.state.fontWeight,r=e.ctx.font;e.ctx.font="".concat(n," ").concat(e.state.fontSize,"px ").concat(e.state.fontFamily);var o=e.ctx.measureText(t);return e.ctx.font=r,Math.ceil(o.width+e.state.fontSize)},mergeState:function(e,t){e.state=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e.state,{},t)},postRender:function(e,t){for(var n=e.state,r=t.rootNode.preIndex;r<t.rootNode.preIndex+t.rootNode.totalNodes;r++){var o=t.preorderTraversal[r];-1===n.selectedIds.indexOf(o.id)&&o.id!==e._.highlightedId||e.drawHighlight(o),o.isCollapsed&&(r+=o.totalNodes-1)}e.ctx.restore(),e.ctx.canvas.title="",e.ctx.canvas.style&&(e.ctx.canvas.style.cursor=e._.highlightedId?"pointer":"")},preRender:function(e,t){e.ctx.save(),e.ctx.clearRect(0,0,e.ctx.canvas.width,e.ctx.canvas.height),e._.actualMaxLabelWidth=g(e,t.maxLabelWidth),e._.actualFontSize=g(e,e.state.fontSize),e._.actualNodeSize=g(e,e.state.nodeSize),e._.actualHaloRadius=g(e,Math.max(.75*e.state.nodeSize,e.state.haloRadius)),e._.actualHaloWidth=g(e,e.state.haloWidth),e._.renderShapes=e.state.showNodes,e._.renderLabels=e.state.showLabels||e.state.stepScale*e.state.scale>=e.state.labelThreshold,e.ctx.textBaseline="middle",e.ctx.font="".concat(e._.actualFontSize,"px ").concat(e.state.fontFamily),e.ctx.lineWidth=g(e,e.state.lineWidth),e.ctx.strokeWidth=e.ctx.lineWidth,e.ctx.translate(e.state.offsetX*e.pixelRatio,e.state.offsetY*e.pixelRatio),e.ctx.scale(e.state.scale*e.pixelRatio,e.state.scale*e.pixelRatio)},render:function(e){e.resizeCanvas();var t=e.layout(),n=performance.now();if(e.preRender(t),e.state.styleNodeLines){var r=!0,o=!1,i=void 0;try{for(var a,s=t.postorderTraversal[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var l=a.value;if(l.isLeaf){var c=e.state.styles?e.state.styles[l.id]:void 0;l.strokeStyle=(c?c.strokeStyle:void 0)||e.state.strokeStyle}else{l.strokeStyle=l.children[0].strokeStyle;var u=!0,d=!1,p=void 0;try{for(var f,m=l.children[Symbol.iterator]();!(u=(f=m.next()).done);u=!0)if(f.value.strokeStyle!==l.strokeStyle){l.strokeStyle=e.state.strokeStyle;break}}catch(e){d=!0,p=e}finally{try{u||null==m.return||m.return()}finally{if(d)throw p}}}}}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}}for(var g=t.rootNode.preIndex,v=t.rootNode.preIndex+t.rootNode.totalNodes,y=g;y<v;y++){var b=t.preorderTraversal[y];b!==t.rootNode&&(b.id===e._.highlightedId?e.ctx.strokeStyle=e.state.highlightedStyle:e.state.styleNodeLines?e.ctx.strokeStyle=b.strokeStyle:e.ctx.strokeStyle=e.state.strokeStyle,h[e.state.type].drawLine(e,t,b),b.isCollapsed&&(y+=b.totalNodes-1))}for(var _=g;_<v;_++){var w=t.preorderTraversal[_];e.drawNode(t,w),w.isCollapsed&&(_+=w.totalNodes-1)}e.postRender(t);var C=performance.now();e.log("render took ",C-n," milliseconds.")},rerootNode:function(e,t){var n=e.getNodeById(t),r=e.layout();if(n.parent){var o={branchLength:0,children:[]};!function e(t,n,r,o){var i={branchLength:o.branchLength,children:[],parent:r};r.children.push(i);var a=!0,s=!1,l=void 0;try{for(var c,u=o.parent.children[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;d!==o&&i.children.push(d)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}o.parent.parent&&o.parent!==n.rootNode&&e(t,n,i,o.parent)}(e,r,o,n),o.children.push(n);var i={type:"newick",original:e.state.source,data:A(o)};e.setSource(i)}},reset:function(e,t){e.setState(D(e))},resetCollapsedNodes:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.refit,r=void 0!==n&&n;return e.setState(e.chain(j,r?y:null))},resize:function(e,t,n){e.setState(z(e,t,n))},resizeCanvas:function(e){var t=e.state.size,n=t.width,r=t.height;e.ctx.canvas.style&&(e.ctx.canvas.style.width="".concat(n,"px"),e.ctx.canvas.style.height="".concat(r,"px"),e.ctx.canvas.width=n*e.pixelRatio,e.ctx.canvas.height=r*e.pixelRatio)},rotateNode:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.refit,o=void 0!==r&&r,i=e.getNodeById(t);i&&e.setState(F(e,i.id,o))},selectLeafNodes:function(e,t,n){t&&Array.isArray(t)&&e.setState(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=new Set(e.state.selectedIds),o=!0,i=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;r.add(u)}}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}return{selectedIds:Array.from(r)}}return{selectedIds:t.length?t:a}}(e,t,n))},selectNode:function(e,t,n){var r=t?e.getNodeById(t):null;if(r&&r.isLeaf)e.setState(function(e,t,n){return{selectedIds:d(e.state.selectedIds,t,n)}}(e,r.id,n));else if(r){var o=r&&!r.isHidden?e.getLeafIds(r):a;e.setState(function(e,t,n){if(n){var r=new Set(e.state.selectedIds),o=!0,i=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){var c=s.value;r.add(c)}}catch(e){i=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(i)throw a}}return{selectedIds:Array.from(r)}}return{selectedIds:t}}(e,o,n))}else e.setState({selectedIds:a})},setBranchScale:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint(),r=h[e.state.type].branchScalingAxis;r&&t>0&&e.setState(W(e,t,n))},setFontSize:function(e,t){"number"==typeof t?e.setState({fontSize:t}):e.error("Invalid font size value, expected number, got ",H(t))},setNodeSize:function(e,t){"number"==typeof t?e.setState({nodeSize:t}):e.error("Invalid node size value, expected number, got ",U(t))},setRoot:function(e,t){var n=null;null!==t&&(n=e.getNodeById(t)),e.setState(function(e,t){return e.chain((function(){return{rootId:t}}),D)}(e,n?n.id:null))},setScale:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint();if(!(t<=0)){if(n){var r=t/e.state.scale,o=e.state.offsetX;e.state.offsetX=o+(n.x-((n.x-o)*r+o));var i=e.state.offsetY;e.state.offsetY=i+(n.y-((n.y-i)*r+i))}e.state.scale=t,e.render()}},setSource:function(e,t){e.setState(function(e,t){return e.chain((function(){return{source:t}}),G,j,V,D)}(e,t))},setState:function(e,t){t&&(e.mergeState(t),e.render())},setStepScale:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getCentrePoint(),r=h[e.state.type].stepScalingAxis;r&&t>0&&e.setState(Y(e,t,n))},setStyles:function(e,t){"object"===q(t)?e.setState({styles:t}):e.error("Invalid node styles, expected object, got ",q(t))},setTreeType:function(e,t){e.setState(function(e,t){return e.chain((function(){return{type:t}}),D)}(e,t))},toggleAlignLeafLabels:function(e){e.setState({alignLabels:!e.state.alignLabels})},toggleLeafLabels:function(e){e.setState({renderLeafLabels:!e.state.renderLeafLabels})},transform:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.getCentrePoint();0===t&&0===n&&0===r||e.setState(Z(e,t,n,r,o))},trigger:function(e,t,n){var r=e["on".concat(t)];"function"==typeof r&&r.apply(e,n)}},K=function(e){e.error=console.error,e.log=function(){};for(var t=0,n=Object.keys($);t<n.length;t++){var r=n[t];e[r]=$[r].bind(null,e)}};function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{x:(t-e.state.offsetX)/e.state.scale,y:(n-e.state.offsetY)/e.state.scale}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=function(e,t,n,r){var o=e.startPoint,i=e.centrePoint,a=e.endPoint,s=r-2*t,l=(n-2*t)/(a.x-o.x),c=s/(a.y-o.y),u=Math.min(l,c);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){J(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({offsetX:n/2-i.x*u,offsetY:r/2-i.y*u,scale:u},p(u))};function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=function(e,t,n){var r=e.state.size;if(r.width===t&&r.height===n)return{};var o=function(e){var t=e.getDrawingArea(),n=t.width,r=t.height,o=e.getBounds(),i=o.minX,a=o.maxX,s=o.minY,l=o.maxY,c=X(e,e.state.padding,e.state.padding),u=X(e,n-e.state.padding,r-e.state.padding),d=X(e,n/2,r/2);return{startPoint:{x:Math.max(c.x,i),y:Math.max(c.y,s)},endPoint:{x:Math.min(u.x,a),y:Math.min(u.y,l)},centrePoint:d}}(e);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},z(e,t,n),{},ee(o,e.state.padding,t,n))},oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r={canvas:e,ctx:e.getContext("2d"),state:{},_:{cache:{}}};if(K(r),n.length&&c(r,n),r.init(t),t.source){var o=r.ctx.canvas,i=o.width,a=o.height;r.setState(r.chain((function(){return r.state.size?re(r,i,a):z(r,i,a)}),(function(){return{source:t.source}}),(function(){return r.state.rootId?{rootId:r.state.rootId}:G()}),(function(){return r.state.collapsedIds?{collapsedIds:r.state.collapsedIds}:j()}),(function(){return r.state.rotatedIds?{rotatedIds:r.state.rotatedIds}:V()}),(function(){return r.state.stepScale?{stepScale:r.state.stepScale}:R()}),(function(){return r.state.branchScale?{branchScale:r.state.branchScale}:I(r)}),(function(){var e=f(r),t=e.offsetX,n=e.offsetY,o=e.scale,i=e.minScale,a=e.maxScale;return{offsetX:r.state.offsetX||t,offsetY:r.state.offsetY||n,scale:r.state.scale||o,minScale:r.state.minScale||i,maxScale:r.state.maxScale||a}})))}return r},ie={appendToArray:d,getPixelRatio:O,mapPoint:X,mapScalar:g,restoreViewport:ee,unmapPoint:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{x:t*e.state.scale+e.state.offsetX,y:n*e.state.scale+e.state.offsetY}},unmapScalar:function(e,t){return t*e.state.scale}};n.d(t,"constants",(function(){return r})),n.d(t,"defaults",(function(){return s})),n.d(t,"createTree",(function(){return oe})),n.d(t,"methods",(function(){return $})),n.d(t,"types",(function(){return h})),n.d(t,"utils",(function(){return ie})),t.default={constants:r,defaults:s,createTree:oe,methods:$,types:h,utils:ie}}])},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return p}));var r=n(150),o=n(65),i=n(75),a=n(80),s=n(14);function l(e){return o.b.update(r.b,e)}function c(){return Object(s.a)(i.d,a.b)}function u(e,t=!0){return n=>{n(t?l(e):o.b.setFilter(r.b,e)),n(c())}}function d(){return(e,t)=>{e(o.b.clear(r.b));const n=Object(a.b)(t());e(Object(i.d)(n))}}const h="COLLECTIONS_FILTER_OPENED";function p(){return{type:h}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s}));const r={iterationsPerRender:100,worker:!0,barnesHutOptimize:!1},o={edgeColor:"default",labelColor:"node",labelThreshold:0,hideEdgesOnMove:!0},i=1e3,a=10,s=50},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s}));var r=n(2);const o=e=>e.upload,i=e=>o(e).usage,a=(e,t)=>o(e).settings[t],s=Object(r.createSelector)(e=>o(e).previous.uploads,e=>e&&!!e.length&&e.some(e=>e.total!==e.complete))},function(e,t,n){"use strict";var r=n(76),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r.a?r.a.toStringTag:void 0;var l=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o},c=Object.prototype.toString;var u=function(e){return c.call(e)},d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},function(e,t,n){"use strict";function r(e){if("#"===e[0])return function(e){const t=parseInt(e.slice(1),16);return{r:t>>16,g:t>>8&255,b:255&t}}(e);if(e.startsWith("rgba"))return function(e){const[t,n,r,o]=e.slice(5).slice(0,-1).split(",");return{r:parseInt(t,10),g:parseInt(n,10),b:parseInt(r,10),a:parseInt(o,10)}}(e);throw new Error("Colour format not supported")}function o(e,t){let n=e;return n+=t,n>255?n=255:n<0&&(n=0),n}function i(e,t){const n=Math.round(2.55*t),i=r(e);let{r:a,g:s,b:l}=i;a=o(a,n),s=o(s,n),l=o(l,n);const{a:c}=i;return void 0!==c?`rgba(${a}, ${s}, ${l}, ${c})`:`#${(l|s<<8|a<<16).toString(16)}`}function a(e,t){const{r:n,g:o,b:i}=r(e);return`rgba(${n}, ${o}, ${i}, ${t})`}n.d(t,"a",(function(){return l}));const s={primaryColour:"",primaryColourTint:"",primaryColourShade:"",primaryColourAlpha:"",primaryColourAlphaLight:"",primaryColourAlphaMedium:"",primaryColourAlphaDark:""};t.b=s;function l(e){for(const[t,n]of Object.entries(e))s[t]=n,"primaryColour"===t&&(s.primaryColourTint=i(n,10),s.primaryColourShade=i(n,-10),s.primaryColourAlpha=a(n,.14),s.primaryColourAlphaLight=a(n,.14),s.primaryColourAlphaMedium=a(n,.54),s.primaryColourAlphaDark=a(n,.87)),"primaryColourAlpha"===t&&(s.primaryColourAlphaLight=n),"primaryColourAlphaLight"===t&&(s.primaryColourAlpha=n);const t=document.querySelector("#libmr-theme")||document.createElement("style");t.id="libmr-theme",t.type="text/css",t.innerHTML=`\n  :root {\n    --libmr-primary-colour: ${s.primaryColour};\n    --libmr-primary-colour-tint: ${s.primaryColourTint};\n    --libmr-primary-colour-shade: ${s.primaryColourShade};\n    --libmr-primary-colour-alpha: ${s.primaryColourAlphaLight};\n    --libmr-primary-colour-alpha-light: ${s.primaryColourAlphaLight};\n    --libmr-primary-colour-alpha-medium: ${s.primaryColourAlphaMedium};\n    --libmr-primary-colour-alpha-dark: ${s.primaryColourAlphaDark};\n  }\n`,document.head.appendChild(t)}},function(e,t,n){"use strict";var r=n(14),o=n(6);function i(e,t=""){return Object(o.a)("GET",`/api/genome/${e}?collectionId=${t}`)}n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return c}));const a=Object(r.b)("SHOW_GENOME_REPORT");function s(e,t,n){return{type:a,payload:{name:t,genomeId:e,promise:i(e,n)}}}const l="CLOSE_GENOME_REPORT";function c(){return{type:l}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(21),o=n(16);const i=new Set([r.b,r.a]),a={[r.b]:"Population",[r.a]:"Collection"};o.c.COLOUR,o.b.COLOURS.PURPLE,o.b.COLOURS.PURPLE},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"name",(function(){return Nt})),n.d(r,"buildColumns",(function(){return At}));var o={};n.r(o),n.d(o,"name",(function(){return Rt})),n.d(o,"buildColumns",(function(){return Dt}));var i={};n.r(i),n.d(i,"name",(function(){return zt})),n.d(i,"buildColumns",(function(){return Ft}));var a=n(38);function s(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"==typeof o?o(n,r,e):t(o)}}}}var l=s();l.withExtraArgument=s;var c=l,u=n(237),d=n(162),h=n(221);var p=Object(a.c)({activity:function(e=null,{type:t,payload:n}){switch(t){case h.a.ATTEMPT:return d.a.LOADING;case h.a.FAILURE:return d.a.ERROR;case h.a.SUCCESS:return n.result.map(e=>({...e,formattedDate:new Date(e.date).toLocaleString()}));default:return e}}}),f=n(187);const m={token:null,pending:!1};const g={id:n(190).a[1]};var v=n(42),y=n(108),b=n(30),_=n(218),w=n(104);const C={allSchemeSts:[],edgeMatrix:null,index:{lambda:null,pi:null},indexOfSelectedInAll:null,nodeCoordinates:null,nodes:null,progress:null,scheme:null,selectedGenomeId:null,skipMessage:null,status:"INITIAL_STATUS",taskId:null,threshold:null,triedBuilding:!1,version:null};function S(e,t,n){for(let r=1;r<=w.c;r++){const o=Object(_.a)(r,e,t),i=o[n];if(o.filter(e=>e===i).length>w.b)return r-1}return w.c}var E=n(103);const x={isOpen:!0};var k=n(75),O=n(151);function T(e){return e.reduce((e,t)=>(e[t.id]={...t,createdAt:new Date(t.createdAt)},e),{})}const M={total:0,organismId:{},type:{},createdAt:{},publicationYear:{}};var P=Object(a.c)({entities:function(e={},{type:t,payload:n}){switch(t){case k.b.SUCCESS:{const{collections:e}=n.result;return T(e)}case k.a.SUCCESS:return T(n.result);case k.b.FAILURE:case k.a.FAILURE:return{};default:return e}},filter:function(e=x,{type:t}){switch(t){case E.a:return{...e,isOpen:!e.isOpen};default:return e}},status:function(e=O.a.LOADING,{type:t}){switch(t){case k.a.ATTEMPT:case k.b.ATTEMPT:return O.a.LOADING;case k.a.SUCCESS:case k.b.SUCCESS:return O.a.SUCCESS;case k.a.FAILURE:case k.b.FAILURE:return O.a.ERROR;default:return e}},summary:function(e=M,{type:t,payload:n}){switch(t){case k.b.ATTEMPT:return{...e,loading:!0};case k.b.SUCCESS:return{...e,loading:!1,...n.result.summary};default:return e}}}),L=n(14);n(63),n(6);const N=Object(L.b)("REQUEST_DOWNLOAD");var A=n(184);function I(e,t,n){const{format:r,stateKey:o}=t,i=e[r]||{};return{...e,[r]:{...i,[o]:n}}}var R=n(141);function D(e={},t){const{query:n}=t;return 1===Object.keys(n).length&&n.prefilter?{...n}:{...e,...Object.keys(n).reduce((t,r)=>{const o=n[r];return t[r]=o===e[r]?void 0:o,t},{})}}var j=n(18);const z={total:0,visible:0,loading:!1};var F=n(70),B=n(88);const W={isOpen:!0,listFilters:{}};var H=n(26),U=n(140),G=n(16);const V={dropdown:null,genomes:{},download:{status:null,summary:null},lastSelectedIndex:null},Y=(e,{id:t,name:n,organismId:r,binned:o})=>(e[t]={id:t,name:n,organismId:r,binned:o},e),q=(e,{id:t})=>(delete e[t],e);var Z=n(267);const $={entities:[],metric:"length",filter:null};const K={title:"",description:"",pmid:""};var X=n(168),Q=n(82);const J={markers:[],filter:null,popup:{open:!1,genomes:[]}};var ee=n(41);const te={name:null,genome:null,status:null};var ne=function(e=te,{type:t,payload:n}){switch(t){case y.b.ATTEMPT:return{...te,name:n.name,status:"LOADING"};case y.b.SUCCESS:{const t=n.result;return{...e,genome:t,status:"READY"}}case y.b.FAILURE:return{genome:null,status:"ERROR"};case y.a:case j.a.ATTEMPT:case ee.a:return{...te};default:return e}},re=n(164),oe=n(167);var ie=Object(a.c)({filter:function(e=W,{type:t,payload:n}){switch(t){case F.a:return{...e,isOpen:!e.isOpen};case F.b:return{...e,listFilters:{...e.listFilters,[n.filterKey]:n.text}};case R.UPDATE_FILTER:case R.SET_FILTER:return n.stateKey===B.b?{...e,listFilters:{}}:e;default:return e}},entities:function(e={},{type:t,payload:n}){switch(t){case j.a.SUCCESS:{const{prefilter:t}=n.filter;return n.result.reduce((e,n)=>("bin"===t&&(n.binned=!0),e[n.id]=n,e),{...e})}case j.d.SUCCESS:{const{prefilter:e}=n.filter;return n.result.genomes.reduce((t,n)=>("bin"===e&&(n.binned=!0),t[n.id]=n,t),{})}case"SEND_METADATA_UPDATE::SUCCESS":{const{data:t}=n,{computedData:r}=n.result,o={};for(const{id:n,name:i}of t)n in e&&(o[n]={...e[n],name:i,country:r[n].country,date:r[n].date});return Object.keys(o).length?{...e,...o}:e}default:return e}},indices:function(e={},{type:t,payload:n}){switch(t){case j.d.SUCCESS:return n.result.genomes.reduce((e,t,n)=>(e[n]=t.id,e),{});case j.a.ATTEMPT:{const{skip:t=0,limit:r=0}=n.options,o={...e};for(let n=t;n<t+r;n++)o[n]=e[n]||!0;return o}case j.a.FAILURE:{const{skip:t=0,limit:r=0}=n.options,o={...e};for(let e=t;e<t+r;e++)o[e]=void 0;return o}case j.a.SUCCESS:{const{skip:t=0}=n.options;return n.result.reduce((e,n,r)=>(e[r+t]=n.id,e),{...e})}default:return e}},collectionMetadata:function(e=K,{type:t,payload:n}){switch(t){case U.a:return{...e,...n};default:return e}},stats:function(e=$,{type:t,payload:n}){switch(t){case j.c.SUCCESS:return{...e,entities:n.result,filter:n.filter};case Z.a:return{...e,metric:n.metric};default:return e}},status:function(e=null,{type:t}){switch(t){case j.d.ATTEMPT:case j.b.ATTEMPT:case j.c.ATTEMPT:return oe.a.LOADING;case j.d.FAILURE:case j.b.FAILURE:case j.c.FAILURE:return oe.a.ERROR;case j.d.SUCCESS:case j.b.SUCCESS:case j.c.SUCCESS:return oe.a.OK;default:return e}},selection:function(e=V,{type:t,payload:n}){switch(t){case H.a:return{...e,genomes:n.genomes.reduce(Y,{...e.genomes}),lastSelectedIndex:"number"==typeof n.index?n.index:e.lastSelectedIndex};case H.c:return{...e,genomes:n.genomes.reduce(q,{...e.genomes})};case H.f:return{...e,genomes:n.genomes.reduce(Y,{})};case H.d:return{...e,dropdown:n===e.dropdown?null:n};case j.a.SUCCESS:case j.a.ERROR:case U.b.SUCCESS:return{...e,dropdown:null};case H.b:return V;case H.e.ATTEMPT:return{...e,download:{...e.download,status:G.e.LOADING}};case H.e.FAILURE:return{...e,download:{...e.download,status:G.e.ERROR}};case H.e.SUCCESS:return{...e,download:{...e.download,status:G.e.SUCCESS,summary:n.result}};case j.d.ATTEMPT:return{...e,lastSelectedIndex:null};case"SEND_METADATA_UPDATE::SUCCESS":{const{data:t}=n,r={};for(const{id:n,name:o}of t)n in e.genomes&&e.genomes[n].name!==o&&(r[n]={...e.genomes[n],name:o});return Object.keys(r).length?{...e,genomes:{...e.genomes,...r}}:e}default:return e}},summary:function(e=z,{type:t,payload:n}){switch(t){case j.d.ATTEMPT:return{...e,loading:!0};case j.d.SUCCESS:return{loading:!1,...n.result.summary};default:return e}},waiting:function(e=!1,{type:t}){switch(t){case re.a.ATTEMPT:return!0;case re.a.SUCCESS:case re.a.FAILURE:return!1;default:return e}},map:function(e=J,{type:t,payload:n}){switch(t){case j.b.ATTEMPT:case X.a:return{...e,popup:J.popup};case j.b.SUCCESS:return{...e,markers:n.result,filter:n.filter};case X.b.ATTEMPT:return{...e,popup:{open:!0,genomes:[]}};case X.b.SUCCESS:return{...e,popup:{...e.popup,genomes:n.result}};case Q.MAP_LASSO_CHANGE:return n.path?e:{...e,popup:J.popup};default:return e}},report:ne}),ae=n(170);const se={asideVisible:!0,userDrawerVisible:!1};function le({pathname:e}){return"/"===e?"home":e.split("/")[1]}var ce=n(64),ue=n(132),de=n(217);const he={status:de.a.LOADING,collections:[]};var pe=n(172);const fe={supportedOrganisms:[],allSpecies:[]};const me={visible:!1,message:null,action:null};var ge=n(122);const ve={all:"allGenomes",user:"userGenomes",bin:"binnedGenomes"};var ye=n(219),be=n(159),_e=n(9),we=n(10);const Ce={id:null,genomeIds:new Set};var Se=n(86);function Ee(e,t){return e.reduce((e,n)=>(e[n.uuid]={...n,[`__${t}`]:!0},e),{})}var xe=n(260);var ke=Object(a.c)({menuOpen:function(e=!1,{type:t,payload:n}){switch(t){case"SET_MENU_ACTIVE":return void 0!==n.active?n.active:e;default:return e}}}),Oe=n(54);const Te=new Set,Me={[Oe.a.VISIBILITY]:{ids:Te,active:!1},[Oe.a.TREE]:{ids:Te,active:!1},[Oe.a.MAP]:{ids:Te,active:!1}};var Pe=n(71);const Le=new Set,Ne={ids:Le};var Ae=n(116);const Ie={entries:[],current:null};var Re=function(e=Ie,t={}){switch(t.type){case Ae.b:return{...e,entries:[t.payload.image,...e.entries],current:0};case Ae.c:return{...e,current:t.payload.index};case Ae.a:return{...e,current:e.entries.length-1};default:return e}},De=n(144),je=n(97),ze=n(225);const Fe={status:je.a.UNSAVED};var Be=n(37),We=n(114),He=n(133);const Ue={advanced:!1,exact:!1,category:null,cursor:0,currentIntersection:0,intersections:[],recent:new Set,sort:He.b.FREQ_DESC,text:""};function Ge(e,t){const n=new Set;for(const r of[...t,...e.recent])if(n.add(r),3===n.size)break;return n}function Ve(e,t){if(!t||e.advanced)return e;const n=t.value.label;return n.length?{...e,text:n,intersections:[[t]]}:{...e,text:Ue.text,intersections:Ue.intersections}}var Ye=n(262);const qe={isExpanded:!1};var Ze=n(44),$e=n(27),Ke=n(40);function Xe(e,t){return(e,n)=>{const r=n(),o=Object($e.j)(r),{activeColumn:i}=Object($e.h)(r)[o];e(Object(Ze.f)(o,i===t?Ke.e:t))}}const Qe={name:_e.c.metadata,activeColumn:Ke.e,onHeaderClick:Xe};var Je=n(90),et=n(79);const tt={name:_e.c.typing,activeColumn:Ke.e,columns:[],onHeaderClick:Xe},nt={group:!0,system:!0,fixed:!0,columnKey:"leadingSystemGroup",getHeaderContent(){},columns:[Ke.d,Ke.c,Ke.e]},rt={group:!0,system:!0,columnKey:"trailingSystemGroup",getHeaderContent(){},columns:[Ke.f]},ot={columnKey:"reference",group:!0,columns:["__reference"],getHeaderContent:()=>{}},it={group:!0,columnKey:"mlst",columns:["__mlst","__mlst_profile"],get label(){return`MLST - ${et.f.mlst}`}},at={group:!0,columnKey:"mlst2",columns:["__mlst2","__mlst2_profile"],get label(){return`MLST - ${et.f.mlst2}`}},st={group:!0,columnKey:"ng-Mast",columns:["__ng-mast","__por","__tbpb"]},lt={group:!0,columnKey:"ng-star",columns:["__ngstar","__ngstar_profile"]},ct={group:!0,columnKey:"genotyphi",columns:["__genotyphi_type","__genotyphi_snps_called"]},ut={group:!0,columnKey:"inctyper",columns:["__inc_types"]},dt={group:!0,columnKey:"kleborate",columns:["__K_locus","__O_locus","__Virulence_Score","__Aerobactin","__Colibactin","__Salmochelin","__Yersiniabactin","__RmpADC","__rmpA2"]},ht={group:!0,columnKey:"vista",columns:["__vista_biotype","__vista_serogroup"]};function pt({columns:e,...t}){return{...t,noAction:!0,headerClasses:"wgsa-table-header--unstyled",columns:e.map(e=>Je.a[e])}}function ft({isClusterView:e},t,n){return[e||t.noPopulation?null:ot,t.noMLST?null:it,n?at:null,t.ngMast?lt:null,t.ngMast?st:null,t.genotyphi?ct:null,t.inctyper?ut:null,t.kleborate?dt:null,t.vista?ht:null].filter(e=>e).map(pt)}const mt=[Je.a.__core_matches,Je.a["__%_core_families"],Je.a["__%_non-core"]],gt={name:_e.c.stats,activeColumn:Ke.e,columns:[],onHeaderClick:Xe};var vt=n(0),yt=n.n(vt),bt=n(139),_t=n(46),wt=n(115);const Ct={group:!0,system:!0,fixed:!0,columnKey:"system",getHeaderContent(){},columns:[Ke.d,Ke.c,{...Ke.e,flexGrow:0,headerClasses:"wgsa-table-header--unstyled",onHeaderClick:()=>{}}]},St={group:!0,system:!0,columnKey:"spacer",getHeaderContent(){},columns:[{...Ke.f,cellClasses:"wgsa-table-cell--resistance"}]};function Et(e,t){return-1===e.indexOf(t)}function xt(e,t,n){const{key:r,displayName:o,label:i,effect:a}=e;return{addState({genomes:e}){return e.length?(this.hidden=e.every(({analysis:e})=>!e.paarsnp||Et(e.paarsnp[t],r)),this.width=this.getWidth()+16,this):this},columnKey:r,displayName:o,label:i,cellClasses:"wgsa-table-cell--resistance",flexGrow:0,getWidth:()=>Object(wt.b)(i),getCellContents:(e,n)=>_t.f(n,t,r)?yt.a.createElement("i",{className:"material-icons wgsa-resistance-icon",style:{color:_t.e(a)}},"lens"):null,headerClasses:"wgsa-table-header--expanded",hidden:n.every(e=>Et(e[t],r)),valueGetter:n=>_t.b(e,t,n),onHeaderClick:bt.onHeaderClick}}const kt={activeColumns:new Set,columns:[]};function Ot({name:e,buildColumns:t}){return function(n=kt,{type:r,payload:o}){switch(r){case b.a.SUCCESS:{const{genomes:e,organism:r,status:i,isClusterView:a}=o.result;if(i!==_e.a.READY||a)return n;const s=function(e){return e.reduce((e,{analysis:t})=>t.paarsnp?(e.push(t.paarsnp),e):e,[])}(e),l=t(r.resistance,s);return{...n,columns:l.length&&l[0].group?[Ct,...l,St]:[...Ct.columns,...l,...St.columns]}}case Ze.b:return{...n,activeColumns:o.table===e?o.columns:n.activeColumns};default:return n}}}function Tt({key:e,displayName:t}){if(t)return t;const{customLabels:n={}}=we.b.current.amrOptions||{};return n[e]||e}const{onHeaderClick:Mt}=n(139),Pt=navigator&&navigator.platform&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"Cmd":"Ctrl";function Lt(e){const t=e.key,n=e.fullName||t;return{columnKey:t,headerClasses:"wgsa-table-header--expanded",headerTitle:`${n?`${n} - `:""}${Pt} + click to select multiple`,cellClasses:"wgsa-table-cell--resistance",cellPadding:16,flexGrow:0,label:Tt(e),addState(){return this.width=this.getWidth(),this},getWidth(){const t=Object(wt.b)(e.key);return t<32?48:t+16},getCellContents(e,{analysis:t}){if(!t.paarsnp)return null;const{antibiotics:n}=t.paarsnp;if(_t.g(t.paarsnp,e.columnKey)){const{state:t}=n[e.columnKey];return yt.a.createElement("i",{className:`material-icons wgsa-resistance-icon wgsa-amr--${t.toLowerCase()}`},"lens")}return null},valueGetter:e=>_t.c(t,e),onHeaderClick:Mt}}const Nt=_e.c.antibiotics;function At({antibiotics:e}){const{hiddenColumns:t=new Set}=we.b.current.amrOptions||{};return e.filter(({key:e})=>!t.has(e)).map(Lt)}const{onHeaderClick:It}=n(139),Rt=_e.c.snps;function Dt({snp:e={},antibiotics:t},n){return t.reduce((t,r)=>{const{key:o,fullName:i}=r;return o in e&&t.push({group:!0,columnKey:`snp_${o}`,label:Tt(r),onHeaderClick:It,headerClasses:"wgsa-table-header--expanded",headerTitle:i,columns:Object.keys(e[o]).sort().reduce((t,r)=>t.concat({cellClasses:"wgsa-table-cell--resistance",columnKey:r,fixedWidth:Object(wt.b)(r)+16,flexGrow:0,getCellContents(){},getLabel:()=>`${r}_`,addState({genomes:t}){return t.length?(this.hidden=e[o][r].every(({snpName:e})=>t.every(({analysis:t})=>t.paarsnp&&-1===t.paarsnp.snp.indexOf(`${r}_${e}`))),this):this},headerClasses:"wgsa-table-header--unstyled wgsa-table-header--expanded"},e[o][r].map(({snpName:e,effect:t})=>{const o=`${r}_${e}`;return xt({key:o,displayName:o,label:e,effect:t},"snp",n)})),[])}),t},[])}const{onHeaderClick:jt}=n(139);const zt=_e.c.genes;function Ft({paar:e={},antibiotics:t},n){return function(e){const{paarOverrides:t=[]}=we.b.current.amrOptions||{};for(const{gene:n,from:r,to:o}of t){if(!(r in e))continue;const t=e[r].find(e=>e.element===n);if(!t)continue;const i=new Set(e[r]);i.delete(t),e[r]=Array.from(i),e[o]=e[o].concat(t)}}(e),t.reduce((t,r)=>{const{key:o,fullName:i}=r;return o in e&&t.push({group:!0,columnKey:`paar_${o}`,label:Tt(r),headerClasses:"wgsa-table-header--expanded",headerTitle:i,onHeaderClick:jt,columns:e[o].map(({element:e,effect:t})=>xt({key:e,label:e,effect:t},"paar",n))}),t},[])}const Bt=_e.c.kleborateAMR,Wt=_t.e("RESISTANT"),Ht=navigator&&navigator.platform&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"Cmd":"Ctrl";function Ut(e){const t=[];for(const n of Object.values(e[0].analysis.kleborate.amr.profile))t.push({columnKey:`kleborate_${n.key}`,addState({genomes:e}){return e.length?(this.width=this.getWidth()+this.cellPadding,this):this},headerClasses:"wgsa-table-header--expanded",headerTitle:`${n.name} - ${Ht} + click to select multiple`,cellClasses:"wgsa-table-cell--resistance",cellPadding:16,label:n.name,getWidth:()=>Object(wt.b)(n.name),getCellContents:(e,{analysis:{kleborate:t}})=>Object(_t.j)(t,n.key)?yt.a.createElement("i",{className:"material-icons wgsa-resistance-icon",style:{color:Wt},title:t.amr.profile[n.key].matches},"lens"):null,valueGetter:e=>Object(_t.j)(e.analysis.kleborate,n.key)?Wt:_t.k,onHeaderClick:bt.onHeaderClick});return t}const Gt={activeColumns:new Set,columns:[]};var Vt=n(129);const Yt=_e.c.kleborateAMRGenotypes,qt=_t.e("RESISTANT");function Zt(e,t){for(const n of Object.values(e.analysis.kleborate.amr.profile))if(n.matches.replace(/-\d+%/g,"_truncated").includes(t))return!0;return!1}function $t(e){const t={};for(const n of e)if(n.analysis.kleborate.amr)for(const e of Object.values(n.analysis.kleborate.amr.profile)){if("-"===e.match||"SHVM"===e.key)continue;t[e.name]||(t[e.name]=new Set),e.matches.split(";").map(e=>Object(_t.h)(e)).forEach(n=>{t[e.name].add(n)})}return Object.keys(t).sort().reduce((e,n)=>{const{fixedWidth:r,bufferSize:o}=function(e,t){const n=Object(wt.b)(e)+16,r=16*t;return n<r?{fixedWidth:r,bufferSize:0}:{fixedWidth:n,bufferSize:(n-r)/t}}(n,t[n].size);return e.push({group:!0,columnKey:`kleborateAMRGenotypes_${n}`,fixedWidth:r,getCellContents(){},headerClasses:"wgsa-table-header--expanded",label:n,headerTitle:n,onHeaderClick:bt.onHeaderClick,columns:Array.from(t[n]).filter(e=>"-"!==e).sort().map(e=>function(e,t,n){return{addState({genomes:e}){return e.length?(this.width=this.getWidth()+16,this):this},columnKey:e,displayName:t,label:t,cellClasses:"wgsa-table-cell--resistance",getWidth:()=>Object(wt.b)(t)+n,getCellContents:(e,n)=>Zt(n,t)?yt.a.createElement("i",{className:"material-icons wgsa-resistance-icon",style:{color:qt}},"lens"):null,headerClasses:"wgsa-table-header--expanded",valueGetter:e=>Zt(e,t)?qt:_t.k,onHeaderClick:bt.onHeaderClick}}(`kleborateAMRGenotypes_${n}_${e}`,e,o))}),e},[])}const Kt={activeColumns:new Set,columns:[]};const Xt=_e.c.vista;function Qt(e){return e?"Present"===e?_t.e("RESISTANT"):"Incomplete"===e?_t.e("INTERMEDIATE"):_t.k:_t.k}function Jt(e,t,n){return e.analysis.vista&&e.analysis.vista[n].find(e=>e.name===t&&"Not found"!==e.status)}const en=navigator&&navigator.platform&&navigator.platform.toUpperCase().indexOf("MAC")>=0?"Cmd":"Ctrl";function tn(e,t){const n=[];for(const r of t[0].analysis.vista[e])n.push({columnKey:`vista_${r.name}`,addState({genomes:e}){return e.length?(this.width=this.getWidth()+this.cellPadding,this):this},headerClasses:"wgsa-table-header--expanded",headerTitle:`${r.name} (${r.type}) - ${en} + click to select multiple`,cellClasses:"wgsa-table-cell--resistance",cellPadding:16,label:r.name,getWidth(){const e=Object(wt.b)(r.name);return e<32?48:e+16},getCellContents:(t,n)=>Jt(n,r.name,e)?yt.a.createElement("i",{className:"material-icons wgsa-resistance-icon",style:{color:Qt(Jt(n,r.name,e).status)},title:`${r.name} (${r.type})`},"lens"):null,valueGetter:t=>{const n=Jt(t,r.name,e);return n?Qt(n.status):_t.k},onHeaderClick:bt.onHeaderClick});return n}function nn(e){return tn("virulenceGenes",e).concat(tn("virulenceClusters",e))}const rn={activeColumns:new Set,columns:[]};const on=Ot(r),an=Ot(o),sn=Ot(i),ln=function(e=Gt,{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{genomes:t,status:r}=n.result;return r===_e.a.READY&&we.b.uiOptions.kleborate?{...e,columns:[...Ct.columns,...Ut(t),...St.columns]}:e}case Ze.b:return{...e,activeColumns:n.table===Bt?n.columns:e.activeColumns};default:return e}},cn=function(e=Kt,{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{genomes:t,status:r}=n.result;return r===_e.a.READY&&Vt.default.uiOptions.kleborate?{...e,columns:[Ct,...$t(t),St]}:e}case Ze.b:return{...e,activeColumns:n.table===Yt?n.columns:e.activeColumns};default:return e}},un=function(e=rn,{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{genomes:t,status:r,isClusterView:o}=n.result;return r!==_e.a.READY||o||!we.b.uiOptions.vista?e:{...e,columns:[...Ct.columns,...nn(t),...St.columns]}}case Ze.b:return{...e,activeColumns:n.table===Xt?n.columns:e.activeColumns};default:return e}};var dn=Object(a.c)({entities:Object(a.c)({metadata:function(e=Qe,{type:t,payload:n}){switch(t){case Ze.c:return n.table!==_e.c.metadata?e:{...e,activeColumn:n.column};default:return e}},typing:function(e=tt,{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const t=function({noPopulation:e,noMLST:t,ngMast:n,genotyphi:r,vista:o}){return!(e&&t&&!n&&!r&&!o)}(we.b.uiOptions);if(!t)return{...e,active:t};const r=function({genomes:e}){Object(et.e)();const t=new Set(["mlst","mlst2"]);for(const{analysis:n}of e){for(const e of t)e in n&&(et.f[e]=n[e].source,t.delete(e));if(n.mlst2)return!0}return!1}(n.result);return{...e,active:t,columns:[nt,...ft(n.result,we.b.uiOptions,r),rt]}}case Ze.c:return n.table!==_e.c.typing?e:{...e,activeColumn:n.column};default:return e}},stats:function(e=gt,{type:t,payload:n}){switch(t){case b.a.SUCCESS:return{...e,columns:[Ke.d,Ke.c,Ke.e,...n.result.isClusterView?[]:mt,Je.a.__genome_length,Je.a.__n50,Je.a["__no._contigs"],Je.a["__non-ATCG"],Je.a["__%_GC_Content"],Ke.f]};case Ze.c:return n.table!==_e.c.stats?e:{...e,activeColumn:n.column};default:return e}},antibiotics:on,snps:an,genes:sn,kleborateAMR:ln,kleborateAMRGenotypes:cn,vista:un,report:ne}),visible:function(e=null,{type:t,payload:n}){switch(t){case Ze.d:return n.name;case De.a:return _e.c.metadata;case De.b:return e===_e.c.metadata?null:e;default:return e}},activeAMR:function(e=_e.c.antibiotics,{type:t,payload:n}){switch(t){case Ze.d:return Ke.a.has(n.name)?n.name:e;default:return e}},activeData:function(e=null,{type:t,payload:n}){switch(t){case Ze.d:return Ke.b.has(n.name)?n.name:e;default:return e}},multi:function(e=!1,{type:t}){switch(t){case Ze.a:return!e;default:return e}}}),hn=n(118);const pn={bounds:null,nodeSize:14,speed:"1",unit:"day",viewport:null};var fn=(e=pn,t={})=>{switch(t.type){case hn.a:return{...e,bounds:t.payload};case hn.b:return{...e,nodeSize:t.payload};case hn.c:return{...e,speed:t.payload};case hn.d:return{...e,unit:t.payload,bounds:pn.bounds};case hn.e:return{...e,viewport:t.payload};default:return e}},mn=n(263);var gn=Object(a.c)({libmicroreact:function(e,t={}){switch(t.type){case ce.c:return{...e,bounds:null};default:return fn(e,t)}},visible:function(e=null,t={}){switch(t.type){case mn.a:return!0;case Ze.d:return!1;default:return e}}});const vn=function(e,t=e(void 0,{})){return function(n={snapshots:[],current:t},r={}){switch(r.type){case Ae.b:return{...n,snapshots:[n.current,...n.snapshots]};case Ae.c:return{...n,current:n.snapshots[r.payload.index]};case Ae.a:return{...n,current:n.snapshots[n.snapshots.length-1]};default:return{...n,current:e(n.current,r)}}}}(n(258).a);var yn=n(110),bn=n(21);var _n=Object(a.c)({entities:function(e={},t){const{type:n,payload:r}=t;switch(n){case b.a.SUCCESS:{const{organism:t={},subtrees:n,tree:o}=r.result,i={...e,...n.reduce((e,t)=>(e[t.name]={status:"PENDING",progress:0,lastStatus:0,...t},e),{})};return o&&(i[bn.a]={status:"PENDING",progress:0,lastStatus:0,...o,name:bn.a}),t.tree&&(i[bn.b]={name:bn.b,status:"READY",leafIds:t.references.map(e=>e.uuid),newick:t.tree}),i}case Se.b.SUCCESS:return{...e,[r.stateKey]:{...e[r.stateKey],position:r.result.position}};case b.c:if("tree"===r.task){const t=e[bn.a];if(r.status&&r.timestamp>=t.lastStatus)return{...e,[bn.a]:{...t,status:r.status,progress:0,lastStatus:r.timestamp}};if(r.progress&&r.progress>t.progress)return{...e,[bn.a]:{...t,status:"IN PROGRESS",progress:Math.floor(r.progress)}}}if("subtree"===r.task){if(!(r.name in e))return e;const t=e[r.name];if(r.status&&r.timestamp>=t.lastStatus)return{...e,[r.name]:{...t,status:r.status,lastStatus:r.timestamp,size:r.size,populationSize:r.populationSize}};if(r.progress&&r.progress>t.progress)return{...e,[r.name]:{...t,progress:Math.floor(r.progress)}}}return e;case Se.a.SUCCESS:return{...e,[r.stateKey]:{...e[r.stateKey],name:r.stateKey,status:r.result.status,newick:r.result.newick}};default:return e}},lastSubtree:function(e=null,{type:t,payload:n}){switch(t){case Se.c:return yn.b.has(n.name)?e:n.name;default:return e}},loading:function(e=!1,{type:t}){switch(t){case Se.a.ATTEMPT:return!0;case Se.a.FAILURE:case Se.a.SUCCESS:return!1;default:return e}},libmicroreact:function(e={},t){if(t.stateKey){const n=e[t.stateKey];return{...e,[t.stateKey]:vn(n,t)}}return e},titles:function(e={},{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{organism:t}=n.result;if(!t||!t.references)return e;const r={};for(const e of t.references)r[e.uuid]=e.name;return r}default:return e}},visible:function(e=null,{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{tree:t}=n.result;return t?"READY"===t.status?bn.a:e:bn.b}case Se.c:return n.name;default:return e}}}),wn=n(149);const Cn={lassoActive:!1,lassoPath:null};const Sn=Object(a.c)({entities:Object(a.c)({genomes:function(e={},{type:t,payload:n}){switch(t){case b.a.SUCCESS:{const{genomes:e=[],organism:t={}}=n.result,{references:r=[]}=t;return{...Ee(e,"isCollection"),...Ee(r,"isReference")}}case Se.a.SUCCESS:{const{genomes:t}=n.result;return t?{...e,...Ee(t,"isPublic")}:e}default:return e}},collection:function(e=Ce,{type:t,payload:n}){switch(t){case re.a.SUCCESS:{const{result:t,organismId:r,metadata:o}=n;return we.b.current=r,{...e,token:t.token,organismId:r,metadata:o}}case b.a.FAILURE:return{...e,status:_e.a.NOT_FOUND};case b.a.SUCCESS:{const{genomes:t=[],...r}=n.result;return we.b.current=r.organismId,{...e,genomeIds:new Set(Object(be.b)(t).map(e=>e.uuid)),access:r.access,createdAt:r.createdAt,description:r.description,size:r.size,organismId:r.organismId,owner:r.owner,pmid:r.pmid,progress:r.progress,status:_e.a.READY,title:r.title,token:r.token,uuid:r.uuid,isClusterView:r.isClusterView||!1,genomeId:n.genomeId}}case ye.a.ATTEMPT:return{...e,access_status:"LOADING",access:n.access};case ye.a.SUCCESS:return{...e,access_status:"OK"};case ye.a.FAILURE:return{...e,access_status:"ERROR"};default:return e}}}),aboutCollectionOpen:function(e=!1,{type:t,payload:n}){switch(t){case xe.a:return n.isOpen;default:return e}},clusterView:function(e=Cn,{type:t,payload:n}){switch(t){case wn.b:return{...e,lassoActive:!e.lassoActive,lassoPath:Cn.lassoPath};case wn.a:return{...e,lassoPath:n,lassoActive:null!==n};case ce.c:return{...e,lassoPath:Cn.lassoPath,lassoActive:Cn.lassoActive};default:return e}},downloads:ke,filter:function(e=Me,{type:t,payload:n={}}){const{ids:r}=n||{};switch(t){case b.a.SUCCESS:return{...e,[Oe.a.VISIBILITY]:{ids:Te,active:!1},[Oe.a.TREE]:{ids:Te,active:!1},[Oe.a.MAP]:{ids:Te,active:!1}};case ce.a:return{...e,[n.key]:{...e[n.key],ids:r,active:!0}};case ce.b:{const t=e[n.key];return{...e,[n.key]:{...t,ids:new Set([...t.ids,...r]),active:!0}}}case ce.d:{const t=e[n.key],o=Array.from(t.ids).filter(e=>!r.has(e));return o.length?{...e,[n.key]:{...t,ids:new Set(o),active:!0}}:{...e,[n.key]:{...t,ids:Te,active:!1}}}case ce.e:return{...e,[n.key]:{...e[n.key],ids:Te,active:!1}};case ce.c:return{...e,[Oe.a.VISIBILITY]:{...e[Oe.a.VISIBILITY],ids:Te,active:!1},[Oe.a.TREE]:{ids:Te,active:!1},[Oe.a.MAP]:{ids:Te,active:!1}};default:return e}},highlight:function(e=Ne,{type:t,payload:n={}}){const{ids:r}=n||{};switch(t){case Pe.c:return{...e,ids:n.append?new Set([...e.ids,...r]):new Set(r)};case Pe.b:{const t=Array.from(e.ids).filter(e=>!r.has(e));return t.length?{...e,ids:new Set(t)}:{...e,ids:Le}}case Pe.a:return{...e,ids:Le};default:return e}},history:function(e={},t){if(t.stateKey){const n=e[t.stateKey];return{...e,[t.stateKey]:Re(n,t)}}return e},metadata:function(e={},{type:t,payload:n}){switch(t){case De.a:{const t={...e};for(const e of n)e.name in t||(t[e.name]=e);return t}case De.b:return{};default:return e}},offline:function(e=Fe,{type:t,payload:n}){switch(t){case ze.a:return{status:n.status};default:return e}},search:function(e=Ue,{type:t,payload:n}){switch(t){case Be.j:return{...e,advanced:!e.advanced,text:""};case Be.i:return{...Ve(e,n),exact:!e.exact};case Be.h:return{...e,text:n,cursor:0};case Be.a:{const{intersections:t,currentIntersection:r}=e,{category:o}=n,i=t[r]||[];let a=r;return o&&Object(We.c)(o,i)&&(a=t.length),{...e,category:n.category,currentIntersection:a,text:"",cursor:0}}case Be.f:{if(!e.advanced)return Ve(e,n);const{currentIntersection:t}=e,r=Array.from(e.intersections),o=r[t]||[];return o.some(e=>e.key===n.key)?e:(r[t]=o.concat(n),{...e,category:null,cursor:0,intersections:r,recent:Ge(e,[n]),text:""})}case Be.g:{const{term:t,intersection:r}=n,o=Array.from(e.intersections),i=Array.from(o[r]);1===i.length?o.splice(r,1):(i.splice(i.indexOf(t),1),o[r]=i);const a=e.currentIntersection in o?e.currentIntersection:Math.max(0,o.length-1);return{...e,cursor:0,currentIntersection:a,intersections:o,recent:Ge(e,[t]),text:""}}case Be.c:{const{intersections:t,currentIntersection:r}=e,o=r+n.delta;return o<0||o>t.length?e:{...e,currentIntersection:o}}case Be.b:return{...e,cursor:Math.max(0,e.cursor+n.delta)};case Be.e:return{...e,sort:n};case Be.d:return n===e.currentIntersection?e:{...e,currentIntersection:n};case ce.c:return{...Ue,recent:e.recent,exact:e.exact,advanced:e.advanced};default:return e}},summary:function(e=qe,{type:t,payload:n}){switch(t){case Ye.a:return{...e,isExpanded:n};default:return e}},table:dn,timeline:gn,tree:_n}),En=Sn(void 0,{});var xn=n(39),kn=n(83),On=n(95),Tn=n(147);const Mn={entities:{},lastMessageReceived:null,position:null,selectedOrganism:null};var Pn=n(148);const Ln={loaded:!1,status:{},tick:void 0,errors:{}};var Nn=n(274);const An={showing:!1};var In=n(62);const Rn={processing:new Set,pending:[]};function Dn(e,{id:t,filename:n},r){if(!(t in e))return e;const o=e[t];return{...e,[t]:{...o,[n]:{...o[n],...r}}}}var jn=n(55),zn=Object(a.c)({entities:function(e={},{type:t,payload:n}){switch(t){case xn.a.SUCCESS:{const e={};for(const t of n.genomes){const n={};for(const e of t.files)n[e.name]={error:null,handle:e,name:e.name,progress:0};e[t.id]=n}return e}case"UPLOAD_READS_PROGRESS":return Dn(e,n,{stage:n.stage,progress:n.progress});case In.b:{if(!(n.id in e))return e;const[t]=Object.keys(e[n.id]);return Dn(e,{...n,filename:t},{progress:n.progress})}case In.d.FAILURE:case In.c.FAILURE:{if(!(n.id in e))return e;const[t]=Object.keys(e[n.id]);return Dn(e,{...n,filename:t},{error:n.error})}default:return e}},errors:function(e={},{type:t,payload:n}){switch(t){case In.c.FAILURE:return{...e,[n.id]:n.error};default:return e}},queue:function(e=Rn,{type:t,payload:n}){switch(t){case xn.a.SUCCESS:{const e=[];for(const t of n.genomes)e.push(t.id);return{...Rn,pending:e}}case In.c.ATTEMPT:return{...e,pending:e.pending.slice(1),processing:new Set([...e.processing,n.id])};case In.c.SUCCESS:case In.c.FAILURE:{const t=new Set(e.processing);return t.delete(n.id),{...e,processing:t}}default:return e}},status:function(e={},{type:t,payload:n}){switch(t){case xn.a.SUCCESS:{const e={};for(const t of n.genomes)e[t.id]=jn.a.PENDING;return e}case kn.a.SUCCESS:{const t={...e};for(const e of n.result.genomes)e.id in t||(t[e.id]=e.files?jn.a.PENDING:jn.a.SUCCESS);return t}case In.c.ATTEMPT:return{...e,[n.id]:jn.a.QUEUED};case In.a.ATTEMPT:return{...e,[n.id]:jn.a.COMPRESSING};case In.d.ATTEMPT:return{...e,[n.id]:jn.a.UPLOADING};case In.d.FAILURE:case In.c.FAILURE:return{...e,[n.id]:jn.a.ERROR};case In.d.SUCCESS:case In.c.SUCCESS:return{...e,[n.id]:jn.a.SUCCESS};default:return e}}});const Fn={filenameToGenomeId:{},pendingFiles:[],fileIds:{}};const Bn={uploadedAt:null,view:null};const Wn=Object(a.c)({_:function(e=Bn,{type:t,payload:n}){switch(t){case xn.a.SUCCESS:return{...e,view:On.b.PROGRESS,uploadedAt:n.uploadedAt||e.uploadedAt};case kn.a.SUCCESS:{if(e.uploadedAt===n.uploadedAt)return e;const{result:t}=n;let r=!1;for(const e of t.genomes)if(e.files){r=!0;break}return{...e,uploadedAt:n.uploadedAt,view:r?On.b.RECOVERY:On.b.PROGRESS}}default:return e}},analysis:function(e=Mn,{type:t,payload:n}){switch(t){case Tn.a:{const{genomeId:t,results:r}=n,{entities:o}=e,i={...o[t]||{}};for(const{task:e,version:t,result:n,error:o}of r)i[e]=!o&&t,n&&(i[e]=n);return{...e,entities:{...o,[t]:i},lastMessageReceived:new Date,position:0}}case Tn.c:return{...e,selectedOrganism:n.organismId};case Tn.b.SUCCESS:return{...e,position:n.result.position};case kn.a.SUCCESS:{const t={},{genomes:r,position:o}=n.result;for(const{analysis:e,...n}of r){const r={};if(n.pending)for(const e of n.pending)r[e]=null;if(n.errored)for(const e of n.errored)r[e]=!1;t[n.id]={...e,...r}}return{...e,position:o,entities:t}}case xn.a.SUCCESS:{const t={};for(const e of n.genomes)t[e.id]={};return{...e,entities:t}}default:return e}},assembly:function(e=Ln,{type:t,payload:n}){switch(t){case Pn.b:return{...e,loaded:!0,status:n};case Pn.c:return{...e,tick:n};case Pn.a:return{...e,errors:{...e.errors,[n.id]:n.error}};case kn.a.SUCCESS:{const t={};for(const e of n.result.genomes)e.assembler&&e.assembler.error&&(t[e.id]=e.assembler.error);return{...e,errors:t}}case xn.a.SUCCESS:return{...e,loaded:!0};default:return e}},errors:function(e=An,{type:t,payload:n}){switch(t){case Nn.a:return{...e,showing:!e.showing};default:return e}},files:zn,genomes:function(e={},{type:t,payload:n}){switch(t){case xn.a.SUCCESS:{const t={...e};for(const e of n.genomes)t[e.id]={id:e.id,name:e.name,type:e.type};return t}case kn.a.SUCCESS:{const t={};for(const r of n.result.genomes)t[r.id]={id:r.id,name:r.name,type:r.type,...e[r.id]};return t}default:return e}},recovery:function(e=Fn,{type:t,payload:n}){switch(t){case kn.a.ATTEMPT:return Fn;case kn.a.SUCCESS:{const t={},r=[],{genomes:o}=n.result;for(const e of o)if(e.files){r.push(e.files.sort());for(const n of e.files)t[n]=e.id}return{...e,pendingFiles:r,filenameToGenomeId:t}}case xn.a.SUCCESS:{const t={};for(const e of n.genomes)e.recovery&&(t[e.id]=e.recovery);return{...e,fileIds:t}}default:return e}}}),Hn=Wn(void 0,{});var Un=n(163);const Gn={loading:!1,error:!1,uploads:[]};var Vn=Object(a.c)({progress:function(e=Hn,t){return t.type===kn.b?Hn:Wn(e,t)},previous:function(e=Gn,{type:t,payload:n}){switch(t){case Un.a.ATTEMPT:return{...e,loading:!0};case Un.a.FAILURE:return{...e,loading:!1,error:!0};case Un.a.SUCCESS:return{...e,loading:!1,uploads:n.result};default:return e}},errorMessage:function(e=null,t){switch(t.type){case"UPLOAD_ERROR_MESSAGE":return t.payload;default:return e}},usage:function(e=null,t){switch(t.type){case xn.b.SUCCESS:return t.payload.result;default:return e}},settings:function(e={compression:!1,individual:!1},{type:t,payload:n}){switch(t){case xn.c:return{...e,[n.setting]:n.value};default:return e}}}),Yn=Object(a.c)({account:p,auth:function(e=m,{payload:t,type:n}){switch(n){case f.a.ATTEMPT:return{...e,pending:!0};case f.a.SUCCESS:return{...e,token:t.result.token,pending:!1};case f.a.FAILURE:return{pending:!1};default:return e}},branding:function(e=g,t){switch(t.type){case"CHANGE_BRANDING":return{id:t.payload};default:return e}},clustering:function(e=C,{type:t,payload:n}){switch(t){case v.c.ATTEMPT:return{...e,status:"BUILDING_CLUSTERS",progress:0,triedBuilding:!0,taskId:null};case v.c.FAILURE:return n.genomeId!==e.selectedGenomeId||"BUILDING_CLUSTERS"!==e.status?e:{...e,status:"FAILED_BUILDING_CLUSTERS"};case v.c.SUCCESS:return n.genomeId!==e.selectedGenomeId||"BUILDING_CLUSTERS"!==e.status?e:{...e,taskId:n.result.taskId};case v.e:return"BUILDING_CLUSTERS"===e.status?"READY"===n.status?{...e,progress:100,status:"BUILT_CLUSTERS"}:"IN PROGRESS"===n.status?{...e,progress:e.progress<n.progress?n.progress:e.progress}:{...e,status:"FAILED_BUILDING_CLUSTERS"}:e;case v.a.ATTEMPT:return{...e,status:"FETCHING_CLUSTERS"};case v.a.FAILURE:return n.genomeId!==e.selectedGenomeId||"FETCHING_CLUSTERS"!==e.status?e:{...e,status:"FAILED_FETCHING_CLUSTERS"};case v.a.SUCCESS:{if(n.genomeId!==e.selectedGenomeId||"FETCHING_CLUSTERS"!==e.status)return e;const{result:t={}}=n,{nodes:r,sts:o,genomeIdx:i,scheme:a,version:s}=t,{pi:l,lambda:c}=t.clusterIndex;return{...e,status:"FETCHED_CLUSTERS",nodes:r,index:{pi:l,lambda:c},allSchemeSts:o,indexOfSelectedInAll:i,scheme:a,version:s,threshold:e.threshold||S(l,c,i)}}case v.b.ATTEMPT:return{...e,status:"FETCHING_EDGES"};case v.b.FAILURE:return"FETCHING_EDGES"!==e.status||e.selectedGenomeId!==n.genomeId||e.threshold!==n.threshold?e:{...e,status:"FAILED_FETCHING_EDGES"};case v.b.SUCCESS:return"FETCHING_EDGES"!==e.status||e.selectedGenomeId!==n.genomeId||e.threshold!==n.threshold?e:{...e,edgeMatrix:n.result.edges,status:"FETCHED_EDGES"};case v.d.ATTEMPT:return{...e,nodeCoordinates:null,status:"RUNNING_LAYOUT"};case v.d.SUCCESS:return n.result.skip?e:{...e,status:"COMPLETED_LAYOUT",nodeCoordinates:n.result.coordinates};case b.a.ATTEMPT:case v.g:{const t="number"==typeof n?n:Number(n.threshold),r="number"==typeof n?e.selectedGenomeId:n.genomeId;return t===e.threshold?e:{...e,threshold:t,status:e.nodes?"FETCHED_CLUSTERS":"INITIAL_STATUS",edgeMatrix:null,nodeCoordinates:null,selectedGenomeId:r}}case v.h:return{...e,status:"COMPLETED_LAYOUT",nodeCoordinates:n};case y.b.ATTEMPT:return{...C,selectedGenomeId:n.genomeId};case v.f:return n===e.selectedGenomeId?e:{...C,selectedGenomeId:n};default:return e}},collections:P,downloads:function(e={},{type:t,payload:n}){switch(t){case N.ATTEMPT:return I(e,n,{status:A.a.LOADING});case N.FAILURE:return I(e,n,{status:A.a.ERROR});case N.SUCCESS:return I(e,n,{status:A.a.SUCCESS,result:n.result});default:return e}},filters:function(e={},{type:t,payload:n}){switch(t){case R.UPDATE_FILTER:return{...e,[n.stateKey]:D(e[n.stateKey],n)};case R.SET_FILTER:return{...e,[n.stateKey]:{...n.query}};case R.CLEAR_FILTER:{const{prefilter:t}=e[n.stateKey];return{...e,[n.stateKey]:{prefilter:t}}}default:return e}},header:function(e=se,{type:t,payload:n}){switch(t){case ae.a:return{...e,userDrawerVisible:!1,asideVisible:n.isOpen};case ae.b:return{...e,asideVisible:!1,userDrawerVisible:n.isOpen};default:return e}},genomes:ie,location:function(e={},{type:t,payload:n}){switch(t){case"LOCATION_CHANGE":{const{location:e}=n;return{slug:le(n.location),...e}}default:return e}},maps:function(e={},{type:t,payload:n}){switch(t){case Q.MAP_STORE_BOUNDS:return{...e,[n.stateKey]:{...e[n.stateKey],bounds:n.bounds}};case Q.MAP_LASSO_CHANGE:return{...e,[n.stateKey]:{...e[n.stateKey],lassoPath:n.path}};case Q.MAP_VIEW_BY_COUNTRY:return{...e,[n.stateKey]:{...e[n.stateKey],viewByCountry:n.active}};case Q.MAP_MARKER_SIZE_CHANGED:return{...e,[n.stateKey]:{...e[n.stateKey],markerSize:n.size}};case"SET_GENOME_SELECTION":return n.genomes.length?e:Object.keys(e).reduce((t,n)=>{const r=e[n];return t[n]=0===n.indexOf("GENOME")?{...r,lassoPath:null}:r,t},{});case ce.c:return{...e,COLLECTION:{}};default:return e}},offline:function(e=he,{type:t,payload:n}){switch(t){case ue.a.ATTEMPT:return{...e,status:de.a.LOADING};case ue.a.SUCCESS:case ue.b.SUCCESS:return{status:de.a.SUCCESS,collections:n.result.map(e=>({...e,createdAt:new Date(e.createdAt)}))};default:return e}},organisms:function(e=fe,{type:t,payload:n}){switch(t){case pe.a.ATTEMPT:return{...e,loading:!0};case pe.a.SUCCESS:return{loading:!1,...n.result};default:return e}},toast:function(e=me,{type:t,payload:n}){switch(t){case"TOAST_SHOW":return{visible:!0,...n};case"TOAST_HIDE":return me;default:return e}},summary:function(e={loaded:!1},{type:t,payload:n}){switch(t){case ge.a.ATTEMPT:return{loaded:!1};case ge.a.SUCCESS:return{...e,loaded:!0,...n.result};case j.d.SUCCESS:{const{filter:t={},result:r}=n,o=ve[t.prefilter||"all"];return{...e,[o]:r.summary.total}}case ue.b.SUCCESS:return{...e,offlineCollections:e.offlineCollections>0?e.offlineCollections-1:0};default:return e}},upload:Vn,viewer:function(e,t){return t.type===b.b?En:Sn(e,t)}});const qn=[u.b,c],Zn=Object(a.d)(Object(a.a)(...qn),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():e=>e)(a.e)(Yn);t.a=Zn},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n(15);const{key:o,cluster:i}=r.a.pusher||{};let a=null;function s(e,t,n){return null===a&&(console.log("[Pusher] Connecting"),a=new Pusher(o,{cluster:i,encrypted:!0})),console.log("[Pusher] Subscribing to",e,t),a.subscribe(e).bind(t,n)}function l(e){console.log("[Pusher] Unsubscribing from",e),null!==a&&(a.unsubscribe(e),0===a.allChannels().length&&(console.log("[Pusher] Disconnecting"),a.disconnect(),a=null))}},function(e,t,n){"use strict";e.exports=n(551)},function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return g}));var r=n(58),o=n(9),i=n(46);function a(e=[],t,n){const o=[],i=new Set;for(const s of e){if(s.group&&s.columns&&Array.isArray(s.columns)){const e=a(s.columns,t,n);for(const t of e)i.has(t.key)||(o.push(t),i.add(t.key));continue}const{columnKey:e}=s;if("__name"===e)continue;if(!s.valueGetter||s.hidden)continue;if(i.has(e))continue;const l=s.displayName||Object(r.a)(s);n&&!n.test(l)||(o.push({label:l,tableName:t,key:e,numeric:s.numeric}),i.add(e))}return o}function s(e,t){return t&&!t.test("NAME")?null:{tableName:e,label:"NAME",key:"__name"}}function l(e,t){for(const n of e){if(n.columnKey===t)return n;if(n.group){const e=l(n.columns,t);if(e)return e}}return null}function c(e,t){return{key:`${e.key}_${t.key}`,category:e,value:t}}function u(e,t){return t===o.c.antibiotics?Object(i.d)(e):t===o.c.snps||t===o.c.genes||t===o.c.kleborateAMR||t===o.c.vista?e===i.k?"ABSENT":"PRESENT":String(e)}function d(e,t=!1){try{const n=e.replace("?","\\?");return t?new RegExp(`^${n}$`,"i"):new RegExp(n,"i")}catch(e){return null}}const h={"=":(e,t)=>e===t,">":(e,t)=>t>e,">=":(e,t)=>t>=e,"<":(e,t)=>t<e,"<=":(e,t)=>t<=e};function p(e){const t=e.replace(" ","");let n;if("<"===t[0]||">"===t[0]?(n=t[0],"="===t[1]&&(n+="=")):"="===t[0]&&(n="="),!n)return null;const r=t.slice(n.length);if(isNaN(r))return null;if(!r.length)return{test:()=>!0};const o=h[n].bind(null,Number(r));return{test:e=>o(Number(e))}}const f={FREQ_DESC:(e,t)=>t.ids.length-e.ids.length,FREQ_ASC:(e,t)=>e.ids.length-t.ids.length,VALUE_DESC:(e,t)=>e.label>t.label?-1:e.label<t.label?1:0,VALUE_ASC:(e,t)=>e.label>t.label?1:e.label<t.label?-1:0};function m(e,t,n,o,i){const a=t.activeColumn,s={tableName:e,label:a.displayName||Object(r.a)(a),key:a.columnKey,numeric:a.numeric},l=[];let u;a.numeric&&(u=p(o)),u||(u=d(o,i));for(const e of n){const t=a.valueGetter(e);u&&u.test(t)&&l.push(e.uuid)}return c(s,{key:i?o:"contains",label:o,ids:l})}function g(e,t){return t.some(t=>!t.value.isExpression&&t.category.key===e.key)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return c}));var r=n(58);const o=document.createElement("canvas").getContext("2d"),i="bold",a="normal";function s(e,t,n){return o.font=((e=a,t=13)=>`${e} ${t}px "Roboto", "Helvetica", "Arial", sans-serif`)(t,n),o.measureText(e.slice(0,100)).width}const l=e=>s(e,i,11);function c(e,{genomes:t}){if(e.fixedWidth)return e;const{cellPadding:n=16}=e,o=l(Object(r.a)(e))+n;let c="",u=!1;const{valueGetter:d,getTextToMeasure:h=d}=e;for(const n of t){let t=h(n);null!=t&&(t=String(t),t.length>c.length&&(c=t,u="__name"===e.columnKey&&(n.__isCollection||n.__isReference)))}return e.width=c.length?Math.max(e.getMinWidth?e.getMinWidth():e.minWidth||0,o,s(c,u?i:a)+n):o,e}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s}));const r="LIBMR HISTORY SNAPSHOT";function o(e){return{type:r,payload:{image:e}}}const i="LIBMR HISTORY TRAVEL";function a(e){return{type:i,payload:{index:e}}}const s="LIBMR HISTORY REVERT"},function(e,t,n){var r=n(92),o=n(66),i=n(191),a=n(173),s=n(174),l=function(e,t,n){var c,u,d,h=e&l.F,p=e&l.G,f=e&l.S,m=e&l.P,g=e&l.B,v=e&l.W,y=p?o:o[t]||(o[t]={}),b=y.prototype,_=p?r:f?r[t]:(r[t]||{}).prototype;for(c in p&&(n=t),n)(u=!h&&_&&void 0!==_[c])&&s(y,c)||(d=u?_[c]:n[c],y[c]=p&&"function"!=typeof _[c]?n[c]:g&&u?i(d,r):v&&_[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((y.virtual||(y.virtual={}))[c]=d,e&l.R&&b&&!b[c]&&a(b,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"i",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"j",(function(){return h}));const r="LIBMR TIMELINE BOUNDS",o=e=>({type:r,payload:e||null}),i="LIBMR TIMELINE NODE SIZE",a=e=>({type:i,payload:e}),s="LIBMR TIMELINE SPEED",l=e=>({type:s,payload:e}),c="LIBMR TIMELINE UNIT",u=e=>({type:c,payload:e}),d="LIBMR TIMELINE VIEWPORT",h=e=>({type:d,payload:e})},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";n(991);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n.n(s),c=n(180),u=n.n(c),d=n(489),h=n.n(d);const p=({id:e,...t})=>o.a.createElement(u.a,{className:l()("libmr-ToggleSwitch",t.className,{"is-checked":t.isChecked}),id:e},o.a.createElement("label",null,t.label),o.a.createElement(h.a,{checked:t.isChecked,onChange:()=>t.onChange(!t.isChecked)}));p.propTypes={className:a.a.string,id:a.a.string,isChecked:a.a.bool,label:a.a.node,onChange:a.a.func};var f=p;n.d(t,"a",(function(){return f}))},function(e,t,n){"use strict";var r=n(419),o=n(32);var i=function(e){o.extend(this,e),this.initialize.apply(this,arguments)};o.extend(i.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=o.clone(e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,o=t._start,i=t._view;return n&&1!==e?(i||(i=t._view={}),o||(o=t._start={}),function(e,t,n,o){var i,a,s,l,c,u,d,h,p,f=Object.keys(n);for(i=0,a=f.length;i<a;++i)if(u=n[s=f[i]],t.hasOwnProperty(s)||(t[s]=u),(l=t[s])!==u&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),(d=typeof u)===typeof(c=e[s]))if("string"===d){if((h=r(c)).valid&&(p=r(u)).valid){t[s]=p.mix(h,o).rgbString();continue}}else if("number"===d&&isFinite(c)&&isFinite(u)){t[s]=c+(u-c)*o;continue}t[s]=u}}(o,i,n,e),t):(t._view=n,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return o.isNumber(this._model.x)&&o.isNumber(this._model.y)}}),i.extend=o.inherits,e.exports=i},function(e,t,n){"use strict";var r=n(14),o=n(6);var i=n(72);n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));const a=Object(r.b)("FETCH_SUMMARY");function s(){return{type:a,payload:{promise:Promise.all([Object(o.a)("GET","/api/summary"),Object(i.b)()]).then(([e,t])=>({...e,offlineCollections:t.length}))}}}},function(e,t,n){"use strict";var r=n(2),o=n(43),i=n.n(o),a=n(100),s=n(59);const l=["#834B96","#B668A6","#756E94","#97B5BE","#92A3B8","#E8E0EE","#BFABCF","#CFC1DB","#9070AC","#A389BB","#8968A7","#9D81B6"];function c(e,t){let n=!1,r=e;"#"===r[0]&&(r=r.slice(1),n=!0);const o=parseInt(r,16);let i=(o>>16)+t;i>255?i=255:i<0&&(i=0);let a=(o>>8&255)+t;a>255?a=255:a<0&&(a=0);let s=(255&o)+t;return s>255?s=255:s<0&&(s=0),(n?"#":"")+(s|a<<8|i<<16).toString(16)}const u=l.map(e=>c(e,-20)),d=l.map(e=>c(e,20));function h(e){return d[u.indexOf(e)]}var p=n(10),f=n(16);n.d(t,"d",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"a",(function(){return y})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return x}));const m=({upload:e})=>e.progress.analysis,g=e=>m(e).selectedOrganism,v=e=>m(e).position,y=Object(r.createSelector)(m,e=>Object.keys(e.entities).map(t=>e.entities[t]));function b(e){const t={},n={};for(const r of e)for(const e of Object.keys(r)){if(e in t||(t[e]={total:0,errors:0}),null!==r[e]&&t[e].total++,!1===r[e]&&t[e].errors++,"mlst"===e&&r.mlst){const{st:e}=r.mlst;n[e]=(n[e]||0)+1}r[e]&&r[e].source&&(t[e].source=r[e].source)}return t.mlst&&(t.mlst.sequenceTypes=Object.keys(n).map(e=>({label:`ST ${e}`,total:n[e]})),t.mlst.errors&&t.mlst.sequenceTypes.push({label:"Error",total:t.mlst.errors,colour:f.c.DANGER_COLOUR})),t}const _=Object(r.createSelector)(s.f,y,(e,t)=>{const n={};let r=0,o=0;for(const e of t)if("speciator"in e&&null!==e.speciator)if(!1===e.speciator)o++;else{const{organismId:t}=e.speciator;n[t]=(n[t]||[]).concat(e)}else r++;const i=function(){const e=new Map;let t=0;return n=>{if(!e.has(n)){const r=u[t++%u.length];e.set(n,r)}return e.get(n)}}(),a=[];for(const e of Object.keys(n)){const t=n[e],r=Object(p.c)(e,t[0].speciator.organismName),o=i(r);a.push({key:e,label:r,colour:o,total:t.length,analyses:b(t)})}return!r||e&&!a.length||a.push({key:"pending",label:"Pending",total:r,colour:"#ccc"}),o&&a.push({key:"error",label:"Error",total:o,colour:f.c.DANGER_COLOUR}),a}),w=Object(r.createSelector)(_,e=>e.map(e=>{if(e.analyses){const t=Object.keys(e.analyses).map(t=>({key:t,label:f.d[t],...e.analyses[t]}));return{...e,analyses:i()(t,e=>`${e.label.toUpperCase()}-${e.key}`)}}return e})),C=Object(r.createSelector)(w,e=>!!e.length&&"pending"!==e[0].key);function S(e){const t=e.match(/^(.)\S* (..).*$/);if(t){const[,e,n]=t;return`${e}. ${n}.`}return e}const E=Object(r.createSelector)(_,e=>{const t={label:"Organism",data:[],backgroundColor:[],labels:[],organismIds:[],shortLabels:[],total:0},n={label:"Sequence Type",data:[],backgroundColor:[],labels:[],parents:[],total:0,tooltips:[]};let r=0;for(const{label:o,colour:i,total:a,key:s,analyses:l={}}of e){t.data.push(a),t.backgroundColor.push(i),t.labels.push(o),t.shortLabels.push(S(o)),t.organismIds.push(s),t.total+=a;let e=a;const{mlst:c={}}=l,{sequenceTypes:u=[]}=c;for(const t of u)n.data.push(t.total),n.backgroundColor.push(t.colour||h(i)),n.labels.push(t.label),n.parents.push(r),n.tooltips.push(`${t.total} / ${a}, ${(t.total/a*100).toFixed(1)}%`),e-=t.total;e>0&&(n.data.push(e),n.backgroundColor.push("#fefefe"),n.labels.push("Unknown ST"),n.parents.push(r)),r++}return{organisms:t,sts:n}}),x=Object(r.createSelector)(a.b,E,(e,{organisms:t,sts:n})=>{const r=[];return e&&r.unshift(e),t.data.length&&r.unshift(t),n.data.length&&r.unshift(n),r})},function(e,t,n){var r=n(153);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){var r=n(399),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return c}));var r=n(15);const o="selected-genomes";function i(e){return e>function(){const{pagination:e={max:2500}}=r.a;return e.max}()}function a(){return localforage.getItem(o).then(e=>Object.values(e||{}))}function s(e=[]){const t={};for(const{id:n,name:r,organismId:o,binned:i}of e)t[n]={id:n,name:r,organismId:o,binned:i};return localforage.setItem(o,t)}function l(e){return localforage.getItem(o).then(t=>{for(const{id:n,name:r,organismId:o,binned:i}of e)t[n]={id:n,name:r,organismId:o,binned:i};return localforage.setItem(o,t)})}function c(e){return localforage.getItem(o).then(t=>{for(const{id:n}of e)delete t[n];return localforage.setItem(o,t)})}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(568),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(2),o=n(22),i=n(53);const a=Object(r.createSelector)(o.f,e=>e.reduce((e,t)=>(e[t.organismId]=e[t.organismId]||[],e[t.organismId].push(t),e),{})),s=Object(r.createSelector)(i.h,a,(e,t)=>!e&&1===Object.keys(t).length),l=Object(r.createSelector)(a,e=>{const t=Object.keys(e)[0];return{organismId:t,numGenomes:e[t].length}}),c=e=>e.genomes.collectionMetadata},function(e,t,n){"use strict";n.r(t),n.d(t,"isSupported",(function(){return a})),n.d(t,"taxIdMap",(function(){return c})),n.d(t,"getOrganismName",(function(){return d}));var r=n(229);n.d(t,"FormattedName",(function(){return r.default}));const o=n(295),i=new Set(o.map(e=>e.id)),a=({organismId:e})=>i.has(e),s=o.reduce((e,{id:t,nickname:r})=>(e[r]={id:t,nickname:r,...n(628)(`./${r}`).default},e),{}),l=Object.keys(s).map(e=>s[e]),c=new Map(l.map(e=>[e.id,e]));let u={};function d(e,t){return c.has(e)?c.get(e).name:t}t.default={get list(){return l},get current(){return u},set current(e){u=c.get(e)||{}},get:e=>s[e],get id(){return u.id},get formattedName(){return u.formattedName},get nickname(){return u.nickname},get uiOptions(){return u.uiOptions||{}},get maxGenomeSize(){return u.maxGenomeSize||Math.pow(10,10)},get gcRange(){return u.gcRange||{}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(48),a=n(16),s=n(184);const l={color:a.c.DANGER_COLOUR};t.a=({status:e,color:t,label:n,isArchive:r})=>o.a.createElement("div",{className:"wgsa-download-icon"},e===s.a.LOADING?o.a.createElement(i.a,null):o.a.createElement("div",null,o.a.createElement("i",{className:"wgsa-button-icon material-icons",style:e===s.a.ERROR?l:{color:t}},r?"archive":"insert_drive_file"),n?o.a.createElement("span",{className:"wgsa-download-label"},n):null))},function(e,t,n){"use strict";n(933);var r=n(3),o=n(0),i=n.n(o),a=n(477),s=n.n(a),l=(n(945),n(4)),c=n.n(l),u=n(214),d=i.a.createClass({displayName:"Component.react",propTypes:{actions:i.a.PropTypes.array,children:i.a.PropTypes.node,onClose:i.a.PropTypes.func,title:i.a.PropTypes.node},getDefaultProps:()=>({actions:[]}),render(){return i.a.createElement("div",{className:c()("wgsa-modal-container",this.props.containerClassName)},i.a.createElement(u.a,{visible:this.props.isOpen,hide:this.props.onClose},i.a.createElement("aside",{className:c()("wgsa-modal",this.props.className)},i.a.createElement("header",{onClick:e=>e.stopPropagation()},this.props.title,i.a.createElement("div",{className:"wgsa-modal-actions"},this.props.actions,i.a.createElement("button",{className:"mdl-button mdl-button--icon",title:"Close",onClick:this.props.onClose},i.a.createElement("i",{className:"material-icons"},"close")))),i.a.cloneElement(this.props.children,{onClick:e=>e.stopPropagation()}))))}}),h=n(17),p=n.n(h),f=n(235),m=n(179);var g=Object(r.a)(null,(function(e,{genome:t}){return{moveToBin:()=>e(Object(m.a)([t],!0)),restoreFromBin:()=>e(Object(m.a)([t],!1))}}))(({genome:e={},...t})=>"me"!==e.owner?null:i.a.createElement(f.a,p()({item:e},t))),v=n(130),y=n(16),b=n(6);function _(e){for(const t in y.a)if(-1!==e.indexOf(t))return e;return`${e}.fasta`}var w=({id:e,name:t})=>i.a.createElement("a",{href:Object(b.c)(`/download/genome/${e}/fasta`),download:_(t),target:"_blank",rel:"noopener",title:"Download genome",className:"wgsa-download-button mdl-button mdl-button--icon"},i.a.createElement(v.a,{color:y.b.COLOURS.PURPLE,label:".fa"})),C=n(48),S=n(157),E=n(142),x=n(204),k=n(50),O=n(155),T=n(52);const M=({analysis:e})=>{const{speciator:t,serotype:n={}}=e;return t?"28901"===t.speciesId?i.a.createElement(E.a,{abbreviated:!0,speciesName:t.speciesName,subspecies:n.subspecies,serotype:n.value}):"2697049"===t.organismId?i.a.createElement(E.a,{speciesName:t.organismName}):i.a.createElement(E.a,{speciesName:t.speciesName}):i.a.createElement("em",null,"Species prediction pending")};var P=({genome:e})=>{const{analysis:t={},country:n,pmid:r}=e,o=Object(k.c)(e);return i.a.createElement("div",{className:"wgsa-genome-report-summary"},i.a.createElement("header",null,i.a.createElement("h1",{title:e.name,className:"h2"},e.name),i.a.createElement(T.c,null)),i.a.createElement("p",{className:"h6 pw-genome-report-summary-subtitle"},i.a.createElement(M,{analysis:t})),(o||n||r)&&i.a.createElement("dl",null,n&&i.a.createElement("div",{className:"pw-genome-report-metadata inline"},i.a.createElement("dt",null,"Country"),i.a.createElement("dd",null,Object(O.b)(n))),o&&i.a.createElement("div",{className:"pw-genome-report-metadata inline"},i.a.createElement("dt",null,"Date"),i.a.createElement("dd",null,o)),r&&i.a.createElement("div",{className:"pw-genome-report-metadata inline"},i.a.createElement("dt",null,"PMID"),i.a.createElement("dd",null,i.a.createElement(x.a,{pmid:r},r)))))};const L=({label:e,children:t,inline:n,className:r})=>{return""!==(o=t)&&null!=o?i.a.createElement("div",{className:c()("pw-genome-report-metadata",r,{inline:n})},i.a.createElement("dt",null,e),i.a.createElement("dd",null,function(e){return i.a.isValidElement(e)?e:Array.isArray(e)?i.a.createElement("em",null,"Array"):"object"==typeof e?i.a.createElement("em",null,"Object"):e}(t))):null;var o},N=i.a.createClass({displayName:"VersionSwitcher",getInitialState(){const{genome:e,taskName:t}=this.props,{analysis:n}=e;return{version:n[t].__v}},getVersions(){const{genome:e,taskName:t}=this.props,{tasks:n=[]}=e,r=[];for(const{task:e,version:o}of n)e===t&&r.push(i.a.createElement("button",{key:o,className:c()("wgsa-analysis-version",{"is-active":o===this.state.version}),onClick:()=>this.setState({version:o})},o));return r},render(){const{genome:e,taskName:t}=this.props,n=this.props.component,r=this.getVersions(e,t);return i.a.createElement(i.a.Fragment,null,r.length>0&&i.a.createElement("aside",{className:"wgsa-genome-detail-version"},"Version: ",r),i.a.createElement(n,{result:e.analysis[t],genome:e}))}});var A=({genome:e})=>{const{userDefined:t={}}=e;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Metadata"),i.a.createElement("dl",{className:"grid"},Object.keys(t).map(e=>i.a.createElement(L,{key:e,label:e},t[e]))))},I=n(375),R=n(287),D=n(277),j=n(74),z=n.n(j);const F={cursor:"pointer"};class B extends o.Component{constructor(...e){var t;return t=super(...e),this.state={hovering:!1},t}componentDidMount(){const{labels:e=[],values:t=[],backgroundColor:n="#b199c7",hoverBackgroundColor:r="#673c90",toolTipFunc:o=null}=this.props,i=null===o?void 0:{callbacks:{label:o,title:()=>""}},a=this.canvas.getContext("2d");this.chart=new z.a(a,{type:"bar",data:{labels:e,datasets:[{backgroundColor:n,hoverBackgroundColor:r,borderWidth:0,data:t}]},options:{legend:{display:!1},scales:{xAxes:[{barPercentage:1,categoryPercentage:.9,ticks:{maxTicksLimit:10}}],yAxes:[{ticks:{beginAtZero:!0,display:!1}}]},tooltips:i}})}componentDidUpdate(){const{labels:e=[],values:t=[],backgroundColor:n,hoverBackgroundColor:r}=this.props,o=this.chart.data.datasets[0];o.data=t,o.backgroundColor=n,o.hoverBackgroundColor=r,this.chart.data.labels=e,this.chart.update()}onClick(e){const t=this.chart.getElementsAtEvent(e);let n,r;try{const e=t[0],{_index:o}=e;n=this.chart.data.labels[o],r=this.chart.data.datasets[0].data[o]}catch(e){return null}return this.props.onClick({label:n,value:r})}render(){return i.a.createElement("canvas",{style:F,onClick:e=>this.onClick(e),ref:e=>{this.canvas=e},width:this.props.width,height:this.props.height})}}var W=B,H=n(241),U=n(20),G=n(104);const V=e=>Object(H.b)(e.yLabel,e.xLabel),Y=["FAILED_BUILDING_CLUSTERS","FAILED_FETCHING_CLUSTERS","FAILED_FETCHING_EDGES","COMPLETED_LAYOUT"];class q extends o.Component{onClick({label:e}){if(-1===Y.indexOf(this.props.status))return;this.props.numberOfNodesAtThreshold[this.props.chartThresholds.indexOf(e)]>G.b?this.props.showToast("This cluster is too large to display, please select a lower threshold."):this.props.setThreshold(e)}render(){return i.a.createElement(W,{width:584,height:100,labels:this.props.chartThresholds,values:this.props.chartValues,onClick:e=>this.onClick(e),toolTipFunc:V,backgroundColor:this.props.chartColours.status,hoverBackgroundColor:this.props.chartColours.hover})}}var Z=Object(r.a)((function(e){return{chartColours:U.a(e),chartThresholds:U.b(e),chartValues:U.g(e),numberOfNodesAtThreshold:U.i(e),status:U.n(e)}}))(q),$=n(224),K=n(42);var X=Object(r.a)((function(e){return{selectedGenomeId:Object(U.m)(e),threshold:Object(U.p)(e),status:Object(U.n)(e)}}),(function(e){return{setThreshold:t=>e(K.l(t))}}))(({result:e,selectedGenomeId:t,setThreshold:n,status:r,threshold:o})=>i.a.createElement("div",{className:c()({"pw-genome-report-noprint":"COMPLETED_LAYOUT"!==r})},i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Core genome clustering"),i.a.createElement("p",null,i.a.createElement("a",{href:e.scheme,target:"_blank",rel:"noopener"},e.scheme))),i.a.createElement(R.a,null,i.a.createElement("div",{className:"pw-cluster-view"},i.a.createElement(D.a,null),i.a.createElement("p",{className:"pw-cluster-chart-intro"},"Pick a threshold by clicking on the chart below"),i.a.createElement(Z,{setThreshold:n}),i.a.createElement("div",{className:"pw-cluster-buttons"},i.a.createElement($.a,{genomeId:t},"Recluster"),i.a.createElement(I.a,{to:`/clustering/${t}?threshold=${o}`,className:"mdl-button mdl-button--raised mdl-button--colored pw-cluster-buttons-view"},"View cluster")))))),Q=({result:{fp:e,summary:t}})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Core stats"),i.a.createElement("dl",{className:"grid"},i.a.createElement("div",null,i.a.createElement("dt",null,"Core matches"),i.a.createElement("dd",null,t.kernelSize)),i.a.createElement("div",null,i.a.createElement("dt",null,"Core families"),i.a.createElement("dd",null,t.percentKernelMatched,"%")),i.a.createElement("div",null,i.a.createElement("dt",null,"Non-core"),i.a.createElement("dd",null,(100-t.percentAssemblyMatched).toFixed(1),"%")),i.a.createElement("div",null,i.a.createElement("dt",null,"Complete alleles"),i.a.createElement("dd",null,t.completeAlleles)),i.a.createElement("div",null,i.a.createElement("dt",null,"Families matched"),i.a.createElement("dd",null,t.familiesMatched)),i.a.createElement("div",null,i.a.createElement("dt",null,i.a.createElement(T.d,null)," reference"),i.a.createElement("dd",null,e.reference)))),J=({matches:e,amrMatches:t=[],library:n,setBackground:r=!1,displayAmr:o=!1})=>{const a="gram_negative"===n?"Inc Match":"Group",s=e.reduce((e,t)=>(e.push(t[a].replace(/_\d+$/,"")),e),[]);return s.sort(),e.sort((e,t)=>e["Contig Start"]-t["Contig Start"]),i.a.createElement(i.a.Fragment,null,i.a.createElement("tbody",{className:"pw-inctyper-contig"},e.map((n,r)=>0===r?i.a.createElement("tr",null,i.a.createElement("td",{rowSpan:e.length},s.join("/")),o&&i.a.createElement("td",{rowSpan:e.length},0===t.length?"-":t.join(", ")),i.a.createElement("td",null,n["Inc Match"]),i.a.createElement("td",null,n["Percent Identity"]),i.a.createElement("td",null,n["Match Coverage"])):i.a.createElement("tr",null,i.a.createElement("td",null,n["Inc Match"]),i.a.createElement("td",null,n["Percent Identity"]),i.a.createElement("td",null,n["Match Coverage"])))))};function ee(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Plasmid Inc types"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://cge.cbs.dtu.dk/services/PlasmidFinder/",target:"_blank",rel:"noopener"},"Database sourced from https://cge.cbs.dtu.dk/services/PlasmidFinder/"))),i.a.createElement("p",null,e))}var te=({analysis:e})=>{const{inctyper:t,paarsnp:n={matches:[],library:""}}=e;if(!t.hasOwnProperty("Inc Matches"))return ee("Inctyper was not run for this assembly.");if(0===t["Inc Matches"].length)return ee("No matches reported.");const r=t["Inc Matches"].reduce((e,t)=>{const n=e;return n.hasOwnProperty(t.Contig)||(n[t.Contig]=[]),n[t.Contig].push(t),n},{}),o=Object.keys(r).sort(),a={};for(const e of n.matches)e.query&&(n.hasOwnProperty("paar")&&n.paar.includes(e.id)||n.hasOwnProperty("snp")&&n.snp.includes(e.id))&&(e.query.id in a||(a[e.query.id]=[]),a[e.query.id].push(e.id));return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Plasmid Inc types"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://cge.cbs.dtu.dk/services/PlasmidFinder/",target:"_blank",rel:"noopener"},"Database sourced from https://cge.cbs.dtu.dk/services/PlasmidFinder/"))),i.a.createElement("table",{className:"bordered wide",cellSpacing:"0"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Contig Inc type"),""!==n.library&&i.a.createElement("th",null,"Contig AMR genes"),i.a.createElement("th",null,"Match ID"),i.a.createElement("th",null,"% Identity"),i.a.createElement("th",null,"% Coverage"))),Object.keys(r).length?o.map((e,o)=>i.a.createElement(J,{amrMatches:a[e],library:t.Library,matches:r[e],setBackground:o%2==0,displayAmr:""!==n.library})):i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{colSpan:"5",className:"muted"},"No matches")))))};const ne='14px "Roboto", "Helvetica", "Arial", sans-serif';!function(e){e.pluginService.register({beforeDatasetsDraw(e){const t=e.scales["y-axis-0"],n=e.scales["x-axis-0"],r=e.chart.ctx;if(e.options.horizontalLine)for(let o=0;o<e.options.horizontalLine.length;o++){r.save();const i=e.options.horizontalLine[o],a=i.y?t.getPixelForValue(i.y):0;a&&(r.beginPath(),r.moveTo(n.getPixelForValue(n.min),a),r.lineTo(n.getPixelForValue(n.max),a),r.lineWidth=i.lineWidth||2,r.strokeStyle=i.style||"rgba(0,0,0,.54)",i.dash&&r.setLineDash([8,8]),r.stroke()),i.text&&(r.fillStyle=i.textStyle||i.style||"rgba(0,0,0,.54)",r.textBaseline="top",r.textAlign="right",r.font=i.font||ne,r.fillText(i.text,n.getPixelForValue(n.max),a+4)),r.restore()}}}),e.pluginService.register({beforeDatasetsDraw(e){const t=e.scales["x-axis-0"],n=e.scales["y-axis-0"],r=e.chart.ctx;if(e.options.verticalLine)for(let o=0;o<e.options.verticalLine.length;o++){r.save();const i=e.options.verticalLine[o],a=i.x?t.getPixelForValue(i.x):0;a&&(r.beginPath(),r.moveTo(a,n.getPixelForValue(n.min)),r.lineTo(a,n.getPixelForValue(n.max)),r.lineWidth=i.lineWidth||2,r.strokeStyle=i.style||"rgba(0,0,0,.54)",i.dash&&r.setLineDash([8,8]),r.stroke()),i.text&&(r.fillStyle=i.textStyle||i.style||"rgba(0,0,0,.54)",r.font=i.font||ne,r.textBaseline="top",r.fillText(i.text,a+8,n.getPixelForValue(n.max))),r.restore()}}})}(z.a);var re=i.a.createClass({displayName:"N50Chart.react",componentDidMount(){const{metrics:e}=this.props,{contigSums:t,N50Contig:n}=e,r={label:"N50",backgroundColor:"#a386bd",fill:!1,pointBorderColor:"#a386bd",data:[{x:0,y:0}].concat(t.map((e,t)=>({x:t+1,y:e})))};this.chart=new z.a(this.canvas,{type:"line",data:{datasets:[r]},options:{animation:!1,responsive:!1,legend:{display:!1},tooltips:{displayColors:!1,callbacks:{title:(e,{datasets:t})=>"Sum: ".concat(e.map(({index:e,datasetIndex:n})=>t[n].data[e].y).join(", ")),label:({index:e,datasetIndex:t},{datasets:n})=>`Size: ${n[t].data[e].y-(e>0?n[t].data[e-1].y:0)}`}},scales:{xAxes:[{type:"linear",position:"bottom",ticks:{display:!1,max:t.length+1},scaleLabel:{display:!1},beginAtZero:!0,gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]},horizontalLine:[{y:e.length/2,style:"#3c7383",text:e.length/2,dash:!0}],verticalLine:[{x:n,style:"#ccc",dash:!0,text:`Contig ${n}`,textStyle:"rgba(0, 0, 0, 0.54)"}]}})},render(){return i.a.createElement("canvas",{ref:e=>{this.canvas=e},width:"584",height:"320"})}}),oe=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Assembly stats"),i.a.createElement("dl",{className:"grid"},i.a.createElement("div",null,i.a.createElement("dt",null,"Genome length"),i.a.createElement("dd",null,e.length)),i.a.createElement("div",null,i.a.createElement("dt",null,"No. contigs"),i.a.createElement("dd",null,e.contigs)),i.a.createElement("div",null,i.a.createElement("dt",null,"Smallest contig"),i.a.createElement("dd",null,e.smallestContig)),i.a.createElement("div",null,i.a.createElement("dt",null,"Largest contig"),i.a.createElement("dd",null,e.largestContig)),i.a.createElement("div",null,i.a.createElement("dt",null,"Average contig length"),i.a.createElement("dd",null,e.averageContig)),i.a.createElement("div",null,i.a.createElement("dt",null,"N50"),i.a.createElement("dd",null,e.N50)),i.a.createElement("div",null,i.a.createElement("dt",null,"Non-ATCG"),i.a.createElement("dd",null,e.nonATCG)),i.a.createElement("div",null,i.a.createElement("dt",null,"GC content"),i.a.createElement("dd",null,e.gcContent,"%"))),i.a.createElement("figure",null,i.a.createElement("figcaption",null,"N50 chart"),i.a.createElement(re,{metrics:e}))),ie=n(10);const ae={PUBLIC:"https://gitlab.com/cgps/pathogenwatch/amr-libraries/blob",TESTING:"https://gitlab.com/cgps/pathogenwatch/amr-test-libraries/blob"},se=new Set(["1280","1313","485","90370"]);function le(e){const t=e.replace(/[A-Za-z_]+/g,"").split("-")[0];return""!==t?parseInt(t,10):-1}var ce=({result:e,genome:t})=>{const{organismId:n}=t.analysis.speciator,{antibiotics:r,snp:o,paar:a,library:s={label:n,source:se.has(n)?"PUBLIC":"TESTING",version:"0.0.1"}}=e;let l=new Set;if(ie.d.has(n)){const{amrOptions:e={}}=ie.d.get(n);e&&e.hiddenColumns&&(l=e.hiddenColumns)}const u=l.size?r.filter(({name:e})=>!l.has(e)):r,d=`${ae[s.source]} /${s.version}/${s.label}.toml`;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"pw-genome-report-section-header"},i.a.createElement("a",{href:d,target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},i.a.createElement("strong",null,"PAARSNP AMR")," - Library ",s.label," version ",s.version,"PUBLIC"!==s.source?` (${s.source})`:"")),i.a.createElement("table",{cellSpacing:"0",className:"wgsa-genome-report-amr wide bordered"},i.a.createElement("caption",null,"Resistance profile"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Agent"),i.a.createElement("th",null,"Predicted phenotype"),i.a.createElement("th",null,"Variants/genes"))),i.a.createElement("tbody",null,u.map(({name:e,fullName:t,state:n,mechanisms:r})=>i.a.createElement("tr",{key:e,className:c()({"pw-genome-report-amr-present":"NOT_FOUND"!==n,"pw-genome-report-amr-resistant":"RESISTANT"===n})},i.a.createElement("td",null,t),i.a.createElement("td",{className:"wgsa-genome-report-amr-state"},n.replace(/_/g," ").toLowerCase()),i.a.createElement("td",{className:"pw-genome-report-amr-mechanisms"},function(e,t,n){const r=e.filter(e=>t.includes(e)||n.includes(e)).map(e=>t.includes(e)?[e,""]:function(e){const t=e.split("_");if(t[t.length-1].match(/^(-+|ins|[A-Za-z]+)(-?[0-9]+)(-+|del|[A-Za-z]+)$/))return[t.slice(0,-1).join("_"),t[t.length-1]];const n=["_disrupted","_frameshift","_truncated"].find(t=>e.endsWith(t));return n?[e.replace(n,""),n]:e.match("aa_insert")||e.match("nt_insert")?[t.slice(0,-3).join("_"),t.slice(-3).join("_")]:[e,""]}(e)).reduce((e,t)=>(e[t[0]]||(e[t[0]]=new Set),""!==t[1]&&e[t[0]].add(t[1]),e),{});return Object.keys(r).map(e=>e+(r[e]&&0!==r[e].size?`_${Array.from(r[e]).sort((e,t)=>le(e)-le(t)).join("/")}`:"")).sort().join("; ")}(r,a,o)))))))},ue=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"pw-genome-report-section-header"},i.a.createElement("a",{href:"https://github.com/katholt/Kleborate/wiki/Antimicrobial-resistance",target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},i.a.createElement("strong",null,"Sourced from Kleborate"))),i.a.createElement("table",{cellSpacing:"0",className:"wgsa-genome-report-amr wide bordered"},i.a.createElement("caption",null,"Resistance profile"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Agent"),i.a.createElement("th",null,"Predicted phenotype"),i.a.createElement("th",null,"Genotypes"))),i.a.createElement("tbody",null,Object.values(e.amr.profile).filter(e=>"SHVM"!==e.key).map(e=>i.a.createElement("tr",{key:e.name,className:c()({"pw-genome-report-amr-present":e.resistant,"pw-genome-report-amr-resistant":e.resistant})},i.a.createElement("td",null,e.name),i.a.createElement("td",{className:"wgsa-genome-report-amr-state"},e.resistant?"Resistant":"Not Found"),i.a.createElement("td",{className:"pw-genome-report-amr-mechanisms"},"-"===e.matches?"":e.matches.replace(/;/gi,", ").replace(/\^/gi,"").replace(/\*\?/gi," (homolog, fragment)").replace(/\*/gi," (homolog)").replace(/\?/gi," (fragment)").replace(/\.v\d/g,"")))))));const de={amx:{name:"Amoxicillin",type:"Beta-lactams"},cro:{name:"Ceftriaxone",type:"Extended-Spectrum Beta-lactams"},ctx:{name:"Cefotaxime",type:"Broad-spectrum cephalosporins"},cxm:{name:"Cefuroxime",type:"Beta-lactams"},mem:{name:"Meropenem",type:"Carbapenems"},pen:{name:"Penicillin",type:"Beta-lactams"}};var he=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"pw-genome-report-section-header"},i.a.createElement("a",{href:"https://www.ncbi.nlm.nih.gov/pubmed/27302760",target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},i.a.createElement("strong",null,"PBP Analysis")," - Li et al, 2016")),i.a.createElement("table",{cellSpacing:"0",className:"wgsa-genome-report-amr wide bordered"},i.a.createElement("caption",null,"Predicted resistance profile"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Agent"),i.a.createElement("th",null,"Predicted MIC"),i.a.createElement("th",null,"Inferred phenotype (non/meningitis)"))),i.a.createElement("tbody",null,Object.keys(de).map(t=>i.a.createElement("tr",{key:de[t].name,className:c()({"pw-genome-report-amr-present":!0,"pw-genome-report-amr-resistant":"R"===e[t]||"R"===e[`${t}Meningitis`]||"R"===e[`${t}NonMeningitis`]})},i.a.createElement("td",null,de[t].name),i.a.createElement("td",{className:"wgsa-genome-report-amr-state"},e[`${t}Mic`]),i.a.createElement("td",{className:"wgsa-genome-report-amr-state"},(e.hasOwnProperty(t)?e[t]:`${e[`${t}NonMeningitis`]} / ${e[`${t}Meningitis`]}`).replace(/R/g,"Resistant").replace(/I/g,"Intermediate").replace(/S/g,"Sensitive"))))))),pe=({genome:e})=>{const{paarsnp:t,kleborate:n,spn_pbp_amr:r}=e.analysis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Antimicrobial resistance (AMR)"),!!t&&!n&&i.a.createElement(ce,{result:t,genome:e}),!!n&&i.a.createElement(ue,{result:n}),!!r&&i.a.createElement(he,{result:r}))},fe=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Organism prediction"),i.a.createElement("dl",{className:"grid"},i.a.createElement(L,{label:"Taxonomy ID"},i.a.createElement("a",{href:`https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Tree&id=${e.organismId}`,target:"_blank",rel:"noopener",title:"View in NCBI taxonomy browser"},e.organismId)),i.a.createElement(L,{label:"Organism name"},e.organismName),i.a.createElement(L,{label:"RefSeq reference"},i.a.createElement("a",{href:`http://www.ncbi.nlm.nih.gov/assembly/${e.referenceId}/`,target:"_blank",rel:"noopener"},e.referenceId)),i.a.createElement(L,{label:"Mash distance"},e.mashDistance),i.a.createElement(L,{label:"p-value"},e.pValue),i.a.createElement(L,{label:"Matching hashes"},e.matchingHashes))),me=({to:e,children:t})=>i.a.createElement("div",{className:"pw-genome-report-external-link"},i.a.createElement("a",{href:e,target:"_blank",rel:"noopener"},t),i.a.createElement("i",{className:"material-icons"},"launch")),ge=n(89),ve=({result:e,speciator:t,filterKey:n="mlst",heading:r="MLST – Multilocus sequence typing"})=>{const o=e.alleles.map(e=>{const t=e.gene.split("_");return{gene:t[1]||t[0],hits:e.hits}});return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,r),i.a.createElement("p",null,i.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener"},e.url))),i.a.createElement("div",{className:"pw-genome-report-column one third"},i.a.createElement("dl",null,i.a.createElement(L,{label:"Sequence type"},i.a.createElement(ge.b,{id:e.st}))),i.a.createElement(me,{to:`/genomes/all?genusId=${t.genusId}&speciesId=${t.speciesId}&${n}=${e.st}`},"View all ST ",i.a.createElement(ge.b,{id:e.st,textOnly:!0}))),i.a.createElement("div",{className:"pw-genome-report-column two thirds"},i.a.createElement("table",{className:"pw-mlst-profile",cellSpacing:"0"},i.a.createElement("caption",null,"Profile"),i.a.createElement("thead",null,i.a.createElement("tr",null,o.map(({gene:e})=>i.a.createElement("th",{key:e},e)))),i.a.createElement("tbody",null,i.a.createElement("tr",null,o.map(({gene:e,hits:t})=>i.a.createElement("td",{key:e},t.length?t.map(e=>i.a.createElement(ge.a,{key:e,id:e})):i.a.createElement("span",{title:"Not found"},"?"))))))))},ye=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Genotyphi"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://github.com/katholt/genotyphi",target:"_blank",rel:"noopener"},"https://github.com/katholt/genotyphi"))),i.a.createElement("dl",{className:"flex"},i.a.createElement("div",null,i.a.createElement("dt",null,"Genotype"),i.a.createElement("dd",null,e.genotype)),i.a.createElement("div",null,i.a.createElement("dt",null,"SNPs called"),i.a.createElement("dd",null,e.foundLoci))),i.a.createElement(me,{to:`/genomes/all?organismId=90370&genotype=${e.genotype}`},"View all genotype ",e.genotype)),be=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"NG-MAST – Multi-antigen sequence typing"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://github.com/MDU-PHL/ngmaster",target:"_blank",rel:"noopener"},"https://github.com/MDU-PHL/ngmaster"))),i.a.createElement("div",null,i.a.createElement("dl",{className:"flex"},i.a.createElement("div",null,i.a.createElement("dt",null,"NG-MAST"),i.a.createElement("dd",null,e.ngmast)),i.a.createElement("div",null,i.a.createElement("dt",null,"POR"),i.a.createElement("dd",null,e.por)),i.a.createElement("div",null,i.a.createElement("dt",null,"TBPB"),i.a.createElement("dd",null,e.tbpb))),i.a.createElement(me,{to:`/genomes/all?genusId=482&speciesId=485&ngmast=${e.ngmast}`},"View all ST ",e.ngmast)));const _e={SISTR:{link:i.a.createElement("a",{href:"http://journals.plos.org/plosone/article?id=10.1371/journal.pone.0147101",target:"_blank",rel:"noopener"},i.a.createElement("em",null,"Salmonella In Silico")," Typing Resource (SISTR)"),title:"serovar"},SeroBA:{link:i.a.createElement("a",{href:"https://mgen.microbiologyresearch.org/content/journal/mgen/10.1099/mgen.0.000186",target:"_blank",rel:"noopener"},"SeroBA"),docs:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/typing-methods/seroba"}};var we=({genome:e})=>{const{speciator:t,serotype:n}=e.analysis,{link:r=i.a.createElement("span",null,"(unspecified source)"),title:o="serotype",docs:a}=_e[n.source]||{};return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Serotype"),i.a.createElement("p",null,r)),i.a.createElement("dl",{className:"flex"},n.subspecies&&i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"Subspecies"),i.a.createElement("dd",null,i.a.createElement("em",null,n.subspecies))),i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",{className:"pw-capitalise"},o),i.a.createElement("dd",null,n.value,n.warn&&a&&i.a.createElement("a",{href:a,target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},"Guidance on this result")))),i.a.createElement(me,{to:`/genomes/all?genusId=${t.genusId}&speciesId=${t.speciesId}&serotype=${n.value}`},"View all ",o," ",n.value))};var Ce=({genome:e})=>{const{poppunk:t,speciator:n}=e.analysis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Strain"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://www.pneumogen.net/gps/"},"The Global Pneumococcal Sequencing Project"))),i.a.createElement("dl",{className:"pw-genome-report-unsized"},i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"GPSC"),i.a.createElement("dd",null,t.strain,"novel"===t.strain&&"me"===e.owner&&i.a.createElement("a",{href:"mailto:gps@pneumogen.net?subject=Novel strain assignment&body=(Please attach your assembly to this email)",target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},"Submit for assignment")))),i.a.createElement(me,{to:`/genomes/all?genusId=${n.genusId}&speciesId=${n.speciesId}&strain=${t.strain}`},"View all GPSC ",t.strain))},Se=({genome:e})=>{const{kleborate:t,speciator:n}=e.analysis,r=!t.species.replace("Klebsiella (Raoultella)","Raoultella").startsWith(n.speciesName);return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Kleborate"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://github.com/katholt/Kleborate",target:"_blank",rel:"noopener"},"https://github.com/katholt/Kleborate"))),i.a.createElement("dl",{className:"grid"},i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"K locus"),i.a.createElement("dd",null,t.typing.K_locus),i.a.createElement(me,{to:`/genomes/all?genusId=${n.genusId}&klocus=${t.typing.K_locus}`},"View all ",t.typing.K_locus)),i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"Confidence"),i.a.createElement("dd",null,t.typing.K_locus_confidence)),i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,i.a.createElement("em",null,"wzi")),i.a.createElement("dd",null,t.typing.wzi))),i.a.createElement("dl",{className:"grid"},i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"O locus"),i.a.createElement("dd",null,t.typing.O_locus),i.a.createElement(me,{to:`/genomes/all?genusId=${n.genusId}&olocus=${t.typing.O_locus}`},"View all ",t.typing.O_locus)),i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,"Confidence"),i.a.createElement("dd",null,t.typing.O_locus_confidence))),r&&i.a.createElement("dl",{className:"pw-genome-report-unsized"},i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",{className:"danger"},"Species"),i.a.createElement("dd",null,t.species))))},Ee=({genome:e})=>{const{spn_pbp_amr:t}=e.analysis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"PBP types"),i.a.createElement("p",null,i.a.createElement("a",{href:"https://github.com/BenJamesMetcalf/Spn_Scripts_Reference",target:"_blank",rel:"noopener"},"https://github.com/BenJamesMetcalf/Spn_Scripts_Reference"))),i.a.createElement("dl",{className:"flex"},["pbp1a","pbp2b","pbp2x"].map(e=>{return i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,e.substring(0,3).toUpperCase()+e.substring(3)),i.a.createElement("dd",null,(n=t[e],isNaN(n)?n.charAt(0).toUpperCase()+n.substring(1).toLowerCase():n)));var n})))},xe=({genome:e})=>{const{vista:t}=e.analysis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h2",null,"Genotypes")),i.a.createElement("dl",{className:"flex"},["Biotype","Serogroup"].map(e=>i.a.createElement("div",{className:"pw-genome-report-metadata"},i.a.createElement("dt",null,e),i.a.createElement("dd",null,t[e.toLowerCase()])))))};var ke=({genome:e})=>{const{speciator:t,mlst:n,mlst2:r,ngstar:o}=e.analysis;return i.a.createElement(i.a.Fragment,null,(n||o)&&i.a.createElement("div",{id:"mlst"},n&&i.a.createElement(ve,{result:n,speciator:t}),r&&i.a.createElement(ve,{heading:"Alternative MLST",result:r,speciator:t,filterKey:"mlst2"}),o&&i.a.createElement(ve,{heading:"NG-STAR – Sequence typing for antimicrobial resistance",result:o,speciator:t,filterKey:"ngstar",label:"type"})),function(e){const{genotyphi:t,ngmast:n,serotype:r,poppunk:o,kleborate:a,spn_pbp_amr:s,vista:l}=e.analysis;return i.a.createElement(i.a.Fragment,null,!!o&&i.a.createElement("div",{className:"pw-genome-report-column one half"},i.a.createElement(Ce,{genome:e})),!!r&&i.a.createElement("div",{className:"pw-genome-report-column one half"},i.a.createElement(we,{genome:e})),!!t&&i.a.createElement("div",{className:"pw-genome-report-column one half"},i.a.createElement(ye,{result:t})),!!n&&i.a.createElement("div",null,i.a.createElement(be,{result:n})),!!a&&i.a.createElement("div",null,i.a.createElement(Se,{genome:e})),!!s&&i.a.createElement("div",null,i.a.createElement(Ee,{genome:e})),!!l&&i.a.createElement("div",null,i.a.createElement(xe,{genome:e})))}(e))};const Oe={0:"no virulence loci",1:"yersiniabactin only",2:"yersiniabactin and colibactin, or colibactin only",3:"aerobactin and/or salmochelin only (without yersiniabactin or colibactin)",4:"aerobactin and/or salmochelin with yersiniabactin (without colibactin)",5:"yersiniabactin, colibactin and aerobactin and/or salmochelin"},Te=["Yersiniabactin","YbST","Colibactin","CbST","Aerobactin","AbST","Salmochelin","SmST"],Me=({className:e,children:t})=>i.a.createElement("td",{className:e},t.replace("0","-"));var Pe=({result:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"pw-genome-report-section-header"},i.a.createElement("a",{href:"https://github.com/katholt/Kleborate/wiki/Acquired-virulence-loci",target:"_blank",rel:"noopener",className:"pw-genome-report-secondary-link"},i.a.createElement("strong",null,"Sourced from Kleborate"))),i.a.createElement("div",null,i.a.createElement("dl",{className:"pw-genome-report-unsized"},i.a.createElement("div",null,i.a.createElement("dt",null,"Virulence score"),i.a.createElement("dd",null,e.virulence_score," – ",Oe[e.virulence_score])))),i.a.createElement("div",null,i.a.createElement("dl",{className:"pw-genome-report-unsized"},i.a.createElement("div",null,i.a.createElement("dt",null,"Hypermucoidy (",i.a.createElement("em",null,"RmpADC")," / ",i.a.createElement("em",null,"rmpA2"),")"),i.a.createElement("dd",null,e.virulence.RmpADC," / ",e.virulence.rmpA2)))),"0"!==e.virulence_score&&i.a.createElement("table",{className:"wide bordered",cellSpacing:"0"},i.a.createElement("thead",null,i.a.createElement("tr",null,Te.map(e=>i.a.createElement("th",null,e)))),i.a.createElement("tbody",null,i.a.createElement("tr",null,Te.map(t=>i.a.createElement(Me,null,e.virulence[t])))))),Le=({result:e})=>{const t=e.virulenceGenes.sort((e,t)=>e.type===t.type?e.name.localeCompare(t.name):e.type.localeCompare(t.type));return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",{className:"pw-genome-report-section-header"},i.a.createElement("h3",null,"Virulence Genes")),i.a.createElement("table",{cellSpacing:"0",className:"wgsa-genome-report-amr wide bordered"},i.a.createElement("caption",null,"Virulence genes"),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Phenotype"),i.a.createElement("th",null,"Factor"),i.a.createElement("th",null,"Present"))),i.a.createElement("tbody",null,t.map(e=>i.a.createElement("tr",{key:e.name,className:c()({"pw-genome-report-amr-present":"Present"===e.status,"pw-genome-report-amr-resistant":"Present"===e.status})},i.a.createElement("td",null,e.type),i.a.createElement("td",{className:"pw-genome-report-amr-mechanisms"},e.name),i.a.createElement("td",{className:"wgsa-genome-report-amr-state"},e.status.replace("Present","✓").replace("Not found","✘").replace("Incomplete","⁓")))))),i.a.createElement("h3",null,"Virulence clusters"),e.virulenceClusters.map(e=>i.a.createElement("table",{cellSpacing:"0",className:"pw-genome-report-vista wide bordered"},i.a.createElement("caption",null,e.name," - ",e.type),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",{colSpan:e.genes.length},e.name," - ",e.type)),i.a.createElement("tr",null,e.genes.map(e=>i.a.createElement("th",{key:e.name},e)))),i.a.createElement("tbody",null,i.a.createElement("tr",null,e.genes.map(t=>i.a.createElement("td",{className:c()({"pw-genome-report-vista-present":e.present.includes(t)&&!e.incomplete.includes(t)})},e.matches[t].status.replace("Present","✓").replace("Not found","✘").replace("Incomplete","⁓"))))))))},Ne=({genome:e})=>{const{kleborate:t,vista:n}=e.analysis;return i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,"Virulence"),!!t&&i.a.createElement(Pe,{result:t}),!!n&&i.a.createElement(Le,{result:n}))};const Ae=i.a.createClass({displayName:"Content",getInitialState:()=>({active:"Overview"}),setActive(e){this.setState({active:e})},scrollTo(e){e in this.sections&&this.sections[e].scrollIntoView({behavior:"smooth",block:"start"})},sections:{},render(){const{genome:e}=this.props,{fileId:t,pending:n=[],userDefined:r=null,upload:o={type:"assembly"}}=e,a=[{key:"Top",component:i.a.createElement(P,{genome:e})}];return r&&Object.keys(r).length>0&&a.push({key:"Metadata",component:i.a.createElement(A,{genome:e})}),a.push(...(e=>{const{analysis:t={},owner:n=""}=e,{cgmlst:r,core:o,inctyper:a,kleborate:s,metrics:l,paarsnp:c,speciator:u,vista:d}=t,h=[];return function(e){return e.mlst||e.mlst2||e.genotyphi||e.ngmast||e.serotype||e.poppunk||e.kleborate||e.ngstar||e.vista}(t)&&h.push({key:"Typing",component:i.a.createElement(ke,{genome:e})}),(c||s)&&h.push({key:"AMR",component:i.a.createElement(pe,{genome:e})}),a&&Object.keys(a).includes("Inc Matches")&&h.push({key:"Inc Typing",component:i.a.createElement(te,{analysis:t})}),(s||d)&&h.push({key:"Virulence",component:i.a.createElement(Ne,{genome:e})}),r&&("other"!==n||e.public||e.reference)&&h.push({key:"Clustering",component:i.a.createElement(X,{result:r})}),o&&h.push({key:"Core",component:i.a.createElement(N,{taskName:"core",component:Q,genome:e})}),l&&h.push({key:"Assembly",component:i.a.createElement(N,{taskName:"metrics",component:oe,genome:e})}),u&&h.push({key:"Organism",component:i.a.createElement(N,{taskName:"speciator",component:fe,genome:e})}),h})(e)),n.length&&a.push({key:`+${n.length} Pending`,component:i.a.createElement("ul",null,n.map(e=>i.a.createElement("li",null,e)))}),i.a.createElement("div",null,i.a.createElement("style",null,'@media print {\n\n  * {\n    overflow: visible !important;\n  }\n\n  /* hide everything that isn\'t the report */\n  .mdl-layout > :not(.wgsa-genome-report),\n  .wgsa-genome-report .wgsa-modal > header,\n  .wgsa-genome-report .wgsa-modal nav\n   {\n    display: none;\n  }\n\n  /* put everything in view */\n  .mdl-layout__container,\n  .wgsa-modal-container.wgsa-genome-report,\n  .wgsa-genome-report .wgsa-overlay,\n  .wgsa-genome-report .wgsa-modal {\n    position: static;\n  }\n  html,\n  body,\n  .mdl-layout__container,\n  .mdl-layout {\n    height: auto;\n  }\n  .mdl-layout,\n  .wgsa-genome-report,\n  .wgsa-modal,\n  .wgsa-overlay {\n    display: block !important;\n  }\n\n  /* make the report the full width of the page */\n  .wgsa-genome-report .wgsa-modal {\n    width: auto;\n    max-width: none;\n  }\n\n  .wgsa-genome-report-content {\n    margin: 0;\n    padding: 0;\n  }\n\n  @page {\n    margin-top: 1cm;\n    margin-bottom: 1cm;\n  }\n\n  .wgsa-genome-report-content {\n    margin-top: 0;\n    padding-bottom: 16px;\n  }\n\n  .wgsa-genome-report-summary header {\n    padding-top: 0;\n  }\n\n  /* page breaks */\n  figure {\n    break-inside: avoid;\n  }\n\n  /* https://stackoverflow.com/a/53742871 */\n  .wgsa-genome-report-content h2 {\n    break-inside: avoid;\n  }\n  .wgsa-genome-report-content h2::after {\n    content: "";\n    display: block;\n    height: 100px;\n    margin-bottom: -100px;\n  }\n\n  /* hide unnecessary elements */\n  .pw-genome-report-external-link,\n  a::after,\n  .wgsa-genome-report dd .pw-genome-report-secondary-link,\n  .pw-genome-report-noprint {\n    display: none;\n  }\n\n  /* show content links as text */\n  .wgsa-genome-report-content dd a {\n    text-decoration: none;\n    font-weight: inherit;\n  }\n\n  /* Clustering overrides */\n  .pw-cluster-view button,\n  .pw-cluster-view a,\n  .pw-cluster-buttons,\n  .libmr-ZoomControls,\n  .pw-cluster-chart-intro,\n  .chartjs-size-monitor {\n    display: none !important;\n  }\n  .wgsa-genome-report .pw-cluster-view {\n    height: auto;\n    margin: 0;\n  }\n  .pw-cluster-view > canvas {\n    margin: 0 auto;\n  }\n  .wgsa-genome-report-content #clustering {\n    break-inside: avoid;\n  }\n  .pw-network-cover-message {\n    position: static;\n    margin: 0;\n    padding: 0;\n  }\n  .pw-cluster-network {\n    margin-bottom: 16px;\n  }\n\n}'),i.a.createElement("nav",{onClick:e=>e.stopPropagation()},i.a.createElement(s.a,{items:a.map(e=>e.key.toLowerCase()),currentClassName:"active",rootEl:".wgsa-genome-report .wgsa-overlay"},a.map(({key:e})=>i.a.createElement("li",{key:e},i.a.createElement("a",{href:`#${e.toLowerCase()}`,onClick:t=>{t.preventDefault(),this.scrollTo(e)}},e)))),i.a.createElement(g,{key:"remove",genome:e,onRemove:close})),i.a.createElement("div",{className:"wgsa-genome-report-content",onClick:e=>e.stopPropagation()},a.map(({key:e,component:t})=>i.a.createElement("section",{key:e,ref:t=>{this.sections[e]=t},id:`${e.toLowerCase()}`},t)),!t&&i.a.createElement("div",{className:"pw-expand pw-flex-center"},i.a.createElement("span",{className:"wgsa-file-icon"},i.a.createElement("i",{className:"material-icons"},"assembly"===o.type?"insert_drive_file":"file_copy")),i.a.createElement("p",{className:"h6"},e.assembler&&e.assembler.error?e.assembler.error.charAt(0).toUpperCase()+e.assembler.error.slice(1):"Awaiting assembly"))))}}),Ie=new Set(["LOADING","READY"]);var Re=({name:e,genome:t,status:n,close:r})=>{const o=Ie.has(n),a=t?t.name:e;return i.a.createElement(d,{title:i.a.createElement("span",{className:"wgsa-genome-report-title"},i.a.createElement("div",{className:"pw-genome-report-print-button",onClick:e=>e.stopPropagation()},i.a.createElement("button",{className:"mdl-button mdl-button--icon",title:"Print report",onClick:()=>(e=>{const t=document.title;document.title=`Pathogenwatch genome report ${e}`,window.print(),document.title=t})(a)},i.a.createElement("i",{className:"material-icons"},"print"))),"Genome report: ",a," ",t&&t.fileId&&i.a.createElement(w,{key:"download",id:t.id,name:t.name})),isOpen:o,onClose:r,animationKey:"genome-report",containerClassName:"wgsa-genome-report"},i.a.createElement(S.a,{placeholder:i.a.createElement("div",{className:"wgsa-genome-report-loader",onClick:e=>e.stopPropagation()},i.a.createElement(C.a,null)),complete:"READY"===n},i.a.createElement(Ae,{genome:t})))},De=n(108);n.d(t,"b",(function(){return De.d}));t.a=Object(r.a)((function({genomes:e}){return e.report}),(function(e){return{close:()=>e(Object(De.c)(null))}}))(Re)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var r=n(14),o=n(72);const i=Object(r.b)("OFFLINE_LOAD_COLLECTIONS");function a(){return{type:i,payload:{promise:Object(o.b)()}}}const s=Object(r.b)("OFFLINE_REMOVE_COLLECTION");function l(e){return{type:s,payload:{promise:Object(o.e)(e).then(o.b)}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}));const r={FREQ_DESC:"FREQ_DESC",FREQ_ASC:"FREQ_ASC",VALUE_DESC:"VALUE_DESC",VALUE_ASC:"VALUE_ASC"},o={BASIC:0,ADVANCED:1}},function(e,t,n){var r=n(669),o=n(1);e.exports=function(e,t,n){var o=e[t];if(o){var i=[];if(Object.keys(o).forEach((function(e){-1===r.indexOf(e)&&i.push(e)})),i.length)throw new Error("Prop "+t+" passed to "+n+". Has invalid keys "+i.join(", "))}},e.exports.isRequired=function(t,n,r){if(!t[n])throw new Error("Prop "+n+" passed to "+r+" is required");return e.exports(t,n,r)},e.exports.supportingArrays=o.oneOfType([o.arrayOf(e.exports),e.exports])},function(e,t,n){var r=n(124),o=n(386),i=n(336),a=Object.defineProperty;t.f=n(136)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),o)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports=!n(192)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=s(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";var r=/\//g,o={};function i(e){return o[e]?o[e]:(o[e]=e.replace(r,"_"),o[e])}e.exports=function(e){return("object"==typeof e?Object.keys(e).filter((function(t){return e[t]})):Array.prototype.slice.call(arguments)).map(i).join(" ")}},function(e,t,n){"use strict";n.r(t),n.d(t,"onHeaderClick",(function(){return i}));var r=n(44),o=n(27);function i(e,t){return(n,i)=>{const a=i(),s=Object(o.a)(a),{activeColumns:l}=Object(o.b)(a),c=t.group?t.columns.filter(e=>e.valueGetter&&!e.hidden):[t],u=t.group&&c.some(e=>!l.has(e));if(e.metaKey||e.ctrlKey){for(const e of c)t.group&&u?l.add(e):l[l.has(e)?"delete":"add"](e);n(Object(r.e)(s,new Set(l)))}else!function(e,t){return t.size&&t.size===e.length&&Array.from(t).every(t=>-1!==e.indexOf(t))}(c,l)?n(Object(r.e)(s,new Set(c))):n(Object(r.e)(s,new Set))}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d}));var r=n(22),o=n(128),i=n(14),a=n(63),s=n(266);const l=Object(i.b)("CREATE_COLLECTION");function c(){return(e,t)=>{const n=t(),{organismId:i}=Object(o.c)(n),c=Object(r.f)(n),u=Object(o.b)(n);return e(function(e,t,n){return{type:l,payload:{organismId:e,metadata:n,promise:Object(s.a)(t,e,n)}}}(i,c,u)).catch(()=>e(Object(a.c)({message:"Your collection could not be created at this time, please try again later."})))}}const u="CHANGE_COLLECTION_METADATA";function d(e,t){return{type:u,payload:{[e]:t}}}},function(e,t,n){"use strict";n.r(t),n.d(t,"UPDATE_FILTER",(function(){return o})),n.d(t,"SET_FILTER",(function(){return i})),n.d(t,"CLEAR_FILTER",(function(){return a})),n.d(t,"updateFilter",(function(){return s})),n.d(t,"setFilter",(function(){return l})),n.d(t,"clearFilter",(function(){return c})),n.d(t,"update",(function(){return u})),n.d(t,"clear",(function(){return d}));var r=n(41);const o="UPDATE_FILTER",i="SET_FILTER",a="CLEAR_FILTER";function s(e,t){return{type:o,payload:{stateKey:e,query:t}}}function l(e,t){return{type:i,payload:{stateKey:e,query:t}}}function c(e){return{type:a,payload:{stateKey:e}}}function u(e,t){return n=>{n(s(e,t)),delete t.prefilter,Object(r.f)(t)}}function d(e){return t=>{t(c(e)),Object(r.c)()}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a}));var r=n(0),o=n.n(r);const i=new Set(["Salmonella enterica","Salmonella bongori"]);function a(e){return i.has(e)?"serovar":"serotype"}function s({speciesName:e,subspecies:t,serotype:n}){const r=a(e);return e&&t&&n?`${e} subspecies ${t} ${r} ${n}`:e&&n?`${e} ${r} ${n}`:e}t.a=e=>o.a.createElement("span",{title:s(e)},function({speciesName:e,subspecies:t,serotype:n,abbreviated:r}){const i=a(e);return"Salmonella enterica"===e&&n?o.a.createElement(o.a.Fragment,null,o.a.createElement("em",null,"Salmonella")," ",n):e&&t&&n?o.a.createElement(o.a.Fragment,null,o.a.createElement("em",null,e)," ",r?"subsp.":"subspecies"," ",o.a.createElement("em",null,t)," ",r?"ser.":i," ",n):e&&n?o.a.createElement(o.a.Fragment,null,o.a.createElement("em",null,e)," ",r?"ser.":i," ",o.a.createElement("strong",null,n)):o.a.createElement("em",null,e)}(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(2);const o=({genomes:e})=>e.summary,i=e=>o(e).visible,a=e=>o(e).total;Object(r.createSelector)(i,a,(e,t)=>e===t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a}));const r="VIEWER_ADD_PRIVATE_METADATA";function o(e){return{type:r,payload:e}}const i="VIEWER_CLEAR_PRIVATE_METADATA";function a(){return{type:i}}},function(e,t,n){e.exports={default:n(712),__esModule:!0}},function(e,t,n){"use strict";(function(e){var r=n(292),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.a.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();t.a=s}).call(this,n(268)(e))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return c})),n.d(t,"f",(function(){return u}));var r=n(14),o=n(265);const i="UPLOAD_ANALYSIS_RECEIVED";function a(e){return{type:i,payload:e}}const s=Object(r.b)("UPLOAD_FETCH_POSITION");function l(e){return{type:s,payload:{uploadedAt:e,promise:o.a(e)}}}const c="UPLOAD_ORGANISM_SELECTED";function u(e){return{type:c,payload:{organismId:e}}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));const r="ASSEMBLY_PROGRESS_TICK";function o(){return{type:r,payload:Date.now()}}const i="ASSEMBLY_PIPELINE_STATUS";function a(e){return{type:i,payload:e}}const s="ASSEMBLY_PIPELINE_ERROR";function l(e){return{type:s,payload:e}}},function(e,t,n){"use strict";var r=n(6),o=n(159);function i(e,t){return console.log(`[Pathogenwatch] Fetching cluster for genome ${e}`),Object(r.a)("GET",`/api/clustering/${e}?threshold=${t}`).then(e=>({...e,genomes:Object(o.a)(e.genomes)}))}var a=n(30);function s(e,t){return{type:a.a,payload:{isClusterView:!0,genomeId:e,threshold:t,promise:i(e,t).then(e=>({...e,isClusterView:!0}))}}}n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return d}));const l="CLUSTER_TOGGLE_LASSO_ACTIVE";function c(){return{type:l,payload:{}}}const u="CLUSTER_SET_LASSO_PATH";function d(e=[]){return{type:u,payload:e}}},function(e,t,n){"use strict";var r=n(80),o=n(228),i=n(0),a=n.n(i),s=n(3),l=n(41),c=n(288),u=n(161),d=n(285),h=n(65),p=n(103);var f=Object(s.a)((function(e){return{active:h.c(e,{stateKey:o.a}),searchText:Object(r.e)(e),filterSummary:Object(r.c)(e),prefilter:Object(r.d)(e)}}),(function(e){return{clearFilter:()=>e(p.c()),updateFilterValue:(t,n)=>e(p.f({[t]:n})),applyFilter:()=>e(p.b()),updateFilter:(t,n)=>e(p.e({[t]:n}))}}))(({active:e,searchText:t,filterSummary:n,updateFilterValue:r,applyFilter:o,updateFilter:i,clearFilter:s,prefilter:h})=>a.a.createElement(c.a,{active:e,clear:s,prefilter:h,summary:n,textValue:t,textOnChange:e=>r("searchText",e),textOnChangeEffect:o,updateFilter:i},a.a.createElement(u.a,{filterKey:"organismId",heading:"Organism",icon:"bug_report",summary:n.organism}),a.a.createElement(u.a,{className:"capitalised",filterKey:"access",heading:"Access",icon:"person"}),a.a.createElement(d.a,{summary:n.date}),a.a.createElement(u.a,{filterKey:"publicationYear",heading:"Publication Year",icon:"chrome_reader_mode"}),a.a.createElement(l.b,{update:i})));n.d(t,"b",(function(){return o.a})),n.d(t,"a",(function(){return f}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={LOADING:0,SUCCESS:1,ERROR:2}},function(e,t,n){"use strict";e.exports={},e.exports.Arc=n(326),e.exports.Line=n(327),e.exports.Point=n(328),e.exports.Rectangle=n(329)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";n.r(t),n.d(t,"getFilter",(function(){return o})),n.d(t,"isActive",(function(){return i}));var r=n(2);function o(e,{stateKey:t}){return e.filters[t]||{}}const i=Object(r.createSelector)(o,e=>Object.keys(e).some(t=>"prefilter"!==t&&e[t]))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));const r=n(626);function o(e){if(e&&e.toLowerCase()in r){const[t]=r[e.toLowerCase()];return t||e}return e}function i(e){if(e){const[t,n,o]=r[e.toLowerCase()];if(t)return[n,o]}return e}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(203),a=n.n(i);const s={Paragraph:e=>o.a.createElement("span",null,e.children)};t.a=({className:e,tag:t,children:n})=>o.a.createElement(a.a,{className:e,containerTagName:t,source:n,renderers:s})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(28);t.a=({complete:e,placeholder:t,children:n,wait:r=280})=>{const[a,s]=o.a.useState(e);return o.a.useEffect(()=>{setTimeout(()=>s(!0),r)},[]),o.a.createElement(i.a,null,e&&a?o.a.cloneElement(n,{key:"loaded"}):o.a.cloneElement(t,{key:"loading"}))}},function(e,t){function n(e,t){if(!(e instanceof Blob))throw new TypeError("Must be a File or Blob");return new Promise((function(n,r){const o=new FileReader;o.onload=function(e){n(e.target.result)},o.onerror=function(t){r("Error reading"+e.name+": "+t.target.result)},o["readAs"+t](e)}))}e.exports={readAsDataURL:function(e){return n(e,"DataURL")},readAsText:function(e){return n(e,"Text")},readAsArrayBuffer:function(e){return n(e,"ArrayBuffer")}}},function(e,t,n){"use strict";function r(e){return e.sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:0)}function o(e=[]){return e.map(e=>{const t={...e.analysis};if(t.paarsnp&&Array.isArray(t.paarsnp.antibiotics)){const{antibiotics:e=[]}=t.paarsnp;t.paarsnp={...t.paarsnp,antibiotics:e.reduce((e,t)=>(e[t.name]=t,e),{})}}const n=e.uuid||e.id||e._id;return{...e,uuid:n,analysis:t,position:e.position||{latitude:e.latitude,longitude:e.longitude}}})}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(486),a=n(17),s=n.n(a),l=n(3),c=n(227),u=n(286),d=n(48),h=n(28),p=n(132),f=n(72);const m=o.a.createClass({displayName:"RemoveOfflineCollection",getInitialState:()=>({confirming:!1}),warn(){this.setState({confirming:!0})},cancel(){this.setState({confirming:!1})},render(){const{onConfirm:e,disabled:t}=this.props;return o.a.createElement(h.a,null,this.state.confirming?o.a.createElement("div",{key:"confirm",className:"wgsa-confirm-action"},o.a.createElement("p",null,"This cannot be undone."),o.a.createElement("button",{className:"mdl-button wgsa-button--text",onClick:this.cancel},"Cancel"),o.a.createElement("button",{className:"mdl-button wgsa-button--text mdl-button--primary",onClick:e},"Confirm")):o.a.createElement("button",{key:"action",className:"mdl-button wgsa-button--text",onClick:this.warn,disabled:t,title:t?"Remove this collection when you are online again 🙂":"Requires confirmation"},"Remove"))}});var g=Object(l.a)(null,(function(e,{token:t}){return{onConfirm:()=>e(Object(p.d)(t)),disabled:Object(f.c)()}}))(m);const v=e=>e.offline;function y(e){return v(e).status}function b(e){return v(e).collections}var _=n(217),w=n(51);const C=()=>o.a.createElement("div",{className:"wgsa-page wgsa-compact-page"},o.a.createElement("h1",null,"Offline Mode"),o.a.createElement("p",null,"Offline mode allows you to save specific collections for use even when you lose network connectivity."),o.a.createElement("h2",null,"How to Save Collections"),o.a.createElement("p",null,o.a.createElement("img",{src:"/images/save-for-offline.png"})),o.a.createElement("p",null,"When viewing a collection, click on the ",o.a.createElement("i",{className:"material-icons"},"info")," icon in header bar, revealing the ",o.a.createElement("strong",null,"Save for Offline Use")," button. Click this button, allow the page to refresh and your collection should be available offline, hurrah!"),o.a.createElement("p",null,"Saved collections are listed on this page when you need them.")),S=()=>o.a.createElement("div",{className:"wgsa-page wgsa-compact-page"},o.a.createElement("h1",null,"Oh no!"),o.a.createElement("p",null,"Unfortunately your browser does not support Offline Mode."),o.a.createElement("p",null,"We're super sorry. 😞")),E=()=>Object(f.d)()?o.a.createElement(C,null):o.a.createElement(S,null),x=e=>o.a.createElement(u.a,s()({},e,{footerLink:o.a.createElement(g,{token:e.item.token})})),k=({collections:e})=>o.a.createElement("div",{className:"wgsa-page"},o.a.createElement("h1",null,"Saved Collections"),Object(f.c)()?null:o.a.createElement("p",null,"These collections will be available when you are offline."),o.a.createElement(c.a,{items:e,template:x,keyProp:"token"})),O=o.a.createClass({displayName:"Offline",componentDidMount(){this.props.loadCollections()},renderContent(){const{status:e,collections:t}=this.props;return e===_.a.LOADING?o.a.createElement("div",{className:"wgsa-page"},o.a.createElement(d.a,null),";"):t.length?o.a.createElement(k,{collections:t}):o.a.createElement(E,null)},render(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,null,"Offline"),this.renderContent())}});var T=Object(l.a)((function(e){return{status:y(e),collections:b(e)}}),(function(e){return{loadCollections:()=>e(Object(p.c)())}}))(O);n.d(t,"b",(function(){return f.c}));t.a=o.a.createElement(i.a,{path:"/offline",component:T})},function(e,t,n){"use strict";n(953);var r=n(232);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={LOADING:0,LOADED:1,ERROR:2}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n(14),o=n(171);const i=Object(r.b)("FETCH_UPLOADS");function a(){return{type:i,payload:{promise:Object(o.b)()}}}},function(e,t,n){"use strict";n(1084);var r=n(140),o=n(0),i=n.n(o),a=n(3),s=n(96),l=n(128),c=n(26),u=n(10),d=n(675);const h=i.a.createClass({displayName:"CreateCollectionForm",componentDidMount(){componentHandler.upgradeElements(Array.from(this.formElements)),this.firstInput.focus()},addToFormElements(e){this.firstInput||(this.firstInput=e.querySelector("input")),this.formElements.has(e)||this.formElements.add(e)},formElements:new Set,firstInput:null,render(){const{metadata:{title:e,description:t,pmid:n},canCreateCollection:r}=this.props,{organismId:o,numGenomes:a}=this.props.collectionSummary;return o?i.a.createElement("form",{className:"wgsa-create-collection-form",onSubmit:this.props.onSubmit},i.a.createElement("span",{className:"wgsa-card-metadata-inliner wgsa-collection-summary"},i.a.createElement(s.a,{title:"Size",icon:"wgsa_genome"},i.a.createElement("span",null,a," Genome",1===a?"":"s")),i.a.createElement(s.a,{title:"Organism",icon:"bug_report"},u.d.get(o).formattedName)),i.a.createElement("div",{ref:this.addToFormElements,className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},i.a.createElement("input",{className:"mdl-textfield__input",type:"text",id:"collection-title",value:e,onChange:this.props.onFormChange,disabled:!r}),i.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"collection-title"},"Title")),i.a.createElement("div",{ref:this.addToFormElements,className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label"},i.a.createElement("textarea",{className:"mdl-textfield__input",type:"text",rows:"3",id:"collection-description",value:t,onChange:this.props.onFormChange,disabled:!r}),i.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"collection-description"},"Description")),i.a.createElement("div",{ref:this.addToFormElements,className:"mdl-textfield mdl-js-textfield mdl-textfield--floating-label mdl-textfield--small"},i.a.createElement("input",{className:"mdl-textfield__input",type:"text",id:"collection-pmid",value:n,onChange:this.props.onFormChange,disabled:!r,pattern:"[0-9]*"}),i.a.createElement("label",{className:"mdl-textfield__label",htmlFor:"collection-pmid"},"PMID")),i.a.createElement("footer",null,i.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored",disabled:!r},"Create Now"))):null}});var p=Object(a.a)((function(e){return{canCreateCollection:l.a(e),collectionSummary:l.c(e),metadata:l.b(e)}}),(function(e){return{onSubmit:t=>{t.preventDefault(),e(Object(r.d)()).then(({token:t})=>{t?(e(Object(c.g)()),d.b.push(`/collection/${t}`)):console.error("Failed to create collection")})},onFormChange:({target:t})=>e(Object(r.c)(t.id.split("collection-")[1],t.value))}}))(h),f=n(28),m=n(266);const g={LOADING:"LOADING",NOT_READY:"NOT_READY",VERIFIED:"VERIFIED",ERROR:"ERROR",FAILED_TO_VERIFY:"FAILED_TO_VERIFY"},v=["Hang on in there","Stay strong","You can do this"];var y=i.a.createClass({displayName:"Verifier",getInitialState:()=>({status:g.LOADING,failed:!1}),componentDidMount(){this.verify(1e3),this.interval=setInterval(()=>this.verify(2e3),1e4)},componentDidUpdate(e,t){const{VERIFIED:n,ERROR:r}=g,{status:o}=this.state;t.status!==n&&o===n&&clearInterval(this.interval),o===r&&clearInterval(this.interval)},componentWillUnmount(){this.interval&&clearInterval(this.interval)},verify(e=2e3){this.setState({status:g.LOADING}),Promise.all([m.b(this.props.genomes,this.props.organismId).then(()=>({status:g.VERIFIED})).catch(e=>400===e.status?e.responseJSON||{}:{status:g.FAILED_TO_VERIFY}),new Promise(t=>setTimeout(t,e))]).then(([e])=>this.setState(e))},renderStatus(){return this.state.status===g.NOT_READY?i.a.createElement("div",null,i.a.createElement("p",null,"Core analysis incomplete, ",this.state.pending," result",1===this.state.pending?"":"s"," to go."),i.a.createElement("p",null,v[Math.floor(Math.random()*v.length)],". 😓")):this.state.status===g.ERROR?i.a.createElement("div",null,i.a.createElement("p",null,"Core analysis could not be completed for this selection."),i.a.createElement("p",null,"Please resubmit your genomes and try again.")):this.state.status===g.FAILED_TO_VERIFY?i.a.createElement("p",null,"Something went wrong 😞"):i.a.createElement("p",{className:"wgsa-blink"},"Verifying core analysis...")},render(){const{status:e}=this.state;return e===g.VERIFIED?this.props.children:i.a.createElement(f.a,{className:"wgsa-collection-verify",out:!1},i.a.cloneElement(this.renderStatus(),{key:this.state.status}))}}),b=n(98);const _=({deployedOrganisms:e})=>i.a.createElement("div",{className:"wgsa-create-collection-message"},i.a.createElement("p",null,"To create a collection, please select genomes identified as one of the following organisms:"),i.a.createElement("ul",{className:"wgsa-supported-organism-list"},Array.from(e).map(e=>i.a.createElement("li",{key:e},i.a.createElement(u.a,{fullName:!0,organismId:e}))))),w=({organismId:e,deficit:t})=>i.a.createElement("div",{className:"wgsa-create-collection-message"},i.a.createElement("p",null,"Population search is not currently supported for ",i.a.createElement("strong",null,i.a.createElement(u.a,{organismId:e})),"."),i.a.createElement("p",null,"At least 3 genomes are required to produce a tree for collections without population search."),i.a.createElement("p",null,"Please select ",i.a.createElement("strong",null,t," more genome",1===t?"":"s"),".")),C=({summary:e,onClick:t})=>i.a.createElement("div",{className:"wgsa-create-collection-message"},i.a.createElement("p",null,"To create a collection, please select ",i.a.createElement("strong",null,"one organism")," below:"),i.a.createElement("p",null,Object.keys(e).map(n=>i.a.createElement("button",{key:n,className:"mdl-chip mdl-chip--contact wgsa-inline-chip",onClick:()=>t(e[n])},i.a.createElement("span",{className:"mdl-chip__contact"},e[n].length),i.a.createElement("span",{className:"mdl-chip__text"},i.a.createElement(u.a,{organismId:n}))))));var S=Object(a.a)((function(e){return{selectedGenomeSummary:Object(l.d)(e),deployedOrganisms:Object(b.a)(e)}}),(function(e){return{onClick:t=>e(Object(c.l)(t))}}))(({selectedGenomeSummary:e,deployedOrganisms:t,onClick:n})=>{const r=Object.keys(e);if(0===r.length)return i.a.createElement(_,{deployedOrganisms:t});if(1===r.length){const t=r[0],n=e[t],o=n.length,{uiOptions:a={}}=u.d.get(t);return a.noPopulation&&o<3?i.a.createElement(w,{organismId:t,deficit:3-o}):i.a.createElement(y,{organismId:t,genomes:n},i.a.createElement(p,null))}return i.a.createElement(C,{summary:e,onClick:n})});n.d(t,"a",(function(){return r.b})),n.d(t,"b",(function(){return S}))},function(e,t,n){"use strict";n(977);var r=n(101),o=n(17),i=n.n(o),a=n(0),s=n.n(a),l=n(1),c=n.n(l),u=n(4),d=n.n(u),h=n(91),p=n(215),f=n(185);class m extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={isActive:!1},t}componentDidUpdate(e,t){this.state.isActive!==t.isActive&&(this.state.isActive?this.searchInput.focus():this.props.value&&this.props.onChange())}render(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(h.a,{onClick:()=>this.setState({isActive:!this.state.isActive})},s.a.createElement("i",{className:"material-icons"},"search")),s.a.createElement(f.a,{in:this.state.isActive},s.a.createElement("input",{className:"libmr-search-input",type:"text",placeholder:"Search",value:this.props.value,onChange:e=>this.props.onChange(e.target.value),ref:e=>{this.searchInput=e}})))}}m.displayName="Search",m.propTypes={value:c.a.string,onChange:c.a.func};class g extends s.a.Component{constructor(...e){var t;return t=super(...e),this.handleClear=e=>{this.props.open||e.stopPropagation(),this.props.clear()},t}render(){const{active:e,className:t,header:n=!0,open:o,search:a,size:l="standard",summary:c,title:u,toggle:f,toggleOnClick:g=!1}=this.props,v="active"in this.props?e:!!c;return s.a.createElement(r.a,i()({},this.props,{active:v,className:d()("libmr-ControlsMenu",t,l,{active:v}),header:n&&s.a.createElement("header",null,s.a.createElement("h3",null,u),a&&s.a.createElement(m,a),s.a.createElement(h.a,{onClick:f},s.a.createElement("i",{className:"material-icons"},"close"))),button:s.a.createElement(p.a,{title:u,open:o,active:v,label:c||u,clear:v?e=>this.handleClear(e):null}),toggleOnClick:g}))}}g.propTypes={...r.a.propTypes,clear:c.a.func,header:c.a.bool,search:c.a.shape({value:c.a.string,onChange:c.a.func}),size:c.a.oneOf(["standard","narrow"]),summary:c.a.node,title:c.a.string};var v=g;t.a=Object(r.b)(v)},function(e,t,n){"use strict";n(995);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n.n(s);const c=({id:e,...t})=>o.a.createElement("div",{className:l()("libmr-Slider",t.className),style:{"--min":t.min,"--max":t.max,"--val":t.value,...t.style}},o.a.createElement("label",{htmlFor:e},t.label,": ",t.displayValue||t.value,t.unit),o.a.createElement("input",{id:e,type:"range",min:t.min,max:t.max,value:t.value,onChange:e=>t.onChange(parseInt(e.target.value,10))}),o.a.createElement("span",{className:"libmr-Slider-focus-ring"}));c.propTypes={className:a.a.string,displayValue:a.a.number,id:a.a.string.isRequired,label:a.a.node.isRequired,max:a.a.number.isRequired,min:a.a.number.isRequired,onChange:a.a.func.isRequired,unit:a.a.string,style:a.a.object,value:a.a.number.isRequired};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={LOADING:0,ERROR:1,OK:2}},function(e,t,n){"use strict";var r=n(14),o=n(186),i=n(82),a=n(78),s=n(6);function l(e,t){const n=Object(a.stringify)(t);return Object(s.a)("POST",`/api/genome/at-locations?${n}`,{coordinates:e})}var c=n(31);n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return f}));const u=Object(r.b)("SHOW_MARKER_POPUP");function d(e=[]){return(t,n)=>{const r=n(),o=Object(c.a)(r);t({type:u,payload:{promise:l(e,o)}})}}const h="CLOSE_MARKER_POPUP";function p(){return{type:h}}function f(e,t){return(n,r)=>{n(Object(i.changeLassoPath)(e,t));const a=r();t&&n(d(Object(o.e)(a,{stateKey:e})))}}},function(e,t,n){"use strict";var r=n(36);n.d(t,"a",(function(){return o}));const o={Degrees0:0,Degrees90:.5*Math.PI,Degrees180:Math.PI,Degrees270:1.5*Math.PI,Degrees360:2*Math.PI},i=document.createElement("canvas");i.width=14,i.height=14;const a=i.getContext("2d");a.lineWidth=1,a.strokeStyle=r.a.COLOUR_DARK;const s=document.createElement("canvas");s.width=4,s.height=4;s.getContext("2d");const l=document.createElement("canvas").getContext("2d");l.font='14px "Roboto", "Helvetica", "Arial", sans-serif'},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const r="HEADER_TOGGLE_ASIDE";const o="HEADER_TOGGLE_USER_DRAWER";function i(e){return{type:o,payload:{isOpen:e}}}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(6),o=n(15);function i(e,t){return Object(r.a)("PUT",`/api/genome?uploadedAt=${t}`,e.map(e=>({id:e.id,type:e.type,files:e.files.map(e=>e.name),metadata:{name:e.name,...e.metadata}})))}function a(e){return Object(r.a)("GET",`/api/upload/${e}`)}function s(){return Object(r.a)("GET","/api/upload")}function l(e){return fetch(`${o.a.assemblerAddress}/api/account`,{headers:{Authorization:`Bearer ${e}`}}).then(e=>{if(200===e.status)return e.json();throw new Error(e.statusText)})}},function(e,t,n){"use strict";var r=n(14),o=n(6);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=Object(r.b)("FETCH_SPECIES_SUMMARY");function a(){return{type:i,payload:{promise:Object(o.a)("GET","/api/organism/summary")}}}},function(e,t,n){var r=n(135),o=n(247);e.exports=n(136)?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(388),o=n(337);e.exports=function(e){return r(o(e))}},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(861),o=n(862),i=n(461);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=h(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|f(t,n),o=(e=s(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|p(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):h(e,t);if("Buffer"===t.type&&i(t.data))return h(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function d(e,t){if(u(t),e=s(e,t<0?0:0|p(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function h(e,t){var n=t.length<0?0:0|p(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function p(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function f(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return W(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return O(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return x(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,o);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,o){var i,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=n;i<s;i++)if(c(e,i)===c(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else-1!==u&&(i-=i-u),u=-1}else for(n+l>s&&(n=s-l),i=n;i>=0;i--){for(var d=!0,h=0;h<l;h++)if(c(e,i+h)!==c(t,h)){d=!1;break}if(d)return i}return-1}function b(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return H(B(t,e.length-n),e,n,r)}function w(e,t,n,r){return H(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function C(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return H(W(t),e,n,r)}function E(e,t,n,r){return H(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function x(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,l,c=e[o],u=null,d=c>239?4:c>223?3:c>191?2:1;if(o+d<=n)switch(d){case 1:c<128&&(u=c);break;case 2:128==(192&(i=e[o+1]))&&(l=(31&c)<<6|63&i)>127&&(u=l);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(l=(15&c)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),o+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!i(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,o),o+=a.length}return r},l.byteLength=f,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):m.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,o){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),c=this.slice(r,o),u=e.slice(t,n),d=0;d<s;++d)if(c[d]!==u[d]){i=c[d],a=u[d];break}return i<a?-1:a<i?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return C(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=F(e[i]);return o}function P(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function L(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,o,i){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function I(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return i||R(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,i){return i||R(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var o=t-e;n=new l(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},l.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},l.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):I(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);N(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):A(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):A(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):I(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):I(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!l.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=l.isBuffer(e)?e:B(new l(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var z=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function W(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}}).call(this,n(45))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(577)),o=a(n(582)),i="function"==typeof o.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof o.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof o.default&&e.constructor===o.default&&e!==o.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){"use strict";var r=n(88),o=n(154),i=n(63),a=n(18),s=n(122),l=n(26),c=n(183),u=n(0),d=n.n(u);function h(e,t,n=!0){return(u,p)=>{const f=Object(o.getFilter)(p(),{stateKey:r.b}),m=()=>u(h(e,!t,!1));return Object(c.a)(e.map(e=>e.id),t).then(({binned:r})=>0===r?Promise.resolve():(u(Object(l.i)(e)),Promise.all([u(Object(a.e)()),u(Object(a.h)(f)),u(Object(s.b)())]).then(()=>n&&u(Object(i.c)(function(e,t,n){return{action:{label:"Undo",onClick:n},message:d.a.createElement("span",null,d.a.createElement("strong",null,e," genome",1===e?"":"s")," ",t?"restored from":"moved to"," bin.")}}(r,!t,m)))))).catch(()=>u(Object(i.c)({message:"Something went wrong, please try again later."})))}}n.d(t,"a",(function(){return h}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(657);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=(n(997),n(0)),a=n.n(i),s=n(4),l=n.n(s),c=n(1),u=n.n(c),d=n(185),h=n(68),p=n(291);const f=e=>a.a.createElement("div",{className:l()("libmr-Panel",e.className),style:e.style},e.children,a.a.createElement(h.a,{className:"libmr-Panel-controls-toggler",active:e.controlsVisible,title:e.controlsVisible?"Hide controls":"Show controls",onClick:()=>e.onControlsVisibleChange(!e.controlsVisible)},a.a.createElement("i",{className:"material-icons"},"tune")),a.a.createElement(d.a,{in:e.controlsVisible},a.a.createElement("div",{className:"libmr-Panel-primary-controls"},e.primaryControls)),a.a.createElement(d.a,{in:e.controlsVisible},a.a.createElement("div",{className:"libmr-Panel-secondary-controls"},e.secondaryControls)),!0===e.zoomControls&&a.a.createElement(d.a,{in:e.controlsVisible},a.a.createElement(p.a,{onZoomIn:()=>e.onZoomChange(1),onZoomOut:()=>e.onZoomChange(-1)})),a.a.isValidElement(e.zoomControls)&&a.a.createElement(d.a,{in:e.controlsVisible},e.zoomControls));f.propTypes={className:u.a.string,controlsVisible:u.a.bool,style:u.a.object,children:u.a.node,primaryControls:u.a.node,secondaryControls:u.a.node,zoomControls:u.a.oneOfType([u.a.bool,u.a.node]),onZoomChange:u.a.func,onControlsVisibleChange:u.a.func},f.defaultProps={zoomControls:!0};var m=f;n.d(t,"a",(function(){return m}));t.b=e=>{const[t,n]=a.a.useState(!1);return a.a.createElement(m,o()({},e,{controlsVisible:t,onControlsVisibleChange:n}))}},function(e,t,n){"use strict";(function(e){var r=n(67),o=n(498),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.a.Buffer:void 0,l=(s?s.isBuffer:void 0)||o.a;t.a=l}).call(this,n(268)(e))},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(6);function o(e){return Object(r.a)("GET","/api/genome",e)}function i(e){return Object(r.a)("GET","/api/genome/map",e)}function a(e){return Object(r.a)("GET","/api/genome/stats",e)}function s(e){return Object(r.a)("GET","/api/genome/summary",e)}function l(e,t){return Object(r.a)("POST","/api/genome/bin",{status:t,ids:e})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={NOT_GENERATED:0,LOADING:1,ERROR:2,SUCCESS:3}},function(e,t,n){"use strict";n(989);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(213),l=n(4),c=n.n(l);const u=e=>o.a.createElement(s.a,{visible:e.in,removeOnLeave:!0,motionName:"libmr-Fade"},t=>o.a.cloneElement(e.children,{className:c()(e.children.props.className,t.className)}));u.propTypes={children:a.a.element,in:a.a.bool},t.a=u},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return p}));var r=n(43),o=n.n(r),i=n(2),a=n(53),s=n(99),l=n(316);const c=e=>Object(a.b)(e).map.markers,u=e=>Object(a.b)(e).map.filter,d=e=>Object(a.b)(e).map.popup,h=Object(i.createSelector)(d,e=>{const t=[];for(const{genomes:n,organismId:r,speciesName:o,subspecies:i,serotype:a}of e.genomes)for(const{id:e,name:s}of n)t.push({id:e,name:s,organismId:r,speciesName:o,subspecies:i,serotype:a});return o()(t,"name")}),p=Object(i.createSelector)(c,s.b,(e,t)=>t?e.reduce((e,{position:n})=>{const[r,o]=n;return r&&o&&Object(l.contains)(t,{lat:r,lng:o})?(e.push(n),e):e},[]):[])},function(e,t,n){"use strict";var r=n(14),o=n(6);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=Object(r.b)("GET_AUTH_TOKEN");function a(){return{type:i,payload:{promise:Object(o.a)("GET","/auth/token")}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(85);t.a=o.a.createClass({displayName:"ST.react",componentDidMount(){const{id:e}=this.props;Object(i.b)(e)&&window&&window.Clipboard&&(this.clipboard=new window.Clipboard(this.el,{text:()=>e}))},render(){const{id:e}=this.props;if(Object(i.b)(e)){const t=e.substr(0,4);return o.a.createElement("span",{ref:e=>{this.el=e},className:"wgsa-mlst-st is-novel",title:`Novel ST: ${e}\n(Click to copy)`,onClick:e=>e.stopPropagation()},t)}return o.a.createElement("span",{className:"wgsa-mlst-st"},e)}})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(234);t.a=({alleles:e=[]})=>o.a.createElement("span",{className:"wgsa-mlst-profile"},e.map(({gene:e,hits:t})=>o.a.createElement("span",{key:e,className:"wgsa-mlst-profile-section"},t.length?t.map(e=>o.a.createElement(i.a,{key:e,id:e,showNovelHash:!0})):o.a.createElement("span",{title:"Not found"},"?"))))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r=["WGSA","Pathogenwatch","PathogenDotWatch"],o={WGSA:"WGSA",Pathogenwatch:"Pathogenwatch",PathogenDotWatch:"Pathogenwatch"}},function(e,t,n){var r=n(269);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){var r=n(337);e.exports=function(e){return Object(r(e))}},function(e,t){e.exports={}},function(e,t,n){var r=n(275),o=n(602),i=n(603),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(631),o=n(632),i=n(405).decodeHTML,a="&(?:#x[a-f0-9]{1,8}|#[0-9]{1,8}|[a-z][a-z0-9]{1,31});",s="<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>",l="</[A-Za-z][A-Za-z0-9-]*\\s*[>]",c=new RegExp("^(?:<[A-Za-z][A-Za-z0-9-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\x00-\\x20]+|'[^']*'|\"[^\"]*\"))?)*\\s*/?>|</[A-Za-z][A-Za-z0-9-]*\\s*[>]|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|[<][?].*?[?][>]|<![A-Z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)","i"),u=/[\\&]/,d="[!\"#$%&'()*+,./:;<=>?@[\\\\\\]^_`{|}~-]",h=new RegExp("\\\\"+d+"|"+a,"gi"),p=new RegExp('[&<>"]',"g"),f=new RegExp(a+'|[&<>"]',"gi"),m=function(e){return 92===e.charCodeAt(0)?e.charAt(1):i(e)},g=function(e){switch(e){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";default:return e}};e.exports={unescapeString:function(e){return u.test(e)?e.replace(h,m):e},normalizeURI:function(e){try{return r(o(e))}catch(t){return e}},escapeXml:function(e,t){return p.test(e)?t?e.replace(f,g):e.replace(p,g):e},reHtmlTag:c,OPENTAG:s,CLOSETAG:l,ENTITY:a,ESCAPABLE:d}},function(e,t,n){var r=n(743),o=n(746);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t,n){"use strict";function r(e){return function(){return e}}function o(){}o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(e){return e},e.exports=o},function(e,t,n){"use strict";e.exports=function(e){var t;e||(e="");var n=arguments.length;if(n>1)for(var r=1;r<n;r++)(t=arguments[r])&&(e=(e?e+" ":"")+t);return e}},function(e,t,n){"use strict";var r=n(284),o=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=d;var i=Object.create(n(257));i.inherits=n(177);var a=n(466),s=n(469);i.inherits(d,a);for(var l=o(s.prototype),c=0;c<l.length;c++){var u=l[c];d.prototype[u]||(d.prototype[u]=s.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);a.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",h)}function h(){this.allowHalfOpen||this._writableState.ended||r.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),r.nextTick(t,e)}},function(e,t,n){"use strict";var r=n(0),o=n(629).Parser,i=n(319),a=n(1);function s(e){r.Component.call(this,e)}s.prototype=Object.create(r.Component.prototype),s.prototype.constructor=s,s.prototype.render=function(){var e=this.props.containerProps||{},t=new i(this.props),n=new o(this.props.parserOptions).parse(this.props.source||"");if(this.props.walker)for(var a,s=n.walker();a=s.next();)this.props.walker.call(this,a,s);return this.props.className&&(e.className=this.props.className),r.createElement.apply(r,[this.props.containerTagName,e,this.props.childBefore].concat(t.render(n).concat([this.props.childAfter])))},s.propTypes={className:a.string,containerProps:a.object,source:a.string.isRequired,containerTagName:a.string,childBefore:a.object,childAfter:a.object,sourcePos:a.bool,escapeHtml:a.bool,skipHtml:a.bool,softBreak:a.string,allowNode:a.func,allowedTypes:a.array,disallowedTypes:a.array,transformLinkUri:a.func,transformImageUri:a.func,unwrapDisallowed:a.bool,renderers:a.object,walker:a.func,parserOptions:a.object},s.defaultProps={containerTagName:"div",parserOptions:{}},s.types=i.types,s.renderers=i.renderers,s.uriTransformer=i.uriTransformer,e.exports=s},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=({className:e,pmid:t,children:n="PubMed"})=>t?o.a.createElement("a",{className:e,href:`http://www.ncbi.nlm.nih.gov/pubmed/${t}`,target:"_blank",rel:"noopener",title:`PMID ${t}`},n):null},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(156);t.a=({className:e,level:t="1",children:n})=>o.a.createElement(i.a,{className:e,tag:`h${t}`},n)},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));const r=({upload:e})=>e.progress.recovery,o=e=>r(e).pendingFiles,i=e=>r(e).filenameToGenomeId,a=e=>r(e).fileIds},function(e,t,n){"use strict";var r=n(106),o=n(208),i=n(77),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.a=function(e){if(!Object(i.a)(e)||"[object Object]"!=Object(r.a)(e))return!1;var t=Object(o.a)(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},function(e,t,n){"use strict";var r=n(293),o=Object(r.a)(Object.getPrototypeOf,Object);t.a=o},function(e,t,n){var r=n(252),o=n(600),i=n(601),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,p,f=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,f=t,d=e.apply(r,n)}function b(e){return f=e,h=setTimeout(w,t),m?y(e):d}function _(e){var n=e-p;return void 0===p||n>=t||n<0||g&&e-f>=u}function w(){var e=o();if(_(e))return C(e);h=setTimeout(w,function(e){var n=t-(e-p);return g?s(n,u-(e-f)):n}(e))}function C(e){return h=void 0,v&&l?y(e):(l=c=void 0,d)}function S(){var e=o(),n=_(e);if(l=arguments,c=this,p=e,n){if(void 0===h)return b(p);if(g)return clearTimeout(h),h=setTimeout(w,t),y(p)}return void 0===h&&(h=setTimeout(w,t)),d}return t=i(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(i(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==h&&clearTimeout(h),f=0,l=p=c=h=void 0},S.flush=function(){return void 0===h?d:C(o())},S}},function(e,t,n){"use strict";n.d(t,"c",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var r=n(512),o=n.n(r),i=n(315),a=n.n(i),s=n(226),l=n(15);const{origin:c=window.location.origin,clientId:u}=l.a;function d(e,t,n,r){return fetch(`${l.a.assemblerAddress}${t}`,{method:e,mode:"cors",headers:{...n,"Content-Type":"application/json"},body:JSON.stringify(r)})}function h(e,t,n,r){return{type:"UPLOAD_READS_PROGRESS",payload:{stage:e,id:t,filename:n,progress:r}}}function p(e,{token:t,uploadedAt:n},r){const i=a()();i.onmessage=({data:t})=>{t.progress&&r(h("IDENTIFY",e.id,t.file,t.progress))};const p={Authorization:`Bearer ${t}`},f=new o.a({target:`${l.a.assemblerAddress}/chunks`,simultaneousUploads:5,generateUniqueIdentifier:e=>i.hash(e),headers:p});return f.on("chunkingProgress",(t,n)=>{r(h("PREPARE",e.id,t.fileName,100*n))}),f.on("chunkingComplete",t=>{r(h("PREPARE",e.id,t.fileName,100))}),f.on("fileProgress",t=>{r(h("UPLOAD",e.id,t.fileName,100*t.progress()))}),new Promise((t,r)=>{let o=!1;f.on("error",(e,t)=>{r({message:e,file:t})}),f.on("complete",()=>{const i=[Object(s.c)(e.id)];o||i.push(d("PATCH","/api/pipelines",p,{session:n,genomeId:e.id,status:"READS_UPLOADED"}).then(e=>{200!==e.status&&r({message:e.statusText})})),Promise.all(i).then(t).catch(r)}),f.on("filesAdded",t=>{if(e.recovery){for(const{fileId:n}of e.recovery){let e=null;for(const r of t){if(r.uniqueIdentifier===n){e=null;break}e=r.fileName}if(e)return void r({message:`${e} does not match the original file, please try again.`})}f.upload()}else d("POST","/api/pipelines",p,{session:n,genomeId:e.id,callback:`${c}/api/genome/${e.id}/assembly?clientId=${u}`,progress:{channel:`${u}-assembly`,topic:n},files:t.map(e=>({filename:e.fileName,fileId:e.uniqueIdentifier,totalChunks:e.chunks.length}))}).then(e=>{304===e.status?(o=!0,f.fire("complete")):201!==e.status?r({message:e.statusText}):f.upload()}).catch(e=>r({message:e.message}))}),f.addFiles(e.files.map(e=>e.handle))})}function f(e,t){return new Promise((n,r)=>d("GET",`/api/sessions/${e}`,{Authorization:`Bearer ${t}`}).then(e=>{200===e.status?n(e.json()):404===e.status?r({type:"NOT_FOUND"}):r({message:e.statusText})}))}function m(e,t){return new Promise((n,r)=>d("GET",`/api/sessions/${e}/progress`,{Authorization:`Bearer ${t}`}).then(e=>{200===e.status?n(e.json()):r({message:e.statusText})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),o=n(24),i=n(27),a=n(46);const s=Object(r.createSelector)(i.g,i.a,(e,t)=>Object(a.a)(e.entities[t],e.multi)),l=Object(r.createSelector)(i.d,e=>e.activeColumn.valueGetter);function c(e){return e.reference?"triangle":e.public?"square":"circle"}const u=Object(r.createSelector)(o.a,l,s,(e,t,n)=>{const r={};for(const o of e){const e=t(o);r[o.id]={colour:n(o),label:"string"==typeof e&&e.length?e:" ",shape:c(o)}}return r})},function(e,t,n){"use strict";var r=n(17),o=n.n(r),i=n(0),a=n.n(i),s=n(891),l=n(486),c=(n(963),n(3)),u=n(375),d=n(10),h=n(96),p=n(227),f=n(48),m=n(51),g=n(2);const v=e=>e.organisms,y=(e,t)=>e>t?1:e<t?-1:0,b=Object(g.createSelector)(v,({supportedOrganisms:e})=>e.sort((e,t)=>y(d.d.get(e.organismId).name,d.d.get(t.organismId).name))),_=Object(g.createSelector)(v,({allSpecies:e})=>e.sort((e,t)=>y(e.speciesName,t.speciesName)));var w=n(172);const C=({item:{organismId:e,totalCollections:t,totalGenomes:n,organism:r=d.d.get(e)}})=>a.a.createElement(u.a,{key:e,className:"wgsa-organism-card wgsa-card wgsa-card--bordered",to:`/organisms/${r.nickname}`,title:`${r.name} Homepage`},a.a.createElement("h3",{className:"wgsa-section-title"},a.a.createElement(d.a,{organismId:e})),a.a.createElement(h.a,{icon:"wgsa_genome"},a.a.createElement(u.a,{to:`/genomes?organismId=${e}`,title:"Browse Genomes"},n," Genome",1===n?"":"s")),a.a.createElement(h.a,{icon:"collections"},a.a.createElement(u.a,{to:`/collections?organismId=${e}`,title:"Browse Collections"},t," Collection",1===t?"":"s"))),S=({item:{speciesId:e,speciesName:t,totalGenomes:n}})=>a.a.createElement("div",{key:e,className:"wgsa-organism-card wgsa-card wgsa-card--bordered"},a.a.createElement("h3",{className:"wgsa-section-title"},a.a.createElement("em",null,t)),a.a.createElement(h.a,{icon:"wgsa_genome"},a.a.createElement(u.a,{to:`/genomes?speciesId=${e}`,title:"Browse Genomes"},n," Genome",1===n?"":"s"))),E=a.a.createClass({displayName:"Index",componentDidMount(){this.props.fetch()},render(){const{loading:e,supportedOrganisms:t,allSpecies:n}=this.props;return a.a.createElement("div",{className:"wgsa-page"},a.a.createElement(m.a,null,"Organisms"),a.a.createElement("h1",null,"Organisms"),e&&a.a.createElement(f.a,null),!!t.length&&a.a.createElement("h2",null,"Supported Organisms"),a.a.createElement(p.a,{density:"compact",items:t,template:C,keyProp:"organismId"}),!!n.length&&a.a.createElement("h2",null,"All Species"),a.a.createElement(p.a,{density:"compact",items:n,template:S,keyProp:"organismId"}))}});var x=Object(c.a)((function(e){return{loading:e.organisms.loading,supportedOrganisms:b(e),allSpecies:_(e)}}),(function(e){return{fetch:()=>e(Object(w.b)())}}))(E),k=(n(969),({children:e})=>a.a.createElement("div",{className:"wgsa-page-breadcrumb"},e.map((t,n)=>n<e.length-1?a.a.createElement("span",{key:n},t," » "):a.a.createElement("span",{key:n},t))));const O=a.a.createClass({displayName:"Details",componentDidMount(){this.props.fetch()},render(){const{organismId:e,totalGenomes:t,totalCollections:n}=this.props,{nickname:r,formattedName:o,definitionText:i,desc:s,imageCredit:l,taxonomy:c,name:h}=d.d.get(e);return a.a.createElement("div",{className:"wgsa-page mdl-grid"},a.a.createElement(m.a,null,h),a.a.createElement("div",{className:"mdl-cell mdl-cell--12-col"},a.a.createElement(k,null,a.a.createElement(u.a,{to:"/organisms"},"Organisms"),o),a.a.createElement("h1",{className:"wgsa-page-divider wgsa-page-title"},o),a.a.createElement("p",null,i)),a.a.createElement("div",{className:"mdl-cell mdl-cell--3-col"},a.a.createElement("div",{className:"wgsa-section-divider mdl-typography--text-center"},a.a.createElement("p",{className:"wgsa-avatar-image"},a.a.createElement("img",{src:`/images/${r}.jpg`})),l&&a.a.createElement("p",null,a.a.createElement("strong",null,"Image:")," ",l),a.a.createElement("p",null,a.a.createElement("strong",null,"Taxonomy ID:")," ",e),a.a.createElement("p",null,a.a.createElement("a",{href:`https://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?mode=Tree&id=${e}`,target:"_blank",rel:"noopener"},"View in NCBI taxonomy browser")))),a.a.createElement("div",{className:"mdl-cell mdl-cell--6-col"},a.a.createElement("div",{className:"wgsa-section-divider"},a.a.createElement("h2",{className:"wgsa-section-title"},"About"),s)),a.a.createElement("div",{className:"mdl-cell mdl-cell--3-col"},a.a.createElement("div",{className:"wgsa-section-divider"},a.a.createElement("h3",{className:"wgsa-section-title"},"Genomes"),a.a.createElement(u.a,{className:"wgsa-figure",to:`/genomes?organismId=${e}`,title:"Browse Genomes"},t)),a.a.createElement("div",{className:"wgsa-section-divider"},a.a.createElement("h3",{className:"wgsa-section-title"},"Collections"),a.a.createElement(u.a,{className:"wgsa-figure",to:`/collections?organismId=${e}`,title:"Browse Collections"},n)),a.a.createElement("div",{className:"wgsa-section-divider"},a.a.createElement("h3",{className:"wgsa-section-title"},"Reference Downloads"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement("a",{href:`/download/organism/${r}/core_representatives.csv`},"Core Representatives")),a.a.createElement("li",null,a.a.createElement("a",{href:`/download/organism/${r}/reference_fastas.zip`},"Sequences")),a.a.createElement("li",null,a.a.createElement("a",{href:`/download/organism/${r}/reference_annotations.zip`},"Annotations")),a.a.createElement("li",null,a.a.createElement("a",{href:`/download/organism/${r}/reference_metadata.csv`},"Metadata"))))))}});var T=Object(c.a)((function(e,{organismId:t}){return{...b(e).find(e=>e.organismId===t.toString())}}),(function(e){return{fetch:()=>e(Object(w.b)())}}))(O);n.d(t,"b",(function(){return L})),n.d(t,"a",(function(){return N}));const M=n(295),P="/organisms",L=M.map(({nickname:e})=>a.a.createElement(s.a,{key:`${e}-redirect`,exact:!0,from:`/${e}`,to:`${P}/${e}`})),N=M.map(({id:e,nickname:t})=>a.a.createElement(l.a,{key:t,path:`${P}/${t}`,component:t=>a.a.createElement(T,o()({},t,{organismId:e}))}));t.c=a.a.createElement(l.a,{exact:!0,path:P,component:x})},function(e,t,n){"use strict";var r=n(25),o=n.n(r),i=n(5),a=n.n(i),s=n(7),l=n.n(s),c=n(12),u=n.n(c),d=n(8),h=n.n(d),p=n(11),f=n.n(p),m=n(0),g=n.n(m),v=n(1),y=n.n(v),b=n(421),_=n(19),w=n.n(_);var C=n(4),S=n.n(C),E=n(376),x=n.n(E),k=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}var T,M,P,L=(T=k,M="undefined"!=typeof window?window:{},P={animationend:O("Animation","AnimationEnd"),transitionend:O("Transition","TransitionEnd")},T&&("AnimationEvent"in M||delete P.animationend.animation,"TransitionEvent"in M||delete P.transitionend.transition),P),N={};k&&(N=document.createElement("div").style);var A={};function I(e){if(A[e])return A[e];var t=L[e];if(t)for(var n=Object.keys(t),r=n.length,o=0;o<r;o+=1){var i=n[o];if(Object.prototype.hasOwnProperty.call(t,i)&&i in N)return A[e]=t[i],A[e]}return""}var R=I("animationend"),D=I("transitionend"),j=!(!R||!D);function z(e,t){return e?"object"==typeof e?e[t.replace(/-\w/g,(function(e){return e[1].toUpperCase()}))]:e+"-"+t:null}var F={eventProps:y.a.object,visible:y.a.bool,children:y.a.func,motionName:y.a.oneOfType([y.a.string,y.a.object]),motionAppear:y.a.bool,motionEnter:y.a.bool,motionLeave:y.a.bool,motionLeaveImmediately:y.a.bool,removeOnLeave:y.a.bool,leavedClassName:y.a.string,onAppearStart:y.a.func,onAppearActive:y.a.func,onAppearEnd:y.a.func,onEnterStart:y.a.func,onEnterActive:y.a.func,onEnterEnd:y.a.func,onLeaveStart:y.a.func,onLeaveActive:y.a.func,onLeaveEnd:y.a.func};t.a=function(e){var t=e,n=!!g.a.forwardRef;function r(e){return!(!e.motionName||!t)}"object"==typeof e&&(t=e.transitionSupport,n="forwardRef"in e?e.forwardRef:n);var i=function(e){function t(){l()(this,t);var e=h()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onDomUpdate=function(){var t=e.state,n=t.status,o=t.newStatus,i=e.props,a=i.onAppearStart,s=i.onEnterStart,l=i.onLeaveStart,c=i.onAppearActive,u=i.onEnterActive,d=i.onLeaveActive,h=i.motionAppear,p=i.motionEnter,f=i.motionLeave;if(r(e.props)){var m=e.getElement();e.$cacheEle!==m&&(e.removeEventListener(e.$cacheEle),e.addEventListener(m),e.$cacheEle=m),o&&"appear"===n&&h?e.updateStatus(a,null,null,(function(){e.updateActiveStatus(c,"appear")})):o&&"enter"===n&&p?e.updateStatus(s,null,null,(function(){e.updateActiveStatus(u,"enter")})):o&&"leave"===n&&f&&e.updateStatus(l,null,null,(function(){e.updateActiveStatus(d,"leave")}))}},e.onMotionEnd=function(t){var n=e.state,r=n.status,o=n.statusActive,i=e.props,a=i.onAppearEnd,s=i.onEnterEnd,l=i.onLeaveEnd;"appear"===r&&o?e.updateStatus(a,{status:"none"},t):"enter"===r&&o?e.updateStatus(s,{status:"none"},t):"leave"===r&&o&&e.updateStatus(l,{status:"none"},t)},e.setNodeRef=function(t){var n=e.props.internalRef;e.node=t,"function"==typeof n?n(t):n&&"current"in n&&(n.current=t)},e.getElement=function(){return(t=e.node||e)instanceof HTMLElement?t:w.a.findDOMNode(t);var t},e.addEventListener=function(t){t&&(t.addEventListener(D,e.onMotionEnd),t.addEventListener(R,e.onMotionEnd))},e.removeEventListener=function(t){t&&(t.removeEventListener(D,e.onMotionEnd),t.removeEventListener(R,e.onMotionEnd))},e.updateStatus=function(t,n,r,o){var i=t?t(e.getElement(),r):null;if(!1!==i&&!e._destroyed){var s=void 0;o&&(s=function(){e.nextFrame(o)}),e.setState(a()({statusStyle:"object"==typeof i?i:null,newStatus:!1},n),s)}},e.updateActiveStatus=function(t,n){e.nextFrame((function(){e.state.status===n&&e.updateStatus(t,{statusActive:!0})}))},e.nextFrame=function(t){e.cancelNextFrame(),e.raf=x()(t)},e.cancelNextFrame=function(){e.raf&&(x.a.cancel(e.raf),e.raf=null)},e.state={status:"none",statusActive:!1,newStatus:!1,statusStyle:null},e.$cacheEle=null,e.node=null,e.raf=null,e}return f()(t,e),u()(t,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyed=!0,this.removeEventListener(this.$cacheEle),this.cancelNextFrame()}},{key:"render",value:function(){var e,t=this.state,n=t.status,i=t.statusActive,s=t.statusStyle,l=this.props,c=l.children,u=l.motionName,d=l.visible,h=l.removeOnLeave,p=l.leavedClassName,f=l.eventProps;return c?"none"!==n&&r(this.props)?c(a()({},f,{className:S()((e={},o()(e,z(u,n),"none"!==n),o()(e,z(u,n+"-active"),"none"!==n&&i),o()(e,u,"string"==typeof u),e)),style:s}),this.setNodeRef):d?c(a()({},f),this.setNodeRef):h?null:c(a()({},f,{className:p}),this.setNodeRef):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,o=t.status;if(!r(e))return{};var i=e.visible,a=e.motionAppear,s=e.motionEnter,l=e.motionLeave,c=e.motionLeaveImmediately,u={prevProps:e};return("appear"===o&&!a||"enter"===o&&!s||"leave"===o&&!l)&&(u.status="none",u.statusActive=!1,u.newStatus=!1),!n&&i&&a&&(u.status="appear",u.statusActive=!1,u.newStatus=!0),n&&!n.visible&&i&&s&&(u.status="enter",u.statusActive=!1,u.newStatus=!0),(n&&n.visible&&!i&&l||!n&&c&&!i&&l)&&(u.status="leave",u.statusActive=!1,u.newStatus=!0),u}}]),t}(g.a.Component);return i.propTypes=a()({},F,{internalRef:y.a.oneOfType([y.a.object,y.a.func])}),i.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},Object(b.a)(i),n?g.a.forwardRef((function(e,t){return g.a.createElement(i,a()({internalRef:t},e))})):i}(j)},function(e,t,n){"use strict";n(947);var r=n(17),o=n.n(r),i=n(0),a=n.n(i),s=n(4),l=n.n(s),c=n(28),u=a.a.createClass({displayName:"Overlay.react",propTypes:{visible:a.a.PropTypes.bool.isRequired,hide:a.a.PropTypes.func,children:a.a.PropTypes.node},componentDidMount(){window.addEventListener("keydown",this.closeMenuOnEsc)},componentWillUnmount(){window.removeEventListener("keydown",this.closeMenuOnEsc)},closeMenuOnEsc(e){this.props.visible&&27===e.keyCode&&this.props.hide()},render(){const{visible:e,children:t,hide:n,className:r,...i}=this.props;return a.a.createElement(c.a,{out:!0},e&&a.a.createElement("div",o()({onClick:n,className:l()(r,"wgsa-overlay",{"wgsa-overlay--no-content":!t})},i),t))}});n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";n(987);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n.n(s);const c=o.a.forwardRef(({active:e,children:t,className:n,clear:r,direction:i="down",label:a=t,onClick:s,open:c,title:u},d)=>o.a.createElement("span",{ref:d,role:"button",className:l()("libmr-MenuButton",{active:e,open:c},n),onClick:s,title:u},"string"==typeof a?o.a.createElement("span",null,a):a,e&&r?o.a.createElement("button",{className:"libmr-MenuButton-clear",onClick:r},o.a.createElement("i",{className:"material-icons",onClick:r},"cancel")):o.a.createElement("i",{className:"material-icons"},"arrow_drop_",i)));c.propTypes={active:a.a.bool,children:a.a.node,className:a.a.string,clear:a.a.func,direction:a.a.oneOf(["down","up"]),label:a.a.node,onClick:a.a.func,open:a.a.bool,title:a.a.string};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";const r=/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|[\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|[\ud83c[\ude32-\ude3a]|[\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/,o={ad:"🇦🇩",ae:"🇦🇪",af:"🇦🇫",ag:"🇦🇬",ai:"🇦🇮",al:"🇦🇱",am:"🇦🇲",ao:"🇦🇴",aq:"🇦🇶",ar:"🇦🇷",as:"🇦🇸",at:"🇦🇹",au:"🇦🇺",aw:"🇦🇼",ax:"🇦🇽",az:"🇦🇿",ba:"🇧🇦",bb:"🇧🇧",bd:"🇧🇩",be:"🇧🇪",bf:"🇧🇫",bg:"🇧🇬",bh:"🇧🇭",bi:"🇧🇮",bj:"🇧🇯",bl:"🇧🇱",bm:"🇧🇲",bn:"🇧🇳",bo:"🇧🇴",bq:"🇧🇶",br:"🇧🇷",bs:"🇧🇸",bt:"🇧🇹",bv:"🇧🇻",bw:"🇧🇼",by:"🇧🇾",bz:"🇧🇿",ca:"🇨🇦",cc:"🇨🇨",cd:"🇨🇩",cf:"🇨🇫",cg:"🇨🇬",ch:"🇨🇭",ci:"🇨🇮",ck:"🇨🇰",cl:"🇨🇱",cm:"🇨🇲",cn:"🇨🇳",co:"🇨🇴",cr:"🇨🇷",cu:"🇨🇺",cv:"🇨🇻",cw:"🇨🇼",cx:"🇨🇽",cy:"🇨🇾",cz:"🇨🇿",de:"🇩🇪",dj:"🇩🇯",dk:"🇩🇰",dm:"🇩🇲",do:"🇩🇴",dz:"🇩🇿",ec:"🇪🇨",ee:"🇪🇪",eg:"🇪🇬",eh:"🇪🇭",er:"🇪🇷",es:"🇪🇸",et:"🇪🇹",eu:"🇪🇺",fi:"🇫🇮",fj:"🇫🇯",fk:"🇫🇰",fm:"🇫🇲",fo:"🇫🇴",fr:"🇫🇷",ga:"🇬🇦",gb:"🇬🇧",gd:"🇬🇩",ge:"🇬🇪",gf:"🇬🇫",gg:"🇬🇬",gh:"🇬🇭",gi:"🇬🇮",gl:"🇬🇱",gm:"🇬🇲",gn:"🇬🇳",gp:"🇬🇵",gq:"🇬🇶",gr:"🇬🇷",gs:"🇬🇸",gt:"🇬🇹",gu:"🇬🇺",gw:"🇬🇼",gy:"🇬🇾",hk:"🇭🇰",hm:"🇭🇲",hn:"🇭🇳",hr:"🇭🇷",ht:"🇭🇹",hu:"🇭🇺",id:"🇮🇩",ie:"🇮🇪",il:"🇮🇱",im:"🇮🇲",in:"🇮🇳",io:"🇮🇴",iq:"🇮🇶",ir:"🇮🇷",is:"🇮🇸",it:"🇮🇹",je:"🇯🇪",jm:"🇯🇲",jo:"🇯🇴",jp:"🇯🇵",ke:"🇰🇪",kg:"🇰🇬",kh:"🇰🇭",ki:"🇰🇮",km:"🇰🇲",kn:"🇰🇳",kp:"🇰🇵",kr:"🇰🇷",kw:"🇰🇼",ky:"🇰🇾",kz:"🇰🇿",la:"🇱🇦",lb:"🇱🇧",lc:"🇱🇨",li:"🇱🇮",lk:"🇱🇰",lr:"🇱🇷",ls:"🇱🇸",lt:"🇱🇹",lu:"🇱🇺",lv:"🇱🇻",ly:"🇱🇾",ma:"🇲🇦",mc:"🇲🇨",md:"🇲🇩",me:"🇲🇪",mf:"🇲🇫",mg:"🇲🇬",mh:"🇲🇭",mk:"🇲🇰",ml:"🇲🇱",mm:"🇲🇲",mn:"🇲🇳",mo:"🇲🇴",mp:"🇲🇵",mq:"🇲🇶",mr:"🇲🇷",ms:"🇲🇸",mt:"🇲🇹",mu:"🇲🇺",mv:"🇲🇻",mw:"🇲🇼",mx:"🇲🇽",my:"🇲🇾",mz:"🇲🇿",na:"🇳🇦",nc:"🇳🇨",ne:"🇳🇪",nf:"🇳🇫",ng:"🇳🇬",ni:"🇳🇮",nl:"🇳🇱",no:"🇳🇴",np:"🇳🇵",nr:"🇳🇷",nu:"🇳🇺",nz:"🇳🇿",om:"🇴🇲",pa:"🇵🇦",pe:"🇵🇪",pf:"🇵🇫",pg:"🇵🇬",ph:"🇵🇭",pk:"🇵🇰",pl:"🇵🇱",pm:"🇵🇲",pn:"🇵🇳",pr:"🇵🇷",ps:"🇵🇸",pt:"🇵🇹",pw:"🇵🇼",py:"🇵🇾",qa:"🇶🇦",re:"🇷🇪",ro:"🇷🇴",rs:"🇷🇸",ru:"🇷🇺",rw:"🇷🇼",sa:"🇸🇦",sb:"🇸🇧",sc:"🇸🇨",sd:"🇸🇩",se:"🇸🇪",sg:"🇸🇬",sh:"🇸🇭",si:"🇸🇮",sj:"🇸🇯",sk:"🇸🇰",sl:"🇸🇱",sm:"🇸🇲",sn:"🇸🇳",so:"🇸🇴",sr:"🇸🇷",ss:"🇸🇸",st:"🇸🇹",sv:"🇸🇻",sx:"🇸🇽",sy:"🇸🇾",sz:"🇸🇿",tc:"🇹🇨",td:"🇹🇩",tf:"🇹🇫",tg:"🇹🇬",th:"🇹🇭",tj:"🇹🇯",tk:"🇹🇰",tl:"🇹🇱",tm:"🇹🇲",tn:"🇹🇳",to:"🇹🇴",tr:"🇹🇷",tt:"🇹🇹",tv:"🇹🇻",tw:"🇹🇼",tz:"🇹🇿",ua:"🇺🇦",ug:"🇺🇬",um:"🇺🇲",us:"🇺🇸",uy:"🇺🇾",uz:"🇺🇿",va:"🇻🇦",vc:"🇻🇨",ve:"🇻🇪",vg:"🇻🇬",vi:"🇻🇮",vn:"🇻🇳",vu:"🇻🇺",wf:"🇼🇫",ws:"🇼🇸",ye:"🇾🇪",yt:"🇾🇹",za:"🇿🇦",zm:"🇿🇲",zw:"🇿🇼"};var i=n(240),a=n(36),s=n(169);function l(e,t,n,r,o=5){const i=r,a=.5*i,s=Math.PI/o;let l=Math.PI/2*3;e.moveTo(t,n-i);for(let r=0;r<o;r++)e.lineTo(t+Math.cos(l)*i,n+Math.sin(l)*i),l+=s,e.lineTo(t+Math.cos(l)*a,n+Math.sin(l)*a),l+=s;e.lineTo(t,n-i)}function c(e,t,n,r,o){e.moveTo(t+r*Math.cos(0),n+r*Math.sin(0));for(let i=1;i<=o;i+=1)e.lineTo(t+r*Math.cos(2*i*Math.PI/o),n+r*Math.sin(2*i*Math.PI/o))}t.a=function(e,t,n,u,d="circle",h="#bababa",p,f=a.a.NODE_BORDER_WIDTH,m=a.a.NODE_BORDER_STYLE){if(!(u<=0||"none"===d)){if(e.fillStyle=h,d in o){const r=e.font;e.font=`${2*u}px Segoe UI Emoji`,e.textAlign="center",e.textBaseline="top",e.fillText(o[d],t,n-u/2),e.font=r}else r.test(d)?(e.font=`${2*u}px Segoe UI Emoji`,e.textAlign="center",e.textBaseline="top",e.fillText(d,t,n-u/2)):(e.beginPath(),"dot"===d?e.arc(t,n,2*e.lineWidth,s.a.Degrees0,s.a.Degrees360):"circle"===d?e.arc(t,n,u,s.a.Degrees0,s.a.Degrees360):"square"===d?e.rect(t-u,n-u,2*u,2*u):"triangle"===d?(e.moveTo(t,n-u),e.lineTo(t+u,n+u),e.lineTo(t-u,n+u),e.lineTo(t,n-u)):"star"===d?l(e,t,n,u,5):"hexastar"===d?l(e,t,n,u,6):"heptastar"===d?l(e,t,n,u,7):"octastar"===d?l(e,t,n,u,8):"pentagon"===d?c(e,t,n,u,5):"hexagon"===d?c(e,t,n,u,6):"heptagon"===d?c(e,t,n,u,7):"octagon"===d?c(e,t,n,u,8):console.error("Invalid shape",d),e.fill(),f>0&&(e.strokeStyle=m,e.lineWidth=f,e.stroke()),e.closePath());p&&Object(i.a)(e,t,n,u,p)}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r={LOADING:0,SUCCESS:1}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const r=(e,t,n)=>{const r=t.length,o=t.map(()=>0);for(let i=r-1;i>=0;i--)n[i]>e?o[i]=i:o[i]=o[t[i]];return o}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=n(14),o=n(13),i=n(6);const a=Object(r.b)("COLLECTION_CHANGE_ACCESS_LEVEL");function s(e){return(t,n)=>{const r=n(),{token:s}=Object(o.a)(r);t({type:a,payload:{promise:Object(i.a)("POST",`/api/collection/${s}/access`,{access:e}),access:e}})}}},function(e,t,n){"use strict";n(47),n(56);var r=n(368),o=n(369),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e,t,n,o){var a=void 0;"string"==typeof e?(a=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(a=i({},e)).pathname&&(a.pathname=""),a.search?"?"!==a.search.charAt(0)&&(a.search="?"+a.search):a.search="",a.hash?"#"!==a.hash.charAt(0)&&(a.hash="#"+a.hash):a.hash="",void 0!==t&&void 0===a.state&&(a.state=t));try{a.pathname=decodeURI(a.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+a.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(a.key=n),o?a.pathname?"/"!==a.pathname.charAt(0)&&(a.pathname=Object(r.default)(a.pathname,o.pathname)):a.pathname=o.pathname:a.pathname||(a.pathname="/"),a},s=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(o.default)(e.state,t.state)};"undefined"==typeof window||!window.document||window.document.createElement,"function"==typeof Symbol&&Symbol.iterator,Object.assign,Object.assign,"function"==typeof Symbol&&Symbol.iterator,Object.assign;n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}))},function(e,t,n){"use strict";var r=n(14),o=n(6);n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));const i=Object(r.b)("FETCH_ACCOUNT_ACTIVITY");function a(){return{type:i,payload:{promise:Object(o.a)("GET","/api/account/activity")}}}},function(e,t,n){"use strict";var r=n(32);e.exports={generators:{linear:function(e,t){var n,o=[];if(e.stepSize&&e.stepSize>0)n=e.stepSize;else{var i=r.niceNum(t.max-t.min,!1);n=r.niceNum(i/(e.maxTicks-1),!0)}var a=Math.floor(t.min/n)*n,s=Math.ceil(t.max/n)*n;e.min&&e.max&&e.stepSize&&r.almostWhole((e.max-e.min)/e.stepSize,n/1e3)&&(a=e.min,s=e.max);var l=(s-a)/n;l=r.almostEquals(l,Math.round(l),n/1e3)?Math.round(l):Math.ceil(l),o.push(void 0!==e.min?e.min:a);for(var c=1;c<l;++c)o.push(a+c*n);return o.push(void 0!==e.max?e.max:s),o},logarithmic:function(e,t){var n,o,i=[],a=r.valueOrDefault,s=a(e.min,Math.pow(10,Math.floor(r.log10(t.min)))),l=Math.floor(r.log10(t.max)),c=Math.ceil(t.max/Math.pow(10,l));0===s?(n=Math.floor(r.log10(t.minNotZero)),o=Math.floor(t.minNotZero/Math.pow(10,n)),i.push(s),s=o*Math.pow(10,n)):(n=Math.floor(r.log10(s)),o=Math.floor(s/Math.pow(10,n)));do{i.push(s),10===++o&&(o=1,++n),s=o*Math.pow(10,n)}while(n<l||n===l&&o<c);var u=a(e.max,s);return i.push(u),i}},formatters:{values:function(e){return r.isArray(e)?e:""+e},linear:function(e,t,n){var o=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(o)>1&&e!==Math.floor(e)&&(o=e-Math.floor(e));var i=r.log10(Math.abs(o)),a="";if(0!==e){var s=-1*Math.floor(i);s=Math.max(Math.min(s,20),0),a=e.toFixed(s)}else a="0";return a},logarithmic:function(e,t,n){var o=e/Math.pow(10,Math.floor(r.log10(e)));return 0===e?"0":1===o||2===o||5===o||0===t||t===n.length-1?e.toExponential():""}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(6);function o(e){return Object(r.a)("GET","/api/collection",e)}function i(e){return Object(r.a)("GET","/api/collection/summary",e)}function a(e,t){return Object(r.a)("POST",`/api/collection/${e}/binned`,{status:t})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(4),a=n.n(i),s=n(3),l=n(20),c=n(42);t.a=Object(s.a)((function(e){return{genomeId:Object(l.m)(e)}}),null,(function({genomeId:e},{dispatch:t},n){return{...n,onClick:()=>t(Object(c.i)(e))}}))(({onClick:e,children:t,primary:n})=>o.a.createElement("button",{className:a()("mdl-button mdl-button--raised",{"mdl-button--colored":n}),onClick:e},t))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return h}));var r=n(13),o=n(73),i=n(6),a=n(97),s=n(72);const l="SET_OFFLINE_STATUS";function c(e){return{type:l,payload:{status:e}}}function u(){return(e,t)=>{const n=t(),{uuid:o}=Object(r.a)(n);return e(c(a.a.SAVING)),Promise.all([navigator.serviceWorker.getRegistrations(),caches.has(Object(s.a)(o))]).then(([e,t])=>e.length&&t).then(t=>e(c(t?a.a.SAVED:a.a.UNSAVED))).catch(t=>{console.error(t),e(c(a.a.ERRORED))})}}function d(e,t){const n=Object(i.c)(`/api/collection/${t}`);return fetch(n,{credentials:"include"}).then(t=>t.ok?e.put(n,t):Promise.reject(new Error("Failed to fetch collection data")))}function h(){return(e,t)=>{const n=t(),l=Object(r.a)(n),{uuid:u,token:h}=l,p=Object(o.c)(n),f=Object(s.a)(u);e(c(a.a.SAVING)),navigator.serviceWorker.register("/service-worker.js").then(()=>caches.open(f)).then(e=>Promise.all([d(e,h),e.addAll(p.map(e=>Object(i.c)(`/api/collection/${h}/tree/${encodeURIComponent(e)}`)))])).then(()=>Object(s.f)(l)).then(()=>window.location.reload()).catch(t=>{throw caches.delete(f),e(c(a.a.ERRORED)),t})}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var r=n(6),o=n(15);const{clientId:i}=o.a;function a({id:e},t,n){return Object(r.b)("PUT",`/api/genome/${e}/assembly?${$.param({clientId:i})}`,t instanceof Uint8Array?"application/zip":"text/plain",t,n)}function s(e){return Object(r.a)("POST",`/api/genome/${e}/uploaded`)}function l(e,t){return Object(r.a)("POST",`/api/genome/${e}`,t)}},function(e,t,n){"use strict";n(967);var r=n(0),o=n.n(r),i=n(4),a=n.n(i),s=({items:e,template:t,keyProp:n,density:r="comfortable"})=>o.a.createElement("div",{className:a()("wgsa-static-grid",`wgsa-${r}-grid`)},e.map(e=>o.a.createElement(t,{key:e[n],item:e})));n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="COLLECTION",o="GENOME"},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(3),a=n(98),s=n(160),l=n(129);t.default=Object(i.a)((function(e,{organismId:t,title:n}){const r=Object(a.a)(e);return{isDeployed:Object(s.b)()||!n?l.taxIdMap.has(t):r&&r.has(t)}}))(({isDeployed:e,organismId:t,title:n,shortName:r=!1,children:i=n})=>o.a.createElement("span",{title:n},e?l.taxIdMap.get(t)[r?"formattedShortName":"formattedName"]:i))},function(e,t,n){"use strict";var r,o={noop:function(){},uid:(r=0,function(){return r++}),isNullOrUndef:function(e){return null==e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return o.valueOrDefault(o.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,r){var i,a,s;if(o.isArray(e))if(a=e.length,r)for(i=a-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<a;i++)t.call(n,e[i],i);else if(o.isObject(e))for(a=(s=Object.keys(e)).length,i=0;i<a;i++)t.call(n,e[s[i]],s[i])},arrayEquals:function(e,t){var n,r,i,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],a=t[n],i instanceof Array&&a instanceof Array){if(!o.arrayEquals(i,a))return!1}else if(i!==a)return!1;return!0},clone:function(e){if(o.isArray(e))return e.map(o.clone);if(o.isObject(e)){for(var t={},n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=o.clone(e[n[i]]);return t}return e},_merger:function(e,t,n,r){var i=t[e],a=n[e];o.isObject(i)&&o.isObject(a)?o.merge(i,a,r):t[e]=o.clone(a)},_mergerIf:function(e,t,n){var r=t[e],i=n[e];o.isObject(r)&&o.isObject(i)?o.mergeIf(r,i):t.hasOwnProperty(e)||(t[e]=o.clone(i))},merge:function(e,t,n){var r,i,a,s,l,c=o.isArray(t)?t:[t],u=c.length;if(!o.isObject(e))return e;for(r=(n=n||{}).merger||o._merger,i=0;i<u;++i)if(t=c[i],o.isObject(t))for(l=0,s=(a=Object.keys(t)).length;l<s;++l)r(a[l],e,t,n);return e},mergeIf:function(e,t){return o.merge(e,t,{merger:o._mergerIf})}};e.exports=o,o.callCallback=o.callback,o.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},o.getValueOrDefault=o.valueOrDefault,o.getValueAtIndexOrDefault=o.valueAtIndexOrDefault},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(113),a=n.n(i);t.a=({className:e,children:t,out:n=!1})=>o.a.createElement(a.a,{className:e,transitionName:"wgsa-fade",transitionLeave:n,transitionEnterTimeout:280,transitionLeaveTimeout:280},t)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(4),a=n.n(i);const s=({item:e,onClick:t,renderLabel:n})=>{const{value:r,label:i=r,title:s=i,count:l,active:c}=e;return o.a.createElement("button",{title:s,className:a()("mdl-chip mdl-chip--contact",{"mdl-chip--active":c}),onClick:()=>t(r)},o.a.createElement("span",{className:"mdl-chip__contact"},function(e){return e>9999?`${Math.round(e/1e3)}K`:e}(l)),o.a.createElement("span",{className:"mdl-chip__text"},n(e)))};function l({autoSelect:e=!0,filterActive:t,summary:n=[],totalVisible:r}){return t&&1===n.length&&n[0].count===r&&e?n[0]:n.find(e=>e.active)}function c({children:e,disabled:t,hidden:n,summary:r=[]}){return!e&&(!!n||!t&&0===r.length)}const u=o.a.createClass({displayName:"FilterSection",getInitialState(){return{activeItem:l(this.props),isHidden:c(this.props),isOpen:!1}},componentWillReceiveProps(e){const{activeItem:t,isHidden:n,isOpen:r}=this.state;this.setState({activeItem:e.isLoading&&!t?t:l(e),isHidden:e.isLoading?n:c(e),isOpen:!e.isLoading&&r})},componentDidUpdate(e,t){!t.isOpen&&this.state.isOpen&&this.itemFilterInput&&(componentHandler.upgradeElement(this.itemFilterInput.parentElement),this.itemFilterInput.focus())},toggle(e){this.setState({isOpen:!e})},render(){if(this.state.isHidden)return null;const{children:e,filterKey:t,heading:n,icon:r,summary:i=[],updateFilter:l,renderLabel:c=(({value:e,label:t=e})=>t)}=this.props,{activeItem:u,isOpen:d}=this.state,h=e=>l(t,e);if(u){const{value:e,label:t=e,title:i,activeTitle:a=i}=u,s=!u.active;let l=a||`${n}: ${t}`;return s&&(l+=" (selected automatically)"),o.a.createElement("section",{className:"wgsa-filter-section is-active",style:s?void 0:{cursor:"pointer"}},o.a.createElement("header",{title:l,onClick:s?null:()=>h(e)},o.a.createElement("i",{className:"material-icons",title:n},r),o.a.createElement("span",null,c({...u,active:!0})),!s&&o.a.createElement("i",{className:"material-icons"},"filter_list")))}const{disabled:p,disabledText:f,className:m,headerComponent:g}=this.props;return p?o.a.createElement("section",{className:"wgsa-filter-section is-disabled"},o.a.createElement("header",{title:f},o.a.createElement("i",{className:"material-icons",title:n},r),o.a.createElement("span",null,n))):o.a.createElement("section",{className:a()("wgsa-filter-section",m,{"is-open":d})},o.a.createElement("header",{onClick:()=>this.toggle(d)},o.a.createElement("i",{className:"material-icons",title:n},r),g?o.a.createElement(g,{...this.props,isOpen:d}):o.a.createElement("span",null,n),o.a.createElement("button",{className:"mdl-button mdl-button--icon"},o.a.createElement("i",{className:"material-icons"},d?"expand_less":"expand_more"))),d&&o.a.createElement(o.a.Fragment,null,e||i.map(e=>e.active?null:o.a.createElement(s,{key:e.value,item:e,onClick:h,renderLabel:c}))))}});t.a=u},function(e,t,n){var r=n(615),o=n(618),i=n(402),a=n(60),s=n(621),l=n(403);var c={M:function(e){return e.getMonth()+1},MM:function(e){return h(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return h(e.getDate(),2)},DDD:function(e){return r(e)},DDDD:function(e){return h(r(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return h(o(e),2)},YY:function(e){return h(e.getFullYear(),4).substr(2)},YYYY:function(e){return h(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return h(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return h(c.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return h(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return h(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return h(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return h(e.getMilliseconds(),3)},Z:function(e){return d(e.getTimezoneOffset(),":")},ZZ:function(e){return d(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function d(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+h(Math.floor(r/60),2)+t+h(o,2)}function h(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=l.format.formatters,d=l.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(d=o.format.formattingTokensRegExp));var h=a(e);return s(h)?function(e,t,n){var r,o,i=e.match(n),a=i.length;for(r=0;r<a;r++)o=t[i[r]]||c[i[r]],i[r]=o||u(i[r]);return function(e){for(var t="",n=0;n<a;n++)i[n]instanceof Function?t+=i[n](e,c):t+=i[n];return t}}(r,i,d)(h):"Invalid Date"}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(85);t.a=o.a.createClass({displayName:"Hit.react",componentDidMount(){const{id:e}=this.props;Object(i.b)(e)&&window&&window.Clipboard&&(this.clipboard=new window.Clipboard(this.el,{text:()=>e}))},render(){const{id:e,showNovelHash:t}=this.props;return Object(i.b)(e)?o.a.createElement("span",{ref:e=>{this.el=e},onClick:e=>e.stopPropagation(),className:"wgsa-mlst-profile-hit is-novel",title:`Novel allele: ${e}\n(click to copy)`},"(",t?e.slice(0,4):"novel",")"):o.a.createElement("span",{className:"wgsa-mlst-profile-hit"},e)}})},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(4),a=n.n(i);t.a=({moveToBin:e,restoreFromBin:t,primary:n,className:r,item:i={}})=>"me"!==i.owner?null:i.binned?o.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:t,title:"Restore from bin"},o.a.createElement("i",{className:"material-icons"},"restore")):n?o.a.createElement("button",{className:"mdl-button mdl-button--primary wgsa-button--text",onClick:e,title:"Move to bin"},"Move to Bin"):o.a.createElement("button",{className:a()("mdl-button mdl-button--icon",r),onClick:e,title:"Move to bin"},o.a.createElement("i",{className:"material-icons"},"delete"))},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=({title:e,viewBox:t="0 0 64 64"})=>o.a.createElement("svg",{className:"material-icons",title:e,viewBox:t,y:"0px",x:"0px"},o.a.createElement("path",{style:{fill:"currentColor",fillOpacity:1,strokeWidth:.83934414},d:"M 35.804746,32.000009 C 39.48276,29.315777 43.105355,26.464515 45.98011,23.029095 50.083665,18.125646 52.077953,12.685841 52.077953,6.4 H 32 16.373933 11.922047 c 0,6.285841 1.994288,11.725646 6.097843,16.629095 2.874755,3.43542 6.496511,6.286682 10.175364,8.970914 -3.678013,2.684215 -7.300609,5.535475 -10.175364,8.970897 C 13.916335,45.874354 11.922047,51.314159 11.922047,57.6 H 32 47.625242 52.07711 c 0,-6.285841 -1.994288,-11.725646 -6.097,-16.629094 C 43.105355,37.535484 39.4836,34.684224 35.804746,32.000009 Z M 20.260937,18.643515 c -0.982885,-1.376524 -1.813823,-2.848738 -2.452576,-4.451873 -0.419674,-1.053381 -0.754573,-2.16384 -0.996302,-3.338929 H 32 47.187941 c -0.241729,1.175089 -0.576628,2.285548 -0.996301,3.338929 H 32 17.808361 c 0.638753,1.603135 1.469691,3.075349 2.452576,4.451873 H 32 43.739904 c -0.842692,1.180954 -1.79704,2.290572 -2.8353,3.349823 v -0.01045 H 32 23.096238 v 0.01045 c -1.039102,-1.059251 -1.99345,-2.168869 -2.835301,-3.349823 z m 7.928449,7.791641 H 32 35.810614 C 34.577627,27.389482 33.298457,28.324521 32,29.25954 30.701544,28.323681 29.422373,27.389482 28.189386,26.435156 Z M 32,34.741301 c 1.298457,0.935019 2.577627,1.870058 3.810614,2.824384 H 32 28.189386 C 29.422373,36.611359 30.701544,35.67632 32,34.741301 Z m -8.914678,7.276277 H 32 40.913838 c 1.034915,1.055884 1.985055,2.162137 2.825226,3.338907 H 32 20.260937 c 0.839344,-1.17677 1.789468,-2.283023 2.824385,-3.338907 z M 47.187941,53.148114 H 32 16.812059 C 17.053788,51.97304 17.388687,50.862581 17.808361,49.8092 H 32 46.19164 c 0.419673,1.053381 0.754572,2.16384 0.996301,3.338914 z"}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r=Symbol("STALE_RESULT"),o=()=>e=>t=>{const{type:n,payload:o}=t;if(!o||!o.promise||!o.promise.then)return e(t);const{promise:i,...a}=o;return e(e=>(e({type:n.ATTEMPT,payload:{...a}}),i.then(t=>(t!==r&&e({type:n.SUCCESS,payload:{result:t,...a}}),t),t=>(e({type:n.FAILURE,payload:{error:t,...a}}),t))))}},function(e,t,n){"use strict";var r=n(0),o=n.n(r);t.a=o.a.createClass({displayName:"Poller.react",componentDidMount(){this.interval=setInterval(this.props.fn,1e3*this.props.interval),this.props.fn()},componentWillUnmount(){clearInterval(this.interval)},render(){return this.props.children||null}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(973);var r=n(0),o=n.n(r);class i extends o.a.Component{constructor(e){super(e),this.state={}}render(){const e=this.props.radius-this.props.strokeWidth/2,t=`0 0 ${2*this.props.radius} ${2*this.props.radius}`,n=e*Math.PI*2,r=n-n*this.props.percentage/100;return o.a.createElement("svg",{className:`CircularProgress ${this.props.percentage>=100?"CircularProgress-success":""}`.trim(),width:2*this.props.radius,height:2*this.props.radius,viewBox:t},o.a.createElement("circle",{className:"CircularProgress-Bg",cx:this.props.radius,cy:this.props.radius,r:e,strokeWidth:`${this.props.strokeWidth}px`}),o.a.createElement("circle",{className:"CircularProgress-Fg",cx:this.props.radius,cy:this.props.radius,r:e,stroke:this.props.colour||"#673c90",strokeWidth:`${this.props.strokeWidth}px`,style:{strokeDasharray:n,strokeDashoffset:r}}),o.a.createElement("text",{className:"CircularProgress-Text",x:this.props.radius,y:this.props.radius,dy:".4em",textAnchor:"middle"},`${this.props.percentage.toFixed(this.props.decimalPlaces)}%`))}}i.propTypes={decimalPlaces:o.a.PropTypes.number,percentage:o.a.PropTypes.number,radius:o.a.PropTypes.number,strokeWidth:o.a.PropTypes.number},i.defaultProps={decimalPlaces:0,percentage:50,radius:50,strokeWidth:1}},function(e,t,n){"use strict";var r=n(36);t.a=function(e,t,n,o,i){e.strokeStyle=i;const a=e.lineWidth;e.lineWidth=r.a.HALO_WIDTH,e.beginPath(),e.arc(t,n,o+r.a.NODE_RADIUS+Math.floor(o/r.a.NODE_RADIUS/2),0,2*Math.PI,!1),e.closePath(),e.stroke(),e.lineWidth=a}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(3),o=n(20);const i=(e,t)=>`Cluster of ${e} at threshold of ${t}`;t.a=Object(r.a)((function(e){return{numberOfGenomesInCluster:Object(o.h)(e),threshold:Object(o.p)(e)}}))(({numberOfGenomesInCluster:e,threshold:t})=>i(e,t))},function(e,t,n){var r=n(60);e.exports=function(e){return r(e).getFullYear()}},function(e,t,n){var r=n(60);e.exports=function(e){return r(e).getMonth()}},function(e,t,n){e.exports=n(817)},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,l=a(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))o.call(n,u)&&(l[u]=n[u]);if(r){s=r(n);for(var d=0;d<s.length;d++)i.call(n,s[d])&&(l[s[d]]=n[s[d]])}}return l}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(387),o=n(342);e.exports=Object.keys||function(e){return r(e,o)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=!0},function(e,t,n){"use strict";var r=n(570)(!0);n(390)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})}))},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(195),o=n(196);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==r(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(2);const o=e=>e.viewer.metadata,i=Object(r.createSelector)(o,e=>Object.keys(e).length)},function(e,t,n){"use strict";(function(t){var r=n(830),o=n(452),i=o("transform"),a=o("backfaceVisibility"),s=function(){if(r.hasCSSTransforms()){var e=t.window?t.window.navigator.userAgent:"UNKNOWN";return!(/Safari\//.test(e)&&!/Chrome\//.test(e))&&r.hasCSS3DTransforms()?function(e,t,n){e[i]="translate3d("+t+"px,"+n+"px,0)",e[a]="hidden"}:function(e,t,n){e[i]="translate("+t+"px,"+n+"px)"}}return function(e,t,n){e.left=t+"px",e.top=n+"px"}}();e.exports=s}).call(this,n(45))},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,(function(){return c[u++]})))}throw l.framesToPop=1,l}}},function(e,t,n){(function(e){function n(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===n(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===n(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===n(e)},t.isError=function(e){return"[object Error]"===n(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,n(176).Buffer)},function(e,t,n){"use strict";var r=n(102),o=n.n(r),i=n(36);const a={ids:null,lasso:!1,maxBlockLength:160,maxFontSize:64,maxNodeSize:64,minBlockLength:1,minFontSize:1,minNodeSize:1,path:null,subtreeIds:null,phylocanvas:{...o.a.defaults,fontSize:i.a.FONT_SIZE,fontFamily:i.a.FONT,metadata:{blockLength:14,headerFontWeight:"500",showLabels:!1,showHeaders:!1},nodeSize:i.a.NODE_SIZE,padding:32,renderInternalLabels:!1,renderLeafBorders:!0,renderLeafLabels:!1,styleInternalNodes:!1,styleLeafNodes:!0,styleNodeLines:!1,type:"rc"}};t.a=(e=a,t)=>{switch(t.type){case"LIBMR PHYLOCANVAS STATE":{let n=e.ids,r=e.subtreeIds;return t.payload.rootId&&t.payload.rootId!==e.phylocanvas.rootId?(r=t.payload.ids,n=null):Array.isArray(t.payload.ids)&&(n=t.payload.ids),null===t.payload.rootId&&e.phylocanvas.rootId&&(n=null,r=null),{...e,ids:n,subtreeIds:r,phylocanvas:{...e.phylocanvas,...t.payload,metadata:{...e.phylocanvas.metadata,...t.payload.metadata||{}}}}}case"LIBMR TREE FILTER":return{...e,ids:t.payload.ids||null,path:t.payload&&void 0!==t.payload.path?t.payload.path:e.path};case"LIBMR TREE LASSO":return{...e,lasso:t.payload.lasso,ids:!1===t.payload.lasso?null:e.ids,path:!1===t.payload.lasso?null:e.path};default:return e}}},function(e,t,n){var r=n(649),o=n(60),i=n(650),a=n(652),s=n(403);e.exports=function(e,t,n){var l=n||{},c=r(e,t),u=l.locale,d=s.distanceInWords.localize;u&&u.distanceInWords&&u.distanceInWords.localize&&(d=u.distanceInWords.localize);var h,p,f={addSuffix:Boolean(l.addSuffix),comparison:c};c>0?(h=o(e),p=o(t)):(h=o(t),p=o(e));var m,g=i(p,h),v=p.getTimezoneOffset()-h.getTimezoneOffset(),y=Math.round(g/60)-v;if(y<2)return l.includeSeconds?g<5?d("lessThanXSeconds",5,f):g<10?d("lessThanXSeconds",10,f):g<20?d("lessThanXSeconds",20,f):g<40?d("halfAMinute",null,f):d(g<60?"lessThanXMinutes":"xMinutes",1,f):0===y?d("lessThanXMinutes",1,f):d("xMinutes",y,f);if(y<45)return d("xMinutes",y,f);if(y<90)return d("aboutXHours",1,f);if(y<1440)return d("aboutXHours",Math.round(y/60),f);if(y<2520)return d("xDays",1,f);if(y<43200)return d("xDays",Math.round(y/1440),f);if(y<86400)return d("aboutXMonths",m=Math.round(y/43200),f);if((m=a(p,h))<12)return d("xMonths",Math.round(y/43200),f);var b=m%12,_=Math.floor(m/12);return b<3?d("aboutXYears",_,f):b<9?d("overXYears",_,f):d("almostXYears",_+1,f)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="TOGGLE_ABOUT_COLLECTION";function o(e){return{type:r,payload:{isOpen:e}}}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(35)),o=i(n(371));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,n,i){null===t&&(t=Function.prototype);var a=(0,o.default)(t,n);if(void 0===a){var s=(0,r.default)(t);return null===s?void 0:e(s,n,i)}if("value"in a)return a.value;var l=a.get;return void 0!==l?l.call(i):void 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="COLLECTION_SUMMARY_TOGGLE";function o(e){return{type:r,payload:e}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="SHOW_TIMELINE";function o(){return{type:r,payload:{}}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(6),o=n(159);function i(e,t){return Object(r.a)("GET",`/api/collection/${e}/tree/${encodeURIComponent(t)}`).then(e=>({...e,genomes:Object(o.a)(e.genomes)}))}function a(e){return Object(r.a)("GET",`/api/collection/position/${e}`)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(6);function o(e){return Object(r.a)("GET",`/api/upload/${e}/position`)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(6);function o(e,t,n){return Object(r.a)("PUT","/api/collection",{organismId:t,...n,genomeIds:e.map(e=>e.id)})}function i(e,t){return Object(r.a)("POST","/api/collection/verify",{organismId:t,genomeIds:e.map(e=>e.id)})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="SHOW_METRIC";function o(e){return{type:r,payload:{metric:e}}}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(135).f,o=n(174),i=n(93)("toStringTag");e.exports=function(e,t,n){e&&!o(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){n(579);for(var r=n(92),o=n(173),i=n(194),a=n(93)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<s.length;l++){var c=s[l],u=r[c],d=u&&u.prototype;d&&!d[a]&&o(d,a,c),i[c]=i.Array}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));const r="UPLOAD_TOGGLE_ERRORS";function o(){return{type:r}}},function(e,t,n){var r=n(125).Symbol;e.exports=r},function(e,t,n){"use strict";function r(e){this.message=e}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));const o=/^[ACGTURYKMSWBDHVN]+$/i,i=/^>|^;/;function a(e){const t=e.replace(/\r/g,""),n=t.split("\n");let a=!1;for(let e=0;e<n.length;e++){const t=n[e];if(0===t.length)continue;if(!a&&">"===t[0]){a=!0;continue}if(i.test(t))continue;const s=o.test(t);if(!a&&s)throw new r("First contig header not found");if(!s)throw new r(`Invalid sequence data at line ${e+1}`)}return t}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(3),a=(n(975),n(1)),s=n.n(a),l=n(165),c=n(120),u=n(166);class d extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={isOpen:!1},t}render(){const{props:e}=this;return o.a.createElement(l.a,{className:"mr-menu mr-tree-styles-menu",open:this.state.isOpen,title:"Nodes & Labels",toggle:()=>this.setState({isOpen:!this.state.isOpen})},o.a.createElement(u.a,{label:"Node Size",onChange:e.onNodeSizeChange,min:e.minNodeSize,max:e.maxNodeSize,value:e.nodeSize}),o.a.createElement(u.a,{label:"Label Size",onChange:e.onLabelSizeChange,min:e.minLabelSize,max:e.maxLabelSize,value:e.labelSize}),o.a.createElement("hr",null),o.a.createElement(c.a,{className:"mr-toggle-switch",label:"Show Nodes",isChecked:e.showNodes,onChange:t=>e.onShowNodesChange(t)}),o.a.createElement(c.a,{className:"mr-toggle-switch",label:"Show Labels",isChecked:e.showLabels,onChange:t=>e.onShowLabelsChange(t)}))}}d.displayName="NetworkControlsMenu",d.propTypes={labelSize:s.a.number.isRequired,maxLabelSize:s.a.number.isRequired,maxNodeSize:s.a.number.isRequired,minLabelSize:s.a.number.isRequired,minNodeSize:s.a.number.isRequired,nodeSize:s.a.number.isRequired,onLabelSizeChange:s.a.func.isRequired,onNodeSizeChange:s.a.func.isRequired,onShowLabelsChange:s.a.func,onShowNodesChange:s.a.func,showLabels:s.a.bool,showNodes:s.a.bool};var h=n(4),p=n.n(h),f=n(490),m=n.n(f),g=n(181),v=n(289),y=n(68),b=n(290);var _=function(e,t){const n=e.renderers[0],r=n.domElements.mouse;n.initDOM("canvas","lasso");const o=n.domElements.lasso;r.parentElement.insertBefore(o,r);const i=n.width,a=n.height;n.width=0,n.height=0,n.resize(i,a);const s=Object(b.a)(r,o,{clearBeforeDraw:!0,isActive:t.isActive,path:t.path,onPathChange:t.onPathChange,translateToCanvas:t=>function(e,t){const n=Math.cos(e.camera.angle)/e.camera.ratio,r=Math.sin(e.camera.angle)/e.camera.ratio,o=(e.renderers[0].width||0)/2-e.camera.x*n-e.camera.y*r,i=(e.renderers[0].height||0)/2-e.camera.y*n+e.camera.x*r,a=sigma.utils.getBoundaries(e.graph,"",!0);let s=a.minX,l=a.minY,c=a.maxX,u=a.maxY;const d=e.renderers[0].width,h=e.renderers[0].height;let p="outside"===e.settings("scalingMode")?Math.max(d/Math.max(c-s,1),h/Math.max(u-l,1)):Math.min(d/Math.max(c-s,1),h/Math.max(u-l,1));const f=(e.settings("rescaleIgnoreSize")?0:(e.settings("maxNodeSize")||a.sizeMax)/p)+(e.settings("sideMargin")||0);return c+=f,s-=f,u+=f,l-=f,p="outside"===e.settings("scalingMode")?Math.max(d/Math.max(c-s,1),h/Math.max(u-l,1)):Math.min(d/Math.max(c-s,1),h/Math.max(u-l,1)),t.map(e=>{const t=(e.x-(c+s)/2)*p,a=(e.y-(u+l)/2)*p;return{x:t*n+a*r+o,y:a*n+t*r+i}})}(e,t),translateFromCanvas:(t,n)=>function(e,t,n){const r=Math.cos(e.camera.angle)/e.camera.ratio,o=Math.sin(e.camera.angle)/e.camera.ratio,i=(t-((e.renderers[0].width||0)/2-e.camera.x*r-e.camera.y*o))/r,a=(n-((e.renderers[0].height||0)/2-e.camera.y*r+e.camera.x*o))/r,s=sigma.utils.getBoundaries(e.graph,"",!0);let l=s.minX,c=s.minY,u=s.maxX,d=s.maxY;const h=e.renderers[0].width,p=e.renderers[0].height;let f="outside"===e.settings("scalingMode")?Math.max(h/Math.max(u-l,1),p/Math.max(d-c,1)):Math.min(h/Math.max(u-l,1),p/Math.max(d-c,1));const m=(e.settings("rescaleIgnoreSize")?0:(e.settings("maxNodeSize")||s.sizeMax)/f)+(e.settings("sideMargin")||0);return u+=m,l-=m,d+=m,c-=m,f="outside"===e.settings("scalingMode")?Math.max(h/Math.max(u-l,1),p/Math.max(d-c,1)):Math.min(h/Math.max(u-l,1),p/Math.max(d-c,1)),{x:i/f+(u+l)/2,y:a/f+(d+c)/2}}(e,t,n),onRedrawRequested:()=>{s.draw(),s.updateCanvas()}});return e.renderers[0].bind("render",s.draw),s},w=n(491),C=n.n(w);const S=["scene","mouse","lasso"];var E=n(216),x=n(107);sigma.canvas.nodes.def=function(e,t,n){const r=n("_camera");if(r&&!1!==e.isActive){const o=Math.pow(r.ratio,n("nodesPowRatio")),i=e[n("rendererSizeKey")]*o;i&&Object(E.a)(t,e[n("rendererXKey")],e[n("rendererYKey")],i,e.style.shape,e.style.colour,e.isHighlighted?x.b.primaryColour:null)}},sigma.canvas.edges.def=function(e,t,n,r,o){if(o("_camera")&&!1!==t.isActive&&!1!==n.isActive){switch(r.strokeStyle=e.style.colour||o("defaultEdgeColor"),r.lineWidth=e.style.width||1,e.style.line){case"dashed":r.setLineDash([4,8]);break;case"dotted":r.setLineDash([1,2]);break;case"solid":default:r.setLineDash([])}r.beginPath(),r.moveTo(t[o("rendererXKey")],t[o("rendererYKey")]),r.lineTo(n[o("rendererXKey")],n[o("rendererYKey")]),r.stroke(),r.setLineDash([]);const i=t[o("rendererSizeKey")];e.style.label&&i>=o("labelThreshold")&&(r.fillStyle=r.strokeStyle,r.textAlign="center",r.textBaseline="middle",r.fillText(e.style.label,Math.round((t[o("rendererXKey")]+n[o("rendererXKey")])/2),Math.round((t[o("rendererYKey")]+n[o("rendererYKey")])/2)),r.textAlign="start",r.textBaseline="alphabetic")}};class k extends o.a.Component{componentDidMount(){this.sigmaInst=new sigma({graph:this.props.graph,renderer:{container:this.el,type:"canvas"},settings:{defaultEdgeColor:this.props.edgeColour,defaultLabelSize:this.props.labelSize,defaultNodeColour:this.props.labelSize,drawLabels:this.props.showLabels,drawNodes:this.props.showNodes,font:this.props.fontFamily,maxNodeSize:this.props.nodeSize/2,minNodeSize:this.props.minNodeSize,nodeColor:this.props.nodeColour,sideMargin:1,...this.props.settings}});const e=this.sigmaInst.renderers[0].camera.quadtree.area;this.sigmaInst.renderers[0].camera.quadtree.area=(...t)=>e.apply(this.sigmaInst.renderers[0].camera.quadtree,t).sort((e,t)=>e.isHighlighted&&!t.isHighlighted?1:!e.isHighlighted&&t.isHighlighted?-1:0),this.props.draggableNodes&&sigma.plugins.dragNodes(this.sigmaInst,this.sigmaInst.renderers[0]),this.sigmaInst.initalZoomRatio=this.sigmaInst.settings("zoomingRatio"),this.props.onViewportChange&&this.sigmaInst.camera.bind("coordinatesUpdated",m()(()=>this.props.onViewportChange(this.saveViewport()),200)),this.props.onNodeSelect&&(this.sigmaInst.bind("clickNodes",e=>this.handleNodeClick(e)),this.sigmaInst.bind("clickStage",e=>this.handleStageClick(e))),this.sigmaInst.bind("overNode",e=>{const{data:t}=e;t.node.hoverLabel&&!1!==t.node.isActive&&(t.node.label=t.node.hoverLabel,this.sigmaInst.refresh()),this.props.onNodeHover&&this.props.onNodeHover(e)}),this.sigmaInst.bind("outNode",e=>{const{data:t}=e;t.node.hoverLabel&&t.node.label&&(t.node.label=void 0,this.sigmaInst.refresh()),this.props.onNodeLeave&&this.props.onNodeLeave(e)}),this.props.hasLasso&&(this.canvasLasso=_(this.sigmaInst,{isActive:this.props.lassoActive,path:this.props.lassoPath,onPathChange:e=>this.props.onLassoPathChange(e)}),this.sigmaInst.canvasLasso=this.canvasLasso);const t=this.sigmaInst.renderers[0];this.sigmaInst.settings("rendererXKey",`${t.options.prefix}x`),this.sigmaInst.settings("rendererYKey",`${t.options.prefix}y`),this.sigmaInst.settings("rendererSizeKey",`${t.options.prefix}size`),this.sigmaInst.settings("_camera",this.sigmaInst.camera),this.props.viewport&&this.restoreViewport(this.props.viewport),this.props.recomputeLayout?this.startLayout():this.sigmaInst.refresh();const{addExportCallback:n}=this.props;n&&(n("network-png",()=>function(e){const t=e.renderers[0],n=document.createElement("canvas");n.setAttribute("width",`${t.width}px`),n.setAttribute("height",`${t.height}px`);const r=n.getContext("2d");for(const e of S)e in t.domElements&&r.drawImage(t.domElements[e],0,0);return n.toDataURL()}(this.sigmaInst)),n("network-svg",()=>function(e){const t=e.renderers[0],n={},r=new C.a(t.width,t.height);r.clearRect=()=>{};for(const e of Object.keys(t.contexts))n[e]=t.contexts[e],t.contexts[e]=r;e.refresh();for(const e of Object.keys(n))t.contexts[e]=n[e];return r.getSerializedSvg(!1)}(this.sigmaInst)))}componentDidUpdate(e){e.showLabels!==this.props.showLabels&&this.sigmaInst.settings("drawLabels",this.props.showLabels),e.showNodes!==this.props.showNodes&&this.sigmaInst.settings("drawNodes",this.props.showNodes),e.nodeSize!==this.props.nodeSize&&this.sigmaInst.settings("maxNodeSize",this.props.nodeSize/2),this.props.graph!==e.graph&&(this.sigmaInst.graph.clear(),this.sigmaInst.graph.read(this.props.graph)),e.lassoActive!==this.props.lassoActive&&this.canvasLasso.setActive(this.props.lassoActive),e.lassoPath!==this.props.lassoPath&&this.canvasLasso.setPath(this.props.lassoPath),this.sigmaInst.refresh()}componentWillUnmount(){this.timeoutID&&clearTimeout(this.timeoutID),this.canvasLasso&&this.canvasLasso.destroy(),this.sigmaInst&&this.sigmaInst.kill();const{removeExportCallback:e}=this.props;e&&(e("network-png"),e("network-svg"))}getNodeNeighbours(e){const t=new Set;for(const n of e)t.add(n),this.props.graph.edges.forEach(e=>{e.source===n&&t.add(e.target),e.target===n&&t.add(e.source)});return Array.from(t)}getNodeComponent(e){const t=e,n=new Set;for(;t.length;){const e=t.pop();n.add(e),this.props.graph.edges.forEach(r=>{r.source!==e||n.has(r.target)||t.push(r.target),r.target!==e||n.has(r.source)||t.push(r.source)})}return Array.from(n)}startLayout(){this.sigmaInst&&!this.sigmaInst.isForceAtlas2Running()&&(this.props.onLayoutStart&&this.props.onLayoutStart(),this.sigmaInst.renderers[0].settings("drawEdges",!1),this.sigmaInst.startForceAtlas2({worker:!0,barnesHutOptimize:!1,...this.props.layoutSettings}),this.timeoutID=setTimeout(()=>this.stopLayout(),this.props.layoutDuration))}stopLayout(){if(!this.sigmaInst||!this.sigmaInst.isForceAtlas2Running())return;this.sigmaInst.renderers[0].settings("drawEdges",!0),this.sigmaInst.stopForceAtlas2();const e=this.sigmaInst.graph.nodes(),t={};for(const n of e)t[n.id]={x:n.x,y:n.y};this.props.onLayoutChange&&this.props.onLayoutChange(t)}handleNodeClick(e){const t=e.data.captor.metaKey||e.data.captor.ctrlKey,n=e.data.captor.altKey||e.data.captor.shiftKey,r=e.data.node.map(e=>e.id);if(n&&t){const e=this.getNodeComponent(r);this.props.onNodeSelect(e)}else if(n){const e=this.getNodeNeighbours(r);this.props.onNodeSelect(e,t)}else this.props.onNodeSelect(r,t)}handleStageClick(e){const{isDragging:t,metaKey:n,ctrlKey:r}=e.data.captor;t||(n||r)||this.props.onNodeSelect()}handleZoomChange(e){const t=this.sigmaInst.settings("zoomingRatio")**-e,n={duration:this.sigmaInst.settings("mouseZoomDuration")};sigma.utils.zoomTo(this.sigmaInst.camera,0,0,t,n)}handleZoomReset(){const e={duration:this.sigmaInst.settings("mouseZoomDuration")};sigma.utils.zoomTo(this.sigmaInst.camera,0,0,1/this.sigmaInst.camera.ratio,e)}saveViewport(){return{x:this.sigmaInst.camera.x,y:this.sigmaInst.camera.y,ratio:this.sigmaInst.camera.ratio}}restoreViewport(e){this.sigmaInst.camera.x=e.x,this.sigmaInst.camera.y=e.y,this.sigmaInst.camera.ratio=e.ratio}renderSecondaryControls(){return o.a.createElement(o.a.Fragment,null,this.props.hasLasso&&o.a.createElement(v.a,{active:this.props.lassoActive,onClick:()=>this.props.onLassoActiveChange(!this.props.lassoActive)}),o.a.createElement(y.a,{title:"Shuffle nodes",onClick:()=>this.startLayout()},o.a.createElement("i",{className:"material-icons"},"shuffle")),o.a.createElement(y.a,{title:"Reset zoom",onClick:()=>this.handleZoomReset()},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")),this.props.secondaryControls)}render(){const{width:e,height:t}=this.props;return o.a.createElement(g.b,{primaryControls:this.props.primaryControls,onZoomChange:e=>this.handleZoomChange(e),secondaryControls:this.renderSecondaryControls(),style:{width:e,height:t,...this.props.style}},o.a.createElement("div",{className:p()("libmr-Network",this.props.className),ref:e=>{this.el=e},style:{width:e,height:t,...this.props.style}},this.props.children))}}k.propTypes={addExportCallback:s.a.func,children:s.a.node,className:s.a.string,draggableNodes:s.a.bool,edgeColour:s.a.string,fontFamily:s.a.string,graph:s.a.shape({edges:s.a.array,nodes:s.a.array}),hasLasso:s.a.bool,height:s.a.number,labelColour:s.a.string,labelSize:s.a.number,lassoActive:s.a.bool,lassoPath:s.a.array,layoutDuration:s.a.number,layoutSettings:s.a.object,minNodeSize:s.a.number,nodeColour:s.a.string,nodeRenderer:s.a.func,nodeSize:s.a.number,onLassoActiveChange:s.a.func,onLassoPathChange:s.a.func,onLayoutChange:s.a.func,onLayoutStart:s.a.func,onNodeHover:s.a.func,onNodeLeave:s.a.func,onNodeSelect:s.a.func,onViewportChange:s.a.func,primaryControls:s.a.node,recomputeLayout:s.a.bool,removeExportCallback:s.a.func,secondaryControls:s.a.node,settings:s.a.object,showLabels:s.a.bool,showNodes:s.a.bool,style:s.a.object,viewport:s.a.object,width:s.a.number},k.defaultProps={draggableNodes:!1,edgeColour:"#ccc",fontFamily:'"Roboto", "Helvetica", "Arial", sans-serif',hasLasso:!1,labelColour:"#222",labelSize:14,layoutDuration:1e3,maxLabelSize:160,minNodeSize:1,nodeColour:"#ccc",nodeSize:16,secondaryControls:[],showLabels:!0,showNodes:!0};var O=k,T=n(241),M=n(20),P=n(42),L=n(104),N=n(81);const A=()=>o.a.createElement("div",{className:"pw-cluster-status"},o.a.createElement("p",{className:"wgsa-blink"},"Fetching cluster...")),I=()=>o.a.createElement("div",{className:"pw-cluster-status"},o.a.createElement("p",null,"Couldn't fetch the cluster, try another threshold")),R=o.a.createClass({displayName:"ClusterNetwork",getInitialState:()=>({controlsVisible:!1}),render(){switch(this.props.status){case"INITIAL_STATUS":case"BUILDING_CLUSTERS":case"BUILT_CLUSTERS":case"FETCHING_CLUSTERS":case"FETCHING_EDGES":case"FETCHED_CLUSTERS":return o.a.createElement(A,null);case"FETCHED_EDGES":case"RUNNING_LAYOUT":case"COMPLETED_LAYOUT":break;case"FAILED_BUILDING_CLUSTERS":case"FAILED_FETCHING_CLUSTERS":case"FAILED_FETCHING_EDGES":default:return o.a.createElement(I,null)}const e={opacity:"RUNNING_LAYOUT"===this.props.status?.5:1},{edgesCount:t}=this.props,{controlsVisible:n}=this.state;return o.a.createElement("div",{className:"pw-cluster-network"},!1!==this.props.coverMessage&&o.a.createElement("p",{className:"pw-network-cover-message"},"RUNNING_LAYOUT"===this.props.status?o.a.createElement("span",{className:"wgsa-blink"},"Rendering cluster..."):o.a.createElement(T.a,null)),o.a.createElement(O,{addExportCallback:N.a,controlsVisible:n,graph:this.props.graph,hasLasso:this.props.hasLasso,lassoActive:this.props.lassoActive,lassoPath:this.props.lassoPath,layoutDuration:Math.min(Math.max(1e3,t/5),1e4),layoutSettings:L.a,onControlsVisibleChange:()=>this.setState({controlsVisible:!n}),onLassoActiveChange:this.props.onLassoActiveChange,onLassoPathChange:this.props.onLassoPathChange,onLayoutChange:this.props.stopLayout,onLayoutStart:this.props.startLayout,onNodeSelect:this.props.onNodeSelect,primaryControls:this.props.primaryControls,recomputeLayout:"FETCHED_EDGES"===this.props.status,removeExportCallback:N.c,settings:L.e,style:e}))}});t.a=Object(i.a)((function(e,t){return{edgesCount:M.d(e),graph:t.graph||M.e(e),status:M.n(e)}}),(function(e){return{startLayout:()=>e(P.n()),stopLayout:t=>e(P.o(t))}}))(R)},function(e,t,n){var r=n(733),o=n(734),i=n(735),a=n(736),s=n(737);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(429);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(199)(Object,"create");e.exports=r},function(e,t,n){var r=n(755);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(253);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,n,r,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var i,a,s=arguments.length;switch(s){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,n)}));case 3:return t.nextTick((function(){e.call(null,n,r)}));case 4:return t.nextTick((function(){e.call(null,n,r,o)}));default:for(i=new Array(s-1),a=0;a<i.length;)i[a++]=arguments[a];return t.nextTick((function(){e.apply(null,i)}))}}}:e.exports=t}).call(this,n(137))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(478),a=n.n(i),s=n(479),l=n.n(s),c=n(161),u=(n(955),n(957),n(480)),d=n.n(u),h=n(4),p=n.n(h),f=n(233),m=n.n(f),g=n(242),v=n.n(g),y=n(243),b=n.n(y),_=n(481),w=n.n(_),C=n(482),S=n.n(C),E=n(50),x=o.a.createClass({displayName:"MonthYearSelector.react",getInitialState(){return{...this.parseDates(this.props)}},componentWillReceiveProps(e){this.props.editing&&!e.editing?this.update():this.setState(this.parseDates(e))},setMonth(e){const t=parseInt(e.target.value,10);this.setState({month:t})},setYear(e){const t=parseInt(e.target.value,10);this.setState({year:t})},parseDates:({date:e,min:t,max:n})=>({year:v()(e),minYear:v()(t),maxYear:v()(n),month:b()(e),minMonth:b()(t),maxMonth:b()(n)}),update(){const{year:e,month:t}=this.state,n=new Date(e,t),r=w()(this.props.max,S()(n,this.props.min)),o=v()(r),i=b()(r),a=v()(this.props.date),s=b()(this.props.date);o===a&&i===s||this.props.update(r)},renderMonths:()=>E.e.map(({text:e,value:t})=>o.a.createElement("option",{key:e,value:t},e.slice(0,3))),render(){if(!this.props.date)return null;if(this.props.editing){const{year:e,minYear:t,maxYear:n,month:r}=this.state;return o.a.createElement("form",{ref:e=>{this.form=e},className:"wgsa-month-year-selector",onSubmit:e=>e.preventDefault(),onClick:e=>e.stopPropagation()},o.a.createElement("select",{name:"month",value:r,onChange:this.setMonth},this.renderMonths()),o.a.createElement("input",{name:"year",type:"number",min:t,max:n,value:e,onChange:this.setYear}),o.a.createElement("button",{type:"submit",title:"Set Date"},o.a.createElement("i",{className:"material-icons"},"checked")))}return o.a.createElement("button",{onClick:this.props.onClick,title:"Edit Date"},m()(this.props.date,"MMM YYYY"))}}),k=o.a.createClass({displayName:"DateFilter.react",getInitialState(){const[e,t]=this.props.values;return{min:e,max:t}},componentWillReceiveProps(e){const[t,n]=e.values;this.setState({min:t,max:n})},isInactive(){const[e,t]=this.props.values;return!e&&!t},render(){const{bounds:e,values:t=e,onChangeMin:n,onChangeMax:r}=this.props,i=Object(E.a)(e[0]),a=Object(E.a)(e[1]),s=this.state.min||e[0],l=this.state.max||e[1],c=Object(E.a)(s),u=Object(E.a)(l);return o.a.createElement("div",{className:"wgsa-date-range"},o.a.createElement(d.a,{id:"genome-date-filter",min:i,max:a,value:[c,u],onChange:([e,t])=>this.setState({min:Object(E.d)(e),max:Object(E.d)(t)}),onAfterChange:([e,o])=>{e!==(t[0]?Object(E.a)(t[0]):i)&&n(Object(E.d)(e)),o!==(t[1]?Object(E.a)(t[1]):a)&&r(Object(E.d)(o))},className:p()({"rc-slider--inactive":this.isInactive()})}),o.a.createElement("label",{htmlFor:"genome-date-filter",onSubmit:()=>this.setState({editing:null})},o.a.createElement(x,{date:s,min:e[0],max:l,update:n,onClick:()=>this.setState({editing:"min"}),editing:"min"===this.state.editing}),o.a.createElement(x,{date:l,min:s,max:e[1],update:r,onClick:()=>this.setState({editing:"max"}),editing:"max"===this.state.editing})))}}),O=({summary:e,updateFilter:t})=>{if(e){const n=!(!e.values[0]&&!e.values[1]);return o.a.createElement(c.a,{heading:"Date",icon:"date_range",expanded:n},o.a.createElement(k,{bounds:e.bounds,values:e.values,onChangeMin:e=>t("minDate",a()(e).toISOString()),onChangeMax:e=>t("maxDate",l()(e).toISOString())}))}return null};n.d(t,"a",(function(){return O}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(375),a=n(203),s=n.n(a),l=n(259),c=n.n(l),u=n(96),d=n(10),h=n(204),p=n(17),f=n.n(p),m=n(3),g=n(235),v=n(75),y=n(122),b=n(63),_=n(80),w=n(223),C=n(156);function S(e,t,n=!0){return(r,i)=>{const a=Object(_.b)(i()),s=()=>r(S(e,!t,!1));return Object(w.a)(e.token,t).then(()=>Promise.all([r(v.c(a)),r(v.d(a)),r(Object(y.b)())])).then(()=>n&&r(Object(b.c)(function({title:e,binned:t},n){return{action:{label:"Undo",onClick:n},message:o.a.createElement("span",null,e?o.a.createElement(C.a,{tag:"strong"},e):"Collection"," ",t?"restored from":"moved to"," bin.")}}(e,s)))).catch(e=>{throw r(Object(b.c)({message:"Something went wrong, please try again later."})),e})}}var E=Object(m.a)(null,(function(e,{collection:t}){return{moveToBin:()=>e(S(t,!0)),restoreFromBin:()=>e(S(t,!1))}}))(({collection:e={},...t})=>o.a.createElement(g.a,f()({item:e},t))),x=n(205);const k={READY:"done",PROCESSING:"hourglass_empty",FAILED:"warning"},O={READY:"Ready",PROCESSING:"In progress",FAILED:"Failed"};t.a=({item:e,footerLink:t})=>{const n=new Date,{createdAt:r,status:a,size:l}=e;return o.a.createElement(u.b,{className:"wgsa-card--bordered"},o.a.createElement("span",{className:"wgsa-card-metadata-overview"},o.a.createElement(u.a,{title:"Size",icon:"wgsa_genome"},l," genome",1===l?"":"s"),o.a.createElement(u.a,{tooltip:r.toLocaleString(),icon:"access_time"},c()(r,n)," ago"),"READY"!==a&&o.a.createElement(u.a,{title:"Status",icon:k[a]},O[a])),e.title?o.a.createElement(x.a,{level:"2",className:"wgsa-card-title wgsa-overflow-fade"},e.title):o.a.createElement("h2",{className:"wgsa-card-title"},"(Untitled Collection)"),o.a.createElement("p",{className:"wgsa-card-subtitle"},o.a.createElement(d.a,{organismId:e.organismId})),e.description?o.a.createElement(s.a,{className:"wgsa-card-description",source:e.description}):o.a.createElement("p",null,"(no description)"),o.a.createElement("div",{className:"wgsa-card-footer wgsa-card-footer--fixed"},o.a.createElement(i.a,{className:"mdl-button mdl-button--primary wgsa-button--text",to:`/collection/${e.token}`},"View Collection"),t||("other"===(p=e).owner?o.a.createElement(h.a,{className:"mdl-button wgsa-button--text",pmid:p.pmid}):o.a.createElement(E,{collection:p}))));var p}},function(e,t,n){"use strict";n(971);var r=n(0),o=n.n(r),i=n(3),a=n(112),s=n(15),l=o.a.createClass({displayName:"Notify.react",componentWillMount(){this.subscribe()},componentDidUpdate(){this.isSubscribed||this.subscribe()},componentWillUnmount(){const{room:e=s.a.clientId}=this.props;e&&this.isSubscribed&&Object(a.b)(e)},isSubscribed:!1,subscribe(){const{room:e=s.a.clientId,topic:t,onMessage:n}=this.props;e&&(Object(a.a)(e,t,n),this.isSubscribed=!0)},render(){return this.props.children}}),c=n(238),u=n(239),d=n(20),h=n(42),p=n(6);class f extends o.a.Component{constructor(){super(),this.getQueuePosition=()=>{this.props.taskId&&Object(p.a)("GET",`/api/genome/${this.props.genomeId}/clusters/position`,{taskId:this.props.taskId}).then(({position:e})=>this.setState({position:e})).catch(e=>{console.error(e),this.props.updateProgress({status:"FAILED"})})},this.renderQueuePosition=()=>{const{position:e}=this.state;return null===e?"Awaiting Queue Position":0===e?"Awaiting Progress":`Queue Position: ${e}`},this.state={position:null}}render(){const{taskId:e}=this.props;return o.a.createElement(l,{room:e,topic:"clustering",onMessage:this.props.updateProgress},o.a.createElement("div",{className:"pw-cluster-content pw-cluster-progress"},this.props.progress>0?o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{percentage:this.props.progress,radius:"64",strokeWidth:"12",decimalPlaces:1}),o.a.createElement("p",{className:"wgsa-blink"},o.a.createElement("strong",null,"Running"))):o.a.createElement(o.a.Fragment,null,e&&o.a.createElement(c.a,{interval:10,fn:()=>this.getQueuePosition()}),o.a.createElement("strong",null,"Job Queued"),o.a.createElement("p",{className:"wgsa-blink"},this.renderQueuePosition()))))}}var m=Object(i.a)((function(e){return{genomeId:Object(d.m)(e),progress:Object(d.k)(e),taskId:Object(d.o)(e)}}),(function(e){return{updateProgress:t=>e(Object(h.p)(t))}}))(f),g=n(224);const v=()=>o.a.createElement("div",{className:"pw-cluster-content"},o.a.createElement("p",null,"Clusters have not been calculated for this genome."),o.a.createElement(g.a,{primary:!0},"Run Clustering")),y=()=>o.a.createElement("div",{className:"pw-cluster-content"},o.a.createElement("p",null,"Something went wrong 😞"),o.a.createElement(g.a,null,"Try Again")),b=o.a.createClass({displayName:"Clustering",componentDidMount(){this.update()},componentDidUpdate(e){this.update(e)},update(e={}){const{props:t}=this;"INITIAL_STATUS"===t.status&&"INITIAL_STATUS"!==e.status?t.fetch(this.props.selectedGenomeId):"BUILT_CLUSTERS"===t.status&&"BUILT_CLUSTERS"!==e.status?t.fetch(this.props.selectedGenomeId):"FETCHED_CLUSTERS"===t.status&&"FETCHED_CLUSTERS"!==e.status&&(t.numberOfNodesInCluster>1?t.fetchEdgeMatrix(t):t.skipLayout(this.props.graph.nodes))},render(){const{status:e}=this.props;switch(e){case"INITIAL_STATUS":return o.a.createElement(v,null);case"FETCHING_CLUSTERS":return o.a.createElement("div",{className:"pw-cluster-content"},o.a.createElement("p",{className:"wgsa-blink"},"Checking Status"));case"BUILDING_CLUSTERS":case"BUILT_CLUSTERS":return o.a.createElement(m,null);case"FETCHED_CLUSTERS":case"FETCHING_EDGES":case"FETCHED_EDGES":case"RUNNING_LAYOUT":case"COMPLETED_LAYOUT":case"SKIP_NETWORK":return this.props.children;case"FAILED_FETCHING_CLUSTERS":return this.props.triedBuilding?o.a.createElement(y,null):o.a.createElement(v,null);case"FAILED_BUILDING_CLUSTERS":case"FAILED_FETCHING_EDGES":default:return o.a.createElement(y,null)}}});var _=Object(i.a)((function(e){return{clusterSts:d.c(e),graph:d.e(e),numberOfNodesInCluster:d.j(e),selectedGenomeId:d.m(e),status:d.n(e),threshold:d.p(e),triedBuilding:d.q(e),scheme:d.l(e),version:d.r(e)}}),(function(e){return{build:t=>e(h.i(t)),fetch:t=>e(h.j(t)),fetchEdgeMatrix:({selectedGenomeId:t,scheme:n,version:r,threshold:o,clusterSts:i})=>e(h.k(t,n,r,o,i)),skipLayout:t=>e(h.m(t))}}))(b);n.d(t,"a",(function(){return _}))},function(e,t,n){"use strict";n(951);var r=n(0),o=n.n(r),i=n(4),a=n.n(i),s=n(209),l=n.n(s);class c extends o.a.Component{constructor(e){super(e),this.onChange=e=>{this.props.textOnChange(e),this.textOnChangeEffect(e)},this.textOnChangeEffect=l()(e.textOnChangeEffect,250)}render(){const{active:e,children:t,clear:n,headerComponent:r,prefilter:i,summary:s,textValue:l,updateFilter:c}=this.props;return o.a.createElement("aside",{className:a()("wgsa-filter",{"wgsa-filter--active":e})},o.a.createElement("header",{className:"wgsa-filter__header"},o.a.createElement("label",{className:"wgsa-filter__search"},o.a.createElement("i",{className:"material-icons"},"search"),o.a.createElement("input",{type:"text",placeholder:"Search",value:l,onChange:e=>this.onChange(e.target.value)}))),o.a.createElement("div",{className:"wgsa-filter__content"},t.map(t=>t?o.a.cloneElement(t,{filterActive:e,headerComponent:r,isLoading:s.loading,summary:t.props.summary||s[t.props.filterKey],totalVisible:s.visible,updateFilter:t.props.updateFilter||c}):null),"bin"===i&&o.a.createElement("p",{className:"pw-bin-notice"},"Binned items are removed after 30 days.")),o.a.createElement("footer",{className:"wgsa-filter__footer"},o.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--primary",onClick:n},"Clear Filters")))}}var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(68);const a=e=>o.a.createElement(i.a,{active:e.active,title:e.title||(e.active?"Disable lasso filter":"Activate lasso filter"),onClick:e.onClick},o.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{opacity:"0.375"},o.a.createElement("path",{d:"M3.67997 3.667L3.80397 2.67472L2.32031 2.48932L2.71554 3.93133L3.67997 3.667ZM7.69982 18.3337L6.73539 18.598L6.9941 19.5419L7.94335 19.3036L7.69982 18.3337ZM18.3202 15.667L18.5637 16.6369L19.1078 16.5003L19.2748 15.9647L18.3202 15.667ZM14.474 4.00805L3.80397 2.67472L3.55598 4.65928L14.226 5.99262L14.474 4.00805ZM2.71554 3.93133L6.73539 18.598L8.66425 18.0693L4.6444 3.40267L2.71554 3.93133ZM7.94335 19.3036L18.5637 16.6369L18.0767 14.6971L7.45629 17.3638L7.94335 19.3036ZM19.2748 15.9647L21.9547 7.37215L20.0454 6.77667L17.3656 15.3693L19.2748 15.9647Z",fill:"black"})),o.a.createElement("path",{d:"M3.6799 6.33333C5.15997 6.33333 6.3598 5.13943 6.3598 3.66667C6.3598 2.19391 5.15997 1 3.6799 1C2.19983 1 1 2.19391 1 3.66667C1 5.13943 2.19983 6.33333 3.6799 6.33333Z",fill:"black"}),o.a.createElement("path",{d:"M14.3499 7.66634C15.83 7.66634 17.0298 6.47244 17.0298 4.99968C17.0298 3.52692 15.83 2.33301 14.3499 2.33301C12.8698 2.33301 11.67 3.52692 11.67 4.99968C11.67 6.47244 12.8698 7.66634 14.3499 7.66634Z",fill:"black"}),o.a.createElement("path",{d:"M7.69992 21.0003C9.17999 21.0003 10.3798 19.8064 10.3798 18.3337C10.3798 16.8609 9.17999 15.667 7.69992 15.667C6.21985 15.667 5.02002 16.8609 5.02002 18.3337C5.02002 19.8064 6.21985 21.0003 7.69992 21.0003Z",fill:"black"}),o.a.createElement("path",{d:"M18.3199 18.3333C19.8 18.3333 20.9998 17.1394 20.9998 15.6667C20.9998 14.1939 19.8 13 18.3199 13C16.8398 13 15.64 14.1939 15.64 15.6667C15.64 17.1394 16.8398 18.3333 18.3199 18.3333Z",fill:"black"})));a.propTypes=i.a.propTypes;var s=a;n.d(t,"a",(function(){return s}))},function(e,t,n){"use strict";var r=n(107),o=function(e,t){const n=e.x,r=e.y;let o=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){const a=t[e].x,s=t[e].y,l=t[i].x,c=t[i].y;s>r!=c>r&&n<(l-a)*(r-s)/(c-s)+a&&(o=!o)}return o};function i(e,t,n){const i=Object.assign({clearBeforeDraw:!1,dotsStyle:"#383838",isActive:!1,lineWidth:2,path:null,pointFillStyle:"#ffffff",pointSize:14,pointStrokeStyle:"#000000",strokeStyle:r.b.primaryColour,draw:()=>{const e=t.getContext("2d");i.clearBeforeDraw&&e.clearRect(0,0,t.width,t.height);const n=i.internalPath||i.path;if(i.isActive&&Array.isArray(n)&&n.length>0){const t=1;e.strokeStyle=i.strokeStyle,e.lineWidth=i.lineWidth*t,e.beginPath();const r=i.translateToCanvas(n);!function(e,t){e.moveTo(t[0].x,t[0].y);for(let n=1;n<t.length;n++)e.lineTo(t[n].x,t[n].y);e.stroke()}(e,r),e.lineWidth=1*t,e.fillStyle=i.pointFillStyle,e.strokeStyle=i.pointStrokeStyle,function(e,t,n,r){for(let o=0;o<t.length-(r?1:0);o++)e.fillRect(t[o].x-n,t[o].y-n,2*n,2*n),e.strokeRect(t[o].x-n+e.lineWidth,t[o].y-n+e.lineWidth,2*n-e.lineWidth,2*n-e.lineWidth)}(e,r,t*i.pointSize/2,!!i.path),e.closePath()}},destroy:()=>{e.removeEventListener("mousedown",l),e.removeEventListener("mouseup",c)},isPointInside:(e,t)=>o(e,t||i.path),onPathChange:e=>{i.setPath(e),i.draw()},onRedrawRequested:()=>{i.draw(),i.updateCanvas()},setActive:e=>{i.isActive=e,i.updateCanvas()},setPath:e=>{i.path=e,i.internalPath=null,i.updateCanvas()},translateToCanvas:e=>e,translateFromCanvas:(e,t)=>({x:e,y:t}),updateCanvas:()=>{i.isActive?Array.isArray(i.path)?(e.style.cursor=null,e.title="Click outside the path to clear"):(e.style.cursor="crosshair",e.title="Click to draw points"):(e.style.cursor=null,e.title="",i.internalPath&&(i.internalPath=null))}},n);let a=null,s=null;const l=e=>{a=e.offsetX,s=e.offsetY},c=e=>{Math.abs(a-e.offsetX)<5&&Math.abs(s-e.offsetY)<5&&(e=>{if(!i.isActive)return;const t=i.translateFromCanvas(e.offsetX,e.offsetY);if(Array.isArray(i.path))o(t,i.path)||i.onPathChange(null);else{if(i.internalPath||(i.internalPath=[]),i.internalPath.length>0){const t=i.pointSize,n=i.translateFromCanvas(e.offsetX-t,e.offsetY-t),r=i.translateFromCanvas(e.offsetX+t,e.offsetY+t);if(r.x>=i.internalPath[0].x&&n.x<=i.internalPath[0].x&&r.y>=i.internalPath[0].y&&n.y<=i.internalPath[0].y){const e=i.internalPath;return e.push(e[0]),i.internalPath=null,void i.onPathChange(e)}}i.internalPath.push(t),i.onRedrawRequested&&i.onRedrawRequested()}})(e),a=null,s=null};return e.addEventListener("mousedown",l,!1),e.addEventListener("mouseup",c,!1),i.updateCanvas(),i}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n(1001);var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(4),l=n.n(s);const c=({children:e,className:t,onZoomIn:n,onZoomOut:r})=>o.a.createElement("div",{className:l()("libmr-ZoomControls",t),draggable:"false"},o.a.createElement("div",{className:"libmr-ZoomControls-button",title:"Zoom in",onClick:n},o.a.createElement("i",{className:"libmr-ZoomControls-icon material-icons"},"zoom_in")),o.a.createElement("div",{className:"libmr-ZoomControls-divider"}),e?o.a.createElement(o.a.Fragment,null,e,o.a.createElement("div",{className:"libmr-ZoomControls-divider"})):null,o.a.createElement("div",{className:"libmr-ZoomControls-button",title:"Zoom out",onClick:r},o.a.createElement("i",{className:"libmr-ZoomControls-icon material-icons"},"zoom_out")));c.propTypes={className:a.a.string,children:a.a.node,onZoomIn:a.a.func.isRequired,onZoomOut:a.a.func.isRequired};var u=c;n.d(t,"a",(function(){return u}))},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(45))},function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){e.exports={default:n(561),__esModule:!0}},function(e,t){e.exports=[{id:"485",speciesId:"485",genusId:"482",nickname:"ngonorrhoeae"},{id:"666",speciesId:"666",genusId:"662",nickname:"vibcl"},{id:"1280",speciesId:"1280",genusId:"1279",nickname:"saureus"},{id:"1313",speciesId:"1313",genusId:"1301",nickname:"strpn"},{id:"1336",speciesId:"1336",genusId:"1301",nickname:"sequi"},{id:"1646",speciesId:"1646",genusId:"1645",nickname:"rensm"},{id:"573",speciesId:"573",genusId:"570",nickname:"klepn"},{id:"498019",speciesId:"498019",genusId:"36910",nickname:"canar"},{id:"64320",speciesId:"64320",genusId:"11051",nickname:"zikv",simple:!0},{id:"90370",speciesId:"28901",genusId:"590",nickname:"styphi"}]},function(e,t){e.exports=function(e,t){(t=t||{}).listUnicodeChar=!!t.hasOwnProperty("listUnicodeChar")&&t.listUnicodeChar,t.stripListLeaders=!t.hasOwnProperty("stripListLeaders")||t.stripListLeaders,t.gfm=!t.hasOwnProperty("gfm")||t.gfm;var n=e||"";n=n.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*$/gm,"");try{t.stripListLeaders&&(n=t.listUnicodeChar?n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,t.listUnicodeChar+" $1"):n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),t.gfm&&(n=n.replace(/\n={2,}/g,"\n").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),n=n.replace(/<[^>]*>/g,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[.*?\][\[\(].*?[\]\)]/g,"").replace(/\[(.*?)\][\[\(].*?[\]\)]/g,"$1").replace(/^\s{0,3}>\s?/g,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} {0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/([\*_]{1,3})(\S.*?\S{0,1})\1/g,"$2").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/\n{2,}/g,"\n\n")}catch(t){return console.error(t),e}return n}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Candida auris",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"C. auris");t.default={name:i,formattedName:a,shortName:"C. auris",formattedShortName:s,maxGenomeSize:4*Math.pow(10,6),desc:o.a.createElement("p",null,o.a.createElement("strong",null,a)," https://en.wikipedia.org/wiki/Candida_auris"),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2759,scientificName:"Eukaryota",rank:"superkingdom"},{taxId:4890,scientificName:"Ascomycota",rank:"phylum"},{taxId:4891,scientificName:"Saccharomycetes",rank:"class"},{taxId:4892,scientificName:"Saccharomycetales",rank:"order"},{taxId:27319,scientificName:"Metschnikowiaceae",rank:"family"},{taxId:36910,scientificName:"Clavispora",rank:"genus"},{taxId:498019,scientificName:"Candida auris",rank:"species"}],publicMetadataColumnNames:[],collections:[],uiOptions:{noMLST:!0}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Klebsiella pneumoniae",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"K. pneumoniae");t.default={name:i,formattedName:a,shortName:"K. pneumoniae",formattedShortName:s,maxGenomeSize:4*Math.pow(10,6),desc:o.a.createElement("p",null,o.a.createElement("strong",null,a)," ","https://en.wikipedia.org/wiki/Klebsiella_pneumoniae"),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1224,scientificName:"Proteobacteria",rank:"phylum"},{taxId:1236,scientificName:"Gammaproteobacteria",rank:"class"},{taxId:91347,scientificName:"Enterobacteriales",rank:"order"},{taxId:543,scientificName:"Enterobacteriaceae",rank:"family"},{taxId:570,scientificName:"Klebsiella",rank:"genus"},{taxId:573,scientificName:"Klebsiella pneumoniae",rank:"species"}],publicMetadataColumnNames:[],collections:[],uiOptions:{noPopulation:!0,noAMR:!0,kleborate:!0,inctyper:!0}}},function(e,t,n){var r=n(627);e.exports=p,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=h;var o=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,a=0,s="",u=t&&t.delimiter||"/";null!=(n=o.exec(e));){var d=n[0],h=n[1],p=n.index;if(s+=e.slice(a,p),a=p+d.length,h)s+=h[1];else{var f=e[a],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=f&&f!==m,C="+"===b||"*"===b,S="?"===b||"*"===b,E=n[2]||u,x=v||y;r.push({name:g||i++,prefix:m||"",delimiter:E,optional:S,repeat:C,partial:w,asterisk:!!_,pattern:x?c(x):_?".*":"[^"+l(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,o){for(var i="",s=n||{},l=(o||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!=typeof u){var d,h=s[u.name];if(null==h){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(h)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var p=0;p<h.length;p++){if(d=l(h[p]),!t[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===p?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):l(h),!t[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function l(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var o=(n=n||{}).strict,i=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"==typeof c)a+=l(c);else{var h=l(c.prefix),p="(?:"+c.pattern+")";t.push(c),c.repeat&&(p+="(?:"+h+p+")*"),a+=p=c.optional?c.partial?h+"("+p+")?":"(?:"+h+"("+p+"))?":h+"("+p+")"}}var f=l(n.delimiter||"/"),m=a.slice(-f.length)===f;return o||(a=(m?a.slice(0,-f.length):a)+"(?:"+f+"(?=$))?"),a+=i?"$":o&&m?"":"(?="+f+"|$)",u(new RegExp("^"+a,d(n)),t)}function p(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],o=0;o<e.length;o++)r.push(p(e[o],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return h(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";var r=n(299),o=n.n(r),i={},a=0,s=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=i[n]||(i[n]={});if(r[e])return r[e];var s=[],l={re:o()(e,s,t),keys:s};return a<1e4&&(r[e]=l,a++),l};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"==typeof t&&(t={path:t});var r=t,o=r.path,i=r.exact,a=void 0!==i&&i,l=r.strict,c=void 0!==l&&l,u=r.sensitive,d=void 0!==u&&u;if(null==o)return n;var h=s(o,{end:a,strict:c,sensitive:d}),p=h.re,f=h.keys,m=p.exec(e);if(!m)return null;var g=m[0],v=m.slice(1),y=e===g;return a&&!y?null:{path:o,url:"/"===o&&""===g?"/":g,isExact:y,params:f.reduce((function(e,t,n){return e[t.name]=v[n],e}),{})}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Neisseria gonorrhoeae",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"N. gonorrhoeae");t.default={name:i,formattedName:a,shortName:"N. gonorrhoeae",formattedShortName:s,maxGenomeSize:4*Math.pow(10,6),desc:o.a.createElement("p",null,o.a.createElement("strong",null,a)," is a species of gram-negative coffee bean-shaped diplococci bacteria responsible for the sexually transmitted infection gonorrhea."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1224,scientificName:"Proteobacteria",rank:"phylum"},{taxId:28216,scientificName:"Betaproteobacteria",rank:"class"},{taxId:206351,scientificName:"Neisseriales",rank:"order"},{taxId:481,scientificName:"Neisseriaceae",rank:"family"},{taxId:482,scientificName:"Neisseria",rank:"genus"},{taxId:485,scientificName:"Neisseria gonorrhoeae",rank:"species"}],publicMetadataColumnNames:[],collections:[],uiOptions:{ngMast:!0,noPopulation:!0}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Renibacterium salmoninarum",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"R. salmoninarum");t.default={name:i,formattedName:a,shortName:"R. salmoninarum",formattedShortName:s,desc:o.a.createElement("p",null,a," is a member of the Micrococcaceae family. It is a Gram-positive, intracellular bacterium that causes disease in young salmonid fish."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1783272,scientificName:"Terrabacteria group",rank:"no rank"},{taxId:201174,scientificName:"Actinobacteria",rank:"phylum"},{taxId:1760,scientificName:"Actinobacteria",rank:"class"},{taxId:85006,scientificName:"Micrococcales",rank:"order"},{taxId:1268,scientificName:"Micrococcaceae",rank:"family"},{taxId:1645,scientificName:"Renibacterium",rank:"genus"},{taxId:1646,scientificName:"Renibacterium salmoninarum",rank:"species"}],maxGenomeSize:4*Math.pow(10,6),publicMetadataColumnNames:[],collections:[],uiOptions:{noMLST:!0,noAMR:!0}}},function(e,t,n){var r,o,i;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),o=[],void 0===(i="function"==typeof(r=function(){"use strict";var e,t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},r=!n.document&&!!n.postMessage,o=r&&/(\?|&)papaworker(=|&|$)/.test(n.location.search),i=!1,a={},s=0,l={parse:function(t,r){var o=(r=r||{}).dynamicTyping||!1;if(S(o)&&(r.dynamicTypingFunction=o,o={}),r.dynamicTyping=o,r.transform=!!S(r.transform)&&r.transform,r.worker&&l.WORKERS_SUPPORTED){var c=function(){if(!l.WORKERS_SUPPORTED)return!1;if(!i&&null===l.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var t=l.SCRIPT_PATH||e;t+=(-1!==t.indexOf("?")?"&":"?")+"papaworker";var r=new n.Worker(t);return r.onmessage=y,r.id=s++,a[r.id]=r}();return c.userStep=r.step,c.userChunk=r.chunk,c.userComplete=r.complete,c.userError=r.error,r.step=S(r.step),r.chunk=S(r.chunk),r.complete=S(r.complete),r.error=S(r.error),delete r.worker,void c.postMessage({input:t,config:r,workerId:c.id})}var u=null;return l.NODE_STREAM_INPUT,"string"==typeof t?u=r.download?new d(r):new p(r):!0===t.readable&&S(t.read)&&S(t.on)?u=new f(r):(n.File&&t instanceof File||t instanceof Object)&&(u=new h(r)),u.stream(t)},unparse:function(e,t){var n=!1,r=!0,o=",",i="\r\n",a='"',s=!1;"object"==typeof t&&("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter((function(e){return-1!==t.delimiter.indexOf(e)})).length||(o=t.delimiter),("boolean"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(s=t.skipEmptyLines),"string"==typeof t.newline&&(i=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(r=t.header));var c=new RegExp(g(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return d(null,e,s);if("object"==typeof e[0])return d(u(e[0]),e,s)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:u(e.data[0])),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),d(e.fields||[],e.data||[],s);throw"exception: Unable to serialize unrecognized input";function u(e){if("object"!=typeof e)return[];var t=[];for(var n in e)t.push(n);return t}function d(e,t,n){var a="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var s=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(s&&r){for(var c=0;c<e.length;c++)0<c&&(a+=o),a+=h(e[c],c);0<t.length&&(a+=i)}for(var u=0;u<t.length;u++){var d=s?e.length:t[u].length,p=!1,f=s?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!s&&(p="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&s){for(var m=[],g=0;g<d;g++){var v=l?e[g]:g;m.push(t[u][v])}p=""===m.join("").trim()}if(!p){for(var y=0;y<d;y++){0<y&&!f&&(a+=o);var b=s&&l?e[y]:y;a+=h(t[u][b],y)}u<t.length-1&&(!n||0<d&&!f)&&(a+=i)}}return a}function h(e,t){return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(e=e.toString().replace(c,a+a),"boolean"==typeof n&&n||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(e,l.BAD_DELIMITERS)||-1<e.indexOf(o)||" "===e.charAt(0)||" "===e.charAt(e.length-1)?a+e+a:e)}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!r&&!!n.Worker,l.SCRIPT_PATH=null,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=v,l.ParserHandle=m,l.NetworkStreamer=d,l.FileStreamer=h,l.StringStreamer=p,l.ReadableStreamStreamer=f,n.jQuery){var c=n.jQuery;c.fn.parse=function(e){var t=e.config||{},r=[];return this.each((function(e){if("INPUT"!==c(this).prop("tagName").toUpperCase()||"file"!==c(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)r.push({file:this.files[o],inputElem:this,instanceConfig:c.extend({},t)})})),o(),this;function o(){if(0!==r.length){var t,n,o,a=r[0];if(S(e.before)){var s=e.before(a.file,a.inputElem);if("object"==typeof s){if("abort"===s.action)return t=a.file,n=a.inputElem,o=s.reason,void(S(e.error)&&e.error({name:"AbortError"},t,n,o));if("skip"===s.action)return void i();"object"==typeof s.config&&(a.instanceConfig=c.extend(a.instanceConfig,s.config))}else if("skip"===s)return void i()}var u=a.instanceConfig.complete;a.instanceConfig.complete=function(e){S(u)&&u(e,a.file,a.inputElem),i()},l.parse(a.file,a.instanceConfig)}else S(e.complete)&&e.complete()}function i(){r.splice(0,1),o()}}}function u(e){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=w(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new m(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var r=this._config.beforeFirstChunk(e);void 0!==r&&(e=r)}this.isFirstChunk=!1;var i=this._partialLine+e;this._partialLine="";var a=this._handle.parse(i,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var s=a.meta.cursor;this._finished||(this._partialLine=i.substring(s-this._baseIndex),this._baseIndex=s),a&&a.data&&(this._rowCount+=a.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)n.postMessage({results:a,workerId:l.WORKER_ID,finished:c});else if(S(this._config.chunk)&&!t){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return;a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!c||!S(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||a&&a.meta.paused||this._nextChunk(),a}},this._sendError=function(e){S(this._config.error)?this._config.error(e):o&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),u.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=C(this._chunkLoaded,this),t.onerror=C(this._chunkError,this)),t.open("GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var n in e)t.setRequestHeader(n,e[n])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+o),t.setRequestHeader("If-None-Match","webkit-no-cache")}try{t.send()}catch(e){this._chunkError(e.message)}r&&0===t.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(e){var t=e.getResponseHeader("Content-Range");return null===t?-1:parseInt(t.substr(t.lastIndexOf("/")+1))}(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(new Error(n))}}function h(e){var t,n;(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),u.call(this,e);var r="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,r?((t=new FileReader).onload=C(this._chunkLoaded,this),t.onerror=C(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,o)}var i=t.readAsText(e,this._config.encoding);r||this._chunkLoaded({target:{result:i}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function p(e){var t;u.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e=this._config.chunkSize,n=e?t.substr(0,e):t;return t=e?t.substr(e):"",this._finished=!t,this.parseChunk(n)}}}function f(e){u.call(this,e=e||{});var t=[],n=!0,r=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){r&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=C((function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}}),this),this._streamError=C((function(e){this._streamCleanUp(),this._sendError(e)}),this),this._streamEnd=C((function(){this._streamCleanUp(),r=!0,this._streamData("")}),this),this._streamCleanUp=C((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function m(e){var t,n,r,o=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,i=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,a=this,s=0,c=0,u=!1,d=!1,h=[],p={data:[],errors:[],meta:{}};if(S(e.step)){var f=e.step;e.step=function(t){if(p=t,b())y();else{if(y(),0===p.data.length)return;s+=t.data.length,e.preview&&s>e.preview?n.abort():f(p,a)}}}function m(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){if(p&&r&&(C("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),r=!1),e.skipEmptyLines)for(var t=0;t<p.data.length;t++)m(p.data[t])&&p.data.splice(t--,1);return b()&&function(){if(p){for(var t=0;b()&&t<p.data.length;t++)for(var n=0;n<p.data[t].length;n++){var r=p.data[t][n];e.trimHeaders&&(r=r.trim()),h.push(r)}p.data.splice(0,1)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;for(var t=0;t<p.data.length;t++){var n,r=e.header?{}:[];for(n=0;n<p.data[t].length;n++){var o=n,i=p.data[t][n];e.header&&(o=n>=h.length?"__parsed_extra":h[n]),e.transform&&(i=e.transform(i,o)),i=_(o,i),"__parsed_extra"===o?(r[o]=r[o]||[],r[o].push(i)):r[o]=i}p.data[t]=r,e.header&&(n>h.length?C("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+n,c+t):n<h.length&&C("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+n,c+t))}return e.header&&p.meta&&(p.meta.fields=h),c+=p.data.length,p}()}function b(){return e.header&&0===h.length}function _(t,n){return r=t,e.dynamicTypingFunction&&void 0===e.dynamicTyping[r]&&(e.dynamicTyping[r]=e.dynamicTypingFunction(r)),!0===(e.dynamicTyping[r]||e.dynamicTyping)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&(o.test(n)?parseFloat(n):i.test(n)?new Date(n):""===n?null:n):n;var r}function C(e,t,n,r){p.errors.push({type:e,code:t,message:n,row:r})}this.parse=function(o,i,a){var s=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substr(0,1048576);var n=new RegExp(g(t)+"([^]*?)"+g(t),"gm"),r=(e=e.replace(n,"")).split("\r"),o=e.split("\n"),i=1<o.length&&o[0].length<r[0].length;if(1===r.length||i)return"\n";for(var a=0,s=0;s<r.length;s++)"\n"===r[s][0]&&a++;return a>=r.length/2?"\r\n":"\r"}(o,s)),r=!1,e.delimiter)S(e.delimiter)&&(e.delimiter=e.delimiter(o),p.meta.delimiter=e.delimiter);else{var c=function(t,n,r,o){for(var i,a,s,c=[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP],u=0;u<c.length;u++){var d=c[u],h=0,p=0,f=0;s=void 0;for(var g=new v({comments:o,delimiter:d,newline:n,preview:10}).parse(t),y=0;y<g.data.length;y++)if(r&&m(g.data[y]))f++;else{var b=g.data[y].length;p+=b,void 0!==s?1<b&&(h+=Math.abs(b-s),s=b):s=0}0<g.data.length&&(p/=g.data.length-f),(void 0===a||a<h)&&1.99<p&&(a=h,i=d)}return{successful:!!(e.delimiter=i),bestDelimiter:i}}(o,e.newline,e.skipEmptyLines,e.comments);c.successful?e.delimiter=c.bestDelimiter:(r=!0,e.delimiter=l.DefaultDelimiter),p.meta.delimiter=e.delimiter}var d=w(e);return e.preview&&e.header&&d.preview++,t=o,n=new v(d),p=n.parse(t,i,a),y(),u?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),t=t.substr(n.getCharIndex())},this.resume=function(){u=!1,a.streamer.parseChunk(t,!0)},this.aborted=function(){return d},this.abort=function(){d=!0,n.abort(),p.meta.aborted=!0,S(e.complete)&&e.complete(p),t=""}}function g(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(e){var t,n=(e=e||{}).delimiter,r=e.newline,o=e.comments,i=e.step,a=e.preview,s=e.fastMode,c=t=void 0===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),o===n)throw"Comment character same as delimiter";!0===o?o="#":("string"!=typeof o||-1<l.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==r&&"\r"!==r&&"\r\n"!==r&&(r="\n");var u=0,d=!1;this.parse=function(e,l,h){if("string"!=typeof e)throw"Input must be a string";var p=e.length,f=n.length,m=r.length,v=o.length,y=S(i),b=[],_=[],w=[],C=u=0;if(!e)return D();if(s||!1!==s&&-1===e.indexOf(t)){for(var E=e.split(r),x=0;x<E.length;x++){if(w=E[x],u+=w.length,x!==E.length-1)u+=r.length;else if(h)return D();if(!o||w.substr(0,v)!==o){if(y){if(b=[],N(w.split(n)),j(),d)return D()}else N(w.split(n));if(a&&a<=x)return b=b.slice(0,a),D(!0)}}return D()}for(var k,O=e.indexOf(n,u),T=e.indexOf(r,u),M=new RegExp(g(c)+g(t),"g");;)if(e[u]!==t)if(o&&0===w.length&&e.substr(u,v)===o){if(-1===T)return D();u=T+m,T=e.indexOf(r,u),O=e.indexOf(n,u)}else if(-1!==O&&(O<T||-1===T))w.push(e.substring(u,O)),u=O+f,O=e.indexOf(n,u);else{if(-1===T)break;if(w.push(e.substring(u,T)),R(T+m),y&&(j(),d))return D();if(a&&b.length>=a)return D(!0)}else for(k=u,u++;;){if(-1===(k=e.indexOf(t,k+1)))return h||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:b.length,index:u}),I();if(k===p-1)return I(e.substring(u,k).replace(M,t));if(t!==c||e[k+1]!==c){if(t===c||0===k||e[k-1]!==c){var P=A(-1===T?O:Math.min(O,T));if(e[k+1+P]===n){w.push(e.substring(u,k).replace(M,t)),u=k+1+P+f,O=e.indexOf(n,u),T=e.indexOf(r,u);break}var L=A(T);if(e.substr(k+1+L,m)===r){if(w.push(e.substring(u,k).replace(M,t)),R(k+1+L+m),O=e.indexOf(n,u),y&&(j(),d))return D();if(a&&b.length>=a)return D(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:b.length,index:u}),k++}}else k++}return I();function N(e){b.push(e),C=u}function A(t){var n=0;if(-1!==t){var r=e.substring(k+1,t);r&&""===r.trim()&&(n=r.length)}return n}function I(t){return h||(void 0===t&&(t=e.substr(u)),w.push(t),u=p,N(w),y&&j()),D()}function R(t){u=t,N(w),w=[],T=e.indexOf(r,u)}function D(e){return{data:b,errors:_,meta:{delimiter:n,linebreak:r,aborted:d,truncated:!!e,cursor:C+(l||0)}}}function j(){i(D()),b=[],_=[]}},this.abort=function(){d=!0},this.getCharIndex=function(){return u}}function y(e){var t=e.data,n=a[t.workerId],r=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var o={abort:function(){r=!0,b(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:_,resume:_};if(S(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:[t.results.data[i]],errors:t.results.errors,meta:t.results.meta},o),!r);i++);delete t.results}else S(n.userChunk)&&(n.userChunk(t.results,o,t.file),delete t.results)}t.finished&&!r&&b(t.workerId,t.results)}function b(e,t){var n=a[e];S(n.userComplete)&&n.userComplete(t),n.terminate(),delete a[e]}function _(){throw"Not implemented."}function w(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=w(e[n]);return t}function C(e,t){return function(){e.apply(t,arguments)}}function S(e){return"function"==typeof e}return o?n.onmessage=function(e){var t=e.data;if(void 0===l.WORKER_ID&&t&&(l.WORKER_ID=t.workerId),"string"==typeof t.input)n.postMessage({workerId:l.WORKER_ID,results:l.parse(t.input,t.config),finished:!0});else if(n.File&&t.input instanceof File||t.input instanceof Object){var r=l.parse(t.input,t.config);r&&n.postMessage({workerId:l.WORKER_ID,results:r,finished:!0})}}:l.WORKERS_SUPPORTED&&(t=document.getElementsByTagName("script"),e=t.length?t[t.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",(function(){i=!0}),!0):i=!0),(d.prototype=Object.create(u.prototype)).constructor=d,(h.prototype=Object.create(u.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(f.prototype=Object.create(u.prototype)).constructor=f,l})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Staphylococcus aureus",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"S. aureus");t.default={name:i,formattedName:a,shortName:"S. aureus",formattedShortName:s,desc:o.a.createElement("p",null,o.a.createElement("strong",null,a)," is a Gram-positive microorganism. While the nasal colonisation by ",o.a.createElement("em",null,"Staphylococcus aureus")," is fairly widespread and occurs asymptomatically, ",o.a.createElement("em",null,"Staphylococcus aureus")," can also transform into a pathogen causing a diverse infections ranging from mild skin infections to life-threatening conditions. ",o.a.createElement("em",null,"Staphylococcus aureus")," in its methicillin-sensitive (MSSA) form but especially in its methicillin-resistant (MRSA) or even multi-resistant form are threatening the community and healthcare system worldwide and it has reached the status of being one of the most common causative agents for infectious disease."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1783272,scientificName:"Terrabacteria group",rank:"no rank"},{taxId:1239,scientificName:"Firmicutes",rank:"phylum"},{taxId:91061,scientificName:"Bacilli",rank:"class"},{taxId:1385,scientificName:"Bacillales",rank:"order"},{taxId:90964,scientificName:"Staphylococcaceae",rank:"family"},{taxId:1279,scientificName:"Staphylococcus",rank:"genus"},{taxId:1280,scientificName:"Staphylococcus aureus",rank:"species"}],maxGenomeSize:3.5*Math.pow(10,6),gcRange:{min:31,max:35},uiOptions:{inctyper:!0},publicMetadataColumnNames:["ena study","ena run","alternative isolate id","country","city","geo accuracy","host","mlst","mrsa"]}},function(e,t,n){"use strict";(function(e){function r(t,n){var r,o,i,a=void 0!==(r=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof self?self:e).document&&r.document.attachEvent;if(!a){var s=(i=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(e){return r.setTimeout(e,20)},function(e){return i(e)}),l=(o=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout,function(e){return o(e)}),c=function(e){var t=e.__resizeTriggers__,n=t.firstElementChild,r=t.lastElementChild,o=n.firstElementChild;r.scrollLeft=r.scrollWidth,r.scrollTop=r.scrollHeight,o.style.width=n.offsetWidth+1+"px",o.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},u=function(e){if(!(e.target.className&&"function"==typeof e.target.className.indexOf&&e.target.className.indexOf("contract-trigger")<0&&e.target.className.indexOf("expand-trigger")<0)){var t=this;c(this),this.__resizeRAF__&&l(this.__resizeRAF__),this.__resizeRAF__=s((function(){(function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height})(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach((function(n){n.call(t,e)})))}))}},d=!1,h="",p="animationstart",f="Webkit Moz O ms".split(" "),m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),g=r.document.createElement("fakeelement");if(void 0!==g.style.animationName&&(d=!0),!1===d)for(var v=0;v<f.length;v++)if(void 0!==g.style[f[v]+"AnimationName"]){h="-"+f[v].toLowerCase()+"-",p=m[v],d=!0;break}var y="resizeanim",b="@"+h+"keyframes "+y+" { from { opacity: 0; } to { opacity: 0; } } ",_=h+"animation: 1ms "+y+"; "}return{addResizeListener:function(e,n){if(a)e.attachEvent("onresize",n);else{if(!e.__resizeTriggers__){var o=e.ownerDocument,i=r.getComputedStyle(e);i&&"static"==i.position&&(e.style.position="relative"),function(e){if(!e.getElementById("detectElementResize")){var n=(b||"")+".resize-triggers { "+(_||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',r=e.head||e.getElementsByTagName("head")[0],o=e.createElement("style");o.id="detectElementResize",o.type="text/css",null!=t&&o.setAttribute("nonce",t),o.styleSheet?o.styleSheet.cssText=n:o.appendChild(e.createTextNode(n)),r.appendChild(o)}}(o),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=o.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),c(e),e.addEventListener("scroll",u,!0),p&&(e.__resizeTriggers__.__animationListener__=function(t){t.animationName==y&&c(e)},e.__resizeTriggers__.addEventListener(p,e.__resizeTriggers__.__animationListener__))}e.__resizeListeners__.push(n)}},removeResizeListener:function(e,t){if(a)e.detachEvent("onresize",t);else if(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(t),1),!e.__resizeListeners__.length){e.removeEventListener("scroll",u,!0),e.__resizeTriggers__.__animationListener__&&(e.__resizeTriggers__.removeEventListener(p,e.__resizeTriggers__.__animationListener__),e.__resizeTriggers__.__animationListener__=null);try{e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)}catch(e){}}}}}n.d(t,"a",(function(){return r}))}).call(this,n(45))},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Streptococcus equi",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"S. equi");t.default={name:i,formattedName:a,shortName:"S. equi",formattedShortName:s,desc:o.a.createElement("p",null,"The bacterium, ",o.a.createElement("strong",null,"Streptococcus equi"),", is what causes the disease in equine species (horses, donkeys, mules) called strangles. It got its name because historically, affected horses were sometimes suffocated from inflamed lymph nodes in their upper airway and trachea."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1783272,scientificName:"Terrabacteria group",rank:"no rank"},{taxId:1239,scientificName:"Firmicutes",rank:"phylum"},{taxId:91061,scientificName:"Bacilli",rank:"class"},{taxId:148942,scientificName:"Lactobacillales",rank:"order"},{taxId:1300,scientificName:"Staphylococcaceae",rank:"family"},{taxId:1301,scientificName:"Staphylococcus",rank:"genus"},{taxId:119603,scientificName:"Staphylococcus",rank:"genus"},{taxId:1280,scientificName:"Streptococcus dysgalactiae group",rank:"species group"},{taxId:1336,scientificName:"Streptococcus equi",rank:"species"}],maxGenomeSize:15*Math.pow(10,3),publicMetadataColumnNames:[],uiOptions:{noPopulation:!0,noAMR:!0}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Streptococcus pneumoniae",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"S. pneumoniae");t.default={name:i,formattedName:a,shortName:"S. pneumoniae",formattedShortName:s,desc:o.a.createElement("p",null,a,", or pneumococcus, is a Gram-positive, alpha-hemolytic, facultative anaerobic member of the genus ",o.a.createElement("em",null,"Streptococcus"),". A significant human pathogenic bacterium, ",s," was recognized as a major cause of pneumonia in the late 19th century, and is the subject of many humoral immunity studies."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1783272,scientificName:"Terrabacteria group",rank:"no rank"},{taxId:1239,scientificName:"Firmicutes",rank:"phylum"},{taxId:91061,scientificName:"Bacilli",rank:"class"},{taxId:186826,scientificName:"Lactobacillales",rank:"order"},{taxId:1300,scientificName:"Streptococcaceae",rank:"family"},{taxId:1301,scientificName:"Streptococcus",rank:"genus"},{taxId:1313,scientificName:"Streptococcus pneumoniae",rank:"species"}],maxGenomeSize:3*Math.pow(10,6),publicMetadataColumnNames:[],collections:[],uiOptions:{}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Salmonella Typhi",a=(()=>{const[e,t]=i.split(" ");return o.a.createElement("span",null,o.a.createElement("em",null,e)," ",t)})(),s=(()=>{const[e,t]=i.split(" ");return o.a.createElement("span",null,o.a.createElement("em",null,e[0],".")," ",t)})();t.default={name:i,formattedName:a,shortName:"S. Typhi",formattedShortName:s,definitionText:o.a.createElement("span",null,"A common serovar of ",o.a.createElement("em",null,"Salmonella enterica")," subsp. ",o.a.createElement("em",null,"enterica"),"."),desc:o.a.createElement("span",null,o.a.createElement("p",null,o.a.createElement("strong",null,o.a.createElement("em",null,"Salmonella enterica")," subsp. ",o.a.createElement("em",null,"enterica")," serovar Typhi")," causes typhoid (enteric) fever, a disease that affects approximately 20-30 million of new patients every year,",o.a.createElement("sup",null,"[1,2]")," predominantly in Asia and sub-Saharan Africa. Mortality rates in patients who are not administered antibiotic treatment can be as high as 26%.",o.a.createElement("sup",null,"[1]")," The emergence of multi-drug resistant Salmonella Typhi and the shortage of local surveillance data from endemic regions both challenge the management of typhoid fever."),o.a.createElement("p",null,"For more information go to ",o.a.createElement("a",{href:"https://www.coalitionagainsttyphoid.org/why-typhoid/drug-resistant-typhoid/",target:"_blank",rel:"noopener"},"https://www.coalitionagainsttyphoid.org/why-typhoid/drug-resistant-typhoid/"),"."),o.a.createElement("ol",{className:"wgsa-species-citations"},o.a.createElement("li",null,o.a.createElement("cite",null,"Wain J., Hendriksen R.S., Mikoleit M.L., Keddy K.H. and Ochiai R.L. 2015. Typhoid Fever. Lancet 385:1136-1145.")),o.a.createElement("li",null,o.a.createElement("cite",null,"Crump J.A. and Mintz E.D. 2010. Global trends in typhoid and paratyphoid fever. Clinical Infectious Diseases 50:241-246."))),o.a.createElement("p",null,"The following analyses are supported for ",o.a.createElement("em",null,"Salmonella")," ",o.a.createElement("strong",null,"Typhi"),":"),o.a.createElement("ol",null,o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/antimicrobial-resistance-prediction/paarsnp",target:"_blank",rel:"noopener"},"AMR predictions using a curated database.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/core-genome-tree",target:"_blank",rel:"noopener"},"Core SNP trees.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/typing-methods/sistr",target:"_blank",rel:"noopener"},o.a.createElement("em",null,"In silico")," serotyping with SISTR.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/typing-methods/genotyphi",target:"_blank",rel:"noopener"},"Genotyping with Genotyphi.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/typing-methods/mlst",target:"_blank",rel:"noopener"},"Multi-locus sequence typing (MLST) using the PUBMLST database.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/cgmlst-clusters",target:"_blank",rel:"noopener"},"Core genome MLST (cgMLST) using the Enterobase database.")),o.a.createElement("li",null,o.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/inctyper",target:"_blank",rel:"noopener"},"Plasmid replicon type assignment based on the Plasmidfinder database.")))),imageCredit:"Dave Goulding",publicMetadataColumnNames:[],collections:[],amrOptions:{customLabels:{SIL:"OTHER"},hiddenColumns:new Set(["SIL"]),paarOverrides:[{gene:"tetR(A)",from:"SIL",to:"TCY"},{gene:"tetR(B)",from:"SIL",to:"TCY"}]},uiOptions:{genotyphi:!0,inctyper:!0}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i="Vibrio cholerae",a=o.a.createElement("em",null,i),s=o.a.createElement("em",null,"V. cholerae");t.default={name:i,formattedName:a,shortName:"V. cholerae",formattedShortName:s,desc:o.a.createElement("p",null,"TBD."),taxonomy:[{taxId:131567,scientificName:"Cellular organisms",rank:"no rank"},{taxId:2,scientificName:"Bacteria",rank:"superkingdom"},{taxId:1224,scientificName:"Proteobacteria",rank:"phylum"},{taxId:1236,scientificName:"Gammaproteobacteria",rank:"class"},{taxId:135623,scientificName:"Vibrionales",rank:"order"},{taxId:641,scientificName:"Vibrionaceae",rank:"family"},{taxId:662,scientificName:"Vibrio",rank:"genus"},{taxId:666,scientificName:"Vibrio cholerae",rank:"species"}],maxGenomeSize:7*Math.pow(10,6),publicMetadataColumnNames:[],collections:[],uiOptions:{vista:!0}}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);const i=o.a.createElement("em",null,"Zika virus"),a=o.a.createElement("em",null,"Zika");t.default={name:"Zika virus",formattedName:i,shortName:"Zika",formattedShortName:a,desc:o.a.createElement("p",null,o.a.createElement("strong",null,"Zika virus (ZIKV)")," is a member of the virus family ",o.a.createElement("em",null,"Flaviviridae"),". It is spread by daytime-active ",o.a.createElement("em",null,"Aedes")," mosquitoes, such as ",o.a.createElement("em",null,"A. aegypti")," and ",o.a.createElement("em",null,"A. albopictus"),". Its name comes from the Zika Forest of Uganda, where the virus was first isolated in 1947."),taxonomy:[{taxId:10239,scientificName:"Viruses",rank:"superkingdom"},{taxId:439488,scientificName:"ssRNA viruses",rank:"no rank"},{taxId:35278,scientificName:"ssRNA positive-strand viruses, no DNA stage",rank:"no rank"},{taxId:11050,scientificName:"Flaviviridae",rank:"family"},{taxId:11051,scientificName:"Flavivirus",rank:"genus"},{taxId:64320,scientificName:"Zika virus",rank:"species"}],maxGenomeSize:15*Math.pow(10,3),publicMetadataColumnNames:[],uiOptions:{noPopulation:!0,noMLST:!0,noAMR:!0}}},function(e,t,n){"use strict";var r=n(32);function o(e,t){return e.native?{x:e.x,y:e.y}:r.getRelativePosition(e,t)}function i(e,t){var n,r,o,i,a;for(r=0,i=e.data.datasets.length;r<i;++r)if(e.isDatasetVisible(r))for(o=0,a=(n=e.getDatasetMeta(r)).data.length;o<a;++o){var s=n.data[o];s._view.skip||t(s)}}function a(e,t){var n=[];return i(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function s(e,t,n,r){var o=Number.POSITIVE_INFINITY,a=[];return i(e,(function(e){if(!n||e.inRange(t.x,t.y)){var i=e.getCenterPoint(),s=r(t,i);s<o?(a=[e],o=s):s===o&&a.push(e)}})),a}function l(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var o=t?Math.abs(e.x-r.x):0,i=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2))}}function c(e,t,n){var r=o(t,e);n.axis=n.axis||"x";var i=l(n.axis),c=n.intersect?a(e,r):s(e,r,!1,i),u=[];return c.length?(e.data.datasets.forEach((function(t,n){if(e.isDatasetVisible(n)){var r=e.getDatasetMeta(n).data[c[0]._index];r&&!r._view.skip&&u.push(r)}})),u):[]}e.exports={modes:{single:function(e,t){var n=o(t,e),r=[];return i(e,(function(e){if(e.inRange(n.x,n.y))return r.push(e),r})),r.slice(0,1)},label:c,index:c,dataset:function(e,t,n){var r=o(t,e);n.axis=n.axis||"xy";var i=l(n.axis),c=n.intersect?a(e,r):s(e,r,!1,i);return c.length>0&&(c=e.getDatasetMeta(c[0]._datasetIndex).data),c},"x-axis":function(e,t){return c(e,t,{intersect:!0})},point:function(e,t){return a(e,o(t,e))},nearest:function(e,t,n){var r=o(t,e);n.axis=n.axis||"xy";var i=l(n.axis),a=s(e,r,n.intersect,i);return a.length>1&&a.sort((function(e,t){var n=e.getArea()-t.getArea();return 0===n&&(n=e._datasetIndex-t._datasetIndex),n})),a.slice(0,1)},x:function(e,t,n){var r=o(t,e),a=[],s=!1;return i(e,(function(e){e.inXRange(r.x)&&a.push(e),e.inRange(r.x,r.y)&&(s=!0)})),n.intersect&&!s&&(a=[]),a},y:function(e,t,n){var r=o(t,e),a=[],s=!1;return i(e,(function(e){e.inYRange(r.y)&&a.push(e),e.inRange(r.x,r.y)&&(s=!0)})),n.intersect&&!s&&(a=[]),a}}}},function(e,t,n){"use strict";var r=n(32),o=n(330),i=n(331),a=i._enabled?i:o;e.exports=r.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},a)},function(e,t){e.exports=function(e){const{name:t="",year:n=null,month:r=null,day:o=null,latitude:i=null,longitude:a=null,pmid:s="",userDefined:l={}}=e;let c;if(t&&"string"!=typeof t)c="name is wrong type";else if(t&&t.length>256)c="name is too long";else if(s&&"string"!=typeof s)c="pmid is wrong type";else if(s&&s.length>16)c="pmid is too long";else if(null===i||!isNaN(i)&&"object"!=typeof i)if(null===a||!isNaN(a)&&"object"!=typeof a)if(null!==i&&null===a)c="latitude without longitude";else if(null===i&&null!==a)c="longitude without latitude";else if(null===n||!isNaN(n)&&"object"!=typeof n)if(null===r||!isNaN(r)&&"object"!=typeof r)if(null===o||!isNaN(o)&&"object"!=typeof o)if(null!==o&&null===r)c="day provided without month";else if(null!==o&&null===n)c="day provided without year";else if(null!==r&&null===n)c="month provided without year";else if(Object.keys(l).length>64)c="more than 64 user-defined columns";else for(const[e,t]of Object.entries(l)){if("object"==typeof t){c="user-defined value is wrong type";break}if(t.length>256){c="user-defined value is too long";break}if(e.length>256){c="user-defined column heading is too long";break}}else c="day is not a number";else c="month is not a number";else c="year is not a number";else c="longitude is not a number";else c="latitude is not a number";if(c)throw new Error(`Invalid metadata: ${c}`)}},function(e,t,n){var r=n(460),o=["compress"];e.exports=function(){var e=new Worker(n.p+"compress.a8c0f8265a1260e171d8.worker.js",{name:"compress.[hash].worker.js"});return r(e,o),e}},function(e,t,n){var r=n(460),o=["hash"];e.exports=function(){var e=new Worker(n.p+"hash.b4daac5b2b2af8bbdfd0.worker.js",{name:"hash.[hash].worker.js"});return r(e,o),e}},function(e,t){e.exports.contains=function(e,t){for(var n=t.lat,r=t.lng,o=!1,i=0,a=e.length-1;i<e.length;a=i++){var s=e[i].lat,l=e[i].lng,c=e[a].lat,u=e[a].lng;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(o=!o)}return o}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(109),l=n.n(s),c=n(56),u=n.n(c),d=n(220),h=n(299),p=n.n(h),f={},m=0,g=function(e){var t=e,n=f[t]||(f[t]={});if(n[e])return n[e];var r=p.a.compile(e);return m<1e4&&(n[e]=r,m++),r},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=g(e);return n(t,{pretty:!0})},y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var w=function(e){function t(){return b(this,t),_(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){u()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(d.a)(e.to),n=Object(d.a)(this.props.to);Object(d.b)(t,n)?l()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"==typeof n?v(n,t.params):y({},n,{pathname:v(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(o.a.Component);w.propTypes={computedMatch:a.a.object,push:a.a.bool,from:a.a.string,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired},w.defaultProps={push:!1},w.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired}).isRequired,staticContext:a.a.object}).isRequired};t.a=w},function(e,t,n){var r=n(381),o=n(382);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var i=(new r.Component).updater;e.exports=o(r.Component,r.isValidElement,i)},function(e,t,n){"use strict";var r=n(0),o=n(645),i=n(646),a=n(320),s=n(648),l={blockquote:"block_quote",thematicbreak:"thematic_break",htmlblock:"html_block",htmlinline:"html_inline",codeblock:"code_block",hardbreak:"linebreak"},c={block_quote:"blockquote",emph:"em",linebreak:"br",image:"img",item:"li",link:"a",paragraph:"p",strong:"strong",thematic_break:"hr",html_block:p,html_inline:p,list:function(e){var t="bullet"===e.type.toLowerCase()?"ul":"ol",n=d(e);return null!==e.start&&1!==e.start&&(n.start=e.start.toString()),g(t,n,e.children)},code_block:function(e){var t=g("code",{className:e.language&&"language-"+e.language},e.literal);return g("pre",d(e),t)},code:function(e){return g("code",d(e),e.children)},heading:function(e){return g("h"+e.level,d(e),e.children)},text:null,softbreak:null},u=Object.keys(c);function d(e){return{key:e.nodeKey,className:e.className,"data-sourcepos":e["data-sourcepos"]}}function h(e){var t=e.toLowerCase(),n=l[t]||t;return void 0!==c[n]?n:e}function p(e){var t=d(e),n=e.escapeHtml?{}:{dangerouslySetInnerHTML:{__html:e.literal}},r=e.escapeHtml?[e.literal]:null;if(e.escapeHtml||!e.skipHtml){var i=o(t,n);return g(e.isBlock?"div":"span",i,r)}}function f(e){var t=e.parent.parent;return t&&"list"===t.type.toLowerCase()&&t.listTight}function m(e,t){var n=e;do{n=n.parent}while(!n.react);n.react.children.push(t)}function g(e,t,n){var o=Array.isArray(n)&&n.reduce(v,[]),i=[e,t].concat(o||n);return r.createElement.apply(r,i)}function v(e,t){var n=e.length-1;return"string"==typeof t&&"string"==typeof e[n]?e[n]+=t:e.push(t),e}function y(e){return[e[0][0],":",e[0][1],"-",e[1][0],":",e[1][1]].map(String).join("")}function b(e,t,n,r){var o={key:t};n.sourcePos&&e.sourcepos&&(o["data-sourcepos"]=y(e.sourcepos));var i=h(e.type);switch(i){case"html_inline":case"html_block":o.isBlock="html_block"===i,o.escapeHtml=n.escapeHtml,o.skipHtml=n.skipHtml;break;case"code_block":var a=e.info?e.info.split(/ +/):[];a.length>0&&a[0].length>0&&(o.language=a[0],o.codeinfo=a);break;case"code":o.children=e.literal,o.inline=!0;break;case"heading":o.level=e.level;break;case"softbreak":o.softBreak=n.softBreak;break;case"link":o.href=n.transformLinkUri?n.transformLinkUri(e.destination):e.destination,o.title=e.title||void 0,n.linkTarget&&(o.target=n.linkTarget);break;case"image":o.src=n.transformImageUri?n.transformImageUri(e.destination):e.destination,o.title=e.title||void 0,o.alt=e.react.children.join(""),e.react.children=void 0;break;case"list":o.start=e.listStart,o.type=e.listType,o.tight=e.listTight}"string"!=typeof r&&(o.literal=e.literal);var s=o.children||e.react&&e.react.children;return Array.isArray(s)&&(o.children=s.reduce(v,[])||null),o}function _(e){return e?e.sourcepos?y(e.sourcepos):_(e.parent):null}function w(e){for(var t,n,i,a,l,c,u,d,p,g=e.walker(),v={sourcePos:this.sourcePos,escapeHtml:this.escapeHtml,skipHtml:this.skipHtml,transformLinkUri:this.transformLinkUri,transformImageUri:this.transformImageUri,softBreak:this.softBreak,linkTarget:this.linkTarget},y=0;t=g.next();){var w=_(t.node.sourcepos?t.node:t.node.parent);if(p===w?(u=w+y,y++):(u=w,y=0),p=w,a=!(i=t.entering),l=h((n=t.node).type),d=null,c){if(n!==c&&!("paragraph"===l&&f(n)||this.skipHtml&&("html_block"===l||"html_inline"===l))){var C=n===c,S=-1===this.allowedTypes.indexOf(l),E=!1,x=n.isContainer&&a,k=this.renderers[l];if(this.allowNode&&(x||!n.isContainer)){var O=x?n.react.children:[];d=b(n,u,v,k),E=!this.allowNode({type:s(l),renderer:this.renderers[l],props:d,children:O})}if(C||!E&&!S){if("function"!=typeof k&&!("text"===l||"softbreak"===l)&&"string"!=typeof k)throw new Error("Renderer for type `"+s(n.type)+"` not defined or is not renderable");if(n.isContainer&&i)n.react={component:k,props:{},children:[]};else{var T=d||b(n,u,v,k);if(k)T="string"==typeof k?T:o(T,{nodeKey:T.key}),m(n,r.createElement(k,T));else if("text"===l)m(n,n.literal);else if("softbreak"===l){m(n,"br"===this.softBreak?r.createElement("br",{key:u}):this.softBreak)}}}else!this.unwrapDisallowed&&i&&n.isContainer&&g.resumeAt(n,!1)}}else c=n,n.react={children:[]}}return c.react.children}function C(e){var t=e.replace(/file:\/\//g,"x-file://");return decodeURI(a.uriInDoubleQuotedAttr(t))}function S(e){var t=e||{};if(t.allowedTypes&&t.disallowedTypes)throw new Error("Only one of `allowedTypes` and `disallowedTypes` should be defined");if(t.allowedTypes&&!Array.isArray(t.allowedTypes))throw new Error("`allowedTypes` must be an array");if(t.disallowedTypes&&!Array.isArray(t.disallowedTypes))throw new Error("`disallowedTypes` must be an array");if(t.allowNode&&"function"!=typeof t.allowNode)throw new Error("`allowNode` must be a function");var n=t.transformLinkUri;if(void 0===n)n=C;else if(n&&"function"!=typeof n)throw new Error("`transformLinkUri` must either be a function, or `null` to disable");var r=t.transformImageUri;if(void 0!==r&&"function"!=typeof r)throw new Error("`transformImageUri` must be a function");if(t.renderers&&!i(t.renderers))throw new Error("`renderers` must be a plain object of `Type`: `Renderer` pairs");var a,s=t.allowedTypes&&t.allowedTypes.map(h)||u;if(t.disallowedTypes){var l=t.disallowedTypes.map(h);s=s.filter((function(e){return-1===l.indexOf(e)}))}return{sourcePos:Boolean(t.sourcePos),softBreak:t.softBreak||"\n",renderers:o({},c,(a=t.renderers,Object.keys(a||{}).reduce((function(e,t){return e[h(t)]=a[t],e}),{}))),escapeHtml:Boolean(t.escapeHtml),skipHtml:Boolean(t.skipHtml),transformLinkUri:n,transformImageUri:r,allowNode:t.allowNode,allowedTypes:s,unwrapDisallowed:Boolean(t.unwrapDisallowed),render:w,linkTarget:t.linkTarget||!1}}S.uriTransformer=C,S.types=u.map(s),S.renderers=u.reduce((function(e,t){return e[s(t)]=c[t],e}),{}),e.exports=S},function(e,t){t._getPrivFilters=function(){var e,t=/</g,n=/"/g,r=/'/g,o=/&/g,i=/\x00/g,a=/(?:^$|[\x00\x09-\x0D "'`=<>])/g,s=/[&<>"'`]/g,l=/(?:\x00|^-*!?>|--!?>|--?!?$|\]>|\]$)/g,c=/&(?:#([xX][0-9A-Fa-f]+|\d+);?|(Tab|NewLine|colon|semi|lpar|rpar|apos|sol|comma|excl|ast|midast|ensp|emsp|thinsp);|(nbsp|amp|AMP|lt|LT|gt|GT|quot|QUOT);?)/g,u={Tab:"\t",NewLine:"\n",colon:":",semi:";",lpar:"(",rpar:")",apos:"'",sol:"/",comma:",",excl:"!",ast:"*",midast:"*",ensp:" ",emsp:" ",thinsp:" ",nbsp:" ",amp:"&",lt:"<",gt:">",quot:'"',QUOT:'"'},d=/^(?:(?!-*expression)#?[-\w]+|[+-]?(?:\d+|\d*\.\d+)(?:r?em|ex|ch|cm|mm|in|px|pt|pc|%|vh|vw|vmin|vmax)?|!important|)$/i,h=/[\x00-\x1F\x7F\[\]{}\\"]/g,p=/[\x00-\x1F\x7F\[\]{}\\']/g,f=/url[\(\u207D\u208D]+/g,m=/['\(\)]/g,g=/\/\/%5[Bb]([A-Fa-f0-9:]+)%5[Dd]/,v={javascript:1,data:1,vbscript:1,mhtml:1,"x-schema":1},y=/(?::|&#[xX]0*3[aA];?|&#0*58;?|&colon;)/,b=/(?:^[\x00-\x20]+|[\t\n\r\x00]+)/g,_={Tab:"\t",NewLine:"\n"},w=function(e,t,n){return void 0===e?"undefined":null===e?"null":e.toString().replace(t,n)},C=String.fromCodePoint||function(e){return 0===arguments.length?"":e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode(55296+(e>>10),e%1024+56320))};function S(e){var t=e.split(y,2);return!t[0]||2!==t.length&&e.length===t[0].length?null:t[0]}function E(t,n,r,o){return n=n||u,r=r||c,void 0===t?"undefined":null===t?"null":t.toString().replace(i,"�").replace(r,(function(t,r,i,a){return r?(r=Number(r[0]<="9"?r:"0"+r),o?C(r):128===r?"€":130===r?"‚":131===r?"ƒ":132===r?"„":133===r?"…":134===r?"†":135===r?"‡":136===r?"ˆ":137===r?"‰":138===r?"Š":139===r?"‹":140===r?"Œ":142===r?"Ž":145===r?"‘":146===r?"’":147===r?"“":148===r?"”":149===r?"•":150===r?"–":151===r?"—":152===r?"˜":153===r?"™":154===r?"š":155===r?"›":156===r?"œ":158===r?"ž":159===r?"Ÿ":r>=55296&&r<=57343||13===r?"�":e.frCoPt(r)):n[i||a]||t}))}function x(e){return"\\"+e.charCodeAt(0).toString(16).toLowerCase()+" "}function k(e){return e.replace(f,(function(e){return"-x-"+e}))}function O(t){var n=S(t=e.yufull(E(t)));return n&&v[n.toLowerCase()]?"##"+t:t}return e={frCoPt:function(e){return null==e?"":!isFinite(e=Number(e))||e<=0||e>1114111||e>=1&&e<=8||e>=14&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||11===e||65535==(65535&e)||65534==(65535&e)?"�":C(e)},d:E,yup:function(e){return(e=S(e.replace(i,"")))?E(e,_,null,!0).replace(b,"").toLowerCase():null},y:function(e){return w(e,s,(function(e){return"&"===e?"&amp;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#39;":"&#96;"}))},ya:function(e){return w(e,o,"&amp;")},yd:function(e){return w(e,t,"&lt;")},yc:function(e){return w(e,l,(function(e){return"\0"===e?"�":"--!"===e||"--"===e||"-"===e||"]"===e?e+" ":e.slice(0,-1)+" >"}))},yavd:function(e){return w(e,n,"&quot;")},yavs:function(e){return w(e,r,"&#39;")},yavu:function(e){return w(e,a,(function(e){return"\t"===e?"&#9;":"\n"===e?"&#10;":"\v"===e?"&#11;":"\f"===e?"&#12;":"\r"===e?"&#13;":" "===e?"&#32;":"="===e?"&#61;":"<"===e?"&lt;":">"===e?"&gt;":'"'===e?"&quot;":"'"===e?"&#39;":"`"===e?"&#96;":"�"}))},yu:encodeURI,yuc:encodeURIComponent,yubl:function(t){return v[e.yup(t)]?"x-"+t:t},yufull:function(t){return e.yu(t).replace(g,(function(e,t){return"//["+t+"]"}))},yublf:function(t){return e.yubl(e.yufull(t))},yceu:function(e){return e=E(e),d.test(e)?e:";-x:'"+k(e.replace(p,x))+"';-v:"},yced:function(e){return k(E(e).replace(h,x))},yces:function(e){return k(E(e).replace(p,x))},yceuu:function(e){return O(e).replace(m,(function(e){return"'"===e?"\\27 ":"("===e?"%28":"%29"}))},yceud:function(e){return O(e)},yceus:function(e){return O(e).replace(r,"\\27 ")}}};var n=t._privFilters=t._getPrivFilters();function r(e,t,r){return n.yubl(t((r||n.yufull)(e)))}t.inHTMLData=n.yd,t.inHTMLComment=n.yc,t.inSingleQuotedAttr=n.yavs,t.inDoubleQuotedAttr=n.yavd,t.inUnQuotedAttr=n.yavu,t.uriInSingleQuotedAttr=function(e){return r(e,n.yavs)},t.uriInDoubleQuotedAttr=function(e){return r(e,n.yavd)},t.uriInUnQuotedAttr=function(e){return r(e,n.yavu)},t.uriInHTMLData=n.yufull,t.uriInHTMLComment=function(e){return n.yc(n.yufull(e))},t.uriPathInSingleQuotedAttr=function(e){return r(e,n.yavs,n.yu)},t.uriPathInDoubleQuotedAttr=function(e){return r(e,n.yavd,n.yu)},t.uriPathInUnQuotedAttr=function(e){return r(e,n.yavu,n.yu)},t.uriPathInHTMLData=n.yu,t.uriPathInHTMLComment=function(e){return n.yc(n.yu(e))},t.uriQueryInSingleQuotedAttr=t.uriPathInSingleQuotedAttr,t.uriQueryInDoubleQuotedAttr=t.uriPathInDoubleQuotedAttr,t.uriQueryInUnQuotedAttr=t.uriPathInUnQuotedAttr,t.uriQueryInHTMLData=t.uriPathInHTMLData,t.uriQueryInHTMLComment=t.uriPathInHTMLComment,t.uriComponentInSingleQuotedAttr=function(e){return n.yavs(n.yuc(e))},t.uriComponentInDoubleQuotedAttr=function(e){return n.yavd(n.yuc(e))},t.uriComponentInUnQuotedAttr=function(e){return n.yavu(n.yuc(e))},t.uriComponentInHTMLData=n.yuc,t.uriComponentInHTMLComment=function(e){return n.yc(n.yuc(e))},t.uriFragmentInSingleQuotedAttr=function(e){return n.yubl(n.yavs(n.yuc(e)))},t.uriFragmentInDoubleQuotedAttr=function(e){return n.yubl(n.yavd(n.yuc(e)))},t.uriFragmentInUnQuotedAttr=function(e){return n.yubl(n.yavu(n.yuc(e)))},t.uriFragmentInHTMLData=t.uriComponentInHTMLData,t.uriFragmentInHTMLComment=t.uriComponentInHTMLComment},function(e,t,n){"use strict";n(49)._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),e.exports=function(){var e=function(e,t){return this.construct(e,t),this};return e.Chart=e,e}},function(e,t,n){"use strict";var r=n(230),o={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),-r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:1===e?1:(n||(n=.3),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),r*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,r=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),r<1?(r=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/r),e<1?r*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:r*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-o.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*o.easeInBounce(2*e):.5*o.easeOutBounce(2*e-1)+.5}};e.exports={effects:o},r.easingEffects=o},function(e,t,n){"use strict";var r=n(230);t=e.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,r,o,i){if(i){var a=Math.min(i,r/2),s=Math.min(i,o/2);e.moveTo(t+a,n),e.lineTo(t+r-a,n),e.quadraticCurveTo(t+r,n,t+r,n+s),e.lineTo(t+r,n+o-s),e.quadraticCurveTo(t+r,n+o,t+r-a,n+o),e.lineTo(t+a,n+o),e.quadraticCurveTo(t,n+o,t,n+o-s),e.lineTo(t,n+s),e.quadraticCurveTo(t,n,t+a,n)}else e.rect(t,n,r,o)},drawPoint:function(e,t,n,r,o){var i,a,s,l,c,u;if("object"!=typeof t||"[object HTMLImageElement]"!==(i=t.toString())&&"[object HTMLCanvasElement]"!==i){if(!(isNaN(n)||n<=0)){switch(t){default:e.beginPath(),e.arc(r,o,n,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),c=(a=3*n/Math.sqrt(3))*Math.sqrt(3)/2,e.moveTo(r-a/2,o+c/3),e.lineTo(r+a/2,o+c/3),e.lineTo(r,o-2*c/3),e.closePath(),e.fill();break;case"rect":u=1/Math.SQRT2*n,e.beginPath(),e.fillRect(r-u,o-u,2*u,2*u),e.strokeRect(r-u,o-u,2*u,2*u);break;case"rectRounded":var d=n/Math.SQRT2,h=r-d,p=o-d,f=Math.SQRT2*n;e.beginPath(),this.roundedRect(e,h,p,f,f,n/2),e.closePath(),e.fill();break;case"rectRot":u=1/Math.SQRT2*n,e.beginPath(),e.moveTo(r-u,o),e.lineTo(r,o+u),e.lineTo(r+u,o),e.lineTo(r,o-u),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(r,o+n),e.lineTo(r,o-n),e.moveTo(r-n,o),e.lineTo(r+n,o),e.closePath();break;case"crossRot":e.beginPath(),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(r-s,o-l),e.lineTo(r+s,o+l),e.moveTo(r-s,o+l),e.lineTo(r+s,o-l),e.closePath();break;case"star":e.beginPath(),e.moveTo(r,o+n),e.lineTo(r,o-n),e.moveTo(r-n,o),e.lineTo(r+n,o),s=Math.cos(Math.PI/4)*n,l=Math.sin(Math.PI/4)*n,e.moveTo(r-s,o-l),e.lineTo(r+s,o+l),e.moveTo(r-s,o+l),e.lineTo(r+s,o-l),e.closePath();break;case"line":e.beginPath(),e.moveTo(r-n,o),e.lineTo(r+n,o),e.closePath();break;case"dash":e.beginPath(),e.moveTo(r,o),e.lineTo(r+n,o),e.closePath()}e.stroke()}}else e.drawImage(t,r-t.width/2,o-t.height/2,t.width,t.height)},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,r){if(n.steppedLine)return"after"===n.steppedLine&&!r||"after"!==n.steppedLine&&r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y),void e.lineTo(n.x,n.y);n.tension?e.bezierCurveTo(r?t.controlPointPreviousX:t.controlPointNextX,r?t.controlPointPreviousY:t.controlPointNextY,r?n.controlPointNextX:n.controlPointPreviousX,r?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}};r.clear=t.clear,r.drawRoundedRectangle=function(e){e.beginPath(),t.roundedRect.apply(t,arguments),e.closePath()}},function(e,t,n){"use strict";var r=n(230);e.exports={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,o,i;return r.isObject(e)?(t=+e.top||0,n=+e.right||0,o=+e.bottom||0,i=+e.left||0):t=n=o=i=+e||0,{top:t,right:n,bottom:o,left:i,height:t+o,width:i+n}},resolve:function(e,t,n){var o,i,a;for(o=0,i=e.length;o<i;++o)if(void 0!==(a=e[o])&&(void 0!==t&&"function"==typeof a&&(a=a(t)),void 0!==n&&r.isArray(a)&&(a=a[n]),void 0!==a))return a}}},function(e,t,n){"use strict";var r=n(419),o=n(49),i=n(32);e.exports=function(e){function t(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}function n(e){return null!=e&&"none"!==e}function a(e,r,o){var i=document.defaultView,a=e.parentNode,s=i.getComputedStyle(e)[r],l=i.getComputedStyle(a)[r],c=n(s),u=n(l),d=Number.POSITIVE_INFINITY;return c||u?Math.min(c?t(s,e,o):d,u?t(l,a,o):d):"none"}i.extend=function(e){for(var t=function(t,n){e[n]=t},n=1,r=arguments.length;n<r;n++)i.each(arguments[n],t);return e},i.configMerge=function(){return i.merge(i.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,o){var a=n[t]||{},s=r[t];"scales"===t?n[t]=i.scaleMerge(a,s):"scale"===t?n[t]=i.merge(a,[e.scaleService.getScaleDefaults(s.type),s]):i._merger(t,n,r,o)}})},i.scaleMerge=function(){return i.merge(i.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,n,r,o){if("xAxes"===t||"yAxes"===t){var a,s,l,c=r[t].length;for(n[t]||(n[t]=[]),a=0;a<c;++a)l=r[t][a],s=i.valueOrDefault(l.type,"xAxes"===t?"category":"linear"),a>=n[t].length&&n[t].push({}),!n[t][a].type||l.type&&l.type!==n[t][a].type?i.merge(n[t][a],[e.scaleService.getScaleDefaults(s),l]):i.merge(n[t][a],l)}else i._merger(t,n,r,o)}})},i.where=function(e,t){if(i.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return i.each(e,(function(e){t(e)&&n.push(e)})),n},i.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var r=0,o=e.length;r<o;++r)if(t.call(n,e[r],r,e))return r;return-1},i.findNextWhere=function(e,t,n){i.isNullOrUndef(n)&&(n=-1);for(var r=n+1;r<e.length;r++){var o=e[r];if(t(o))return o}},i.findPreviousWhere=function(e,t,n){i.isNullOrUndef(n)&&(n=e.length);for(var r=n-1;r>=0;r--){var o=e[r];if(t(o))return o}},i.inherits=function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,n.extend=i.inherits,e&&i.extend(n.prototype,e),n.__super__=t.prototype,n},i.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},i.almostEquals=function(e,t,n){return Math.abs(e-t)<n},i.almostWhole=function(e,t){var n=Math.round(e);return n-t<e&&n+t>e},i.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},i.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},i.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},i.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},i.toRadians=function(e){return e*(Math.PI/180)},i.toDegrees=function(e){return e*(180/Math.PI)},i.getAngleFromPoint=function(e,t){var n=t.x-e.x,r=t.y-e.y,o=Math.sqrt(n*n+r*r),i=Math.atan2(r,n);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:o}},i.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},i.aliasPixel=function(e){return e%2==0?0:.5},i.splineCurve=function(e,t,n,r){var o=e.skip?t:e,i=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(i.x-o.x,2)+Math.pow(i.y-o.y,2)),l=Math.sqrt(Math.pow(a.x-i.x,2)+Math.pow(a.y-i.y,2)),c=s/(s+l),u=l/(s+l),d=r*(c=isNaN(c)?0:c),h=r*(u=isNaN(u)?0:u);return{previous:{x:i.x-d*(a.x-o.x),y:i.y-d*(a.y-o.y)},next:{x:i.x+h*(a.x-o.x),y:i.y+h*(a.y-o.y)}}},i.EPSILON=Number.EPSILON||1e-14,i.splineCurveMonotone=function(e){var t,n,r,o,a,s,l,c,u,d=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),h=d.length;for(t=0;t<h;++t)if(!(r=d[t]).model.skip){if(n=t>0?d[t-1]:null,(o=t<h-1?d[t+1]:null)&&!o.model.skip){var p=o.model.x-r.model.x;r.deltaK=0!==p?(o.model.y-r.model.y)/p:0}!n||n.model.skip?r.mK=r.deltaK:!o||o.model.skip?r.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(r.deltaK)?r.mK=0:r.mK=(n.deltaK+r.deltaK)/2}for(t=0;t<h-1;++t)r=d[t],o=d[t+1],r.model.skip||o.model.skip||(i.almostEquals(r.deltaK,0,this.EPSILON)?r.mK=o.mK=0:(a=r.mK/r.deltaK,s=o.mK/r.deltaK,(c=Math.pow(a,2)+Math.pow(s,2))<=9||(l=3/Math.sqrt(c),r.mK=a*l*r.deltaK,o.mK=s*l*r.deltaK)));for(t=0;t<h;++t)(r=d[t]).model.skip||(n=t>0?d[t-1]:null,o=t<h-1?d[t+1]:null,n&&!n.model.skip&&(u=(r.model.x-n.model.x)/3,r.model.controlPointPreviousX=r.model.x-u,r.model.controlPointPreviousY=r.model.y-u*r.mK),o&&!o.model.skip&&(u=(o.model.x-r.model.x)/3,r.model.controlPointNextX=r.model.x+u,r.model.controlPointNextY=r.model.y+u*r.mK))},i.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},i.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},i.niceNum=function(e,t){var n=Math.floor(i.log10(e)),r=e/Math.pow(10,n);return(t?r<1.5?1:r<3?2:r<7?5:10:r<=1?1:r<=2?2:r<=5?5:10)*Math.pow(10,n)},i.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},i.getRelativePosition=function(e,t){var n,r,o=e.originalEvent||e,a=e.currentTarget||e.srcElement,s=a.getBoundingClientRect(),l=o.touches;l&&l.length>0?(n=l[0].clientX,r=l[0].clientY):(n=o.clientX,r=o.clientY);var c=parseFloat(i.getStyle(a,"padding-left")),u=parseFloat(i.getStyle(a,"padding-top")),d=parseFloat(i.getStyle(a,"padding-right")),h=parseFloat(i.getStyle(a,"padding-bottom")),p=s.right-s.left-c-d,f=s.bottom-s.top-u-h;return{x:n=Math.round((n-s.left-c)/p*a.width/t.currentDevicePixelRatio),y:r=Math.round((r-s.top-u)/f*a.height/t.currentDevicePixelRatio)}},i.getConstraintWidth=function(e){return a(e,"max-width","clientWidth")},i.getConstraintHeight=function(e){return a(e,"max-height","clientHeight")},i.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var n=parseInt(i.getStyle(t,"padding-left"),10),r=parseInt(i.getStyle(t,"padding-right"),10),o=t.clientWidth-n-r,a=i.getConstraintWidth(e);return isNaN(a)?o:Math.min(o,a)},i.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var n=parseInt(i.getStyle(t,"padding-top"),10),r=parseInt(i.getStyle(t,"padding-bottom"),10),o=t.clientHeight-n-r,a=i.getConstraintHeight(e);return isNaN(a)?o:Math.min(o,a)},i.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},i.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==n){var r=e.canvas,o=e.height,i=e.width;r.height=o*n,r.width=i*n,e.ctx.scale(n,n),r.style.height=o+"px",r.style.width=i+"px"}},i.fontString=function(e,t,n){return t+" "+e+"px "+n},i.longestText=function(e,t,n,r){var o=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(o=r.data={},a=r.garbageCollect=[],r.font=t),e.font=t;var s=0;i.each(n,(function(t){null!=t&&!0!==i.isArray(t)?s=i.measureText(e,o,a,s,t):i.isArray(t)&&i.each(t,(function(t){null==t||i.isArray(t)||(s=i.measureText(e,o,a,s,t))}))}));var l=a.length/2;if(l>n.length){for(var c=0;c<l;c++)delete o[a[c]];a.splice(0,l)}return s},i.measureText=function(e,t,n,r,o){var i=t[o];return i||(i=t[o]=e.measureText(o).width,n.push(o)),i>r&&(r=i),r},i.numberOfLabelLines=function(e){var t=1;return i.each(e,(function(e){i.isArray(e)&&e.length>t&&(t=e.length)})),t},i.color=r?function(e){return e instanceof CanvasGradient&&(e=o.global.defaultColor),r(e)}:function(e){return console.error("Color.js not found!"),e},i.getHoverColor=function(e){return e instanceof CanvasPattern?e:i.color(e).saturate(.5).darken(.1).rgbString()}}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{elements:{arc:{backgroundColor:r.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),e.exports=o.extend({inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var r=i.getAngleFromPoint(n,{x:e,y:t}),o=r.angle,a=r.distance,s=n.startAngle,l=n.endAngle;l<s;)l+=2*Math.PI;for(;o>l;)o-=2*Math.PI;for(;o<s;)o+=2*Math.PI;var c=o>=s&&o<=l,u=a>=n.innerRadius&&a<=n.outerRadius;return c&&u}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e=this._chart.ctx,t=this._view,n=t.startAngle,r=t.endAngle;e.beginPath(),e.arc(t.x,t.y,t.outerRadius,n,r),e.arc(t.x,t.y,t.innerRadius,r,n,!0),e.closePath(),e.strokeStyle=t.borderColor,e.lineWidth=t.borderWidth,e.fillStyle=t.backgroundColor,e.fill(),e.lineJoin="bevel",t.borderWidth&&e.stroke()}})},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32),a=r.global;r._set("global",{elements:{line:{tension:.4,backgroundColor:a.defaultColor,borderWidth:3,borderColor:a.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),e.exports=o.extend({draw:function(){var e,t,n,r,o=this._view,s=this._chart.ctx,l=o.spanGaps,c=this._children.slice(),u=a.elements.line,d=-1;for(this._loop&&c.length&&c.push(c[0]),s.save(),s.lineCap=o.borderCapStyle||u.borderCapStyle,s.setLineDash&&s.setLineDash(o.borderDash||u.borderDash),s.lineDashOffset=o.borderDashOffset||u.borderDashOffset,s.lineJoin=o.borderJoinStyle||u.borderJoinStyle,s.lineWidth=o.borderWidth||u.borderWidth,s.strokeStyle=o.borderColor||a.defaultColor,s.beginPath(),d=-1,e=0;e<c.length;++e)t=c[e],n=i.previousItem(c,e),r=t._view,0===e?r.skip||(s.moveTo(r.x,r.y),d=e):(n=-1===d?n:c[d],r.skip||(d!==e-1&&!l||-1===d?s.moveTo(r.x,r.y):i.canvas.lineTo(s,n._view,t._view),d=e));s.stroke(),s.restore()}})},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32),a=r.global.defaultColor;function s(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}r._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:a,borderColor:a,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),e.exports=o.extend({inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:s,inXRange:s,inYRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._model,o=this._chart.ctx,s=t.pointStyle,l=t.radius,c=t.x,u=t.y,d=i.color,h=0;t.skip||(o.strokeStyle=t.borderColor||a,o.lineWidth=i.valueOrDefault(t.borderWidth,r.global.elements.point.borderWidth),o.fillStyle=t.backgroundColor||a,void 0!==e&&(n.x<e.left||1.01*e.right<n.x||n.y<e.top||1.01*e.bottom<n.y)&&(n.x<e.left?h=(c-n.x)/(e.left-n.x):1.01*e.right<n.x?h=(n.x-c)/(n.x-e.right):n.y<e.top?h=(u-n.y)/(e.top-n.y):1.01*e.bottom<n.y&&(h=(n.y-u)/(n.y-e.bottom)),h=Math.round(100*h)/100,o.strokeStyle=d(o.strokeStyle).alpha(h).rgbString(),o.fillStyle=d(o.fillStyle).alpha(h).rgbString()),i.canvas.drawPoint(o,s,l,c,u))}})},function(e,t,n){"use strict";var r=n(49),o=n(121);function i(e){return void 0!==e._view.width}function a(e){var t,n,r,o,a=e._view;if(i(e)){var s=a.width/2;t=a.x-s,n=a.x+s,r=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;t=Math.min(a.x,a.base),n=Math.max(a.x,a.base),r=a.y-l,o=a.y+l}return{left:t,top:r,right:n,bottom:o}}r._set("global",{elements:{rectangle:{backgroundColor:r.global.defaultColor,borderColor:r.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),e.exports=o.extend({draw:function(){var e,t,n,r,o,i,a,s=this._chart.ctx,l=this._view,c=l.borderWidth;if(l.horizontal?(e=l.base,t=l.x,n=l.y-l.height/2,r=l.y+l.height/2,o=t>e?1:-1,i=1,a=l.borderSkipped||"left"):(e=l.x-l.width/2,t=l.x+l.width/2,n=l.y,o=1,i=(r=l.base)>n?1:-1,a=l.borderSkipped||"bottom"),c){var u=Math.min(Math.abs(e-t),Math.abs(n-r)),d=(c=c>u?u:c)/2,h=e+("left"!==a?d*o:0),p=t+("right"!==a?-d*o:0),f=n+("top"!==a?d*i:0),m=r+("bottom"!==a?-d*i:0);h!==p&&(n=f,r=m),f!==m&&(e=h,t=p)}s.beginPath(),s.fillStyle=l.backgroundColor,s.strokeStyle=l.borderColor,s.lineWidth=c;var g=[[e,r],[e,n],[t,n],[t,r]],v=["bottom","left","top","right"].indexOf(a,0);function y(e){return g[(v+e)%4]}-1===v&&(v=0);var b=y(0);s.moveTo(b[0],b[1]);for(var _=1;_<4;_++)b=y(_),s.lineTo(b[0],b[1]);s.fill(),c&&s.stroke()},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){var n=!1;if(this._view){var r=a(this);n=e>=r.left&&e<=r.right&&t>=r.top&&t<=r.bottom}return n},inLabelRange:function(e,t){if(!this._view)return!1;var n=a(this);return i(this)?e>=n.left&&e<=n.right:t>=n.top&&t<=n.bottom},inXRange:function(e){var t=a(this);return e>=t.left&&e<=t.right},inYRange:function(e){var t=a(this);return e>=t.top&&e<=t.bottom},getCenterPoint:function(){var e,t,n=this._view;return i(this)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return e.width*Math.abs(e.y-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}})},function(e,t){e.exports={acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}}},function(e,t,n){"use strict";var r=n(32),o=["animationstart","webkitAnimationStart"],i={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function a(e,t){var n=r.getStyle(e,t),o=n&&n.match(/^(\d+)(\.\d+)?px$/);return o?Number(o[1]):void 0}var s=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function l(e,t,n){e.addEventListener(t,n,s)}function c(e,t,n){e.removeEventListener(t,n,s)}function u(e,t,n,r,o){return{type:e,chart:t,native:o||null,x:void 0!==n?n:null,y:void 0!==r?r:null}}function d(e,t,n){var i,a,s,c,d=e.$chartjs||(e.$chartjs={}),h=d.resizer=function(e){var t=document.createElement("div"),n="chartjs-size-monitor",r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=t.childNodes[0],i=t.childNodes[1];t._reset=function(){o.scrollLeft=1e6,o.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var a=function(){t._reset(),e()};return l(o,"scroll",a.bind(o,"expand")),l(i,"scroll",a.bind(i,"shrink")),t}((i=function(){if(d.resizer)return t(u("resize",n))},s=!1,c=[],function(){c=Array.prototype.slice.call(arguments),a=a||this,s||(s=!0,r.requestAnimFrame.call(window,(function(){s=!1,i.apply(a,c)})))}));!function(e,t){var n=(e.$chartjs||(e.$chartjs={})).renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};r.each(o,(function(t){l(e,t,n)})),e.classList.add("chartjs-render-monitor")}(e,(function(){if(d.resizer){var t=e.parentNode;t&&t!==h.parentNode&&t.insertBefore(h,t.firstChild),h._reset()}}))}function h(e){var t=e.$chartjs||{},n=t.resizer;delete t.resizer,function(e){var t=e.$chartjs||{},n=t.renderProxy;n&&(r.each(o,(function(t){c(e,t,n)})),delete t.renderProxy),e.classList.remove("chartjs-render-monitor")}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}e.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e,t,n,r="from{opacity:0.99}to{opacity:1}";t="@-webkit-keyframes chartjs-render-animation{"+r+"}@keyframes chartjs-render-animation{"+r+"}.chartjs-render-monitor{-webkit-animation:chartjs-render-animation 0.001s;animation:chartjs-render-animation 0.001s;}",n=(e=this)._style||document.createElement("style"),e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,r=e.getAttribute("height"),o=e.getAttribute("width");if(e.$chartjs={initial:{height:r,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var i=a(e,"width");void 0!==i&&(e.width=i)}if(null===r||""===r)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=a(e,"height");void 0!==i&&(e.height=s)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t.$chartjs){var n=t.$chartjs.initial;["height","width"].forEach((function(e){var o=n[e];r.isNullOrUndef(o)?t.removeAttribute(e):t.setAttribute(e,o)})),r.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t.$chartjs}},addEventListener:function(e,t,n){var o=e.canvas;if("resize"!==t){var a=n.$chartjs||(n.$chartjs={});l(o,t,(a.proxies||(a.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=i[e.type]||e.type,o=r.getRelativePosition(e,t);return u(n,t,o.x,o.y,e)}(t,e))})}else d(o,n,e)},removeEventListener:function(e,t,n){var r=e.canvas;if("resize"!==t){var o=((n.$chartjs||{}).proxies||{})[e.id+"_"+t];o&&c(r,t,o)}else h(r)}},r.addEvent=l,r.removeEvent=c},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{plugins:{}}),e.exports=function(e){e.plugins={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var r,o,i,a,s,l=this.descriptors(e),c=l.length;for(r=0;r<c;++r)if("function"==typeof(s=(i=(o=l[r]).plugin)[t])&&((a=[e].concat(n||[])).push(o.options),!1===s.apply(i,a)))return!1;return!0},descriptors:function(e){var t=e._plugins||(e._plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],o=[],a=e&&e.config||{},s=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,a=s[t];!1!==a&&(!0===a&&(a=i.clone(r.global.plugins[t])),n.push(e),o.push({plugin:e,options:a||{}}))}})),t.descriptors=o,t.id=this._cacheId,o}},e.pluginService=e.plugins,e.PluginBase=o.extend({})}},function(e,t,n){var r=n(426),o=n(427),i=n(805),a=n(119);e.exports=function(e,t){return(a(e)?r:i)(e,o(t,3))}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:i.noop,onComplete:i.noop}}),e.exports=function(e){e.Animation=o.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,t,n,r){var o,i,a=this.animations;for(t.chart=e,r||(e.animating=!0),o=0,i=a.length;o<i;++o)if(a[o].chart===e)return void(a[o]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=i.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=i.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){var e=this,t=Date.now(),n=0;e.dropFrames>1&&(n=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+n);var r=Date.now();e.dropFrames+=(r-t)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var t,n,r=this.animations,o=0;o<r.length;)n=(t=r[o]).chart,t.currentStep=(t.currentStep||0)+e,t.currentStep=Math.min(t.currentStep,t.numSteps),i.callback(t.render,[n,t],n),i.callback(t.onAnimationProgress,[t],n),t.currentStep>=t.numSteps?(i.callback(t.onAnimationComplete,[t],n),n.animating=!1,r.splice(o,1)):++o}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})}},function(e,t,n){var r=n(153),o=n(92).document,i=r(o)&&r(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,n){var r=n(153);e.exports=function(e,t){if(!r(e))return e;var n,o;if(t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;if("function"==typeof(n=e.valueOf)&&!r(o=n.call(e)))return o;if(!t&&"function"==typeof(n=e.toString)&&!r(o=n.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(339),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(341)("keys"),o=n(270);e.exports=function(e){return r[e]||(r[e]=o(e))}},function(e,t,n){var r=n(66),o=n(92),i=o["__core-js_shared__"]||(o["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(250)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(124),o=n(572),i=n(342),a=n(340)("IE_PROTO"),s=function(){},l=function(){var e,t=n(335)("iframe"),r=i.length;for(t.style.display="none",n(392).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;r--;)delete l.prototype[i[r]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=l(),void 0===t?n:o(n,t)}},function(e,t,n){var r=n(346),o=n(93)("iterator"),i=n(194);e.exports=n(66).getIteratorMethod=function(e){if(null!=e)return e[o]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(249),o=n(93)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),o))?n:i?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,n){var r=n(117),o=n(66),i=n(192);e.exports=function(e,t){var n=(o.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*i((function(){n(1)})),"Object",a)}},function(e,t,n){t.f=n(93)},function(e,t,n){var r=n(92),o=n(66),i=n(250),a=n(348),s=n(135).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(271),o=n(247),i=n(175),a=n(336),s=n(174),l=n(386),c=Object.getOwnPropertyDescriptor;t.f=n(136)?c:function(e,t){if(e=i(e),t=a(t,!0),l)try{return c(e,t)}catch(e){}if(s(e,t))return o(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(60);e.exports=function(e){var t=r(e);return t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(619);e.exports=function(e){return r(e,{weekStartsOn:1})}},function(e,t,n){"use strict";function r(e){switch(e._type){case"Document":case"BlockQuote":case"List":case"Item":case"Paragraph":case"Heading":case"Emph":case"Strong":case"Link":case"Image":case"CustomInline":case"CustomBlock":return!0;default:return!1}}var o=function(e,t){this.current=e,this.entering=!0===t},i=function(){var e=this.current,t=this.entering;if(null===e)return null;var n=r(e);return t&&n?e._firstChild?(this.current=e._firstChild,this.entering=!0):this.entering=!1:e===this.root?this.current=null:null===e._next?(this.current=e._parent,this.entering=!1):(this.current=e._next,this.entering=!0),{entering:t,node:e}},a=function(e){return{current:e,root:e,entering:!0,next:i,resumeAt:o}},s=function(e,t){this._type=e,this._parent=null,this._firstChild=null,this._lastChild=null,this._prev=null,this._next=null,this._sourcepos=t,this._lastLineBlank=!1,this._open=!0,this._string_content=null,this._literal=null,this._listData={},this._info=null,this._destination=null,this._title=null,this._isFenced=!1,this._fenceChar=null,this._fenceLength=0,this._fenceOffset=null,this._level=null,this._onEnter=null,this._onExit=null},l=s.prototype;Object.defineProperty(l,"isContainer",{get:function(){return r(this)}}),Object.defineProperty(l,"type",{get:function(){return this._type}}),Object.defineProperty(l,"firstChild",{get:function(){return this._firstChild}}),Object.defineProperty(l,"lastChild",{get:function(){return this._lastChild}}),Object.defineProperty(l,"next",{get:function(){return this._next}}),Object.defineProperty(l,"prev",{get:function(){return this._prev}}),Object.defineProperty(l,"parent",{get:function(){return this._parent}}),Object.defineProperty(l,"sourcepos",{get:function(){return this._sourcepos}}),Object.defineProperty(l,"literal",{get:function(){return this._literal},set:function(e){this._literal=e}}),Object.defineProperty(l,"destination",{get:function(){return this._destination},set:function(e){this._destination=e}}),Object.defineProperty(l,"title",{get:function(){return this._title},set:function(e){this._title=e}}),Object.defineProperty(l,"info",{get:function(){return this._info},set:function(e){this._info=e}}),Object.defineProperty(l,"level",{get:function(){return this._level},set:function(e){this._level=e}}),Object.defineProperty(l,"listType",{get:function(){return this._listData.type},set:function(e){this._listData.type=e}}),Object.defineProperty(l,"listTight",{get:function(){return this._listData.tight},set:function(e){this._listData.tight=e}}),Object.defineProperty(l,"listStart",{get:function(){return this._listData.start},set:function(e){this._listData.start=e}}),Object.defineProperty(l,"listDelimiter",{get:function(){return this._listData.delimiter},set:function(e){this._listData.delimiter=e}}),Object.defineProperty(l,"onEnter",{get:function(){return this._onEnter},set:function(e){this._onEnter=e}}),Object.defineProperty(l,"onExit",{get:function(){return this._onExit},set:function(e){this._onExit=e}}),s.prototype.appendChild=function(e){e.unlink(),e._parent=this,this._lastChild?(this._lastChild._next=e,e._prev=this._lastChild,this._lastChild=e):(this._firstChild=e,this._lastChild=e)},s.prototype.prependChild=function(e){e.unlink(),e._parent=this,this._firstChild?(this._firstChild._prev=e,e._next=this._firstChild,this._firstChild=e):(this._firstChild=e,this._lastChild=e)},s.prototype.unlink=function(){this._prev?this._prev._next=this._next:this._parent&&(this._parent._firstChild=this._next),this._next?this._next._prev=this._prev:this._parent&&(this._parent._lastChild=this._prev),this._parent=null,this._next=null,this._prev=null},s.prototype.insertAfter=function(e){e.unlink(),e._next=this._next,e._next&&(e._next._prev=e),e._prev=this,this._next=e,e._parent=this._parent,e._next||(e._parent._lastChild=e)},s.prototype.insertBefore=function(e){e.unlink(),e._prev=this._prev,e._prev&&(e._prev._next=e),e._next=this,this._prev=e,e._parent=this._parent,e._prev||(e._parent._firstChild=e)},s.prototype.walker=function(){return new a(this)},e.exports=s},function(e,t,n){"use strict";var r=n(269);function o(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new o(e)}},function(e,t,n){var r=n(199)(n(125),"Map");e.exports=r},function(e,t,n){var r=n(747),o=n(754),i=n(756),a=n(757),s=n(758);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(775),o=n(782),i=n(359);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,n){var r=n(430),o=n(358);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t,n){var r=n(119),o=n(253),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,n){var r=n(806),o=n(809)(r);e.exports=o},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;var n;for(n in e)if(e.hasOwnProperty(n)&&(!t.hasOwnProperty(n)||e[n]!==t[n]))return!1;for(n in t)if(t.hasOwnProperty(n)&&!e.hasOwnProperty(n))return!1;return!0}var o={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=o},function(e,t,n){"use strict";e.exports=function(e,t,n){return e<t?t:e>n?n:e}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(84),i=n(94),a=n(138),s=n(201),l=n(1),c=i({propTypes:{height:l.number,width:l.number,columnKey:l.oneOfType([l.string,l.number])},render:function(){var e=this.props,t=e.height,n=e.width,i=e.style,l=e.className,c=e.children,u=(e.columnKey,e.rowIndex,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["height","width","style","className","children","columnKey","rowIndex"])),d=r({height:t,width:n},i);return o.createElement("div",r({},u,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),l),style:d}),o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},o.createElement("div",{className:a("public/fixedDataTableCell/cellContent")},c))))}});e.exports=c},function(e,t,n){"use strict";var r=n(867),o=n(868);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=b(e));return e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(869);function b(e,t,n){if(e&&o.isObject(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),s=-1!==i&&i<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var _=l.exec(b);if(_)return this.path=b,this.href=b,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=a.exec(b);if(w){var C=(w=w[0]).toLowerCase();this.protocol=C,b=b.substr(w.length)}if(n||w||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||w&&g[w]||(b=b.substr(2),this.slashes=!0)}if(!g[w]&&(S||w&&!v[w])){for(var E,x,k=-1,O=0;O<h.length;O++){-1!==(T=b.indexOf(h[O]))&&(-1===k||T<k)&&(k=T)}-1!==(x=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(E=b.slice(0,x),b=b.slice(x+1),this.auth=decodeURIComponent(E)),k=-1;for(O=0;O<d.length;O++){var T;-1!==(T=b.indexOf(d[O]))&&(-1===k||T<k)&&(k=T)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var M="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!M)for(var P=this.hostname.split(/\./),L=(O=0,P.length);O<L;O++){var N=P[O];if(N&&!N.match(p)){for(var A="",I=0,R=N.length;I<R;I++)N.charCodeAt(I)>127?A+="x":A+=N[I];if(!A.match(p)){var D=P.slice(0,O),j=P.slice(O+1),z=N.match(f);z&&(D.push(z[1]),j.unshift(z[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=D.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),M||(this.hostname=r.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,M&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[C])for(O=0,L=u.length;O<L;O++){var W=u[O];if(-1!==b.indexOf(W)){var H=encodeURIComponent(W);H===W&&(H=escape(W)),b=b.split(W).join(H)}}var U=b.indexOf("#");-1!==U&&(this.hash=b.substr(U),b=b.slice(0,U));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,G)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[C]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var V=this.search||"";this.path=F+V}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,a="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(a=y.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var p=d[h];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=_||b||n.host&&e.pathname,C=w,S=n.pathname&&n.pathname.split("/")||[],E=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(E&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),w=w&&(""===f[0]||""===S[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=e.search,n.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(E)n.hostname=n.host=S.shift(),(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift());return n.search=e.search,n.query=e.query,o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var x=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===x||".."===x)||""===x,O=0,T=S.length;T>=0;T--)"."===(x=S[T])?S.splice(T,1):".."===x?(S.splice(T,1),O++):O&&(S.splice(T,1),O--);if(!w&&!C)for(;O--;O)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var M,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);E&&(n.hostname=n.host=P?"":S.length?S.shift():"",(M=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=M.shift(),n.host=n.hostname=M.shift()));return(w=w||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),o.isNull(n.pathname)&&o.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){var r=n(176),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";function r(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,o=e.length;r<o;n+=1,r+=1)e[n]=e[r];e.pop()}n.r(t),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&r(e),s=t&&r(t),l=a||s;if(e&&r(e)?i=n:n.length&&(i.pop(),i=i.concat(n)),!i.length)return"/";var c=void 0;if(i.length){var u=i[i.length-1];c="."===u||".."===u||""===u}else c=!1;for(var d=0,h=i.length;h>=0;h--){var p=i[h];"."===p?o(i,h):".."===p?(o(i,h),d++):d&&(o(i,h),d--)}if(!l)for(;d--;d)i.unshift("..");!l||""===i[0]||i[0]&&r(i[0])||i.unshift("");var f=i.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f}},function(e,t,n){"use strict";n.r(t);var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));var o=void 0===t?"undefined":r(t);if(o!==(void 0===n?"undefined":r(n)))return!1;if("object"===o){var i=t.valueOf(),a=n.valueOf();if(i!==t||a!==n)return e(i,a);var s=Object.keys(t),l=Object.keys(n);return s.length===l.length&&s.every((function(r){return e(t[r],n[r])}))}return!1}},function(e,t,n){"use strict";e.exports=n(550)},function(e,t,n){e.exports={default:n(607),__esModule:!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){function o(t){var r=new i.default(t);n.call(e,r)}if(e.addEventListener){var a=(s=!1,"object"==typeof r?s=r.capture||!1:"boolean"==typeof r&&(s=r),e.addEventListener(t,o,r||!1),{v:{remove:function(){e.removeEventListener(t,o,s)}}});if("object"==typeof a)return a.v}else if(e.attachEvent)return e.attachEvent("on"+t,o),{remove:function(){e.detachEvent("on"+t,o)}};var s};var r,o=n(610),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=r(e),o=r(t);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(e,t,n){"use strict";(function(e,r){var o,i=n(476);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var a=Object(i.a)(o);t.a=a}).call(this,n(45),n(268)(e))},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(1),a=n.n(i),s=n(56),l=n.n(s),c=n(220),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},f=function(e){function t(){var n,r;d(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,e.call.apply(e,[this].concat(i))),r.handleClick=function(e){if(r.props.onClick&&r.props.onClick(e),!e.defaultPrevented&&0===e.button&&!r.props.target&&!p(e)){e.preventDefault();var t=r.context.router.history,n=r.props,o=n.replace,i=n.to;o?t.replace(i):t.push(i)}},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this.props,t=(e.replace,e.to),n=e.innerRef,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["replace","to","innerRef"]);l()(this.context.router,"You should not use <Link> outside a <Router>"),l()(void 0!==t,'You must specify the "to" property');var i=this.context.router.history,a="string"==typeof t?Object(c.a)(t,null,null,i.location):t,s=i.createHref(a);return o.a.createElement("a",u({},r,{onClick:this.handleClick,href:s,ref:n}))},t}(o.a.Component);f.propTypes={onClick:a.a.func,target:a.a.string,replace:a.a.bool,to:a.a.oneOfType([a.a.string,a.a.object]).isRequired,innerRef:a.a.oneOfType([a.a.string,a.a.func])},f.defaultProps={replace:!1},f.contextTypes={router:a.a.shape({history:a.a.shape({push:a.a.func.isRequired,replace:a.a.func.isRequired,createHref:a.a.func.isRequired}).isRequired}).isRequired},t.a=f},function(e,t,n){(function(t){for(var r=n(656),o="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=o["request"+a],l=o["cancel"+a]||o["cancelRequest"+a],c=0;!s&&c<i.length;c++)s=o[i[c]+"Request"+a],l=o[i[c]+"Cancel"+a]||o[i[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,h=[];s=function(e){if(0===h.length){var t=r(),n=Math.max(0,1e3/60-(t-u));u=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return h.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return s.call(o,e)},e.exports.cancel=function(){l.apply(o,arguments)},e.exports.polyfill=function(e){e||(e=o),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n(45))},function(e,t,n){var r=n(443),o=n(812),i=n(283);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},function(e,t,n){var r=n(443),o=n(813),i=n(283);e.exports=function(e){return e&&e.length?r(e,i,o):void 0}},function(e,t,n){var r=n(434),o=n(814),i=n(427),a=n(119);e.exports=function(e,t){return(a(e)?r:o)(e,i(t,3))}},function(e,t,n){"use strict";var r=n(49),o=n(32),i=n(311),a=n(312);e.exports=function(e){var t=e.plugins;function n(e){var t=e.options;t.scale?e.scale.options=t.scale:t.scales&&t.scales.xAxes.concat(t.scales.yAxes).forEach((function(t){e.scales[t.id].options=t})),e.tooltip._options=t.tooltips}function s(e){return"top"===e||"bottom"===e}e.types={},e.instances={},e.controllers={},o.extend(e.prototype,{construct:function(t,n){var i=this;n=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=o.configMerge(r.global,r[e.type],e.options||{}),e}(n);var s=a.acquireContext(t,n),l=s&&s.canvas,c=l&&l.height,u=l&&l.width;i.id=o.uid(),i.ctx=s,i.canvas=l,i.config=n,i.width=u,i.height=c,i.aspectRatio=c?u/c:null,i.options=n.options,i._bufferedRender=!1,i.chart=i,i.controller=i,e.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(e){i.config.data=e}}),s&&l?(i.initialize(),i.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return t.notify(e,"beforeInit"),o.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.ensureScalesHaveIDs(),e.buildScales(),e.initToolTip(),t.notify(e,"afterInit"),e},clear:function(){return o.canvas.clear(this),this},stop:function(){return e.animationService.cancelAnimation(this),this},resize:function(e){var n=this,r=n.options,i=n.canvas,a=r.maintainAspectRatio&&n.aspectRatio||null,s=Math.max(0,Math.floor(o.getMaximumWidth(i))),l=Math.max(0,Math.floor(a?s/a:o.getMaximumHeight(i)));if((n.width!==s||n.height!==l)&&(i.width=n.width=s,i.height=n.height=l,i.style.width=s+"px",i.style.height=l+"px",o.retinaScale(n,r.devicePixelRatio),!e)){var c={width:s,height:l};t.notify(n,"resize",[c]),n.options.onResize&&n.options.onResize(n,c),n.stop(),n.update(n.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;o.each(t.xAxes,(function(e,t){e.id=e.id||"x-axis-"+t})),o.each(t.yAxes,(function(e,t){e.id=e.id||"y-axis-"+t})),n&&(n.id=n.id||"scale")},buildScales:function(){var t=this,n=t.options,r=t.scales={},i=[];n.scales&&(i=i.concat((n.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(n.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),n.scale&&i.push({options:n.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),o.each(i,(function(n){var i=n.options,a=o.valueOrDefault(i.type,n.dtype),l=e.scaleService.getScaleConstructor(a);if(l){s(i.position)!==s(n.dposition)&&(i.position=n.dposition);var c=new l({id:i.id,options:i,ctx:t.ctx,chart:t});r[c.id]=c,c.mergeTicksOptions(),n.isDefault&&(t.scale=c)}})),e.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t=this,n=[],r=[];return o.each(t.data.datasets,(function(o,i){var a=t.getDatasetMeta(i),s=o.type||t.config.type;if(a.type&&a.type!==s&&(t.destroyDatasetMeta(i),a=t.getDatasetMeta(i)),a.type=s,n.push(a.type),a.controller)a.controller.updateIndex(i);else{var l=e.controllers[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(t,i),r.push(a.controller)}}),t),r},resetElements:function(){var e=this;o.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var r=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),n(r),!1!==t.notify(r,"beforeUpdate")){r.tooltip._data=r.data;var i=r.buildOrUpdateControllers();o.each(r.data.datasets,(function(e,t){r.getDatasetMeta(t).controller.buildOrUpdateElements()}),r),r.updateLayout(),o.each(i,(function(e){e.reset()})),r.updateDatasets(),t.notify(r,"afterUpdate"),r._bufferedRender?r._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:r.render(e)}},updateLayout:function(){!1!==t.notify(this,"beforeLayout")&&(e.layoutService.update(this,this.width,this.height),t.notify(this,"afterScaleUpdate"),t.notify(this,"afterLayout"))},updateDatasets:function(){if(!1!==t.notify(this,"beforeDatasetsUpdate")){for(var e=0,n=this.data.datasets.length;e<n;++e)this.updateDataset(e);t.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var n=this.getDatasetMeta(e),r={meta:n,index:e};!1!==t.notify(this,"beforeDatasetUpdate",[r])&&(n.controller.update(),t.notify(this,"afterDatasetUpdate",[r]))},render:function(n){var r=this;n&&"object"==typeof n||(n={duration:n,lazy:arguments[1]});var i=n.duration,a=n.lazy;if(!1!==t.notify(r,"beforeRender")){var s=r.options.animation,l=function(e){t.notify(r,"afterRender"),o.callback(s&&s.onComplete,[e],r)};if(s&&(void 0!==i&&0!==i||void 0===i&&0!==s.duration)){var c=new e.Animation({numSteps:(i||s.duration)/16.66,easing:n.easing||s.easing,render:function(e,t){var n=o.easing.effects[t.easing],r=t.currentStep,i=r/t.numSteps;e.draw(n(i),i,r)},onAnimationProgress:s.onProgress,onAnimationComplete:l});e.animationService.addAnimation(r,c,i,a)}else r.draw(),l(new e.Animation({numSteps:0,chart:r}));return r}},draw:function(e){var n=this;n.clear(),o.isNullOrUndef(e)&&(e=1),n.transition(e),!1!==t.notify(n,"beforeDraw",[e])&&(o.each(n.boxes,(function(e){e.draw(n.chartArea)}),n),n.scale&&n.scale.draw(),n.drawDatasets(e),n.tooltip.draw(),t.notify(n,"afterDraw",[e]))},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},drawDatasets:function(e){var n=this;if(!1!==t.notify(n,"beforeDatasetsDraw",[e])){for(var r=(n.data.datasets||[]).length-1;r>=0;--r)n.isDatasetVisible(r)&&n.drawDataset(r,e);t.notify(n,"afterDatasetsDraw",[e])}},drawDataset:function(e,n){var r=this.getDatasetMeta(e),o={meta:r,index:e,easingValue:n};!1!==t.notify(this,"beforeDatasetDraw",[o])&&(r.controller.draw(n),t.notify(this,"afterDatasetDraw",[o]))},getElementAtEvent:function(e){return i.modes.single(this,e)},getElementsAtEvent:function(e){return i.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return i.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var r=i.modes[t];return"function"==typeof r?r(this,e,n):[]},getDatasetAtEvent:function(e){return i.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],r=n._meta&&n._meta[t];r&&(r.controller.destroy(),delete n._meta[t])},destroy:function(){var n,r,i=this,s=i.canvas;for(i.stop(),n=0,r=i.data.datasets.length;n<r;++n)i.destroyDatasetMeta(n);s&&(i.unbindEvents(),o.canvas.clear(i),a.releaseContext(i.ctx),i.canvas=null,i.ctx=null),t.notify(i,"destroy"),delete e.instances[i.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new e.Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};o.each(e.options.events,(function(r){a.addEventListener(e,r,n),t[r]=n})),e.options.responsive&&(n=function(){e.resize()},a.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,o.each(t,(function(t,n){a.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var r,o,i,a=n?"setHoverStyle":"removeHoverStyle";for(o=0,i=e.length;o<i;++o)(r=e[o])&&this.getDatasetMeta(r._datasetIndex).controller[a](r)},eventHandler:function(e){var n=this,r=n.tooltip;if(!1!==t.notify(n,"beforeEvent",[e])){n._bufferedRender=!0,n._bufferedRequest=null;var o=n.handleEvent(e);o|=r&&r.handleEvent(e),t.notify(n,"afterEvent",[e]);var i=n._bufferedRequest;return i?n.render(i):o&&!n.animating&&(n.stop(),n.render(n.options.hover.animationDuration,!0)),n._bufferedRender=!1,n._bufferedRequest=null,n}},handleEvent:function(e){var t,n=this,r=n.options||{},i=r.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,i.mode,i),o.callback(r.onHover||r.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||r.onClick&&r.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,i.mode,!1),n.active.length&&i.mode&&n.updateHoverStyle(n.active,i.mode,!0),t=!o.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),e.Controller=e}},function(e,t,n){"use strict";e.exports=n(535)},function(e,t,n){"use strict";var r=n(245),o=n(537),i=n(538);e.exports=function(e,t,n){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},l={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=p(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(i(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var o=l.hasOwnProperty(n)?l[n]:null;return i("DEFINE_MANY_MERGED"===o,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=p(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function u(e,t){var n=s.hasOwnProperty(t)?s[t]:null;y.hasOwnProperty(t)&&i("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&i("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){i("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),i(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,o=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&"mixins"!==a){var l=n[a],d=r.hasOwnProperty(a);if(u(d,a),c.hasOwnProperty(a))c[a](e,l);else{var h=s.hasOwnProperty(a);if("function"==typeof l&&!h&&!d&&!1!==n.autobind)o.push(a,l),r[a]=l;else if(d){var m=s[a];i(h&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=p(r[a],l):"DEFINE_MANY"===m&&(r[a]=f(r[a],l))}else r[a]=l}}}else;}function h(e,t){for(var n in i(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(i(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function p(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var o={};return h(o,n),h(o,r),o}}function f(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},v={componentWillUnmount:function(){this.__isMounted=!1}},y={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,e.prototype,y),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[r]=m(e,o)}}(this),this.props=e,this.context=r,this.refs=o,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;i("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,v),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),i(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";t.__esModule=!0;t.addLeadingSlash=function(e){return"/"===e.charAt(0)?e:"/"+e},t.stripLeadingSlash=function(e){return"/"===e.charAt(0)?e.substr(1):e};var r=t.hasBasename=function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)};t.stripBasename=function(e,t){return r(e,t)?e.substr(t.length):e},t.stripTrailingSlash=function(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e},t.parsePath=function(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.substr(o),t=t.substr(0,o));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}},t.createPath=function(e){var t=e.pathname,n=e.search,r=e.hash,o=t||"/";return n&&"?"!==n&&(o+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(o+="#"===r.charAt(0)?r:"#"+r),o}},function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=!("undefined"==typeof window||!window.document||!window.document.createElement);t.default=r,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};o(n(0));var r=o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){e.exports=!n(136)&&!n(192)((function(){return 7!=Object.defineProperty(n(335)("div"),"a",{get:function(){return 7}}).a}))},function(e,t,n){var r=n(174),o=n(175),i=n(564)(!1),a=n(340)("IE_PROTO");e.exports=function(e,t){var n,s=o(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~i(c,n)||c.push(n));return c}},function(e,t,n){var r=n(249);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){e.exports={default:n(566),__esModule:!0}},function(e,t,n){"use strict";var r=n(250),o=n(117),i=n(391),a=n(173),s=n(194),l=n(571),c=n(272),u=n(393),d=n(93)("iterator"),h=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,f,m,g,v){l(n,t,f);var y,b,_,w=function(e){if(!h&&e in x)return x[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},C=t+" Iterator",S="values"==m,E=!1,x=e.prototype,k=x[d]||x["@@iterator"]||m&&x[m],O=k||w(m),T=m?S?w("entries"):O:void 0,M="Array"==t&&x.entries||k;if(M&&(_=u(M.call(new e)))!==Object.prototype&&_.next&&(c(_,C,!0),r||"function"==typeof _[d]||a(_,d,p)),S&&k&&"values"!==k.name&&(E=!0,O=function(){return k.call(this)}),r&&!v||!h&&!E&&x[d]||a(x,d,O),s[t]=O,s[C]=p,m)if(y={values:S?O:w("values"),keys:g?O:w("keys"),entries:T},v)for(b in y)b in x||i(x,b,y[b]);else o(o.P+o.F*(h||E),t,y);return y}},function(e,t,n){e.exports=n(173)},function(e,t,n){var r=n(92).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(174),o=n(193),i=n(340)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(124);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(194),o=n(93)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[o]===e)}},function(e,t,n){var r=n(93)("iterator"),o=!1;try{var i=[7][r]();i.return=function(){o=!0},Array.from(i,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:n=!0}},i[r]=function(){return a},e(i)}catch(e){}return n}},function(e,t,n){var r=n(387),o=n(342).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},function(e,t){},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(45))},function(e,t){e.exports=function(e){return e instanceof Date}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(127),i=(r=o)&&r.__esModule?r:{default:r};t.isEventFromHandle=function(e,t){return Object.keys(t).some((function(n){return e.target===(0,a.findDOMNode)(t[n])}))},t.isValueOutOfRange=function(e,t){var n=t.min,r=t.max;return e<n||e>r},t.isNotTouchEvent=function(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0},t.getClosestPoint=s,t.getPrecision=l,t.getMousePosition=function(e,t){return e?t.clientY:t.pageX},t.getTouchPosition=function(e,t){return e?t.touches[0].clientY:t.touches[0].pageX},t.getHandleCenterPosition=function(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:n.left+.5*n.width},t.ensureValueInRange=function(e,t){var n=t.max,r=t.min;if(e<=r)return r;if(e>=n)return n;return e},t.ensureValuePrecision=function(e,t){var n=t.step,r=s(e,t);return null===n?r:parseFloat(r.toFixed(l(n)))},t.pauseEvent=function(e){e.stopPropagation(),e.preventDefault()};var a=n(19);function s(e,t){var n=t.marks,r=t.step,o=t.min,a=Object.keys(n).map(parseFloat);if(null!==r){var s=Math.round((e-o)/r)*r+o;a.push(s)}var l=a.map((function(t){return Math.abs(e-t)}));return a[l.indexOf(Math.min.apply(Math,(0,i.default)(l)))]}function l(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}},function(e,t,n){var r=n(60),o=n(352);e.exports=function(e){var t=r(e),n=t.getFullYear(),i=new Date(0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);var l=o(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}},function(e,t,n){var r=n(622),o=n(623);e.exports={distanceInWords:r(),format:o()}},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){var t=["push","pop","shift","splice","unshift"];function n(e,n){var r=e._chartjs;if(r){var o=r.listeners,i=o.indexOf(n);-1!==i&&o.splice(i,1),o.length>0||(t.forEach((function(t){delete e[t]})),delete e._chartjs)}}e.DatasetController=function(e,t){this.initialize(e,t)},r.extend(e.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(e,t){this.chart=e,this.index=t,this.linkScales(),this.addElements()},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.getDataset();null===e.xAxisID&&(e.xAxisID=t.xAxisID||this.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=t.yAxisID||this.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},reset:function(){this.update(!0)},destroy:function(){this._data&&n(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),r=this.getDataset().data||[],o=n.data;for(e=0,t=r.length;e<t;++e)o[e]=o[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,o,i=this,a=i.getDataset(),s=a.data||(a.data=[]);i._data!==s&&(i._data&&n(i._data,i),o=i,(e=s)._chartjs?e._chartjs.listeners.push(o):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[o]}}),t.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),o=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),i=o.apply(this,t);return r.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),i}})}))),i._data=s),i.resyncElements()},update:r.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],r=n.length,o=0;o<r;++o)n[o].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,r=0;for(e.dataset&&e.dataset.draw();r<n;++r)t[r].draw()},removeHoverStyle:function(e,t){var n=this.chart.data.datasets[e._datasetIndex],o=e._index,i=e.custom||{},a=r.valueAtIndexOrDefault,s=e._model;s.backgroundColor=i.backgroundColor?i.backgroundColor:a(n.backgroundColor,o,t.backgroundColor),s.borderColor=i.borderColor?i.borderColor:a(n.borderColor,o,t.borderColor),s.borderWidth=i.borderWidth?i.borderWidth:a(n.borderWidth,o,t.borderWidth)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,o=e.custom||{},i=r.valueAtIndexOrDefault,a=r.getHoverColor,s=e._model;s.backgroundColor=o.hoverBackgroundColor?o.hoverBackgroundColor:i(t.hoverBackgroundColor,n,a(s.backgroundColor)),s.borderColor=o.hoverBorderColor?o.hoverBorderColor:i(t.hoverBorderColor,n,a(s.borderColor)),s.borderWidth=o.hoverBorderWidth?o.hoverBorderWidth:i(t.hoverBorderWidth,n,s.borderWidth)},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,r=t.length;r<n?e.data.splice(r,n-r):r>n&&this.insertElements(n,r-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),e.DatasetController.extend=r.inherits}},function(e,t,n){var r=n(633),o=n(634);t.decode=function(e,t){return(!t||t<=0?o.XML:o.HTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?o.XML:o.HTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?r.XML:r.HTML)(e)},t.encodeXML=r.XML,t.encodeHTML4=t.encodeHTML5=t.encodeHTML=r.HTML,t.decodeXML=t.decodeXMLStrict=o.XML,t.decodeHTML4=t.decodeHTML5=t.decodeHTML=o.HTML,t.decodeHTML4Strict=t.decodeHTML5Strict=t.decodeHTMLStrict=o.HTMLStrict,t.escape=r.escape},function(e){e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){function t(e,t){return r.where(e,(function(e){return e.position===t}))}function n(e,t){e.forEach((function(e,t){return e._tmpIndex_=t,e})),e.sort((function(e,n){var r=t?n:e,o=t?e:n;return r.weight===o.weight?r._tmpIndex_-o._tmpIndex_:r.weight-o.weight})),e.forEach((function(e){delete e._tmpIndex_}))}e.layoutService={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var r,o=["fullWidth","position","weight"],i=o.length,a=0;a<i;++a)r=o[a],n.hasOwnProperty(r)&&(t[r]=n[r])},update:function(e,o,i){if(e){var a=e.options.layout||{},s=r.options.toPadding(a.padding),l=s.left,c=s.right,u=s.top,d=s.bottom,h=t(e.boxes,"left"),p=t(e.boxes,"right"),f=t(e.boxes,"top"),m=t(e.boxes,"bottom"),g=t(e.boxes,"chartArea");n(h,!0),n(p,!1),n(f,!0),n(m,!1);var v=o-l-c,y=i-u-d,b=y/2,_=(o-v/2)/(h.length+p.length),w=(i-b)/(f.length+m.length),C=v,S=y,E=[];r.each(h.concat(p,f,m),(function(e){var t,n=e.isHorizontal();n?(t=e.update(e.fullWidth?v:C,w),S-=t.height):(t=e.update(_,b),C-=t.width),E.push({horizontal:n,minSize:t,box:e})}));var x=0,k=0,O=0,T=0;r.each(f.concat(m),(function(e){if(e.getPadding){var t=e.getPadding();x=Math.max(x,t.left),k=Math.max(k,t.right)}})),r.each(h.concat(p),(function(e){if(e.getPadding){var t=e.getPadding();O=Math.max(O,t.top),T=Math.max(T,t.bottom)}}));var M=l,P=c,L=u,N=d;r.each(h.concat(p),F),r.each(h,(function(e){M+=e.width})),r.each(p,(function(e){P+=e.width})),r.each(f.concat(m),F),r.each(f,(function(e){L+=e.height})),r.each(m,(function(e){N+=e.height})),r.each(h.concat(p),(function(e){var t=r.findNextWhere(E,(function(t){return t.box===e})),n={left:0,right:0,top:L,bottom:N};t&&e.update(t.minSize.width,S,n)})),M=l,P=c,L=u,N=d,r.each(h,(function(e){M+=e.width})),r.each(p,(function(e){P+=e.width})),r.each(f,(function(e){L+=e.height})),r.each(m,(function(e){N+=e.height}));var A=Math.max(x-M,0);M+=A,P+=Math.max(k-P,0);var I=Math.max(O-L,0);L+=I,N+=Math.max(T-N,0);var R=i-L-N,D=o-M-P;D===C&&R===S||(r.each(h,(function(e){e.height=R})),r.each(p,(function(e){e.height=R})),r.each(f,(function(e){e.fullWidth||(e.width=D)})),r.each(m,(function(e){e.fullWidth||(e.width=D)})),S=R,C=D);var j=l+A,z=u+I;r.each(h.concat(f),B),j+=C,z+=S,r.each(p,B),r.each(m,B),e.chartArea={left:M,top:L,right:M+C,bottom:L+S},r.each(g,(function(t){t.left=e.chartArea.left,t.top=e.chartArea.top,t.right=e.chartArea.right,t.bottom=e.chartArea.bottom,t.update(C,S)}))}function F(e){var t=r.findNextWhere(E,(function(t){return t.box===e}));if(t)if(e.isHorizontal()){var n={left:Math.max(M,x),right:Math.max(P,k),top:0,bottom:0};e.update(e.fullWidth?v:C,y/2,n)}else e.update(t.minSize.width,S)}function B(e){e.isHorizontal()?(e.left=e.fullWidth?l:M,e.right=e.fullWidth?o-c:M+C,e.top=z,e.bottom=z+e.height,z=e.bottom):(e.left=j,e.right=j+e.width,e.top=L,e.bottom=L+S,j=e.right)}}}}},function(e,t,n){"use strict";var r=n(49),o=n(32);e.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=o.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?o.merge({},[r.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=o.extend(this.defaults[e],t))},addScalesToLayout:function(t){o.each(t.scales,(function(n){n.fullWidth=n.options.fullWidth,n.position=n.options.position,n.weight=n.options.weight,e.layoutService.addBox(t,n)}))}}}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32),a=n(222);function s(e){var t,n,r=[];for(t=0,n=e.length;t<n;++t)r.push(e[t].label);return r}function l(e,t,n){var r=e.getPixelForTick(t);return n&&(r-=0===t?(e.getPixelForTick(1)-r)/2:(r-e.getPixelForTick(t-1))/2),r}r._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:a.formatters.values,minor:{},major:{}}}),e.exports=function(e){function t(e,t,n){return i.isArray(t)?i.longestText(e,n,t):e.measureText(t).width}function n(e){var t=i.valueOrDefault,n=r.global,o=t(e.fontSize,n.defaultFontSize),a=t(e.fontStyle,n.defaultFontStyle),s=t(e.fontFamily,n.defaultFontFamily);return{size:o,style:a,family:s,font:i.fontString(o,a,s)}}function a(e){return i.options.toLineHeight(i.valueOrDefault(e.lineHeight,1.2),i.valueOrDefault(e.fontSize,r.global.defaultFontSize))}e.Scale=o.extend({getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var e=this.options.ticks;for(var t in!1===e.minor&&(e.minor={display:!1}),!1===e.major&&(e.major={display:!1}),e)"major"!==t&&"minor"!==t&&(void 0===e.minor[t]&&(e.minor[t]=e[t]),void 0===e.major[t]&&(e.major[t]=e[t]))},beforeUpdate:function(){i.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var r,o,a,s,l,c,u=this;for(u.beforeUpdate(),u.maxWidth=e,u.maxHeight=t,u.margins=i.extend({left:0,right:0,top:0,bottom:0},n),u.longestTextCache=u.longestTextCache||{},u.beforeSetDimensions(),u.setDimensions(),u.afterSetDimensions(),u.beforeDataLimits(),u.determineDataLimits(),u.afterDataLimits(),u.beforeBuildTicks(),l=u.buildTicks()||[],u.afterBuildTicks(),u.beforeTickToLabelConversion(),a=u.convertTicksToLabels(l)||u.ticks,u.afterTickToLabelConversion(),u.ticks=a,r=0,o=a.length;r<o;++r)s=a[r],(c=l[r])?c.label=s:l.push(c={label:s,major:!1});return u._ticks=l,u.beforeCalculateTickRotation(),u.calculateTickRotation(),u.afterCalculateTickRotation(),u.beforeFit(),u.fit(),u.afterFit(),u.afterUpdate(),u.minSize},afterUpdate:function(){i.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){i.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){i.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){i.callback(this.options.beforeDataLimits,[this])},determineDataLimits:i.noop,afterDataLimits:function(){i.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){i.callback(this.options.beforeBuildTicks,[this])},buildTicks:i.noop,afterBuildTicks:function(){i.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){i.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){i.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){i.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e=this,t=e.ctx,r=e.options.ticks,o=s(e._ticks),a=n(r);t.font=a.font;var l=r.minRotation||0;if(o.length&&e.options.display&&e.isHorizontal())for(var c,u=i.longestText(t,a.font,o,e.longestTextCache),d=u,h=e.getPixelForTick(1)-e.getPixelForTick(0)-6;d>h&&l<r.maxRotation;){var p=i.toRadians(l);if(c=Math.cos(p),Math.sin(p)*u>e.maxHeight){l--;break}l++,d=c*u}e.labelRotation=l},afterCalculateTickRotation:function(){i.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){i.callback(this.options.beforeFit,[this])},fit:function(){var e=this,r=e.minSize={width:0,height:0},o=s(e._ticks),l=e.options,c=l.ticks,u=l.scaleLabel,d=l.gridLines,h=l.display,p=e.isHorizontal(),f=n(c),m=l.gridLines.tickMarkLength;if(r.width=p?e.isFullWidth()?e.maxWidth-e.margins.left-e.margins.right:e.maxWidth:h&&d.drawTicks?m:0,r.height=p?h&&d.drawTicks?m:0:e.maxHeight,u.display&&h){var g=a(u)+i.options.toPadding(u.padding).height;p?r.height+=g:r.width+=g}if(c.display&&h){var v=i.longestText(e.ctx,f.font,o,e.longestTextCache),y=i.numberOfLabelLines(o),b=.5*f.size,_=e.options.ticks.padding;if(p){e.longestLabelWidth=v;var w=i.toRadians(e.labelRotation),C=Math.cos(w),S=Math.sin(w)*v+f.size*y+b*(y-1)+b;r.height=Math.min(e.maxHeight,r.height+S+_),e.ctx.font=f.font;var E=t(e.ctx,o[0],f.font),x=t(e.ctx,o[o.length-1],f.font);0!==e.labelRotation?(e.paddingLeft="bottom"===l.position?C*E+3:C*b+3,e.paddingRight="bottom"===l.position?C*b+3:C*x+3):(e.paddingLeft=E/2+3,e.paddingRight=x/2+3)}else c.mirror?v=0:v+=_+b,r.width=Math.min(e.maxWidth,r.width+v),e.paddingTop=f.size/2,e.paddingBottom=f.size/2}e.handleMargins(),e.width=r.width,e.height=r.height},handleMargins:function(){var e=this;e.margins&&(e.paddingLeft=Math.max(e.paddingLeft-e.margins.left,0),e.paddingTop=Math.max(e.paddingTop-e.margins.top,0),e.paddingRight=Math.max(e.paddingRight-e.margins.right,0),e.paddingBottom=Math.max(e.paddingBottom-e.margins.bottom,0))},afterFit:function(){i.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(i.isNullOrUndef(e))return NaN;if("number"==typeof e&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},getLabelForIndex:i.noop,getPixelForValue:i.noop,getValueForPixel:i.noop,getPixelForTick:function(e){var t=this,n=t.options.offset;if(t.isHorizontal()){var r=(t.width-(t.paddingLeft+t.paddingRight))/Math.max(t._ticks.length-(n?0:1),1),o=r*e+t.paddingLeft;n&&(o+=r/2);var i=t.left+Math.round(o);return i+=t.isFullWidth()?t.margins.left:0}var a=t.height-(t.paddingTop+t.paddingBottom);return t.top+e*(a/(t._ticks.length-1))},getPixelForDecimal:function(e){var t=this;if(t.isHorizontal()){var n=(t.width-(t.paddingLeft+t.paddingRight))*e+t.paddingLeft,r=t.left+Math.round(n);return r+=t.isFullWidth()?t.margins.left:0}return t.top+e*t.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,r,o,a=this,s=a.isHorizontal(),l=a.options.ticks.minor,c=e.length,u=i.toRadians(a.labelRotation),d=Math.cos(u),h=a.longestLabelWidth*d,p=[];for(l.maxTicksLimit&&(o=l.maxTicksLimit),s&&(t=!1,(h+l.autoSkipPadding)*c>a.width-(a.paddingLeft+a.paddingRight)&&(t=1+Math.floor((h+l.autoSkipPadding)*c/(a.width-(a.paddingLeft+a.paddingRight)))),o&&c>o&&(t=Math.max(t,Math.floor(c/o)))),n=0;n<c;n++)r=e[n],((t>1&&n%t>0||n%t==0&&n+t>=c)&&n!==c-1||i.isNullOrUndef(r.label))&&delete r.label,p.push(r);return p},draw:function(e){var t=this,o=t.options;if(o.display){var s=t.ctx,c=r.global,u=o.ticks.minor,d=o.ticks.major||u,h=o.gridLines,p=o.scaleLabel,f=0!==t.labelRotation,m=t.isHorizontal(),g=u.autoSkip?t._autoSkip(t.getTicks()):t.getTicks(),v=i.valueOrDefault(u.fontColor,c.defaultFontColor),y=n(u),b=i.valueOrDefault(d.fontColor,c.defaultFontColor),_=n(d),w=h.drawTicks?h.tickMarkLength:0,C=i.valueOrDefault(p.fontColor,c.defaultFontColor),S=n(p),E=i.options.toPadding(p.padding),x=i.toRadians(t.labelRotation),k=[],O="right"===o.position?t.left:t.right-w,T="right"===o.position?t.left+w:t.right,M="bottom"===o.position?t.top:t.bottom-w,P="bottom"===o.position?t.top+w:t.bottom;if(i.each(g,(function(n,r){if(void 0!==n.label){var a,s,d,p,v,y,b,_,C,S,E,L,N,A,I=n.label;r===t.zeroLineIndex&&o.offset===h.offsetGridLines?(a=h.zeroLineWidth,s=h.zeroLineColor,d=h.zeroLineBorderDash,p=h.zeroLineBorderDashOffset):(a=i.valueAtIndexOrDefault(h.lineWidth,r),s=i.valueAtIndexOrDefault(h.color,r),d=i.valueOrDefault(h.borderDash,c.borderDash),p=i.valueOrDefault(h.borderDashOffset,c.borderDashOffset));var R="middle",D="middle",j=u.padding;if(m){var z=w+j;"bottom"===o.position?(D=f?"middle":"top",R=f?"right":"center",A=t.top+z):(D=f?"middle":"bottom",R=f?"left":"center",A=t.bottom-z);var F=l(t,r,h.offsetGridLines&&g.length>1);F<t.left&&(s="rgba(0,0,0,0)"),F+=i.aliasPixel(a),N=t.getPixelForTick(r)+u.labelOffset,v=b=C=E=F,y=M,_=P,S=e.top,L=e.bottom}else{var B,W="left"===o.position;u.mirror?(R=W?"left":"right",B=j):(R=W?"right":"left",B=w+j),N=W?t.right-B:t.left+B;var H=l(t,r,h.offsetGridLines&&g.length>1);H<t.top&&(s="rgba(0,0,0,0)"),H+=i.aliasPixel(a),A=t.getPixelForTick(r)+u.labelOffset,v=O,b=T,C=e.left,E=e.right,y=_=S=L=H}k.push({tx1:v,ty1:y,tx2:b,ty2:_,x1:C,y1:S,x2:E,y2:L,labelX:N,labelY:A,glWidth:a,glColor:s,glBorderDash:d,glBorderDashOffset:p,rotation:-1*x,label:I,major:n.major,textBaseline:D,textAlign:R})}})),i.each(k,(function(e){if(h.display&&(s.save(),s.lineWidth=e.glWidth,s.strokeStyle=e.glColor,s.setLineDash&&(s.setLineDash(e.glBorderDash),s.lineDashOffset=e.glBorderDashOffset),s.beginPath(),h.drawTicks&&(s.moveTo(e.tx1,e.ty1),s.lineTo(e.tx2,e.ty2)),h.drawOnChartArea&&(s.moveTo(e.x1,e.y1),s.lineTo(e.x2,e.y2)),s.stroke(),s.restore()),u.display){s.save(),s.translate(e.labelX,e.labelY),s.rotate(e.rotation),s.font=e.major?_.font:y.font,s.fillStyle=e.major?b:v,s.textBaseline=e.textBaseline,s.textAlign=e.textAlign;var t=e.label;if(i.isArray(t))for(var n=0,r=0;n<t.length;++n)s.fillText(""+t[n],0,r),r+=1.5*y.size;else s.fillText(t,0,0);s.restore()}})),p.display){var L,N,A=0,I=a(p)/2;if(m)L=t.left+(t.right-t.left)/2,N="bottom"===o.position?t.bottom-I-E.bottom:t.top+I+E.top;else{var R="left"===o.position;L=R?t.left+I+E.top:t.right-I-E.top,N=t.top+(t.bottom-t.top)/2,A=R?-.5*Math.PI:.5*Math.PI}s.save(),s.translate(L,N),s.rotate(A),s.textAlign="center",s.textBaseline="middle",s.fillStyle=C,s.font=S.font,s.fillText(p.labelString,0,0),s.restore()}if(h.drawBorder){s.lineWidth=i.valueAtIndexOrDefault(h.lineWidth,0),s.strokeStyle=i.valueAtIndexOrDefault(h.color,0);var D=t.left,j=t.right,z=t.top,F=t.bottom,B=i.aliasPixel(s.lineWidth);m?(z=F="top"===o.position?t.bottom:t.top,z+=B,F+=B):(D=j="left"===o.position?t.right:t.left,D+=B,j+=B),s.beginPath(),s.moveTo(D,z),s.lineTo(j,F),s.stroke()}}}})}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:i.noop,title:function(e,t){var n="",r=t.labels,o=r?r.length:0;if(e.length>0){var i=e[0];i.xLabel?n=i.xLabel:o>0&&i.index<o&&(n=r[i.index])}return n},afterTitle:i.noop,beforeBody:i.noop,beforeLabel:i.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=e.yLabel},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:i.noop,afterBody:i.noop,beforeFooter:i.noop,footer:i.noop,afterFooter:i.noop}}}),e.exports=function(e){function t(e,t){var n=i.color(e);return n.alpha(t*n.alpha()).rgbaString()}function n(e,t){return t&&(i.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function a(e){var t=r.global,n=i.valueOrDefault;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,bodyFontColor:e.bodyFontColor,_bodyFontFamily:n(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:n(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:n(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:n(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:n(e.titleFontStyle,t.defaultFontStyle),titleFontSize:n(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:n(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:n(e.footerFontStyle,t.defaultFontStyle),footerFontSize:n(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}e.Tooltip=o.extend({initialize:function(){this._model=a(this._options)},getTitle:function(){var e=this,t=e._options,r=t.callbacks,o=r.beforeTitle.apply(e,arguments),i=r.title.apply(e,arguments),a=r.afterTitle.apply(e,arguments),s=[];return s=n(s,o),s=n(s,i),s=n(s,a)},getBeforeBody:function(){var e=this._options.callbacks.beforeBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getBody:function(e,t){var r=this,o=r._options.callbacks,a=[];return i.each(e,(function(e){var i={before:[],lines:[],after:[]};n(i.before,o.beforeLabel.call(r,e,t)),n(i.lines,o.label.call(r,e,t)),n(i.after,o.afterLabel.call(r,e,t)),a.push(i)})),a},getAfterBody:function(){var e=this._options.callbacks.afterBody.apply(this,arguments);return i.isArray(e)?e:void 0!==e?[e]:[]},getFooter:function(){var e=this,t=e._options.callbacks,r=t.beforeFooter.apply(e,arguments),o=t.footer.apply(e,arguments),i=t.afterFooter.apply(e,arguments),a=[];return a=n(a,r),a=n(a,o),a=n(a,i)},update:function(t){var n,r,o,s,l,c,u,d=this,h=d._options,p=d._model,f=d._model=a(h),m=d._active,g=d._data,v={xAlign:p.xAlign,yAlign:p.yAlign},y={x:p.x,y:p.y},b={width:p.width,height:p.height},_={x:p.caretX,y:p.caretY};if(m.length){f.opacity=1;var w=[],C=[];_=e.Tooltip.positioners[h.position](m,d._eventPosition);var S=[];for(n=0,r=m.length;n<r;++n)S.push((o=m[n],s=void 0,l=void 0,c=void 0,u=void 0,s=o._xScale,l=o._yScale||o._scale,c=o._index,u=o._datasetIndex,{xLabel:s?s.getLabelForIndex(c,u):"",yLabel:l?l.getLabelForIndex(c,u):"",index:c,datasetIndex:u,x:o._model.x,y:o._model.y}));h.filter&&(S=S.filter((function(e){return h.filter(e,g)}))),h.itemSort&&(S=S.sort((function(e,t){return h.itemSort(e,t,g)}))),i.each(S,(function(e){w.push(h.callbacks.labelColor.call(d,e,d._chart)),C.push(h.callbacks.labelTextColor.call(d,e,d._chart))})),f.title=d.getTitle(S,g),f.beforeBody=d.getBeforeBody(S,g),f.body=d.getBody(S,g),f.afterBody=d.getAfterBody(S,g),f.footer=d.getFooter(S,g),f.x=Math.round(_.x),f.y=Math.round(_.y),f.caretPadding=h.caretPadding,f.labelColors=w,f.labelTextColors=C,f.dataPoints=S,b=function(e,t){var n=e._chart.ctx,r=2*t.yPadding,o=0,a=t.body,s=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);s+=t.beforeBody.length+t.afterBody.length;var l=t.title.length,c=t.footer.length,u=t.titleFontSize,d=t.bodyFontSize,h=t.footerFontSize;r+=l*u,r+=l?(l-1)*t.titleSpacing:0,r+=l?t.titleMarginBottom:0,r+=s*d,r+=s?(s-1)*t.bodySpacing:0,r+=c?t.footerMarginTop:0,r+=c*h,r+=c?(c-1)*t.footerSpacing:0;var p=0,f=function(e){o=Math.max(o,n.measureText(e).width+p)};return n.font=i.fontString(u,t._titleFontStyle,t._titleFontFamily),i.each(t.title,f),n.font=i.fontString(d,t._bodyFontStyle,t._bodyFontFamily),i.each(t.beforeBody.concat(t.afterBody),f),p=t.displayColors?d+2:0,i.each(a,(function(e){i.each(e.before,f),i.each(e.lines,f),i.each(e.after,f)})),p=0,n.font=i.fontString(h,t._footerFontStyle,t._footerFontFamily),i.each(t.footer,f),{width:o+=2*t.xPadding,height:r}}(this,f),y=function(e,t,n){var r=e.x,o=e.y,i=e.caretSize,a=e.caretPadding,s=e.cornerRadius,l=n.xAlign,c=n.yAlign,u=i+a,d=s+a;return"right"===l?r-=t.width:"center"===l&&(r-=t.width/2),"top"===c?o+=u:o-="bottom"===c?t.height+u:t.height/2,"center"===c?"left"===l?r+=u:"right"===l&&(r-=u):"left"===l?r-=d:"right"===l&&(r+=d),{x:r,y:o}}(f,b,v=function(e,t){var n,r,o,i,a,s=e._model,l=e._chart,c=e._chart.chartArea,u="center",d="center";s.y<t.height?d="top":s.y>l.height-t.height&&(d="bottom");var h=(c.left+c.right)/2,p=(c.top+c.bottom)/2;"center"===d?(n=function(e){return e<=h},r=function(e){return e>h}):(n=function(e){return e<=t.width/2},r=function(e){return e>=l.width-t.width/2}),o=function(e){return e+t.width>l.width},i=function(e){return e-t.width<0},a=function(e){return e<=p?"top":"bottom"},n(s.x)?(u="left",o(s.x)&&(u="center",d=a(s.y))):r(s.x)&&(u="right",i(s.x)&&(u="center",d=a(s.y)));var f=e._options;return{xAlign:f.xAlign?f.xAlign:u,yAlign:f.yAlign?f.yAlign:d}}(this,b))}else f.opacity=0;return f.xAlign=v.xAlign,f.yAlign=v.yAlign,f.x=y.x,f.y=y.y,f.width=b.width,f.height=b.height,f.caretX=_.x,f.caretY=_.y,d._model=f,t&&h.custom&&h.custom.call(d,f),d},drawCaret:function(e,t){var n=this._chart.ctx,r=this._view,o=this.getCaretPosition(e,t,r);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)},getCaretPosition:function(e,t,n){var r,o,i,a,s,l,c=n.caretSize,u=n.cornerRadius,d=n.xAlign,h=n.yAlign,p=e.x,f=e.y,m=t.width,g=t.height;if("center"===h)s=f+g/2,"left"===d?(o=(r=p)-c,i=r,a=s+c,l=s-c):(o=(r=p+m)+c,i=r,a=s-c,l=s+c);else if("left"===d?(r=(o=p+u+c)-c,i=o+c):"right"===d?(r=(o=p+m-u-c)-c,i=o+c):(r=(o=p+m/2)-c,i=o+c),"top"===h)s=(a=f)-c,l=a;else{s=(a=f+g)+c,l=a;var v=i;i=r,r=v}return{x1:r,x2:o,x3:i,y1:a,y2:s,y3:l}},drawTitle:function(e,n,r,o){var a=n.title;if(a.length){r.textAlign=n._titleAlign,r.textBaseline="top";var s,l,c=n.titleFontSize,u=n.titleSpacing;for(r.fillStyle=t(n.titleFontColor,o),r.font=i.fontString(c,n._titleFontStyle,n._titleFontFamily),s=0,l=a.length;s<l;++s)r.fillText(a[s],e.x,e.y),e.y+=c+u,s+1===a.length&&(e.y+=n.titleMarginBottom-u)}},drawBody:function(e,n,r,o){var a=n.bodyFontSize,s=n.bodySpacing,l=n.body;r.textAlign=n._bodyAlign,r.textBaseline="top",r.font=i.fontString(a,n._bodyFontStyle,n._bodyFontFamily);var c=0,u=function(t){r.fillText(t,e.x+c,e.y),e.y+=a+s};i.each(n.beforeBody,u);var d=n.displayColors;c=d?a+2:0,i.each(l,(function(s,l){i.each(s.before,u),i.each(s.lines,(function(i){if(d){r.fillStyle=t(n.legendColorBackground,o),r.fillRect(e.x,e.y,a,a),r.lineWidth=1,r.strokeStyle=t(n.labelColors[l].borderColor,o),r.strokeRect(e.x,e.y,a,a),r.fillStyle=t(n.labelColors[l].backgroundColor,o),r.fillRect(e.x+1,e.y+1,a-2,a-2);var s=t(n.labelTextColors[l],o);r.fillStyle=s}u(i)})),i.each(s.after,u)})),c=0,i.each(n.afterBody,u),e.y-=s},drawFooter:function(e,n,r,o){var a=n.footer;a.length&&(e.y+=n.footerMarginTop,r.textAlign=n._footerAlign,r.textBaseline="top",r.fillStyle=t(n.footerFontColor,o),r.font=i.fontString(n.footerFontSize,n._footerFontStyle,n._footerFontFamily),i.each(a,(function(t){r.fillText(t,e.x,e.y),e.y+=n.footerFontSize+n.footerSpacing})))},drawBackground:function(e,n,r,o,i){r.fillStyle=t(n.backgroundColor,i),r.strokeStyle=t(n.borderColor,i),r.lineWidth=n.borderWidth;var a=n.xAlign,s=n.yAlign,l=e.x,c=e.y,u=o.width,d=o.height,h=n.cornerRadius;r.beginPath(),r.moveTo(l+h,c),"top"===s&&this.drawCaret(e,o),r.lineTo(l+u-h,c),r.quadraticCurveTo(l+u,c,l+u,c+h),"center"===s&&"right"===a&&this.drawCaret(e,o),r.lineTo(l+u,c+d-h),r.quadraticCurveTo(l+u,c+d,l+u-h,c+d),"bottom"===s&&this.drawCaret(e,o),r.lineTo(l+h,c+d),r.quadraticCurveTo(l,c+d,l,c+d-h),"center"===s&&"left"===a&&this.drawCaret(e,o),r.lineTo(l,c+h),r.quadraticCurveTo(l,c,l+h,c),r.closePath(),r.fill(),n.borderWidth>0&&r.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},r={x:t.x,y:t.y},o=Math.abs(t.opacity<.001)?0:t.opacity,i=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&i&&(this.drawBackground(r,t,e,n,o),r.x+=t.xPadding,r.y+=t.yPadding,this.drawTitle(r,t,e,o),this.drawBody(r,t,e,o),this.drawFooter(r,t,e,o))}},handleEvent:function(e){var t=this,n=t._options,r=!1;if(t._lastActive=t._lastActive||[],"mouseout"===e.type?t._active=[]:t._active=t._chart.getElementsAtEventForMode(e,n.mode,n),!(r=!i.arrayEquals(t._active,t._lastActive)))return!1;if(t._lastActive=t._active,n.enabled||n.custom){t._eventPosition={x:e.x,y:e.y};var o=t._model;t.update(!0),t.pivot(),r|=o.x!==t._model.x||o.y!==t._model.y}return r}}),e.Tooltip.positioners={average:function(e){if(!e.length)return!1;var t,n,r=0,o=0,i=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();r+=s.x,o+=s.y,++i}}return{x:Math.round(r/i),y:Math.round(o/i)}},nearest:function(e,t){var n,r,o,a=t.x,s=t.y,l=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){var c=e[n];if(c&&c.hasValue()){var u=c.getCenterPoint(),d=i.distanceBetweenPoints(t,u);d<l&&(l=d,o=c)}}if(o){var h=o.tooltipPosition();a=h.x,s=h.y}return{x:a,y:s}}}}},function(e,t,n){"use strict";var r=n(32),o=n(222);e.exports=function(e){var t=r.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(t){return"string"==typeof t?+t:e.Scale.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=r.sign(e.min),o=r.sign(e.max);n<0&&o<0?e.max=0:n>0&&o>0&&(e.min=0)}var i=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),i!==a&&e.min>=e.max&&(i?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:t,handleDirectionalChanges:t,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,stepSize:r.valueOrDefault(t.fixedStepSize,t.stepSize)},a=e.ticks=o.generators.linear(i,e);e.handleDirectionalChanges(),e.max=r.max(a),e.min=r.min(a),t.reverse?(a.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(t)}})}},function(e,t,n){"use strict";e.exports=function(e){var t=e.Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e,t=this,n=t.getLabels();t.minIndex=0,t.maxIndex=n.length-1,void 0!==t.options.ticks.min&&(e=n.indexOf(t.options.ticks.min),t.minIndex=-1!==e?e:t.minIndex),void 0!==t.options.ticks.max&&(e=n.indexOf(t.options.ticks.max),t.maxIndex=-1!==e?e:t.maxIndex),t.min=n[t.minIndex],t.max=n[t.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var n=this,r=n.chart.data,o=n.isHorizontal();return r.yLabels&&!o?n.getRightValue(r.datasets[t].data[e]):n.ticks[e-n.minIndex]},getPixelForValue:function(e,t){var n,r=this,o=r.options.offset,i=Math.max(r.maxIndex+1-r.minIndex-(o?0:1),1);if(null!=e&&(n=r.isHorizontal()?e.x:e.y),void 0!==n||void 0!==e&&isNaN(t)){e=n||e;var a=r.getLabels().indexOf(e);t=-1!==a?a:t}if(r.isHorizontal()){var s=r.width/i,l=s*(t-r.minIndex);return o&&(l+=s/2),r.left+Math.round(l)}var c=r.height/i,u=c*(t-r.minIndex);return o&&(u+=c/2),r.top+Math.round(u)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t=this,n=t.options.offset,r=Math.max(t._ticks.length-(n?0:1),1),o=t.isHorizontal(),i=(o?t.width:t.height)/r;return e-=o?t.left:t.top,n&&(e-=i/2),(e<=0?0:Math.round(e/i))+t.minIndex},getBasePixel:function(){return this.bottom}});e.scaleService.registerScaleType("category",t,{position:"bottom"})}},,function(e,t,n){"use strict";var r=n(49),o=n(32),i=n(222);e.exports=function(e){var t={position:"left",ticks:{callback:i.formatters.linear}},n=e.LinearScaleBase.extend({determineDataLimits:function(){var e=this,t=e.options,n=e.chart,r=n.data.datasets,i=e.isHorizontal();function a(t){return i?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null;var s=t.stacked;if(void 0===s&&o.each(r,(function(e,t){if(!s){var r=n.getDatasetMeta(t);n.isDatasetVisible(t)&&a(r)&&void 0!==r.stack&&(s=!0)}})),t.stacked||s){var l={};o.each(r,(function(r,i){var s=n.getDatasetMeta(i),c=[s.type,void 0===t.stacked&&void 0===s.stack?i:"",s.stack].join(".");void 0===l[c]&&(l[c]={positiveValues:[],negativeValues:[]});var u=l[c].positiveValues,d=l[c].negativeValues;n.isDatasetVisible(i)&&a(s)&&o.each(r.data,(function(n,r){var o=+e.getRightValue(n);isNaN(o)||s.data[r].hidden||(u[r]=u[r]||0,d[r]=d[r]||0,t.relativePoints?u[r]=100:o<0?d[r]+=o:u[r]+=o)}))})),o.each(l,(function(t){var n=t.positiveValues.concat(t.negativeValues),r=o.min(n),i=o.max(n);e.min=null===e.min?r:Math.min(e.min,r),e.max=null===e.max?i:Math.max(e.max,i)}))}else o.each(r,(function(t,r){var i=n.getDatasetMeta(r);n.isDatasetVisible(r)&&a(i)&&o.each(t.data,(function(t,n){var r=+e.getRightValue(t);isNaN(r)||i.data[n].hidden||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r))}))}));e.min=isFinite(e.min)&&!isNaN(e.min)?e.min:0,e.max=isFinite(e.max)&&!isNaN(e.max)?e.max:1,this.handleTickRangeOptions()},getTickLimit:function(){var e,t=this.options.ticks;if(this.isHorizontal())e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.width/50));else{var n=o.valueOrDefault(t.fontSize,r.global.defaultFontSize);e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.height/(2*n)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){var t,n=this,r=n.start,o=+n.getRightValue(e),i=n.end-r;return n.isHorizontal()?(t=n.left+n.width/i*(o-r),Math.round(t)):(t=n.bottom-n.height/i*(o-r),Math.round(t))},getValueForPixel:function(e){var t=this,n=t.isHorizontal(),r=n?t.width:t.height,o=(n?e-t.left:t.bottom-e)/r;return t.start+(t.end-t.start)*o},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",n,t)}},function(e,t,n){"use strict";var r=n(32),o=n(222);e.exports=function(e){var t={position:"left",ticks:{callback:o.formatters.logarithmic}},n=e.Scale.extend({determineDataLimits:function(){var e=this,t=e.options,n=t.ticks,o=e.chart,i=o.data.datasets,a=r.valueOrDefault,s=e.isHorizontal();function l(t){return s?t.xAxisID===e.id:t.yAxisID===e.id}e.min=null,e.max=null,e.minNotZero=null;var c=t.stacked;if(void 0===c&&r.each(i,(function(e,t){if(!c){var n=o.getDatasetMeta(t);o.isDatasetVisible(t)&&l(n)&&void 0!==n.stack&&(c=!0)}})),t.stacked||c){var u={};r.each(i,(function(n,i){var a=o.getDatasetMeta(i),s=[a.type,void 0===t.stacked&&void 0===a.stack?i:"",a.stack].join(".");o.isDatasetVisible(i)&&l(a)&&(void 0===u[s]&&(u[s]=[]),r.each(n.data,(function(n,r){var o=u[s],i=+e.getRightValue(n);isNaN(i)||a.data[r].hidden||(o[r]=o[r]||0,t.relativePoints?o[r]=100:o[r]+=i)})))})),r.each(u,(function(t){var n=r.min(t),o=r.max(t);e.min=null===e.min?n:Math.min(e.min,n),e.max=null===e.max?o:Math.max(e.max,o)}))}else r.each(i,(function(t,n){var i=o.getDatasetMeta(n);o.isDatasetVisible(n)&&l(i)&&r.each(t.data,(function(t,n){var r=+e.getRightValue(t);isNaN(r)||i.data[n].hidden||(null===e.min?e.min=r:r<e.min&&(e.min=r),null===e.max?e.max=r:r>e.max&&(e.max=r),0!==r&&(null===e.minNotZero||r<e.minNotZero)&&(e.minNotZero=r))}))}));e.min=a(n.min,e.min),e.max=a(n.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(r.log10(e.min))-1),e.max=Math.pow(10,Math.floor(r.log10(e.max))+1)):(e.min=1,e.max=10))},buildTicks:function(){var e=this,t=e.options.ticks,n={min:t.min,max:t.max},i=e.ticks=o.generators.logarithmic(n,e);e.isHorizontal()||i.reverse(),e.max=r.max(i),e.min=r.min(i),t.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,n,o,i=this,a=i.start,s=+i.getRightValue(e),l=i.options.ticks;return i.isHorizontal()?(o=r.log10(i.end)-r.log10(a),0===s?n=i.left:(t=i.width,n=i.left+t/o*(r.log10(s)-r.log10(a)))):(t=i.height,0!==a||l.reverse?0===i.end&&l.reverse?(o=r.log10(i.start)-r.log10(i.minNotZero),n=s===i.end?i.top:s===i.minNotZero?i.top+.02*t:i.top+.02*t+.98*t/o*(r.log10(s)-r.log10(i.minNotZero))):0===s?n=l.reverse?i.top:i.bottom:(o=r.log10(i.end)-r.log10(a),t=i.height,n=i.bottom-t/o*(r.log10(s)-r.log10(a))):(o=r.log10(i.end)-r.log10(i.minNotZero),n=s===a?i.bottom:s===i.minNotZero?i.bottom-.02*t:i.bottom-.02*t-.98*t/o*(r.log10(s)-r.log10(i.minNotZero)))),n},getValueForPixel:function(e){var t,n,o=this,i=r.log10(o.end)-r.log10(o.start);return o.isHorizontal()?(n=o.width,t=o.start*Math.pow(10,(e-o.left)*i/n)):(n=o.height,t=Math.pow(10,(o.bottom-e)*i/n)/o.start),t}});e.scaleService.registerScaleType("logarithmic",n,t)}},function(e,t,n){"use strict";var r=n(49),o=n(32),i=n(222);e.exports=function(e){var t=r.global,n={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:i.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function a(e){var t=e.options;return t.angleLines.display||t.pointLabels.display?e.chart.data.labels.length:0}function s(e){var n=e.options.pointLabels,r=o.valueOrDefault(n.fontSize,t.defaultFontSize),i=o.valueOrDefault(n.fontStyle,t.defaultFontStyle),a=o.valueOrDefault(n.fontFamily,t.defaultFontFamily);return{size:r,style:i,family:a,font:o.fontString(r,i,a)}}function l(e,t,n,r,o){return e===r||e===o?{start:t-n/2,end:t+n/2}:e<r||e>o?{start:t-n-5,end:t}:{start:t,end:t+n+5}}function c(e){return 0===e||180===e?"center":e<180?"left":"right"}function u(e,t,n,r){if(o.isArray(t))for(var i=n.y,a=1.5*r,s=0;s<t.length;++s)e.fillText(t[s],n.x,i),i+=a;else e.fillText(t,n.x,n.y)}function d(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function h(e){return o.isNumber(e)?e:0}var p=e.LinearScaleBase.extend({setDimensions:function(){var e=this,n=e.options,r=n.ticks;e.width=e.maxWidth,e.height=e.maxHeight,e.xCenter=Math.round(e.width/2),e.yCenter=Math.round(e.height/2);var i=o.min([e.height,e.width]),a=o.valueOrDefault(r.fontSize,t.defaultFontSize);e.drawingArea=n.display?i/2-(a/2+r.backdropPaddingY):i/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;o.each(t.data.datasets,(function(i,a){if(t.isDatasetVisible(a)){var s=t.getDatasetMeta(a);o.each(i.data,(function(t,o){var i=+e.getRightValue(t);isNaN(i)||s.data[o].hidden||(n=Math.min(i,n),r=Math.max(i,r))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=r===Number.NEGATIVE_INFINITY?0:r,e.handleTickRangeOptions()},getTickLimit:function(){var e=this.options.ticks,n=o.valueOrDefault(e.fontSize,t.defaultFontSize);return Math.min(e.maxTicksLimit?e.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*n)))},convertTicksToLabels:function(){var t=this;e.LinearScaleBase.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(t.options.pointLabels.callback,t)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e,t;this.options.pointLabels.display?function(e){var t,n,r,i=s(e),c=Math.min(e.height/2,e.width/2),u={r:e.width,l:0,t:e.height,b:0},d={};e.ctx.font=i.font,e._pointLabelSizes=[];var h,p,f,m=a(e);for(t=0;t<m;t++){r=e.getPointPosition(t,c),h=e.ctx,p=i.size,f=e.pointLabels[t]||"",n=o.isArray(f)?{w:o.longestText(h,h.font,f),h:f.length*p+1.5*(f.length-1)*p}:{w:h.measureText(f).width,h:p},e._pointLabelSizes[t]=n;var g=e.getIndexAngle(t),v=o.toDegrees(g)%360,y=l(v,r.x,n.w,0,180),b=l(v,r.y,n.h,90,270);y.start<u.l&&(u.l=y.start,d.l=g),y.end>u.r&&(u.r=y.end,d.r=g),b.start<u.t&&(u.t=b.start,d.t=g),b.end>u.b&&(u.b=b.end,d.b=g)}e.setReductions(c,u,d)}(this):(e=this,t=Math.min(e.height/2,e.width/2),e.drawingArea=Math.round(t),e.setCenterPoint(0,0,0,0))},setReductions:function(e,t,n){var r=t.l/Math.sin(n.l),o=Math.max(t.r-this.width,0)/Math.sin(n.r),i=-t.t/Math.cos(n.t),a=-Math.max(t.b-this.height,0)/Math.cos(n.b);r=h(r),o=h(o),i=h(i),a=h(a),this.drawingArea=Math.min(Math.round(e-(r+o)/2),Math.round(e-(i+a)/2)),this.setCenterPoint(r,o,i,a)},setCenterPoint:function(e,t,n,r){var o=this,i=o.width-t-o.drawingArea,a=e+o.drawingArea,s=n+o.drawingArea,l=o.height-r-o.drawingArea;o.xCenter=Math.round((a+i)/2+o.left),o.yCenter=Math.round((s+l)/2+o.top)},getIndexAngle:function(e){return e*(2*Math.PI/a(this))+(this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(null===e)return 0;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.round(Math.cos(n)*t)+this.xCenter,y:Math.round(Math.sin(n)*t)+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(){var e=this.min,t=this.max;return this.getPointPositionForValue(0,this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0)},draw:function(){var e=this,n=e.options,r=n.gridLines,i=n.ticks,l=o.valueOrDefault;if(n.display){var h=e.ctx,p=this.getIndexAngle(0),f=l(i.fontSize,t.defaultFontSize),m=l(i.fontStyle,t.defaultFontStyle),g=l(i.fontFamily,t.defaultFontFamily),v=o.fontString(f,m,g);o.each(e.ticks,(function(n,s){if(s>0||i.reverse){var c=e.getDistanceFromCenterForValue(e.ticksAsNumbers[s]);if(r.display&&0!==s&&function(e,t,n,r){var i=e.ctx;if(i.strokeStyle=o.valueAtIndexOrDefault(t.color,r-1),i.lineWidth=o.valueAtIndexOrDefault(t.lineWidth,r-1),e.options.gridLines.circular)i.beginPath(),i.arc(e.xCenter,e.yCenter,n,0,2*Math.PI),i.closePath(),i.stroke();else{var s=a(e);if(0===s)return;i.beginPath();var l=e.getPointPosition(0,n);i.moveTo(l.x,l.y);for(var c=1;c<s;c++)l=e.getPointPosition(c,n),i.lineTo(l.x,l.y);i.closePath(),i.stroke()}}(e,r,c,s),i.display){var u=l(i.fontColor,t.defaultFontColor);if(h.font=v,h.save(),h.translate(e.xCenter,e.yCenter),h.rotate(p),i.showLabelBackdrop){var d=h.measureText(n).width;h.fillStyle=i.backdropColor,h.fillRect(-d/2-i.backdropPaddingX,-c-f/2-i.backdropPaddingY,d+2*i.backdropPaddingX,f+2*i.backdropPaddingY)}h.textAlign="center",h.textBaseline="middle",h.fillStyle=u,h.fillText(n,0,-c),h.restore()}}})),(n.angleLines.display||n.pointLabels.display)&&function(e){var n=e.ctx,r=o.valueOrDefault,i=e.options,l=i.angleLines,h=i.pointLabels;n.lineWidth=l.lineWidth,n.strokeStyle=l.color;var p=e.getDistanceFromCenterForValue(i.ticks.reverse?e.min:e.max),f=s(e);n.textBaseline="top";for(var m=a(e)-1;m>=0;m--){if(l.display){var g=e.getPointPosition(m,p);n.beginPath(),n.moveTo(e.xCenter,e.yCenter),n.lineTo(g.x,g.y),n.stroke(),n.closePath()}if(h.display){var v=e.getPointPosition(m,p+5),y=r(h.fontColor,t.defaultFontColor);n.font=f.font,n.fillStyle=y;var b=e.getIndexAngle(m),_=o.toDegrees(b);n.textAlign=c(_),d(_,e._pointLabelSizes[m],v),u(n,e.pointLabels[m]||"",v,f.size)}}}(e)}}});e.scaleService.registerScaleType("radialLinear",p,n)}},function(e,t,n){var r;
/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/!function(){"use strict";var o=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:o&&!!window.screen};void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){var r=n(664),o=n(666),i=function(e){return e instanceof i?e:this instanceof i?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=o.getRgba(e))?this.setValues("rgb",t):(t=o.getHsla(e))?this.setValues("hsl",t):(t=o.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new i(e);var t};i.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return o.hexString(this.values.rgb)},rgbString:function(){return o.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return o.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return o.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return o.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return o.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return o.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return o.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var r=e[n]/255;t[n]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,r=void 0===t?.5:t,o=2*r-1,i=this.alpha()-n.alpha(),a=((o*i==-1?o:(o+i)/(1+o*i))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*r+n.alpha()*(1-r))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new i,r=this.values,o=n.values;for(var a in r)r.hasOwnProperty(a)&&(e=r[a],"[object Array]"===(t={}.toString.call(e))?o[a]=e.slice(0):"[object Number]"===t?o[a]=e:console.error("unexpected color value:",e));return n}},i.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},i.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},i.prototype.getValues=function(e){for(var t=this.values,n={},r=0;r<e.length;r++)n[e.charAt(r)]=t[e][r];return 1!==t.alpha&&(n.a=t.alpha),n},i.prototype.setValues=function(e,t){var n,o,i=this.values,a=this.spaces,s=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)i[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)i[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var c=a[e];for(n=0;n<e.length;n++)i[e][n]=t[c[n]];l=t.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===l?i.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)o=Math.max(0,Math.min(s[e][n],i[e][n])),i[e][n]=Math.round(o);for(var u in a)u!==e&&(i[u]=r[e][u](i[e]));return!0},i.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},i.prototype.setChannel=function(e,t,n){var r=this.values[e];return void 0===n?r[t]:n===r[t]?this:(r[t]=n,this.setValues(e,r),this)},"undefined"!=typeof window&&(window.Color=i),e.exports=i},function(e,t,n){"use strict";var r=n(688);r="function"==typeof r?r:window.moment;var o=n(49),i=n(32),a=Number.MIN_SAFE_INTEGER||-9007199254740991,s=Number.MAX_SAFE_INTEGER||9007199254740991,l={millisecond:{major:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{major:!0,size:1e3,steps:[1,2,5,10,30]},minute:{major:!0,size:6e4,steps:[1,2,5,10,30]},hour:{major:!0,size:36e5,steps:[1,2,3,6,12]},day:{major:!0,size:864e5,steps:[1,2,5]},week:{major:!1,size:6048e5,steps:[1,2,3,4]},month:{major:!0,size:2628e6,steps:[1,2,3]},quarter:{major:!1,size:7884e6,steps:[1,2,3,4]},year:{major:!0,size:3154e7}},c=Object.keys(l);function u(e,t){return e-t}function d(e){var t,n,r,o={},i=[];for(t=0,n=e.length;t<n;++t)o[r=e[t]]||(o[r]=!0,i.push(r));return i}function h(e,t,n,r){var o=function(e,t,n){for(var r,o,i,a=0,s=e.length-1;a>=0&&a<=s;){if(o=e[(r=a+s>>1)-1]||null,i=e[r],!o)return{lo:null,hi:i};if(i[t]<n)a=r+1;else{if(!(o[t]>n))return{lo:o,hi:i};s=r-1}}return{lo:i,hi:null}}(e,t,n),i=o.lo?o.hi?o.lo:e[e.length-2]:e[0],a=o.lo?o.hi?o.hi:e[e.length-1]:e[1],s=a[t]-i[t],l=s?(n-i[t])/s:0,c=(a[r]-i[r])*l;return i[r]+c}function p(e,t){var n=t.parser,o=t.parser||t.format;return"function"==typeof n?n(e):"string"==typeof e&&"string"==typeof o?r(e,o):(e instanceof r||(e=r(e)),e.isValid()?e:"function"==typeof o?o(e):e)}function f(e,t){if(i.isNullOrUndef(e))return null;var n=t.options.time,r=p(t.getRightValue(e),n);return r.isValid()?(n.round&&r.startOf(n.round),r.valueOf()):null}function m(e,t,n,o,a,s){var c,u=s.time,d=i.valueOrDefault(u.stepSize,u.unitStepSize),h="week"===n&&u.isoWeekday,p=s.ticks.major.enabled,f=l[n],m=r(e),g=r(t),v=[];for(d||(d=function(e,t,n,r){var o,i,a,s=t-e,c=l[n],u=c.size,d=c.steps;if(!d)return Math.ceil(s/((r||1)*u));for(o=0,i=d.length;o<i&&(a=d[o],!(Math.ceil(s/(u*a))<=r));++o);return a}(e,t,n,a)),h&&(m=m.isoWeekday(h),g=g.isoWeekday(h)),m=m.startOf(h?"day":n),(g=g.startOf(h?"day":n))<t&&g.add(1,n),c=r(m),p&&o&&!h&&!u.round&&(c.startOf(o),c.add(~~((m-c)/(f.size*d))*d,n));c<g;c.add(d,n))v.push(+c);return v.push(+c),v}e.exports=function(e){var t=e.Scale.extend({initialize:function(){if(!r)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),e.Scale.prototype.initialize.call(this)},update:function(){var t=this,n=t.options;return n.time&&n.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),e.Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),e.Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var e,t,n,o,l,c,h=this,p=h.chart,m=h.options.time,g=f(m.min,h)||s,v=f(m.max,h)||a,y=[],b=[],_=[];for(e=0,n=p.data.labels.length;e<n;++e)_.push(f(p.data.labels[e],h));for(e=0,n=(p.data.datasets||[]).length;e<n;++e)if(p.isDatasetVisible(e))if(l=p.data.datasets[e].data,i.isObject(l[0]))for(b[e]=[],t=0,o=l.length;t<o;++t)c=f(l[t],h),y.push(c),b[e][t]=c;else y.push.apply(y,_),b[e]=_.slice(0);else b[e]=[];_.length&&(_=d(_).sort(u),g=Math.min(g,_[0]),v=Math.max(v,_[_.length-1])),y.length&&(y=d(y).sort(u),g=Math.min(g,y[0]),v=Math.max(v,y[y.length-1])),g=g===s?+r().startOf("day"):g,v=v===a?+r().endOf("day")+1:v,h.min=Math.min(g,v),h.max=Math.max(g+1,v),h._horizontal=h.isHorizontal(),h._table=[],h._timestamps={data:y,datasets:b,labels:_}},buildTicks:function(){var e,t,n,o=this,i=o.min,a=o.max,u=o.options,d=u.time,p=d.displayFormats,g=o.getLabelCapacity(i),v=d.unit||function(e,t,n,r){var o,i,a,u=c.length;for(o=c.indexOf(e);o<u-1;++o)if(a=(i=l[c[o]]).steps?i.steps[i.steps.length-1]:s,Math.ceil((n-t)/(a*i.size))<=r)return c[o];return c[u-1]}(d.minUnit,i,a,g),y=function(e){for(var t=c.indexOf(e)+1,n=c.length;t<n;++t)if(l[c[t]].major)return c[t]}(v),b=[],_=[];switch(u.ticks.source){case"data":b=o._timestamps.data;break;case"labels":b=o._timestamps.labels;break;case"auto":default:b=m(i,a,v,y,g,u)}for("ticks"===u.bounds&&b.length&&(i=b[0],a=b[b.length-1]),i=f(d.min,o)||i,a=f(d.max,o)||a,e=0,t=b.length;e<t;++e)(n=b[e])>=i&&n<=a&&_.push(n);return o.min=i,o.max=a,o._unit=v,o._majorUnit=y,o._minorFormat=p[v],o._majorFormat=p[y],o._table=function(e,t,n,r){if("linear"===r||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var o,i,a,s,l,c=[],u=[t];for(o=0,i=e.length;o<i;++o)(s=e[o])>t&&s<n&&u.push(s);for(u.push(n),o=0,i=u.length;o<i;++o)l=u[o+1],a=u[o-1],s=u[o],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||c.push({time:s,pos:o/(i-1)});return c}(o._timestamps.data,i,a,u.distribution),o._offsets=function(e,t,n,r,o){var i,a,s=0,l=0;return o.offset&&t.length&&(o.time.min||(i=t.length>1?t[1]:r,a=t[0],s=(h(e,"time",i,"pos")-h(e,"time",a,"pos"))/2),o.time.max||(i=t[t.length-1],a=t.length>1?t[t.length-2]:n,l=(h(e,"time",i,"pos")-h(e,"time",a,"pos"))/2)),{left:s,right:l}}(o._table,_,i,a,u),function(e,t){var n,o,i,a,s=[];for(n=0,o=e.length;n<o;++n)i=e[n],a=!!t&&i===+r(i).startOf(t),s.push({value:i,major:a});return s}(_,y)},getLabelForIndex:function(e,t){var n=this.chart.data,r=this.options.time,o=n.labels&&e<n.labels.length?n.labels[e]:"",a=n.datasets[t].data[e];return i.isObject(a)&&(o=this.getRightValue(a)),r.tooltipFormat&&(o=p(o,r).format(r.tooltipFormat)),o},tickFormatFunction:function(e,t,n){var r=this,o=r.options,a=e.valueOf(),s=r._majorUnit,l=r._majorFormat,c=e.clone().startOf(r._majorUnit).valueOf(),u=o.ticks.major,d=u.enabled&&s&&l&&a===c,h=e.format(d?l:r._minorFormat),p=d?u:o.ticks.minor,f=i.valueOrDefault(p.callback,p.userCallback);return f?f(h,t,n):h},convertTicksToLabels:function(e){var t,n,o=[];for(t=0,n=e.length;t<n;++t)o.push(this.tickFormatFunction(r(e[t].value),t,e));return o},getPixelForOffset:function(e){var t=this,n=t._horizontal?t.width:t.height,r=t._horizontal?t.left:t.top,o=h(t._table,"time",e,"pos");return r+n*(t._offsets.left+o)/(t._offsets.left+1+t._offsets.right)},getPixelForValue:function(e,t,n){var r=null;if(void 0!==t&&void 0!==n&&(r=this._timestamps.datasets[n][t]),null===r&&(r=f(e,this)),null!==r)return this.getPixelForOffset(r)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this,n=t._horizontal?t.width:t.height,o=t._horizontal?t.left:t.top,i=(n?(e-o)/n:0)*(t._offsets.left+1+t._offsets.left)-t._offsets.right,a=h(t._table,"pos",i,"time");return r(a)},getLabelWidth:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,r=i.toRadians(t.maxRotation),a=Math.cos(r),s=Math.sin(r);return n*a+i.valueOrDefault(t.fontSize,o.global.defaultFontSize)*s},getLabelCapacity:function(e){var t=this;t._minorFormat=t.options.time.displayFormats.millisecond;var n=t.tickFormatFunction(r(e),0,[]),o=t.getLabelWidth(n),i=t.isHorizontal()?t.width:t.height;return Math.floor(i/o)}});e.scaleService.registerScaleType("time",t,{position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}})}},function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function o(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function i(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=o),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=i;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.d(t,"a",(function(){return a})),r.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},function(e,t,n){var r=n(124),o=n(269),i=n(93)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||null==(n=r(a)[i])?t:o(n)}},function(e,t,n){var r,o,i,a=n(191),s=n(718),l=n(392),c=n(335),u=n(92),d=u.process,h=u.setImmediate,p=u.clearImmediate,f=u.MessageChannel,m=u.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};h&&p||(h=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n(249)(d)?r=function(e){d.nextTick(a(y,e,1))}:m&&m.now?r=function(e){m.now(a(y,e,1))}:f?(i=(o=new f).port2,o.port1.onmessage=b,r=a(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){l.appendChild(c("script")).onreadystatechange=function(){l.removeChild(this),y.call(e)}}:function(e){setTimeout(a(y,e,1),0)}),e.exports={set:h,clear:p}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(124),o=n(153),i=n(354);e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(731),o=n(792),i=n(283),a=n(119),s=n(802);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(278),o=n(738),i=n(739),a=n(740),s=n(741),l=n(742);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=s,c.prototype.set=l,e.exports=c},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(195),o=n(252);e.exports=function(e){if(!o(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(759),o=n(196);e.exports=function e(t,n,i,a,s){return t===n||(null==t||null==n||!o(t)&&!o(n)?t!=t&&n!=n:r(t,n,i,a,e,s))}},function(e,t,n){var r=n(760),o=n(763),i=n(764);e.exports=function(e,t,n,a,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e);if(h&&l.get(t))return h==t;var p=-1,f=!0,m=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var g=e[p],v=t[p];if(a)var y=c?a(v,g,p,t,e,l):a(g,v,p,e,t,l);if(void 0!==y){if(y)continue;f=!1;break}if(m){if(!o(t,(function(e,t){if(!i(m,t)&&(g===e||s(g,e,n,a,l)))return m.push(t)}))){f=!1;break}}else if(g!==v&&!s(g,v,n,a,l)){f=!1;break}}return l.delete(e),l.delete(t),f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}},function(e,t,n){var r=n(777),o=n(196),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){(function(e){var r=n(125),o=n(778),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l}).call(this,n(197)(e))},function(e,t){var n=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(779),o=n(780),i=n(781),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(252);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},function(e,t,n){var r=n(442),o=n(282);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(119),o=n(360),i=n(794),a=n(797);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(253);e.exports=function(e,t,n){for(var o=-1,i=e.length;++o<i;){var a=e[o],s=t(a);if(null!=s&&(void 0===l?s==s&&!r(s):n(s,l)))var l=s,c=a}return c}},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),r._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var n="";return e.length>0&&(e[0].yLabel?n=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(n=t.labels[e[0].index])),n},label:function(e,t){return(t.datasets[e.datasetIndex].label||"")+": "+e.xLabel}},mode:"index",axis:"y"}}),e.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:o.Rectangle,initialize:function(){var t,n=this;e.DatasetController.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0},update:function(e){var t,n,r=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=r.length;t<n;++t)this.updateElement(r[t],t,e)},updateElement:function(e,t,n){var r=this,o=r.chart,a=r.getMeta(),s=r.getDataset(),l=e.custom||{},c=o.options.elements.rectangle;e._xScale=r.getScaleForId(a.xAxisID),e._yScale=r.getScaleForId(a.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:s.label,label:o.data.labels[t],borderSkipped:l.borderSkipped?l.borderSkipped:c.borderSkipped,backgroundColor:l.backgroundColor?l.backgroundColor:i.valueAtIndexOrDefault(s.backgroundColor,t,c.backgroundColor),borderColor:l.borderColor?l.borderColor:i.valueAtIndexOrDefault(s.borderColor,t,c.borderColor),borderWidth:l.borderWidth?l.borderWidth:i.valueAtIndexOrDefault(s.borderWidth,t,c.borderWidth)},r.updateElementGeometry(e,t,n),e.pivot()},updateElementGeometry:function(e,t,n){var r=this,o=e._model,i=r.getValueScale(),a=i.getBasePixel(),s=i.isHorizontal(),l=r._ruler||r.getRuler(),c=r.calculateBarValuePixels(r.index,t),u=r.calculateBarIndexPixels(r.index,t,l);o.horizontal=s,o.base=n?a:c.base,o.x=s?n?a:c.head:u.center,o.y=s?u.center:n?a:c.head,o.height=s?u.size:void 0,o.width=s?void 0:u.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,n,r=this.chart,o=this.getIndexScale().options.stacked,i=void 0===e?r.data.datasets.length:e+1,a=[];for(t=0;t<i;++t)(n=r.getDatasetMeta(t)).bar&&r.isDatasetVisible(t)&&(!1===o||!0===o&&-1===a.indexOf(n.stack)||void 0===o&&(void 0===n.stack||-1===a.indexOf(n.stack)))&&a.push(n.stack);return a.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,n=this.getIndexScale(),r=this.getStackCount(),o=this.index,i=[],a=n.isHorizontal(),s=a?n.left:n.top,l=s+(a?n.width:n.height);for(e=0,t=this.getMeta().data.length;e<t;++e)i.push(n.getPixelForValue(null,e,o));return{pixels:i,start:s,end:l,stackCount:r,scale:n}},calculateBarValuePixels:function(e,t){var n,r,o,i,a,s,l=this.chart,c=this.getMeta(),u=this.getValueScale(),d=l.data.datasets,h=u.getRightValue(d[e].data[t]),p=u.options.stacked,f=c.stack,m=0;if(p||void 0===p&&void 0!==f)for(n=0;n<e;++n)(r=l.getDatasetMeta(n)).bar&&r.stack===f&&r.controller.getValueScaleId()===u.id&&l.isDatasetVisible(n)&&(o=u.getRightValue(d[n].data[t]),(h<0&&o<0||h>=0&&o>0)&&(m+=o));return i=u.getPixelForValue(m),{size:s=((a=u.getPixelForValue(m+h))-i)/2,base:i,head:a,center:a+s/2}},calculateBarIndexPixels:function(e,t,n){var r,o,a,s,l,c=n.scale.options,u=this.getStackIndex(e),d=n.pixels,h=d[t],p=d.length,f=n.start,m=n.end;return 1===p?(r=h>f?h-f:m-h,o=h<m?m-h:h-f):(t>0&&(r=(h-d[t-1])/2,t===p-1&&(o=r)),t<p-1&&(o=(d[t+1]-h)/2,0===t&&(r=o))),l=(s=((a=r*c.categoryPercentage)+o*c.categoryPercentage)/n.stackCount)*c.barPercentage,h-=a,h+=s*u,{size:l=Math.min(i.valueOrDefault(c.barThickness,l),i.valueOrDefault(c.maxBarThickness,1/0)),base:h+=(s-l)/2,head:h+l,center:h+l/2}},draw:function(){var e=this.chart,t=this.getValueScale(),n=this.getMeta().data,r=this.getDataset(),o=n.length,a=0;for(i.canvas.clipArea(e.ctx,e.chartArea);a<o;++a)isNaN(t.getRightValue(r.data[a]))||n[a].draw();i.canvas.unclipArea(e.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:i.valueAtIndexOrDefault(t.hoverBackgroundColor,n,i.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor?r.hoverBorderColor:i.valueAtIndexOrDefault(t.hoverBorderColor,n,i.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:i.valueAtIndexOrDefault(t.hoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model,a=this.chart.options.elements.rectangle;o.backgroundColor=r.backgroundColor?r.backgroundColor:i.valueAtIndexOrDefault(t.backgroundColor,n,a.backgroundColor),o.borderColor=r.borderColor?r.borderColor:i.valueAtIndexOrDefault(t.borderColor,n,a.borderColor),o.borderWidth=r.borderWidth?r.borderWidth:i.valueAtIndexOrDefault(t.borderWidth,n,a.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})}},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",r=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+r.r+")"}}}}),e.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:o.Point,update:function(e){var t=this,n=t.getMeta().data;i.each(n,(function(n,r){t.updateElement(n,r,e)}))},updateElement:function(e,t,n){var r=this,o=r.getMeta(),i=e.custom||{},a=r.getScaleForId(o.xAxisID),s=r.getScaleForId(o.yAxisID),l=r._resolveElementOptions(e,t),c=r.getDataset().data[t],u=r.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof c?c:NaN,t,u),h=n?s.getBasePixel():s.getPixelForValue(c,t,u);e._xScale=a,e._yScale=s,e._options=l,e._datasetIndex=u,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,radius:n?0:l.radius,skip:i.skip||isNaN(d)||isNaN(h),x:d,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=i.valueOrDefault(n.hoverBackgroundColor,i.getHoverColor(n.backgroundColor)),t.borderColor=i.valueOrDefault(n.hoverBorderColor,i.getHoverColor(n.borderColor)),t.borderWidth=i.valueOrDefault(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},removeHoverStyle:function(e){var t=e._model,n=e._options;t.backgroundColor=n.backgroundColor,t.borderColor=n.borderColor,t.borderWidth=n.borderWidth,t.radius=n.radius},_resolveElementOptions:function(e,t){var n,r,o,a=this.chart,s=a.data.datasets[this.index],l=e.custom||{},c=a.options.elements.point,u=i.options.resolve,d=s.data[t],h={},p={chart:a,dataIndex:t,dataset:s,datasetIndex:this.index},f=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(n=0,r=f.length;n<r;++n)h[o=f[n]]=u([l[o],s[o],c[o]],p,t);return h.radius=u([l.radius,d?d.r:void 0,s.radius,c.radius],p,t),h}})}},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,o=n.labels;if(r.length)for(var i=0;i<r[0].data.length;++i)t.push('<li><span style="background-color:'+r[0].backgroundColor[i]+'"></span>'),o[i]&&t.push(o[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,r){var o=e.getDatasetMeta(0),a=t.datasets[0],s=o.data[r],l=s&&s.custom||{},c=i.valueAtIndexOrDefault,u=e.options.elements.arc;return{text:n,fillStyle:l.backgroundColor?l.backgroundColor:c(a.backgroundColor,r,u.backgroundColor),strokeStyle:l.borderColor?l.borderColor:c(a.borderColor,r,u.borderColor),lineWidth:l.borderWidth?l.borderWidth:c(a.borderWidth,r,u.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,r,o,i=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(o=a.getDatasetMeta(n)).data[i]&&(o.data[i].hidden=!o.data[i].hidden);a.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],r=": "+t.datasets[e.datasetIndex].data[e.index];return i.isArray(n)?(n=n.slice())[0]+=r:n+=r,n}}}}),r._set("pie",i.clone(r.doughnut)),r._set("pie",{cutoutPercentage:0}),e.exports=function(e){e.controllers.doughnut=e.controllers.pie=e.DatasetController.extend({dataElementType:o.Arc,linkScales:i.noop,getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t=this,n=t.chart,r=n.chartArea,o=n.options,a=o.elements.arc,s=r.right-r.left-a.borderWidth,l=r.bottom-r.top-a.borderWidth,c=Math.min(s,l),u={x:0,y:0},d=t.getMeta(),h=o.cutoutPercentage,p=o.circumference;if(p<2*Math.PI){var f=o.rotation%(2*Math.PI),m=(f+=2*Math.PI*(f>=Math.PI?-1:f<-Math.PI?1:0))+p,g={x:Math.cos(f),y:Math.sin(f)},v={x:Math.cos(m),y:Math.sin(m)},y=f<=0&&m>=0||f<=2*Math.PI&&2*Math.PI<=m,b=f<=.5*Math.PI&&.5*Math.PI<=m||f<=2.5*Math.PI&&2.5*Math.PI<=m,_=f<=-Math.PI&&-Math.PI<=m||f<=Math.PI&&Math.PI<=m,w=f<=.5*-Math.PI&&.5*-Math.PI<=m||f<=1.5*Math.PI&&1.5*Math.PI<=m,C=h/100,S={x:_?-1:Math.min(g.x*(g.x<0?1:C),v.x*(v.x<0?1:C)),y:w?-1:Math.min(g.y*(g.y<0?1:C),v.y*(v.y<0?1:C))},E={x:y?1:Math.max(g.x*(g.x>0?1:C),v.x*(v.x>0?1:C)),y:b?1:Math.max(g.y*(g.y>0?1:C),v.y*(v.y>0?1:C))},x={width:.5*(E.x-S.x),height:.5*(E.y-S.y)};c=Math.min(s/x.width,l/x.height),u={x:-.5*(E.x+S.x),y:-.5*(E.y+S.y)}}n.borderWidth=t.getMaxBorderWidth(d.data),n.outerRadius=Math.max((c-n.borderWidth)/2,0),n.innerRadius=Math.max(h?n.outerRadius/100*h:0,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),n.offsetX=u.x*n.outerRadius,n.offsetY=u.y*n.outerRadius,d.total=t.calculateTotal(),t.outerRadius=n.outerRadius-n.radiusLength*t.getRingIndex(t.index),t.innerRadius=Math.max(t.outerRadius-n.radiusLength,0),i.each(d.data,(function(n,r){t.updateElement(n,r,e)}))},updateElement:function(e,t,n){var r=this,o=r.chart,a=o.chartArea,s=o.options,l=s.animation,c=(a.left+a.right)/2,u=(a.top+a.bottom)/2,d=s.rotation,h=s.rotation,p=r.getDataset(),f=n&&l.animateRotate?0:e.hidden?0:r.calculateCircumference(p.data[t])*(s.circumference/(2*Math.PI)),m=n&&l.animateScale?0:r.innerRadius,g=n&&l.animateScale?0:r.outerRadius,v=i.valueAtIndexOrDefault;i.extend(e,{_datasetIndex:r.index,_index:t,_model:{x:c+o.offsetX,y:u+o.offsetY,startAngle:d,endAngle:h,circumference:f,outerRadius:g,innerRadius:m,label:v(p.label,t,o.data.labels[t])}});var y=e._model;this.removeHoverStyle(e),n&&l.animateRotate||(y.startAngle=0===t?s.rotation:r.getMeta().data[t-1]._model.endAngle,y.endAngle=y.startAngle+y.circumference),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),r=0;return i.each(n.data,(function(n,o){e=t.data[o],isNaN(e)||n.hidden||(r+=Math.abs(e))})),r},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?2*Math.PI*(e/t):0},getMaxBorderWidth:function(e){for(var t,n,r=0,o=this.index,i=e.length,a=0;a<i;a++)t=e[a]._model?e[a]._model.borderWidth:0,r=(n=e[a]._chart?e[a]._chart.config.data.datasets[o].hoverBorderWidth:0)>(r=t>r?t:r)?n:r;return r}})}},function(e,t){e.exports=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(200),i=n(820),a=n(450),s=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!=typeof n&&(n=n?o.thatReturnsTrue:o.thatReturnsFalse),"function"!=typeof r&&(r=r?o.thatReturnsTrue:o.thatReturnsFalse),"function"!=typeof i&&(i=i?o.thatReturnsTrue:o.thatReturnsFalse),this._handleScrollX=n,this._handleScrollY=r,this._stopPropagation=i,this._onWheelCallback=t,this.onWheel=this.onWheel.bind(this)}return r(e,[{key:"onWheel",value:function(e){var t,n=i(e),r=this._deltaX+n.pixelX,o=this._deltaY+n.pixelY,s=this._handleScrollX(r,o),l=this._handleScrollY(o,r);(s||l)&&(this._deltaX+=s?n.pixelX:0,this._deltaY+=l?n.pixelY:0,e.preventDefault(),0===this._deltaX&&0===this._deltaY||(this._stopPropagation()&&e.stopPropagation(),t=!0),!0===t&&null===this._animationFrameID&&(this._animationFrameID=a(this._didWheel)))}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),o={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=o},function(e,t,n){"use strict";(function(t){var r=n(200),o=n(823),i=0,a=o||function(e){var n=Date.now(),r=Math.max(0,16-(n-i));return i=n+r,t.setTimeout((function(){e(Date.now())}),r)};a(r),e.exports=a}).call(this,n(45))},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(825),i=n(826),a=n(450),s=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._isDragging=!1,this._animationFrameID=null,this._domNode=r,this._onMove=t,this._onMoveEnd=n,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return r(e,[{key:"captureMouseMoves",value:function(e){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=o.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=o.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=e.clientX,this._y=e.clientY),e.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(i(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(e){var t=e.clientX,n=e.clientY;this._deltaX+=t-this._x,this._deltaY+=n-this._y,null===this._animationFrameID&&(this._animationFrameID=a(this._didMouseMove)),this._x=t,this._y=n,e.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=n(449),o=n(831),i=n(256),a={},s=["Webkit","ms","Moz","O"],l=new RegExp("^("+s.join("|")+")"),c=r.canUseDOM?document.createElement("div").style:{};e.exports=function(e){var t=o(e);if(void 0===a[t]){var n=t.charAt(0).toUpperCase()+t.slice(1);l.test(n)&&i(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",e),a[t]=t in c?t:function(e){for(var t=0;t<s.length;t++){var n=s[t]+e;if(n in c)return n}return null}(n)}return a[t]}},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(84),i=n(94),a=n(836),s=n(138),l=n(201),c=n(255),u=n(1),d=i({propTypes:{isScrolling:u.bool,fixedColumns:u.array.isRequired,height:u.number.isRequired,index:u.number.isRequired,scrollableColumns:u.array.isRequired,scrollLeft:u.number.isRequired,width:u.number.isRequired,onClick:u.func,onDoubleClick:u.func,onColumnResize:u.func},render:function(){var e={width:this.props.width,height:this.props.height},t=s({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2==1,"public/fixedDataTableRow/odd":this.props.index%2==1,"public/fixedDataTableRow/even":this.props.index%2==0}),n=this._getColumnsWidth(this.props.fixedColumns),r=o.createElement(a,{key:"fixed_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:0,width:n,zIndex:2,columns:this.props.fixedColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),i=this._renderColumnsShadow(n),c=o.createElement(a,{key:"scrollable_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:this.props.scrollLeft,offsetLeft:n,width:this.props.width-n,zIndex:0,columns:this.props.scrollableColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return o.createElement("div",{className:l(t,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:e},o.createElement("div",{className:s("fixedDataTableRowLayout/body")},r,c,i))},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t},_renderColumnsShadow:function(e){if(e>0){var t=s({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),n={left:e,height:this.props.height};return o.createElement("div",{className:t,style:n})}},_onClick:function(e){this.props.onClick(e,this.props.index)},_onDoubleClick:function(e){this.props.onDoubleClick(e,this.props.index)},_onMouseDown:function(e){this.props.onMouseDown(e,this.props.index)},_onMouseEnter:function(e){this.props.onMouseEnter(e,this.props.index)},_onMouseLeave:function(e){this.props.onMouseLeave(e,this.props.index)}}),h=i({propTypes:{isScrolling:u.bool,height:u.number.isRequired,zIndex:u.number,offsetTop:u.number.isRequired,width:u.number.isRequired},render:function(){var e={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return c(e,0,this.props.offsetTop),o.createElement("div",{style:e,className:s("fixedDataTableRowLayout/rowWrapper")},o.createElement(d,r({},this.props,{offsetTop:void 0,zIndex:void 0})))}});e.exports=h},function(e,t,n){"use strict";var r=n(455),o=n(84),i=n(456),a=n(457);function s(e,t){o.Children.forEach(e,(function(e){e.type===i?s(e.props.children,t):e.type===a&&t(e)}))}var l={DIR_SIGN:r.isRTL()?-1:1,CELL_VISIBILITY_TOLERANCE:5,renderToString:function(e){return null==e?"":String(e)},forEachColumn:s,mapColumns:function(e,t){var n=[];return o.Children.forEach(e,(function(e){var r=e;if(e.type===i){var l=!1,c=[];s(e.props.children,(function(e){var n=t(e);n!==e&&(l=!0),c.push(n)})),l&&(r=o.cloneElement(e,{children:c}))}else e.type===a&&(r=t(e));n.push(r)})),n}};e.exports=l},function(e,t,n){"use strict";e.exports={isRTL:function(){return!1},getDirection:function(){return"LTR"}}},function(e,t,n){"use strict";n(84);var r=n(94)({statics:{__TableColumnGroup__:!0},render:function(){return null}});e.exports=r},function(e,t,n){"use strict";n(84);var r=n(94)({statics:{__TableColumn__:!0},render:function(){return null}});e.exports=r},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),o=Object.keys(t);if(n.length!==o.length)return!1;for(var i=r.bind(t),a=0;a<n.length;a++)if(!i(n[a])||e[n[a]]!==t[n[a]])return!1;return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=s(n(0)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l={children:o.default.node,className:o.default.string,disabled:o.default.bool,id:o.default.string,name:o.default.string,value:o.default.oneOfType([o.default.number,o.default.string]).isRequired},c="mdc-radio",u=function(e){e.children;var t,n,o,s=e.className,l=e.disabled,u=e.name,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["children","className","disabled","name"]),h=(0,a.default)(c,(o=l,(n="mdc-radio--disabled")in(t={})?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t),s);return i.default.createElement("div",{className:h},i.default.createElement("input",r({className:"mdc-radio__native-control",disabled:l,type:"radio",name:u},d)),i.default.createElement("div",{className:"mdc-radio__background"},i.default.createElement("div",{className:"mdc-radio__outer-circle"}),i.default.createElement("div",{className:"mdc-radio__inner-circle"})))};u.propTypes=l,t.default=u},function(e,t){e.exports=function(e,t){var n=0,r={};e.addEventListener("message",(function(t){var n=t.data;if("RPC"===n.type)if(n.id){var o=r[n.id];o&&(delete r[n.id],n.error?o[1](Object.assign(Error(n.error.message),n.error)):o[0](n.result))}else{var i=document.createEvent("Event");i.initEvent(n.method,!1,!1),i.data=n.params,e.dispatchEvent(i)}})),t.forEach((function(t){e[t]=function(){for(var o=[],i=arguments.length;i--;)o[i]=arguments[i];return new Promise((function(i,a){var s=++n;r[s]=[i,a],e.postMessage({type:"RPC",id:s,method:t,params:o})}))}}))}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){(function(e){var r=n(873),o=n(464),i=n(883),a=n(884),s=n(365),l=t;l.request=function(t,n){t="string"==typeof t?s.parse(t):i(t);var o=-1===e.location.protocol.search(/^https?:$/)?"http:":"",a=t.protocol||o,l=t.hostname||t.host,c=t.port,u=t.path||"/";l&&-1!==l.indexOf(":")&&(l="["+l+"]"),t.url=(l?a+"//"+l:"")+(c?":"+c:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var d=new r(t);return n&&d.on("response",n),d},l.get=function(e,t){var n=l.request(e,t);return n.end(),n},l.ClientRequest=r,l.IncomingMessage=o.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(45))},function(e,t,n){(function(e){t.fetch=s(e.fetch)&&s(e.ReadableStream),t.writableStream=s(e.WritableStream),t.abortController=s(e.AbortController),t.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),t.blobConstructor=!0}catch(e){}var n;function r(){if(void 0!==n)return n;if(e.XMLHttpRequest){n=new e.XMLHttpRequest;try{n.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=r();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}var i=void 0!==e.ArrayBuffer,a=i&&s(e.ArrayBuffer.prototype.slice);function s(e){return"function"==typeof e}t.arraybuffer=t.fetch||i&&o("arraybuffer"),t.msstream=!t.fetch&&a&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&i&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!r()&&s(r().overrideMimeType),t.vbArray=s(e.VBArray),n=null}).call(this,n(45))},function(e,t,n){(function(e,r,o){var i=n(463),a=n(177),s=n(465),l=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},c=t.IncomingMessage=function(t,n,a,l){var c=this;if(s.Readable.call(c),c._mode=a,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){e.nextTick((function(){c.emit("close")}))})),"fetch"===a){if(c._fetchResponse=n,c.url=n.url,c.statusCode=n.status,c.statusMessage=n.statusText,n.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),i.writableStream){var u=new WritableStream({write:function(e){return new Promise((function(t,n){c._destroyed?n():c.push(new r(e))?t():c._resumeFetch=t}))},close:function(){o.clearTimeout(l),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void n.body.pipeTo(u).catch((function(e){o.clearTimeout(l),c._destroyed||c.emit("error",e)}))}catch(e){}}var d=n.body.getReader();!function e(){d.read().then((function(t){if(!c._destroyed){if(t.done)return o.clearTimeout(l),void c.push(null);c.push(new r(t.value)),e()}})).catch((function(e){o.clearTimeout(l),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=t,c._pos=0,c.url=t.responseURL,c.statusCode=t.status,c.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!i.overrideMimeType){var h=c.rawHeaders["mime-type"];if(h){var p=h.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};a(c,s.Readable),c.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},c.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text:vbarray":if(t.readyState!==l.DONE)break;try{n=new o.VBArray(t.responseBody).toArray()}catch(e){}if(null!==n){e.push(new r(n));break}case"text":try{n=t.responseText}catch(t){e._mode="text:vbarray";break}if(n.length>e._pos){var i=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=new r(i.length),s=0;s<i.length;s++)a[s]=255&i.charCodeAt(s);e.push(a)}else e.push(i,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==l.DONE||!t.response)break;n=t.response,e.push(new r(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==l.LOADING||!n)break;e.push(new r(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==l.LOADING)break;var c=new o.MSStreamReader;c.onprogress=function(){c.result.byteLength>e._pos&&(e.push(new r(new Uint8Array(c.result.slice(e._pos)))),e._pos=c.result.byteLength)},c.onload=function(){e.push(null)},c.readAsArrayBuffer(n)}e._xhr.readyState===l.DONE&&"ms-stream"!==e._mode&&e.push(null)}}).call(this,n(137),n(176).Buffer,n(45))},function(e,t,n){(t=e.exports=n(466)).Stream=t,t.Readable=t,t.Writable=n(469),t.Duplex=n(202),t.Transform=n(471),t.PassThrough=n(881)},function(e,t,n){"use strict";(function(t,r){var o=n(284);e.exports=b;var i,a=n(461);b.ReadableState=y;n(366).EventEmitter;var s=function(e,t){return e.listeners(t).length},l=n(467),c=n(367).Buffer,u=t.Uint8Array||function(){};var d=Object.create(n(257));d.inherits=n(177);var h=n(874),p=void 0;p=h&&h.debuglog?h.debuglog("stream"):function(){};var f,m=n(875),g=n(468);d.inherits(b,l);var v=["error","close","destroy","pause","resume"];function y(e,t){e=e||{};var r=t instanceof(i=i||n(202));this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,a=e.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(f||(f=n(470).StringDecoder),this.decoder=new f(e.encoding),this.encoding=e.encoding)}function b(e){if(i=i||n(202),!(this instanceof b))return new b(e);this._readableState=new y(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function _(e,t,n,r,o){var i,a=e._readableState;null===t?(a.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,S(e)}(e,a)):(o||(i=function(e,t){var n;r=t,c.isBuffer(r)||r instanceof u||"string"==typeof t||void 0===t||e.objectMode||(n=new TypeError("Invalid non-string/buffer chunk"));var r;return n}(a,t)),i?e.emit("error",i):a.objectMode||t&&t.length>0?("string"==typeof t||a.objectMode||Object.getPrototypeOf(t)===c.prototype||(t=function(e){return c.from(e)}(t)),r?a.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):w(e,a,t,!0):a.ended?e.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?w(e,a,t,!1):x(e,a)):w(e,a,t,!1))):r||(a.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(a)}function w(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&S(e)),x(e,t)}Object.defineProperty(b.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),b.prototype.destroy=g.destroy,b.prototype._undestroy=g.undestroy,b.prototype._destroy=function(e,t){this.push(null),t(e)},b.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"==typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=c.from(e,t),t=""),n=!0),_(this,e,t,!1,n)},b.prototype.unshift=function(e){return _(this,e,null,!0,!1)},b.prototype.isPaused=function(){return!1===this._readableState.flowing},b.prototype.setEncoding=function(e){return f||(f=n(470).StringDecoder),this._readableState.decoder=new f(e),this._readableState.encoding=e,this};function C(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=8388608?e=8388608:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function S(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(E,e):E(e))}function E(e){p("emit readable"),e.emit("readable"),M(e)}function x(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(k,e,t))}function k(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function O(e){p("readable nexttick read 0"),e.read(0)}function T(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),M(e),t.flowing&&!t.reading&&e.read(0)}function M(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function P(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):n=function(e,t,n){var r;e<t.head.data.length?(r=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):r=e===t.head.data.length?t.shift():n?function(e,t){var n=t.head,r=1,o=n.data;e-=o.length;for(;n=n.next;){var i=n.data,a=e>i.length?i.length:e;if(a===i.length?o+=i:o+=i.slice(0,e),0===(e-=a)){a===i.length?(++r,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n,n.data=i.slice(a));break}++r}return t.length-=r,o}(e,t):function(e,t){var n=c.allocUnsafe(e),r=t.head,o=1;r.data.copy(n),e-=r.data.length;for(;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(n,n.length-e,0,a),0===(e-=a)){a===i.length?(++o,r.next?t.head=r.next:t.head=t.tail=null):(t.head=r,r.data=i.slice(a));break}++o}return t.length-=o,n}(e,t);return r}(e,t.buffer,t.decoder),n);var n}function L(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(N,t,e))}function N(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function A(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}b.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?L(this):S(this),null;if(0===(e=C(e,t))&&t.ended)return 0===t.length&&L(this),null;var r,o=t.needReadable;return p("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",o=!0),t.ended||t.reading?p("reading or ended",o=!1):o&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=C(n,t))),null===(r=e>0?P(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&L(this)),null!==r&&this.emit("data",r),r},b.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},b.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,p("pipe count=%d opts=%j",i.pipesCount,t);var l=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:b;function c(t,r){p("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",y),e.removeListener("drain",d),e.removeListener("error",g),e.removeListener("unpipe",c),n.removeListener("end",u),n.removeListener("end",b),n.removeListener("data",m),h=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||d())}function u(){p("onend"),e.end()}i.endEmitted?o.nextTick(l):n.once("end",l),e.on("unpipe",c);var d=function(e){return function(){var t=e._readableState;p("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&s(e,"data")&&(t.flowing=!0,M(e))}}(n);e.on("drain",d);var h=!1;var f=!1;function m(t){p("ondata"),f=!1,!1!==e.write(t)||f||((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==A(i.pipes,e))&&!h&&(p("false write response, pause",n._readableState.awaitDrain),n._readableState.awaitDrain++,f=!0),n.pause())}function g(t){p("onerror",t),b(),e.removeListener("error",g),0===s(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",y),b()}function y(){p("onfinish"),e.removeListener("close",v),b()}function b(){p("unpipe"),n.unpipe(e)}return n.on("data",m),function(e,t,n){if("function"==typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?a(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",g),e.once("close",v),e.once("finish",y),e.emit("pipe",n),i.flowing||(p("pipe resume"),n.resume()),e},b.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n),this);if(!e){var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)r[i].emit("unpipe",this,n);return this}var a=A(t.pipes,e);return-1===a?this:(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n),this)},b.prototype.on=function(e,t){var n=l.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&S(this):o.nextTick(O,this))}return n},b.prototype.addListener=b.prototype.on,b.prototype.resume=function(){var e=this._readableState;return e.flowing||(p("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(T,e,t))}(this,e)),this},b.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},b.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var o in e.on("end",(function(){if(p("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(p("wrapped data"),n.decoder&&(o=n.decoder.write(o)),n.objectMode&&null==o)||(n.objectMode||o&&o.length)&&(t.push(o)||(r=!0,e.pause()))})),e)void 0===this[o]&&"function"==typeof e[o]&&(this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o));for(var i=0;i<v.length;i++)e.on(v[i],this.emit.bind(this,v[i]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(b.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),b._fromList=P}).call(this,n(45),n(137))},function(e,t,n){e.exports=n(366).EventEmitter},function(e,t,n){"use strict";var r=n(284);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return i||a?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||r.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(r.nextTick(o,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,t,n){"use strict";(function(t,r,o){var i=n(284);function a(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var o=r.callback;t.pendingcb--,o(n),r=r.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=y;var s,l=!t.browser&&["v0.10","v0.9."].indexOf(t.version.slice(0,5))>-1?r:i.nextTick;y.WritableState=v;var c=Object.create(n(257));c.inherits=n(177);var u={deprecate:n(879)},d=n(467),h=n(367).Buffer,p=o.Uint8Array||function(){};var f,m=n(468);function g(){}function v(e,t){s=s||n(202),e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var o=e.highWaterMark,c=e.writableHighWaterMark,u=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:r&&(c||0===c)?c:u,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var d=!1===e.decodeStrings;this.decodeStrings=!d,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(E,e,t),e._writableState.errorEmitted=!0,e.emit("error",r)):(o(r),e._writableState.errorEmitted=!0,e.emit("error",r),E(e,t))}(e,n,r,t,o);else{var a=C(n);a||n.corked||n.bufferProcessing||!n.bufferedRequest||w(e,n),r?l(_,e,n,a,o):_(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new a(this)}function y(e){if(s=s||n(202),!(f.call(y,this)||this instanceof s))return new y(e);this._writableState=new v(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function b(e,t,n,r,o,i,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(o,t.onwrite):e._write(o,i,t.onwrite),t.sync=!1}function _(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),E(e,t)}function w(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,o=new Array(r),i=t.corkedRequestsFree;i.entry=n;for(var s=0,l=!0;n;)o[s]=n,n.isBuf||(l=!1),n=n.next,s+=1;o.allBuffers=l,b(e,t,!0,t.length,o,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new a(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,u=n.encoding,d=n.callback;if(b(e,t,!1,t.objectMode?1:c.length,c,u,d),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function S(e,t){e._final((function(n){t.pendingcb--,n&&e.emit("error",n),t.prefinished=!0,e.emit("prefinish"),E(e,t)}))}function E(e,t){var n=C(t);return n&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,i.nextTick(S,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),n}c.inherits(y,d),v.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(v.prototype,"buffer",{get:u.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(y,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===y&&(e&&e._writableState instanceof v)}})):f=function(e){return e instanceof this},y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},y.prototype.write=function(e,t,n){var r,o=this._writableState,a=!1,s=!o.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return s&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(n=t,t=null),s?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=g),o.ended?function(e,t){var n=new Error("write after end");e.emit("error",n),i.nextTick(t,n)}(this,n):(s||function(e,t,n,r){var o=!0,a=!1;return null===n?a=new TypeError("May not write null values to stream"):"string"==typeof n||void 0===n||t.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(e.emit("error",a),i.nextTick(r,a),o=!1),o}(this,o,e,n))&&(o.pendingcb++,a=function(e,t,n,r,o,i){if(!n){var a=function(e,t,n){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,n));return t}(t,r,o);r!==a&&(n=!0,o="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:o,isBuf:n,callback:i,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else b(e,t,!1,s,r,o,i);return l}(this,o,s,e,t,n)),a},y.prototype.cork=function(){this._writableState.corked++},y.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||w(this,e))},y.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),y.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},y.prototype._writev=null,y.prototype.end=function(e,t,n){var r=this._writableState;"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||function(e,t,n){t.ending=!0,E(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n)},Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),y.prototype.destroy=m.destroy,y.prototype._undestroy=m.undestroy,y.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,n(137),n(877).setImmediate,n(45))},function(e,t,n){"use strict";var r=n(880).Buffer,o=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function i(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(r.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2==0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function u(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=i,i.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},i.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},i.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var o=a(t[r]);if(o>=0)return o>0&&(e.lastNeed=o-1),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(e.lastNeed=o-2),o;if(--r<n||-2===o)return 0;if((o=a(t[r]))>=0)return o>0&&(2===o?o=0:e.lastNeed=o-3),o;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},i.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},function(e,t,n){"use strict";e.exports=a;var r=n(202),o=Object.create(n(257));function i(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var o=this._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}function a(e){if(!(this instanceof a))return new a(e);r.call(this,e),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",s)}function s(){var e=this;"function"==typeof this._flush?this._flush((function(t,n){l(e,t,n)})):l(this,null,null)}function l(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=n(177),o.inherits(a,r),a.prototype.push=function(e,t){return this._transformState.needTransform=!1,r.prototype.push.call(this,e,t)},a.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},a.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var o=this._readableState;(r.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},a.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},a.prototype._destroy=function(e,t){var n=this;r.prototype._destroy.call(this,e,(function(e){t(e),n.emit("close")}))}},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),e.exports=function(e){function t(e,t){return i.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,update:function(e){var n,r,o,a=this,s=a.getMeta(),l=s.dataset,c=s.data||[],u=a.chart.options,d=u.elements.line,h=a.getScaleForId(s.yAxisID),p=a.getDataset(),f=t(p,u);for(f&&(o=l.custom||{},void 0!==p.tension&&void 0===p.lineTension&&(p.lineTension=p.tension),l._scale=h,l._datasetIndex=a.index,l._children=c,l._model={spanGaps:p.spanGaps?p.spanGaps:u.spanGaps,tension:o.tension?o.tension:i.valueOrDefault(p.lineTension,d.tension),backgroundColor:o.backgroundColor?o.backgroundColor:p.backgroundColor||d.backgroundColor,borderWidth:o.borderWidth?o.borderWidth:p.borderWidth||d.borderWidth,borderColor:o.borderColor?o.borderColor:p.borderColor||d.borderColor,borderCapStyle:o.borderCapStyle?o.borderCapStyle:p.borderCapStyle||d.borderCapStyle,borderDash:o.borderDash?o.borderDash:p.borderDash||d.borderDash,borderDashOffset:o.borderDashOffset?o.borderDashOffset:p.borderDashOffset||d.borderDashOffset,borderJoinStyle:o.borderJoinStyle?o.borderJoinStyle:p.borderJoinStyle||d.borderJoinStyle,fill:o.fill?o.fill:void 0!==p.fill?p.fill:d.fill,steppedLine:o.steppedLine?o.steppedLine:i.valueOrDefault(p.steppedLine,d.stepped),cubicInterpolationMode:o.cubicInterpolationMode?o.cubicInterpolationMode:i.valueOrDefault(p.cubicInterpolationMode,d.cubicInterpolationMode)},l.pivot()),n=0,r=c.length;n<r;++n)a.updateElement(c[n],n,e);for(f&&0!==l._model.tension&&a.updateBezierControlPoints(),n=0,r=c.length;n<r;++n)c[n].pivot()},getPointBackgroundColor:function(e,t){var n=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),o=e.custom||{};return o.backgroundColor?n=o.backgroundColor:r.pointBackgroundColor?n=i.valueAtIndexOrDefault(r.pointBackgroundColor,t,n):r.backgroundColor&&(n=r.backgroundColor),n},getPointBorderColor:function(e,t){var n=this.chart.options.elements.point.borderColor,r=this.getDataset(),o=e.custom||{};return o.borderColor?n=o.borderColor:r.pointBorderColor?n=i.valueAtIndexOrDefault(r.pointBorderColor,t,n):r.borderColor&&(n=r.borderColor),n},getPointBorderWidth:function(e,t){var n=this.chart.options.elements.point.borderWidth,r=this.getDataset(),o=e.custom||{};return isNaN(o.borderWidth)?!isNaN(r.pointBorderWidth)||i.isArray(r.pointBorderWidth)?n=i.valueAtIndexOrDefault(r.pointBorderWidth,t,n):isNaN(r.borderWidth)||(n=r.borderWidth):n=o.borderWidth,n},updateElement:function(e,t,n){var r,o,a=this,s=a.getMeta(),l=e.custom||{},c=a.getDataset(),u=a.index,d=c.data[t],h=a.getScaleForId(s.yAxisID),p=a.getScaleForId(s.xAxisID),f=a.chart.options.elements.point;void 0!==c.radius&&void 0===c.pointRadius&&(c.pointRadius=c.radius),void 0!==c.hitRadius&&void 0===c.pointHitRadius&&(c.pointHitRadius=c.hitRadius),r=p.getPixelForValue("object"==typeof d?d:NaN,t,u),o=n?h.getBasePixel():a.calculatePointY(d,t,u),e._xScale=p,e._yScale=h,e._datasetIndex=u,e._index=t,e._model={x:r,y:o,skip:l.skip||isNaN(r)||isNaN(o),radius:l.radius||i.valueAtIndexOrDefault(c.pointRadius,t,f.radius),pointStyle:l.pointStyle||i.valueAtIndexOrDefault(c.pointStyle,t,f.pointStyle),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:s.dataset._model?s.dataset._model.tension:0,steppedLine:!!s.dataset._model&&s.dataset._model.steppedLine,hitRadius:l.hitRadius||i.valueAtIndexOrDefault(c.pointHitRadius,t,f.hitRadius)}},calculatePointY:function(e,t,n){var r,o,i,a=this.chart,s=this.getMeta(),l=this.getScaleForId(s.yAxisID),c=0,u=0;if(l.options.stacked){for(r=0;r<n;r++)if(o=a.data.datasets[r],"line"===(i=a.getDatasetMeta(r)).type&&i.yAxisID===l.id&&a.isDatasetVisible(r)){var d=Number(l.getRightValue(o.data[t]));d<0?u+=d||0:c+=d||0}var h=Number(l.getRightValue(e));return h<0?l.getPixelForValue(u+h):l.getPixelForValue(c+h)}return l.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,r,o=this.getMeta(),a=this.chart.chartArea,s=o.data||[];function l(e,t,n){return Math.max(Math.min(e,n),t)}if(o.dataset._model.spanGaps&&(s=s.filter((function(e){return!e._model.skip}))),"monotone"===o.dataset._model.cubicInterpolationMode)i.splineCurveMonotone(s);else for(e=0,t=s.length;e<t;++e)n=s[e]._model,r=i.splineCurve(i.previousItem(s,e)._model,n,i.nextItem(s,e)._model,o.dataset._model.tension),n.controlPointPreviousX=r.previous.x,n.controlPointPreviousY=r.previous.y,n.controlPointNextX=r.next.x,n.controlPointNextY=r.next.y;if(this.chart.options.elements.line.capBezierPoints)for(e=0,t=s.length;e<t;++e)(n=s[e]._model).controlPointPreviousX=l(n.controlPointPreviousX,a.left,a.right),n.controlPointPreviousY=l(n.controlPointPreviousY,a.top,a.bottom),n.controlPointNextX=l(n.controlPointNextX,a.left,a.right),n.controlPointNextY=l(n.controlPointNextY,a.top,a.bottom)},draw:function(){var e=this.chart,n=this.getMeta(),r=n.data||[],o=e.chartArea,a=r.length,s=0;for(i.canvas.clipArea(e.ctx,o),t(this.getDataset(),e.options)&&n.dataset.draw(),i.canvas.unclipArea(e.ctx);s<a;++s)r[s].draw(o)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,r=e.custom||{},o=e._model;o.radius=r.hoverRadius||i.valueAtIndexOrDefault(t.pointHoverRadius,n,this.chart.options.elements.point.hoverRadius),o.backgroundColor=r.hoverBackgroundColor||i.valueAtIndexOrDefault(t.pointHoverBackgroundColor,n,i.getHoverColor(o.backgroundColor)),o.borderColor=r.hoverBorderColor||i.valueAtIndexOrDefault(t.pointHoverBorderColor,n,i.getHoverColor(o.borderColor)),o.borderWidth=r.hoverBorderWidth||i.valueAtIndexOrDefault(t.pointHoverBorderWidth,n,o.borderWidth)},removeHoverStyle:function(e){var t=this,n=t.chart.data.datasets[e._datasetIndex],r=e._index,o=e.custom||{},a=e._model;void 0!==n.radius&&void 0===n.pointRadius&&(n.pointRadius=n.radius),a.radius=o.radius||i.valueAtIndexOrDefault(n.pointRadius,r,t.chart.options.elements.point.radius),a.backgroundColor=t.getPointBackgroundColor(e,r),a.borderColor=t.getPointBorderColor(e,r),a.borderWidth=t.getPointBorderWidth(e,r)}})}},function(e,t,n){"use strict";var r=n(246);t.__esModule=!0,t.createProvider=l,t.default=void 0;var o=r(n(544)),i=n(0),a=r(n(1)),s=n(545);r(n(546));function l(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){(0,o.default)(a,t);var r=a.prototype;function a(n,r){var o;return(o=t.call(this,n,r)||this)[e]=n.store,o}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return i.Children.only(this.props.children)},a}(i.Component);return r.propTypes={store:s.storeShape.isRequired,children:a.default.element.isRequired},r.childContextTypes=((t={})[e]=s.storeShape.isRequired,t[n]=s.subscriptionShape,t),r}var c=l();t.default=c},function(e,t,n){"use strict";t.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=d(n(47)),a=d(n(56)),s=n(547),l=n(383),c=d(n(548)),u=n(549);function d(e){return e&&e.__esModule?e:{default:e}}var h=function(){try{return window.history.state||{}}catch(e){return{}}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a.default)(u.canUseDOM,"Browser history needs a DOM");var t=window.history,n=(0,u.supportsHistory)(),d=!(0,u.supportsPopStateOnHashChange)(),p=e.forceRefresh,f=void 0!==p&&p,m=e.getUserConfirmation,g=void 0===m?u.getConfirmation:m,v=e.keyLength,y=void 0===v?6:v,b=e.basename?(0,l.stripTrailingSlash)((0,l.addLeadingSlash)(e.basename)):"",_=function(e){var t=e||{},n=t.key,r=t.state,o=window.location,a=o.pathname+o.search+o.hash;return(0,i.default)(!b||(0,l.hasBasename)(a,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+a+'" to begin with "'+b+'".'),b&&(a=(0,l.stripBasename)(a,b)),(0,s.createLocation)(a,r,n)},w=function(){return Math.random().toString(36).substr(2,y)},C=(0,c.default)(),S=function(e){o(H,e),H.length=t.length,C.notifyListeners(H.location,H.action)},E=function(e){(0,u.isExtraneousPopstateEvent)(e)||O(_(e.state))},x=function(){O(_(h()))},k=!1,O=function(e){if(k)k=!1,S();else{C.confirmTransitionTo(e,"POP",g,(function(t){t?S({action:"POP",location:e}):T(e)}))}},T=function(e){var t=H.location,n=P.indexOf(t.key);-1===n&&(n=0);var r=P.indexOf(e.key);-1===r&&(r=0);var o=n-r;o&&(k=!0,I(o))},M=_(h()),P=[M.key],L=function(e){return b+(0,l.createPath)(e)},N=function(e,o){(0,i.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(e,o,w(),H.location);C.confirmTransitionTo(a,"PUSH",g,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),f)window.location.href=r;else{var l=P.indexOf(H.location.key),c=P.slice(0,-1===l?0:l+1);c.push(a.key),P=c,S({action:"PUSH",location:a})}else(0,i.default)(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}}))},A=function(e,o){(0,i.default)(!("object"===(void 0===e?"undefined":r(e))&&void 0!==e.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var a=(0,s.createLocation)(e,o,w(),H.location);C.confirmTransitionTo(a,"REPLACE",g,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),f)window.location.replace(r);else{var l=P.indexOf(H.location.key);-1!==l&&(P[l]=a.key),S({action:"REPLACE",location:a})}else(0,i.default)(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}}))},I=function(e){t.go(e)},R=function(){return I(-1)},D=function(){return I(1)},j=0,z=function(e){1===(j+=e)?((0,u.addEventListener)(window,"popstate",E),d&&(0,u.addEventListener)(window,"hashchange",x)):0===j&&((0,u.removeEventListener)(window,"popstate",E),d&&(0,u.removeEventListener)(window,"hashchange",x))},F=!1,B=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=C.setPrompt(e);return F||(z(1),F=!0),function(){return F&&(F=!1,z(-1)),t()}},W=function(e){var t=C.appendListener(e);return z(1),function(){z(-1),t()}},H={length:t.length,action:"POP",location:M,createHref:L,push:N,replace:A,go:I,goBack:R,goForward:D,block:B,listen:W};return H}},function(e,t,n){"use strict";var r=n(370),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||o}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var o=p(n);o&&o!==f&&e(t,o,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var y=h(n,v);try{c(t,v,y)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(5)),o=m(n(25)),i=m(n(127)),a=m(n(35)),s=m(n(7)),l=m(n(8)),c=m(n(12)),u=m(n(11)),d=m(n(1)),h=m(n(0)),p=m(n(4)),f=m(n(598));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(e){(0,s.default)(this,t);var n=(0,l.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return n.state={targetItems:[],inViewState:[],isScrolledPast:[]},n._handleSpy=n._handleSpy.bind(n),n}return(0,u.default)(t,e),(0,c.default)(t,null,[{key:"propTypes",get:function(){return{items:d.default.arrayOf(d.default.string).isRequired,currentClassName:d.default.string.isRequired,scrolledPastClassName:d.default.string,style:d.default.object,componentTag:d.default.string,offset:d.default.number,rootEl:d.default.string,onUpdate:d.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]),(0,c.default)(t,[{key:"_initSpyTarget",value:function(e){return e.map((function(e){return document.getElementById(e)}))}},{key:"_fillArray",value:function(e,t){for(var n=[],r=0,o=e.length;r<o;r++)n[r]=t;return n}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var e=document,t=this.props.rootEl;return{scrollTop:t?e.querySelector(t).scrollTop:e.documentElement.scrollTop||e.body.parentNode.scrollTop||e.body.scrollTop,scrollHeight:t?e.querySelector(t).scrollHeight:e.documentElement.scrollHeight||e.body.parentNode.scrollHeight||e.body.scrollHeight}}},{key:"_getElemsViewState",value:function(e){for(var t=[],n=[],r=[],o=e||this.state.targetItems,a=!1,s=0,l=o.length;s<l;s++){var c=o[s],u=!a&&this._isInView(c);u?(a=!0,t.push(c)):n.push(c);var d=s===l-1,h=this._isScrolled();this._isAtBottom()&&this._isInView(c)&&!u&&d&&h&&(n.pop(),n.push.apply(n,(0,i.default)(t)),t=[c],r=this._fillArray(r,!1),u=!0),r.push(u)}return{inView:t,outView:n,viewStatusList:r,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(r)}}},{key:"_isInView",value:function(e){if(!e)return!1;var t=this.props,n=t.rootEl,r=t.offset,o=void 0;n&&(o=document.querySelector(n).getBoundingClientRect());var i=e.getBoundingClientRect(),a=n?o.height:window.innerHeight,s=this._getScrollDimension().scrollTop,l=s+a,c=n?i.top+s-o.top+r:i.top+s+r,u=c+e.offsetHeight;return c<l&&u>s}},{key:"_isAtBottom",value:function(){var e=this.props.rootEl,t=this._getScrollDimension(),n=t.scrollTop,r=t.scrollHeight;return n+(e?document.querySelector(e).getBoundingClientRect().height:window.innerHeight)>=r}},{key:"_getScrolledPast",value:function(e){if(!e.some((function(e){return e})))return e;var t=!1;return e.map((function(e){return e&&!t?(t=!0,!1):!t}))}},{key:"_spy",value:function(e){var t=this,n=this._getElemsViewState(e),r=this.state.inViewState;this.setState({inViewState:n.viewStatusList,isScrolledPast:n.scrolledPast},(function(){t._update(r)}))}},{key:"_update",value:function(e){(function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))})(this.state.inViewState,e)||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,f.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var e=this._initSpyTarget(this.props.items);this.setState({targetItems:e}),this._spy(e)}},{key:"offEvent",value:function(){(this.props.rootEl?document.querySelector(this.props.rootEl):window).removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){(this.props.rootEl?document.querySelector(this.props.rootEl):window).addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var e=this,t=this.props.componentTag,n=this.props,i=n.children,a=n.className,s=n.scrolledPastClassName,l=n.style,c=0,u=h.default.Children.map(i,(function(t,n){var i;if(!t)return null;var a=t.type,l=s&&e.state.isScrolledPast[n],u=(0,p.default)((i={},(0,o.default)(i,""+t.props.className,t.props.className),(0,o.default)(i,""+e.props.currentClassName,e.state.inViewState[n]),(0,o.default)(i,""+e.props.scrolledPastClassName,l),i));return h.default.createElement(a,(0,r.default)({},t.props,{className:u,key:c++}),t.props.children)})),d=(0,p.default)((0,o.default)({},""+a,a));return h.default.createElement(t,{className:d,style:l},u)}}]),t}(h.default.Component);t.default=g},function(e,t,n){var r=n(60);e.exports=function(e){var t=r(e);return t.setDate(1),t.setHours(0,0,0,0),t}},function(e,t,n){var r=n(60);e.exports=function(e){var t=r(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(25)),o=g(n(127)),i=g(n(5)),a=g(n(7)),s=g(n(12)),l=g(n(8)),c=g(n(11)),u=g(n(0)),d=g(n(1)),h=g(n(4)),p=g(n(605)),f=g(n(606)),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(401));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({handle:null}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=e.count,o=e.min,i=e.max,s=Array.apply(null,Array(r+1)).map((function(){return o})),c="defaultValue"in e?e.defaultValue:s,u=(void 0!==e.value?e.value:c).map((function(e){return n.trimAlignValue(e)})),d=u[0]===i?0:u.length-1;return n.state={handle:null,recent:d,bounds:u},n}return(0,c.default)(t,e),(0,s.default)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if("value"in e||"min"in e||"max"in e){var n=this.state.bounds,r=(e.value||n).map((function(n){return t.trimAlignValue(n,e)}));r.length===n.length&&r.every((function(e,t){return e===n[t]}))||(this.setState({bounds:r}),n.some((function(t){return m.isValueOutOfRange(t,e)}))&&this.props.onChange(r))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=(0,i.default)({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var i=this.calcValueByPos(e);this.startValue=i,this.startPosition=e;var a=this.getClosestBound(i),s=this.getBoundNeedMoving(i,a);if(this.setState({handle:s,recent:s}),i!==r[s]){var l=[].concat((0,o.default)(n.bounds));l[s]=i,this.onChange({bounds:l})}}},{key:"onMove",value:function(e,t){m.pauseEvent(e);var n=this.props,r=this.state,i=this.calcValueByPos(t);if(i!==r.bounds[r.handle]){var a=[].concat((0,o.default)(r.bounds));a[r.handle]=i;var s=r.handle;if(!1!==n.pushable){var l=r.bounds[s];this.pushSurroundingHandles(a,s,l)}else n.allowCross&&(a.sort((function(e,t){return e-t})),s=a.indexOf(i));this.onChange({handle:s,bounds:a})}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,o=n.recent,i=t,a=r[t+1]===r[t];return a&&(i=o),a&&e!==r[t+1]&&(i=e<r[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,o=e.max,a=this._getPointsCache;if(!a||a.marks!==t||a.step!==n){var s=(0,i.default)({},t);if(null!==n)for(var l=r;l<=o;l+=n)s[l]=l;var c=Object.keys(s).map(parseFloat);c.sort((function(e,t){return e-t})),this._getPointsCache={marks:t,step:n,points:c}}return this._getPointsCache.points}},{key:"pushSurroundingHandles",value:function(e,t,n){var r=this.props.pushable,o=e[t],i=0;if(e[t+1]-o<r&&(i=1),o-e[t-1]<r&&(i=-1),0!==i){var a=t+i,s=i*(e[a]-o);this.pushHandle(e,a,i,r-s)||(e[t]=n)}}},{key:"pushHandle",value:function(e,t,n,r){for(var o=e[t],i=e[t];n*(i-o)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=o,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),o=r.indexOf(e[t])+n;if(o>=r.length||o<0)return!1;var i=t+n,a=r[o],s=this.props.pushable,l=n*(e[i]-a);return!!this.pushHandle(e,i,n,s-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,i.default)({},this.props,t),r=m.ensureValueInRange(e,n),o=this.ensureValueNotConflict(r,n);return m.ensureValuePrecision(o,n)}},{key:"ensureValueNotConflict",value:function(e,t){var n=t.allowCross,r=this.state||{},o=r.handle,i=r.bounds;if(!n&&null!=o){if(o>0&&e<=i[o-1])return i[o-1];if(o<i.length-1&&e>=i[o+1])return i[o+1]}return e}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,o=t.bounds,i=this.props,a=i.prefixCls,s=i.vertical,l=i.included,c=i.disabled,d=i.handle,f=o.map((function(t){return e.calcOffset(t)})),m=a+"-handle",g=o.map((function(t,o){var i;return d({className:(0,h.default)((i={},(0,r.default)(i,m,!0),(0,r.default)(i,m+"-"+(o+1),!0),i)),vertical:s,offset:f[o],value:t,dragging:n===o,index:o,disabled:c,ref:function(t){return e.saveHandle(o,t)}})}));return{tracks:o.slice(0,-1).map((function(e,t){var n,o=t+1,i=(0,h.default)((n={},(0,r.default)(n,a+"-track",!0),(0,r.default)(n,a+"-track-"+o,!0),n));return u.default.createElement(p.default,{className:i,vertical:s,included:l,offset:f[o-1],length:f[o]-f[o-1],key:o})})),handles:g}}}]),t}(u.default.Component);v.displayName="Range",v.propTypes={defaultValue:d.default.arrayOf(d.default.number),value:d.default.arrayOf(d.default.number),count:d.default.number,pushable:d.default.oneOfType([d.default.bool,d.default.number]),allowCross:d.default.bool,disabled:d.default.bool},v.defaultProps={count:1,allowCross:!0,pushable:!1},t.default=(0,f.default)(v),e.exports=t.default},function(e,t,n){var r=n(60);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return r(e)})),n=Math.min.apply(null,t);return new Date(n)}},function(e,t,n){var r=n(60);e.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.map((function(e){return r(e)})),n=Math.max.apply(null,t);return new Date(n)}},function(e,t,n){var r=n(351);e.exports=function(e){return r(e).getTime()===r(new Date).getTime()}},function(e,t,n){var r=n(351);e.exports=function(e){var t=new Date;return t.setDate(t.getDate()-1),r(e).getTime()===r(t).getTime()}},function(e,t,n){var r=n(60),o=n(625);e.exports=function(e,t){var n=r(e),i=Number(t),a=n.getMonth()+i,s=new Date(0);s.setFullYear(n.getFullYear(),a,1),s.setHours(0,0,0,0);var l=o(s);return n.setMonth(a,Math.min(l,n.getDate())),n}},function(e,t,n){"use strict";var r=n(487);t.a=r.a},function(e,t,n){"use strict";var r=n(109),o=n.n(r),i=n(56),a=n.n(i),s=n(0),l=n.n(s),c=n(1),u=n.n(c),d=n(300),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){return 0===l.a.Children.count(e)},g=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props,r.context.router)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,r=e.location,o=e.path,i=e.strict,s=e.exact,l=e.sensitive;if(n)return n;a()(t,"You should not use <Route> or withRouter() outside a <Router>");var c=t.route,u=(r||c.location).pathname;return Object(d.a)(u,{path:o,strict:i,exact:s,sensitive:l},c.match)},t.prototype.componentWillMount=function(){o()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),o()(!(this.props.component&&this.props.children&&!m(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),o()(!(this.props.render&&this.props.children&&!m(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){o()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),o()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,r=t.component,o=t.render,i=this.context.router,a=i.history,s=i.route,c=i.staticContext,u={match:e,location:this.props.location||s.location,history:a,staticContext:c};return r?e?l.a.createElement(r,u):null:o?e?o(u):null:"function"==typeof n?n(u):n&&!m(n)?l.a.Children.only(n):null},t}(l.a.Component);g.propTypes={computedMatch:u.a.object,path:u.a.string,exact:u.a.bool,strict:u.a.bool,sensitive:u.a.bool,component:u.a.func,render:u.a.func,children:u.a.oneOfType([u.a.func,u.a.node]),location:u.a.object},g.contextTypes={router:u.a.shape({history:u.a.object.isRequired,route:u.a.object.isRequired,staticContext:u.a.object})},g.childContextTypes={router:u.a.object.isRequired},t.a=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(0)),a=u(n(1)),s=u(n(654)),l=n(418),c=u(n(655));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p={};function f(){Object.keys(p).forEach((function(e){return p[e]()}))}function m(){document.body.addEventListener("mousewheel",(0,s.default)(f,100,{leading:!0,trailing:!0})),window.addEventListener("resize",(0,s.default)(f,50,{leading:!0,trailing:!0}))}l.canUseDOM&&(document.body?m():document.addEventListener("DOMContentLoaded",m));var g=0;var v=function(e){function t(){var e,n,r;d(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={right:0,left:0,bottom:0,top:0},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e,t,n=this;this.handleScroll=function(){if(n.element){var e=n.element.getBoundingClientRect(),t={x:void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},r=document.documentElement.clientHeight-e.bottom-t.y,o=t.y+e.top,i=document.documentElement.clientWidth-e.right-t.x,a=t.x+e.left;o===n.state.top&&r===n.state.bottom&&a===n.state.left&&i===n.state.right||n.setState({left:a,top:o,right:i,bottom:r})}},this.unsubscribe=(e=this.handleScroll,t=g+=1,p[t]=e,function(){return delete p[t]}),this.handleScroll()}},{key:"componentDidUpdate",value:function(){this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,o=t.left,a=t.right,s=t.fullWidth,l=t.top,u=t.bottom,d=t.fullHeight,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["component","left","right","fullWidth","top","bottom","fullHeight"]),p=void 0!==a?{right:this.state.right+a}:{left:this.state.left+o},f=s?{right:this.state.right+a,left:this.state.left+o}:p,m=void 0!==u?{bottom:this.state.bottom+u}:{top:this.state.top+l},g=d?{bottom:this.state.bottom+u,top:this.state.top+l}:m;return i.default.createElement(n,{ref:function(t){e.element=t}},i.default.createElement(c.default,h,i.default.createElement("div",{style:r({position:"absolute"},f,g)},this.props.children)))}}]),t}(i.default.Component);v.propTypes={right:a.default.number,left:a.default.number,fullWidth:a.default.bool,top:a.default.number,bottom:a.default.number,fullHeight:a.default.bool,children:a.default.any,onOutClick:a.default.func,component:a.default.string.isRequired},v.defaultProps={left:0,top:0,component:"span"},t.default=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(658);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,h=Math.min,p=function(){return c.Date.now()};function f(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(f(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=f(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,i,a,s,l,c=0,u=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function b(e){return c=e,s=setTimeout(w,t),u?y(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||g&&e-c>=i}function w(){var e=p();if(_(e))return C(e);s=setTimeout(w,function(e){var n=t-(e-l);return g?h(n,i-(e-c)):n}(e))}function C(e){return s=void 0,v&&r?y(e):(r=o=void 0,a)}function S(){var e=p(),n=_(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return b(l);if(g)return s=setTimeout(w,t),y(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=m(t)||0,f(n)&&(u=!!n.leading,i=(g="maxWait"in n)?d(m(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},S.flush=function(){return void 0===s?a:C(p())},S}}).call(this,n(45))},function(e,t,n){!function(){"use strict";var t,n,r,o,i;function a(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function s(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function l(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}i=function(e,t){var n,r,o,i={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",o=parseInt(e[n],t),i[r]="&#"+o+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),t={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"},lineDash:{svgAttr:"stroke-dasharray",canvas:[],svg:null,apply:"stroke"}},(r=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",a("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},o=function(e,t){this.__root=e,this.__ctx=t},(n=function(e){var t,r={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((t=r).width=arguments[0],t.height=arguments[1]):t=e||r,!(this instanceof n))return new n(t);this.width=t.width||r.width,this.height=t.height||r.height,this.enableMirroring=void 0!==t.enableMirroring?t.enableMirroring:r.enableMirroring,this.canvas=this,this.__document=t.document||document,t.ctx?this.__ctx=t.ctx:(this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d")),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r,o,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(n&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),r=0;r<a.length;r++)o=a[r],i.setAttribute(o,t[o]);return i},n.prototype.__setDefaultStyles=function(){var e,n,r=Object.keys(t);for(e=0;e<r.length;e++)this[n=r[e]]=t[n].canvas},n.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},n.prototype.__getStyleState=function(){var e,n,r={},o=Object.keys(t);for(e=0;e<o.length;e++)r[n=o[e]]=this[n];return r},n.prototype.__applyStyleToCurrentElement=function(e){var n=this.__currentElement,i=this.__currentElementsToStyle;i&&(n.setAttribute(e,""),n=i.element,i.children.forEach((function(t){t.setAttribute(e,"")})));var s,l,c,u,d,h=Object.keys(t);for(s=0;s<h.length;s++)if(l=t[h[s]],c=this[h[s]],l.apply)if(c instanceof o){if(c.__ctx)for(;c.__ctx.__defs.childNodes.length;)u=c.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[u]=u,this.__defs.appendChild(c.__ctx.__defs.childNodes[0]);n.setAttribute(l.apply,a("url(#{id})",{id:c.__root.getAttribute("id")}))}else if(c instanceof r)n.setAttribute(l.apply,a("url(#{id})",{id:c.__root.getAttribute("id")}));else if(-1!==l.apply.indexOf(e)&&l.svg!==c)if("stroke"!==l.svgAttr&&"fill"!==l.svgAttr||-1===c.indexOf("rgba")){var p=l.svgAttr;if("globalAlpha"===h[s]&&(p=e+"-"+l.svgAttr,n.getAttribute(p)))continue;n.setAttribute(p,c)}else{d=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(c),n.setAttribute(l.svgAttr,a("rgb({r},{g},{b})",{r:d[1],g:d[2],b:d[3]}));var f=d[4],m=this.globalAlpha;null!=m&&(f*=m),n.setAttribute(l.svgAttr+"-opacity",f)}},n.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},n.prototype.getSerializedSvg=function(e){var t,n,r,o,a,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(i),n=0;n<t.length;n++)r=t[n],o=i[r],(a=new RegExp(r,"gi")).test(s)&&(s=s.replace(a,o));return s},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop(),this.__currentElementsToStyle=null,this.__currentElement||(this.__currentElement=this.__root.childNodes[1]);var e=this.__stack.pop();this.__applyStyleState(e)},n.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){"path"===this.__currentElement.nodeName&&(this.__currentElementsToStyle||(this.__currentElementsToStyle={element:t,children:[]}),this.__currentElementsToStyle.children.push(this.__currentElement),this.__applyCurrentDefaultPath());var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},n.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(a("scale({x},{y})",{x:e,y:t}))},n.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(a("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},n.prototype.translate=function(e,t){this.__addTransform(a("translate({x},{y})",{x:e,y:t}))},n.prototype.transform=function(e,t,n,r,o,i){this.__addTransform(a("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:o,f:i}))},n.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},n.prototype.__applyCurrentDefaultPath=function(){var e=this.__currentElement;"path"===e.nodeName?e.setAttribute("d",this.__currentDefaultPath):console.error("Attempted to apply path command to node",e.nodeName)},n.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},n.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.closePath=function(){this.__currentDefaultPath&&this.__addPathCommand("Z")},n.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(a("L {x} {y}",{x:e,y:t})):this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.__currentPosition={x:o,y:i},this.__addPathCommand(a("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:o,y:i}))},n.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(a("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var c=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};n.prototype.arcTo=function(e,t,n,r,o){var i=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==a){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(i===e&&a===t||e===n&&t===r||0===o)this.lineTo(e,t);else{var s=c([i-e,a-t]),l=c([n-e,r-t]);if(s[0]*l[1]!=s[1]*l[0]){var u=s[0]*l[0]+s[1]*l[1],d=Math.acos(Math.abs(u)),h=c([s[0]+l[0],s[1]+l[1]]),p=o/Math.sin(d/2),f=e+p*h[0],m=t+p*h[1],g=[-s[1],s[0]],v=[l[1],-l[0]],y=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},b=y(g),_=y(v);this.lineTo(f+g[0]*o,m+g[1]*o),this.arc(f,m,o,b,_)}else this.lineTo(e,t)}}},n.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},n.prototype.fillRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")},n.prototype.__clearCanvas=function(){for(var e=this.__closestGroupOrSvg().getAttribute("transform"),t=this.__root.childNodes[1],n=t.childNodes,r=n.length-1;r>=0;r--)n[r]&&t.removeChild(n[r]);this.__currentElement=t,this.__groupStack=[],e&&this.__addTransform(e)},n.prototype.clearRect=function(e,t,n,r){if(0!==e||0!==t||n!==this.width||r!==this.height){var o,i=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),i.appendChild(o)}else this.__clearCanvas()},n.prototype.createLinearGradient=function(e,t,n,o){var i=this.__createElement("linearGradient",{id:s(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:o+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new r(i,this)},n.prototype.createRadialGradient=function(e,t,n,o,i,a){var l=this.__createElement("radialGradient",{id:s(this.__ids),cx:o+"px",cy:i+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new r(l,this)},n.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\'\"\sa-z0-9]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},n.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},n.prototype.__applyText=function(e,t,n,r){var o,i,a=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(o=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[o]||i.start),"dominant-baseline":l(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,c))},n.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},n.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},n.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},n.prototype.arc=function(e,t,n,r,o,i){if(r!==o){(r%=2*Math.PI)===(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var s=e+n*Math.cos(o),l=t+n*Math.sin(o),c=e+n*Math.cos(r),u=t+n*Math.sin(r),d=i?0:1,h=0,p=o-r;p<0&&(p+=2*Math.PI),h=i?p>Math.PI?0:1:p>Math.PI?1:0,this.lineTo(c,u),this.__addPathCommand(a("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:h,sweepFlag:d,endX:s,endY:l})),this.__currentPosition={x:s,y:l}}},n.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=s(this.__ids),r=this.__createElement("g");this.__applyCurrentDefaultPath(),e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",a("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},n.prototype.drawImage=function(){var e,t,r,o,i,a,s,l,c,u,d,h,p,f=Array.prototype.slice.call(arguments),m=f[0],g=0,v=0;if(3===f.length)e=f[1],t=f[2],r=i=m.width,o=a=m.height;else if(5===f.length)e=f[1],t=f[2],r=f[3],o=f[4],i=m.width,a=m.height;else{if(9!==f.length)throw new Error("Invalid number of arguments passed to drawImage: "+arguments.length);g=f[1],v=f[2],i=f[3],a=f[4],e=f[5],t=f[6],r=f[7],o=f[8]}s=this.__closestGroupOrSvg(),this.__currentElement;var y="translate("+e+", "+t+")";if(m instanceof n){if((l=m.getSvg().cloneNode(!0)).childNodes&&l.childNodes.length>1){for(c=l.childNodes[0];c.childNodes.length;)p=c.childNodes[0].getAttribute("id"),this.__ids[p]=p,this.__defs.appendChild(c.childNodes[0]);if(u=l.childNodes[1]){var b,_=u.getAttribute("transform");b=_?_+" "+y:y,u.setAttribute("transform",b),s.appendChild(u)}}}else"CANVAS"!==m.nodeName&&"IMG"!==m.nodeName||((d=this.__createElement("image")).setAttribute("width",r),d.setAttribute("height",o),d.setAttribute("preserveAspectRatio","none"),(g||v||i!==m.width||a!==m.height)&&((h=this.__document.createElement("canvas")).width=r,h.height=o,h.getContext("2d").drawImage(m,g,v,i,a,0,0,r,o),m=h),d.setAttribute("transform",y),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===m.nodeName?m.toDataURL():m.getAttribute("src")),s.appendChild(d))},n.prototype.createPattern=function(e,t){var r,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),a=s(this.__ids);return i.setAttribute("id",a),i.setAttribute("width",e.width),i.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((r=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),r.setAttribute("height",e.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),i.appendChild(r),this.__defs.appendChild(i)):e instanceof n&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new o(i,this)},n.prototype.setLineDash=function(e){e&&e.length>0?this.lineDash=e.join(","):this.lineDash=null},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=n),"object"==typeof e.exports&&(e.exports=n)}()},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var n=e.data,r=n.datasets,o=n.labels;if(r.length)for(var i=0;i<r[0].data.length;++i)t.push('<li><span style="background-color:'+r[0].backgroundColor[i]+'"></span>'),o[i]&&t.push(o[i]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,r){var o=e.getDatasetMeta(0),a=t.datasets[0],s=o.data[r].custom||{},l=i.valueAtIndexOrDefault,c=e.options.elements.arc;return{text:n,fillStyle:s.backgroundColor?s.backgroundColor:l(a.backgroundColor,r,c.backgroundColor),strokeStyle:s.borderColor?s.borderColor:l(a.borderColor,r,c.borderColor),lineWidth:s.borderWidth?s.borderWidth:l(a.borderWidth,r,c.borderWidth),hidden:isNaN(a.data[r])||o.data[r].hidden,index:r}})):[]}},onClick:function(e,t){var n,r,o,i=t.index,a=this.chart;for(n=0,r=(a.data.datasets||[]).length;n<r;++n)(o=a.getDatasetMeta(n)).data[i].hidden=!o.data[i].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),e.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:o.Arc,linkScales:i.noop,update:function(e){var t=this,n=t.chart,r=n.chartArea,o=t.getMeta(),a=n.options,s=a.elements.arc,l=Math.min(r.right-r.left,r.bottom-r.top);n.outerRadius=Math.max((l-s.borderWidth/2)/2,0),n.innerRadius=Math.max(a.cutoutPercentage?n.outerRadius/100*a.cutoutPercentage:1,0),n.radiusLength=(n.outerRadius-n.innerRadius)/n.getVisibleDatasetCount(),t.outerRadius=n.outerRadius-n.radiusLength*t.index,t.innerRadius=t.outerRadius-n.radiusLength,o.count=t.countVisibleElements(),i.each(o.data,(function(n,r){t.updateElement(n,r,e)}))},updateElement:function(e,t,n){for(var r=this,o=r.chart,a=r.getDataset(),s=o.options,l=s.animation,c=o.scale,u=o.data.labels,d=r.calculateCircumference(a.data[t]),h=c.xCenter,p=c.yCenter,f=0,m=r.getMeta(),g=0;g<t;++g)isNaN(a.data[g])||m.data[g].hidden||++f;var v=s.startAngle,y=e.hidden?0:c.getDistanceFromCenterForValue(a.data[t]),b=v+d*f,_=b+(e.hidden?0:d),w=l.animateScale?0:c.getDistanceFromCenterForValue(a.data[t]);i.extend(e,{_datasetIndex:r.index,_index:t,_scale:c,_model:{x:h,y:p,innerRadius:0,outerRadius:n?w:y,startAngle:n&&l.animateRotate?v:b,endAngle:n&&l.animateRotate?v:_,label:i.valueAtIndexOrDefault(u,t,u[t])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return i.each(t.data,(function(t,r){isNaN(e.data[r])||t.hidden||n++})),n},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(709);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){e.exports={default:n(714),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0;var r=i(n(725)),o=i(n(728));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(Array.isArray(e))return e;if((0,r.default)(Object(e)))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var s,l=(0,o.default)(e);!(r=(s=l.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t,n){var r=n(810),o=n(361),i=n(811),a=n(119);e.exports=function(e,t){return(a(e)?r:o)(e,i(t))}},function(e,t,n){var r=n(195),o=n(196);e.exports=function(e){return"number"==typeof e||o(e)&&"[object Number]"==r(e)}},function(e,t,n){"use strict";t.a=function(){return!1}},function(e,t,n){"use strict";(function(e){var r=n(67),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.a.Buffer:void 0,s=a?a.allocUnsafe:void 0;t.a=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(268)(e))},function(e,t,n){try{var r=n(447)}catch(e){r=n(447)}var o=/\s+/,i=Object.prototype.toString;function a(e){if(!e||!e.nodeType)throw new Error("A DOM element reference is required");this.el=e,this.list=e.classList}e.exports=function(e){return new a(e)},a.prototype.add=function(e){if(this.list)return this.list.add(e),this;var t=this.array();return~r(t,e)||t.push(e),this.el.className=t.join(" "),this},a.prototype.remove=function(e){if("[object RegExp]"==i.call(e))return this.removeMatching(e);if(this.list)return this.list.remove(e),this;var t=this.array(),n=r(t,e);return~n&&t.splice(n,1),this.el.className=t.join(" "),this},a.prototype.removeMatching=function(e){for(var t=this.array(),n=0;n<t.length;n++)e.test(t[n])&&this.remove(t[n]);return this},a.prototype.toggle=function(e,t){return this.list?(void 0!==t?t!==this.list.toggle(e,t)&&this.list.toggle(e):this.list.toggle(e),this):(void 0!==t?t?this.add(e):this.remove(e):this.has(e)?this.remove(e):this.add(e),this)},a.prototype.array=function(){var e=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(o);return""===e[0]&&e.shift(),e},a.prototype.has=a.prototype.contains=function(e){return this.list?this.list.contains(e):!!~r(this.array(),e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(459);Object.defineProperty(t,"Radio",{enumerable:!0,get:function(){return i(r).default}});var o=n(848);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"RadioGroup",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),e.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:o.Line,dataElementType:o.Point,linkScales:i.noop,update:function(e){var t=this,n=t.getMeta(),r=n.dataset,o=n.data,a=r.custom||{},s=t.getDataset(),l=t.chart.options.elements.line,c=t.chart.scale;void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),i.extend(n.dataset,{_datasetIndex:t.index,_scale:c,_children:o,_loop:!0,_model:{tension:a.tension?a.tension:i.valueOrDefault(s.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:s.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:s.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:s.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==s.fill?s.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:s.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:s.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:s.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:s.borderJoinStyle||l.borderJoinStyle}}),n.dataset.pivot(),i.each(o,(function(n,r){t.updateElement(n,r,e)}),t),t.updateBezierControlPoints()},updateElement:function(e,t,n){var r=this,o=e.custom||{},a=r.getDataset(),s=r.chart.scale,l=r.chart.options.elements.point,c=s.getPointPositionForValue(t,a.data[t]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),i.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:n?s.xCenter:c.x,y:n?s.yCenter:c.y,tension:o.tension?o.tension:i.valueOrDefault(a.lineTension,r.chart.options.elements.line.tension),radius:o.radius?o.radius:i.valueAtIndexOrDefault(a.pointRadius,t,l.radius),backgroundColor:o.backgroundColor?o.backgroundColor:i.valueAtIndexOrDefault(a.pointBackgroundColor,t,l.backgroundColor),borderColor:o.borderColor?o.borderColor:i.valueAtIndexOrDefault(a.pointBorderColor,t,l.borderColor),borderWidth:o.borderWidth?o.borderWidth:i.valueAtIndexOrDefault(a.pointBorderWidth,t,l.borderWidth),pointStyle:o.pointStyle?o.pointStyle:i.valueAtIndexOrDefault(a.pointStyle,t,l.pointStyle),hitRadius:o.hitRadius?o.hitRadius:i.valueAtIndexOrDefault(a.pointHitRadius,t,l.hitRadius)}}),e._model.skip=o.skip?o.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,t=this.getMeta();i.each(t.data,(function(n,r){var o=n._model,a=i.splineCurve(i.previousItem(t.data,r,!0)._model,o,i.nextItem(t.data,r,!0)._model,o.tension);o.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),o.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),o.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),o.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),n.pivot()}))},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model;o.radius=n.hoverRadius?n.hoverRadius:i.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),o.backgroundColor=n.hoverBackgroundColor?n.hoverBackgroundColor:i.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,i.getHoverColor(o.backgroundColor)),o.borderColor=n.hoverBorderColor?n.hoverBorderColor:i.valueAtIndexOrDefault(t.pointHoverBorderColor,r,i.getHoverColor(o.borderColor)),o.borderWidth=n.hoverBorderWidth?n.hoverBorderWidth:i.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e.custom||{},r=e._index,o=e._model,a=this.chart.options.elements.point;o.radius=n.radius?n.radius:i.valueAtIndexOrDefault(t.pointRadius,r,a.radius),o.backgroundColor=n.backgroundColor?n.backgroundColor:i.valueAtIndexOrDefault(t.pointBackgroundColor,r,a.backgroundColor),o.borderColor=n.borderColor?n.borderColor:i.valueAtIndexOrDefault(t.pointBorderColor,r,a.borderColor),o.borderWidth=n.borderWidth?n.borderWidth:i.valueAtIndexOrDefault(t.pointBorderWidth,r,a.borderWidth)}})}},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=a(n(0)),c=n(855),u=s(n(672)),d={width:"auto",height:"auto"},h=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=u.default((function(e,t){return Math.round(e/t)*t})),f=u.default((function(e,t){return new RegExp(e,"i").test(t)})),m=u.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),g=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),v=u.default((function(e){return"auto"===(e=e.toString())?e:g(e,"px")?e:g(e,"%")?e:g(e,"vh")?e:g(e,"vw")?e:g(e,"vmax")?e:g(e,"vmin")?e:e+"px"})),y=function(e,t){if(e&&"string"==typeof e){if(g(e,"%"))return t*(n=Number(e.replace("%",""))/100);if(g(e,"vw")){var n=Number(e.replace("vw",""))/100;return window.innerWidth*n}if(g(e,"vh")){n=Number(e.replace("vh",""))/100;return window.innerHeight*n}}return e},b=u.default((function(e,t,n,r,o){return t=y(t,e.width),n=y(n,e.height),r=y(r,e.width),o=y(o,e.height),{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),_=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],w=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains("__resizable_base__"))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&g(e.propsSize[t].toString(),"%")){if(g(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return v(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?v(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?v(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.bindEvents=function(){"undefined"!=typeof window&&(window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseleave",this.onMouseUp),window.addEventListener("touchmove",this.onMouseMove),window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){"undefined"!=typeof window&&(window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add("__resizable_base__"):t.className+="__resizable_base__",e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){this.unbindEvents();var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,l=s.lockAspectRatio,c=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,h=a.height,p=c||0,m=u||0;return f("right",i)&&(d=a.width+(e-a.x)*r/n,l&&(h=(d-m)/this.ratio+p)),f("left",i)&&(d=a.width-(e-a.x)*r/n,l&&(h=(d-m)/this.ratio+p)),f("bottom",i)&&(h=a.height+(t-a.y)*r/n,l&&(d=(h-p)*this.ratio+m)),f("top",i)&&(h=a.height-(t-a.y)*r/n,l&&(d=(h-p)*this.ratio+m)),{newWidth:d,newHeight:h}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,l=void 0===r.width?10:r.width,c=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,p=a||0,f=s||0;if(i){var m=(u-p)*this.ratio+f,g=(d-p)*this.ratio+f,v=(l-f)/this.ratio+p,y=(c-f)/this.ratio+p,b=Math.max(l,m),_=Math.min(c,g),w=Math.max(u,v),C=Math.min(d,y);e=h(e,b,_),t=h(t,w,C)}else e=h(e,l,c),t=h(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top;this.resizableLeft=o,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.bindEvents(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,l=this.state,c=l.direction,u=l.original,d=l.width,h=l.height,f=this.getParentSize(),v=b(f,n,r,o,i);n=v.maxWidth,r=v.maxHeight,o=v.minWidth,i=v.minHeight;var y=this.calculateNewSizeFromDirection(a,s),_=y.newHeight,w=y.newWidth,C=this.calculateNewMaxFromBoundary(n,r),S=this.calculateNewSizeFromAspectRatio(w,_,{width:C.maxWidth,height:C.maxHeight},{width:o,height:i});if(w=S.newWidth,_=S.newHeight,this.props.grid){var E=p(w,this.props.grid[0]),x=p(_,this.props.grid[1]),k=this.props.snapGap||0;w=0===k||Math.abs(E-w)<=k?E:w,_=0===k||Math.abs(x-_)<=k?x:_}this.props.snap&&this.props.snap.x&&(w=m(w,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(_=m(_,this.props.snap.y,this.props.snapGap));var O={width:w-u.width,height:_-u.height};if(d&&"string"==typeof d)if(g(d,"%"))w=w/f.width*100+"%";else if(g(d,"vw")){w=w/window.innerWidth*100+"vw"}else if(g(d,"vh")){w=w/window.innerHeight*100+"vh"}if(h&&"string"==typeof h)if(g(h,"%"))_=_/f.height*100+"%";else if(g(h,"vw")){_=_/window.innerWidth*100+"vw"}else if(g(h,"vh")){_=_/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(w,"width"),height:this.createSizeForCssProperty(_,"height")}),this.props.onResize&&this.props.onResize(e,c,this.resizable,O)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.unbindEvents(),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?l.createElement(c.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},s&&s[t]?s[t]:null):null}));return l.createElement("span",{className:a,style:i},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==_.indexOf(n)?t:(t[n]=e.props[n],t)}),{});return l.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0}),className:this.props.className},t),this.state.isResizing&&l.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(l.PureComponent);t.Resizable=w},function(e,t,n){var r;window,e.exports=(r=n(102),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t);var r=n(0);function o(e){e.contextMenu.el.classList.remove("visible"),e.contextMenu.isOpen=!1}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return e;var n=e.map((function(e){return Array.from(e)})),r=!0,o=!1,i=void 0;try{for(var a,s=function(){var e=a.value;n[e.section].splice(e.index,0,{text:e.text,handler:e.handler?e.handler:function(t,n){return t.trigger(e.method,[t,n])},isActive:e.isActive})},l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0)s()}catch(e){o=!0,i=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw i}}return n}function a(e,t,n){var r=e.contextMenu.el,o=document.createElement("ul"),i=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=null;if(u instanceof HTMLElement)(d=document.createElement("li")).appendChild(u);else if("function"==typeof u){var h=u(e,n);h&&(d=document.createElement("li")).appendChild(h)}else!function(){var t=u.text,r=u.handler,o=u.visible,i=u.isActive;if(!o||o(e)){d=document.createElement("li");var a="function"==typeof i,s=document.createElement("button");s.addEventListener("click",(function(){a&&(e.contextMenu.invalidate=!1),r(e,n)}));var l="function"==typeof t?t(e,n):t;if(s.appendChild(document.createTextNode(l)),a){var c=document.createElement("span");c.classList.add("phylocanvas-context-menu-toggle"),i(e,n)&&c.classList.add("is-active"),s.appendChild(c),s.classList.add("phylocanvas-context-menu-has-toggle"),d.addEventListener("click",(function(){i(e,n)?c.classList.add("is-active"):c.classList.remove("is-active")}))}d.appendChild(s)}}();d&&(u.isActive||d.addEventListener("click",(function(){return e.contextMenu.close()})),d.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),o.appendChild(d))}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}o.hasChildNodes()&&r.appendChild(o)}function s(e,t,n,r){return e+t<n+r?e:e-t>n?e-t:n}function l(e,t,n,r){var o=r?e.getNodeById(r):null;!function(e,t){for(var n=e.contextMenu.el;n.hasChildNodes();)n.removeChild(n.firstChild);var r=t&&!t.isLeaf?e.contextMenu.nodeMenuItems:e.contextMenu.treeMenuItems,o=!0,i=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0)a(e,l.value,t||void 0)}catch(e){i=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(i)throw s}}}(e,o),function(e,t,n){var r=e.el,o=e.parent;r.classList.remove("visible","top","bottom","left","right"),r.style.top=r.style.bottom=r.style.left=r.style.right=null;var i=r.offsetWidth,a=r.offsetHeight,l=s(n,a,window.scrollY,window.innerHeight),c=s(t,i,window.scrollX,window.innerWidth),u=l+a/2>n,d=c+i/2>t;r.style.left="".concat(c,"px"),r.style.top="".concat(l,"px"),r.style.transformOrigin="".concat(u?"top":"bottom"," ").concat(d?"left":"right"),o.removeChild(r),o.appendChild(r),r.offsetWidth,r.classList.add("visible")}(e.contextMenu,t,n),e.contextMenu.isOpen=!0}var c,u,d=[(c=document.createElement("a"),u=document.createElement("img"),u.src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22Micro%22%20viewBox%3D%220%200%20433.16%20103.04%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bisolation%3Aisolate%3B%7D.cls-2%7Bfill%3A%233b7383%3B%7D.cls-3%7Bopacity%3A0.53%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3ELOGOS%20OCT%202018%3C%2Ftitle%3E%3Cg%20class%3D%22cls-1%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M110.22%2C28.17H126c3.28%2C0%2C5.75.58%2C7.39%2C1.73a7.58%2C7.58%2C0%2C0%2C1%2C3.14%2C4.54%2C32.31%2C32.31%2C0%2C0%2C1%2C.67%2C7.3%2C31.25%2C31.25%2C0%2C0%2C1-.7%2C7.2%2C7.87%2C7.87%2C0%2C0%2C1-3.14%2C4.61c-1.62%2C1.17-4.08%2C1.76-7.36%2C1.76h-12.1V72.2h-3.71Zm15%2C23.81a10.15%2C10.15%2C0%2C0%2C0%2C5.47-1.15A5.25%2C5.25%2C0%2C0%2C0%2C133%2C47.6a26%2C26%2C0%2C0%2C0%2C.51-5.86%2C27.48%2C27.48%2C0%2C0%2C0-.48-5.89%2C5%2C5%2C0%2C0%2C0-2.27-3.17%2C10.71%2C10.71%2C0%2C0%2C0-5.51-1.12H113.93V52Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M165.45%2C52.75a29.42%2C29.42%2C0%2C0%2C0-.57-6.91A4%2C4%2C0%2C0%2C0%2C162.73%2C43a13.56%2C13.56%2C0%2C0%2C0-5.15-.7q-4%2C0-5.86%2C1.56a6.85%2C6.85%2C0%2C0%2C0-2.27%2C4.1%2C44.88%2C44.88%2C0%2C0%2C0-.45%2C7.33V72.2h-3.58V24.65H149V43.92h.26a7.06%2C7.06%2C0%2C0%2C1%2C3-3.52q2.17-1.35%2C6.59-1.35a13.48%2C13.48%2C0%2C0%2C1%2C6.53%2C1.25%2C6.16%2C6.16%2C0%2C0%2C1%2C2.91%2C3.87A29%2C29%2C0%2C0%2C1%2C169%2C51.6V72.2h-3.59Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M180.17%2C84.75V81.68q4.94.31%2C9%2C.32c3%2C0%2C5.24-.41%2C6.65-1.22A5.74%2C5.74%2C0%2C0%2C0%2C198.6%2C77a34.38%2C34.38%2C0%2C0%2C0%2C.64-7.71V67.72h-.32A6.69%2C6.69%2C0%2C0%2C1%2C196%2C71.31q-2.17%2C1.34-6.66%2C1.34c-2.9%2C0-5.06-.42-6.49-1.28a6.32%2C6.32%2C0%2C0%2C1-2.88-4%2C30.7%2C30.7%2C0%2C0%2C1-.74-7.68V39.56h3.59V59a29.12%2C29.12%2C0%2C0%2C0%2C.57%2C6.85%2C4%2C4%2C0%2C0%2C0%2C2.15%2C2.81%2C13.28%2C13.28%2C0%2C0%2C0%2C5.08.71q4%2C0%2C5.89-1.54a6.59%2C6.59%2C0%2C0%2C0%2C2.31-4.09%2C46.38%2C46.38%2C0%2C0%2C0%2C.44-7.3V39.56h3.59V67.85a43%2C43%2C0%2C0%2C1-1%2C10.4%2C8.37%2C8.37%2C0%2C0%2C1-3.71%2C5.28q-2.76%2C1.66-8.32%2C1.67A94.52%2C94.52%2C0%2C0%2C1%2C180.17%2C84.75Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M213.13%2C72.2V24.65h3.59V72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M229.77%2C71.4a6.29%2C6.29%2C0%2C0%2C1-3.26-4.6A58.17%2C58.17%2C0%2C0%2C1%2C225.8%2C56%2C58.48%2C58.48%2C0%2C0%2C1%2C226.51%2C45a6.38%2C6.38%2C0%2C0%2C1%2C3.26-4.64c1.71-.9%2C4.52-1.35%2C8.45-1.35s6.79.45%2C8.48%2C1.35A6.52%2C6.52%2C0%2C0%2C1%2C250%2C45%2C56.15%2C56.15%2C0%2C0%2C1%2C250.7%2C56%2C55.85%2C55.85%2C0%2C0%2C1%2C250%2C66.8a6.42%2C6.42%2C0%2C0%2C1-3.26%2C4.6c-1.69.88-4.51%2C1.32-8.48%2C1.32S231.48%2C72.28%2C229.77%2C71.4Zm14.72-2.78a4.48%2C4.48%2C0%2C0%2C0%2C2.21-3.49%2C66%2C66%2C0%2C0%2C0%2C.42-9.18%2C67%2C67%2C0%2C0%2C0-.42-9.22%2C4.61%2C4.61%2C0%2C0%2C0-2.21-3.55c-1.19-.66-3.29-1-6.27-1s-5.07.33-6.24%2C1a4.61%2C4.61%2C0%2C0%2C0-2.18%2C3.52%2C69.07%2C69.07%2C0%2C0%2C0-.41%2C9.25%2C68.13%2C68.13%2C0%2C0%2C0%2C.41%2C9.18A4.5%2C4.5%2C0%2C0%2C0%2C232%2C68.62q1.76%2C1%2C6.24%2C1C241.2%2C69.58%2C243.3%2C69.26%2C244.49%2C68.62Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M274.28%2C72.46a38.71%2C38.71%2C0%2C0%2C1-4.32.26c-3.63%2C0-6.3-.58-8-1.73a7.86%2C7.86%2C0%2C0%2C1-3.33-5.12%2C50.73%2C50.73%2C0%2C0%2C1-.73-10%2C43.71%2C43.71%2C0%2C0%2C1%2C.86-10%2C8.36%2C8.36%2C0%2C0%2C1%2C3.42-5.18q2.57-1.7%2C7.68-1.7a37.92%2C37.92%2C0%2C0%2C1%2C4.29.26%2C26.45%2C26.45%2C0%2C0%2C1%2C3.71.64v4.93a35.76%2C35.76%2C0%2C0%2C0-6.46-.58%2C9.62%2C9.62%2C0%2C0%2C0-4.77.9%2C4.57%2C4.57%2C0%2C0%2C0-2%2C3.23%2C41%2C41%2C0%2C0%2C0-.48%2C7.45%2C39.8%2C39.8%2C0%2C0%2C0%2C.51%2C7.56%2C4.47%2C4.47%2C0%2C0%2C0%2C2%2C3.2%2C10.53%2C10.53%2C0%2C0%2C0%2C4.83.83%2C35.91%2C35.91%2C0%2C0%2C0%2C6.59-.58v4.93A28.78%2C28.78%2C0%2C0%2C1%2C274.28%2C72.46Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M285.48%2C70.54q-2.21-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92%2C22.33%2C22.33%2C0%2C0%2C0-5.38-.45c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9q5.31%2C0%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2h-5.64L302.22%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q287.69%2C72.72%2C285.48%2C70.54ZM298.7%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55H294a9.3%2C9.3%2C0%2C0%2C0-2.95.35%2C2.19%2C2.19%2C0%2C0%2C0-1.34%2C1.41%2C10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C298.7%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M335.62%2C54a33.45%2C33.45%2C0%2C0%2C0-.41-6.37%2C3.33%2C3.33%2C0%2C0%2C0-1.57-2.46%2C9.56%2C9.56%2C0%2C0%2C0-4-.58%2C6.79%2C6.79%2C0%2C0%2C0-4.35%2C1.15%2C5.33%2C5.33%2C0%2C0%2C0-1.79%2C3.33%2C37.72%2C37.72%2C0%2C0%2C0-.38%2C6.21V72.2h-6.21V39.56h5.63l.26%2C4.36h.44a7.45%2C7.45%2C0%2C0%2C1%2C3.2-3.62%2C11.88%2C11.88%2C0%2C0%2C1%2C5.89-1.25%2C11.25%2C11.25%2C0%2C0%2C1%2C6.05%2C1.31%2C6.53%2C6.53%2C0%2C0%2C1%2C2.72%2C3.94%2C29.52%2C29.52%2C0%2C0%2C1%2C.7%2C7.3V72.2h-6.21Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M357.32%2C72.2l-9.86-32.64h6.4l7.3%2C26.05h.51l7.23-26h6.34L365.38%2C72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M380.71%2C70.54q-2.2-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92A22.33%2C22.33%2C0%2C0%2C0%2C389%2C44.3c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9c3.55%2C0%2C6.19.41%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2H397.7L397.45%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q382.92%2C72.72%2C380.71%2C70.54ZM393.93%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55h-7.87a9.3%2C9.3%2C0%2C0%2C0-2.95.35A2.19%2C2.19%2C0%2C0%2C0%2C385%2C59.31a10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C393.93%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M416.58%2C72.46c-2-.17-3.73-.36-5.18-.58v-5a77.88%2C77.88%2C0%2C0%2C0%2C9.79.58A12.66%2C12.66%2C0%2C0%2C0%2C425.1%2C67a2.63%2C2.63%2C0%2C0%2C0%2C1.66-1.34%2C6.93%2C6.93%2C0%2C0%2C0%2C.38-2.63%2C10.13%2C10.13%2C0%2C0%2C0-.25-2.72%2C1.7%2C1.7%2C0%2C0%2C0-.9-1.09%2C8.75%2C8.75%2C0%2C0%2C0-2.24-.48l-7-1c-2.43-.29-4.07-1.14-4.93-2.52s-1.28-3.58-1.28-6.56a10.91%2C10.91%2C0%2C0%2C1%2C1.41-6.08%2C6.88%2C6.88%2C0%2C0%2C1%2C3.87-2.85%2C22.85%2C22.85%2C0%2C0%2C1%2C6.37-.74c1.62%2C0%2C3.32.09%2C5.09.26a27%2C27%2C0%2C0%2C1%2C4.32.7v4.93a60.27%2C60.27%2C0%2C0%2C0-9-.64%2C10%2C10%2C0%2C0%2C0-4.74.8c-.89.53-1.34%2C1.7-1.34%2C3.49a9.81%2C9.81%2C0%2C0%2C0%2C.22%2C2.49%2C1.65%2C1.65%2C0%2C0%2C0%2C.87%2C1.09%2C6.53%2C6.53%2C0%2C0%2C0%2C2.05.51l7.23.9a9.89%2C9.89%2C0%2C0%2C1%2C3.61%2C1.09%2C4.77%2C4.77%2C0%2C0%2C1%2C2%2C2.65%2C17.4%2C17.4%2C0%2C0%2C1%2C.67%2C5.54A12.27%2C12.27%2C0%2C0%2C1%2C431.91%2C69a6.46%2C6.46%2C0%2C0%2C1-3.65%2C3%2C20.26%2C20.26%2C0%2C0%2C1-6.24.8C420.4%2C72.72%2C418.59%2C72.63%2C416.58%2C72.46Z%22%2F%3E%3C%2Fg%3E%3Cg%20class%3D%22cls-3%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.84.07h-.33a14.31%2C14.31%2C0%2C0%2C0-14%2C14.63v0h0v0a28.13%2C28.13%2C0%2C0%2C1-1.29%2C9.09%2C28.63%2C28.63%2C0%2C0%2C1-5.42%2C9.92%2C28.56%2C28.56%2C0%2C0%2C1-35.57%2C6.69h0A14.3%2C14.3%2C0%2C1%2C0%2C14.37%2C67.3a14.45%2C14.45%2C0%2C0%2C0%2C7-1.82c.15-.11.31-.21.47-.31h0l.48-.29A28.53%2C28.53%2C0%2C0%2C1%2C36.71%2C61a28%2C28%2C0%2C0%2C1%2C5%2C.45%2C28.45%2C28.45%2C0%2C0%2C1%2C7.65%2C2.49l0%2C0c.72.35%2C1.44.74%2C2.13%2C1.16h0a27.94%2C27.94%2C0%2C0%2C1%2C6.19%2C5.07%2C28.86%2C28.86%2C0%2C0%2C1%2C3.4%2C4.5%2C28.81%2C28.81%2C0%2C0%2C1%2C4.15%2C13.53c0%2C.22%2C0%2C.44%2C0%2C.66s0%2C.49%2C0%2C.74A14.3%2C14.3%2C0%2C1%2C0%2C86.46%2C76.09L86.34%2C76h0A28.6%2C28.6%2C0%2C0%2C1%2C72.86%2C42.53a29.14%2C29.14%2C0%2C0%2C1%2C2.23-5.24%2C28.57%2C28.57%2C0%2C0%2C1%2C3.19-4.68%2C28.25%2C28.25%2C0%2C0%2C1%2C6.92-6h0A14.3%2C14.3%2C0%2C0%2C0%2C77.84.07%22%2F%3E%3C%2Fg%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M14.37%2C38.56a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.28%2C14.28%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M79.58%2C74.27a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.36%2C14.36%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.87%2C0A14.39%2C14.39%2C0%2C1%2C0%2C90.16%2C6.9%2C14.37%2C14.37%2C0%2C0%2C0%2C77.87%2C0%22%2F%3E%3C%2Fsvg%3E",c.appendChild(u),c.title="About Phylocanvas...",c.href="http://phylocanvas.org/",c.target="_blank",c.className="phylocanvas-context-menu-about",c)],h=window.URL||window.webkitURL;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/plain;charset=utf-8",n=new Blob([e],{type:t});return h.createObjectURL(n)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",n=arguments.length>2?arguments[2]:void 0,r=document.createElement("a");return r.appendChild(document.createTextNode(e)),r.download=t,r.addEventListener("click",(function(){r.href=n()})),r}function m(e,t,n){return f(n,e.contextMenu.filenames.leafLabels,(function(){return p(e.getLeafLabels(t).join("\n"))}))}function g(e,t,n){return f(n,e.contextMenu.filenames.newick,(function(){return p(e.getNewick(t))}))}var v=[[{text:"Show labels",handler:function(e){return e.toggleLeafLabels()},isActive:function(e){return e.state.renderLeafLabels}},{text:"Align labels",handler:function(e){return e.toggleAlignLeafLabels()},isActive:function(e){return e.state.alignLabels}}],[{text:"Fit in panel",handler:function(e){return e.fitInPanel()}},{text:"Expand collapsed subtrees",visible:function(e){return e.state.collapsedIds.length>0},handler:function(e){return e.resetCollapsedNodes({refit:!0})}},{text:"Redraw original tree",handler:function(e){return e.setSource(e.nodes.originalSource)}}],[function(e,t){return m(e,t,"Export leaf labels")},function(e,t){return function(e,t,n){var r=e.contextMenu,o=e.state.selectedIds,i=r.filenames;return 0===o.length?null:f("Export selected labels",i.leafLabels,(function(){return p(e.getNodeLabels(o).join("\n"))}))}(e)},function(e,t){return g(e,t,"Export as newick file")},function(e,t){return function(e,t,n){return f("Export as image",e.contextMenu.filenames.image,(function(){return e.ctx.canvas.toDataURL()}))}(e)}],d],y=[[{text:function(e,t){return-1===e.state.collapsedIds.indexOf(t.id)?"Collapse subtree":"Expand subtree"},handler:function(e,t){return e.collapseNode(t,{refit:!0})}},{text:"Rotate subtree",handler:function(e,t){return e.rotateNode(t,{refit:!1})}}],[{text:"View subtree",handler:function(e,t){return e.setRoot(t)}},{text:"Re-root tree",handler:function(e,t){return e.rerootNode(t)}}],[function(e,t){return m(e,t,"Export subtree leaf labels")},function(e,t){return g(e,t,"Export subtree as newick file")}],d],b={image:"phylocanvas.png",leafLabels:"phylocanvas-leaf-labels.txt",newick:"phylocanvas.nwk"};function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default=function(e,t){function n(t){var n=r.utils.mapPoint(e,t.offsetX,t.offsetY),o=e.getNodeAtPoint(n.x,n.y);e.contextMenu.open(t.pageX,t.pageY,o?o.id:null)}t("init",(function(t,n){var r=t.apply(void 0,C(n)),a=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(n,1)[0].contextMenu,s=void 0===a?{}:a;return e.contextMenu={},e.contextMenu.invalidate=!0,s&&"string"==typeof s.parent?e.contextMenu.parent=document.querySelector(s.parent):s&&(e.contextMenu.parent=s.parent),e.contextMenu.parent||(e.contextMenu.parent=document.body),e.contextMenu.el=document.createElement("ul"),e.contextMenu.el.className="phylocanvas-context-menu",e.contextMenu.parent.appendChild(e.contextMenu.el),e.contextMenu.treeMenuItems=i(v,s.treeMenuItems),e.contextMenu.nodeMenuItems=i(y,s.nodeMenuItems),e.contextMenu.filenames=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},b,{},s.filenames),e.contextMenu.open=l.bind(null,e),e.contextMenu.close=o.bind(null,e),r}));var a=function(){e.contextMenu.touching=!0};e.ctx.canvas.addEventListener("touchstart",a);var s=function(t){t.preventDefault(),e.contextMenu.touching&&(n(t),e.contextMenu.touching=!1)};e.ctx.canvas.addEventListener("contextmenu",s);var c=function(t){(e.contextMenu.isOpen||!e.contextMenu.isOpen&&2===t.button)&&t.stopImmediatePropagation()};e.ctx.canvas.addEventListener("mousedown",c);var u=function(t){2===t.button?(t.stopImmediatePropagation(),n(t)):e.contextMenu.isOpen&&(t.stopImmediatePropagation(),e.contextMenu.close())};e.ctx.canvas.addEventListener("mouseup",u),t("mergeState",(function(t,n){var r=e.contextMenu;r.isOpen&&r.invalidate&&r.close(),r.invalidate=!0,t.apply(void 0,C(n))})),t("destroy",(function(t,n){e.contextMenu.parent.removeChild(e.contextMenu.el),e.ctx.canvas.removeEventListener("touchstart",a),e.ctx.canvas.removeEventListener("contextmenu",s),e.ctx.canvas.removeEventListener("mousedown",c),e.ctx.canvas.removeEventListener("mouseup",u),t.apply(void 0,C(n))}))}}]))},function(e,t,n){var r;window,e.exports=(r=n(102),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=12)}([function(e,t){e.exports=r},function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,i=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var a=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=c(e))>0&&a.length>o&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,s=l,console&&console.warn&&console.warn(s)}return e}function d(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||a(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)i(l,this,t);else{var c=l.length,u=m(l,c);for(n=0;n<c;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,o,i,a;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t){var n={left:0,top:0};e.exports=function(e,t,r){t=t||e.currentTarget||e.srcElement,Array.isArray(r)||(r=[0,0]);var o,i=e.clientX||0,a=e.clientY||0,s=(o=t)===window||o===document||o===document.body?n:o.getBoundingClientRect();return r[0]=i-s.left,r[1]=a-s.top,r}},function(e,t,n){"use strict";const r=n(4),o=n(5),i=n(8),a=n(11);e.exports=function(e,t){if(!(e&&t instanceof Function))return!1;let n,s=a({element:e}),l=0,c=0;n=new r({source:e,update:(e,n)=>{let r={type:"mouse",dx:e-c,dy:n-l,dz:0,x:s[0],y:s[1]};c=e,l=n,t(r)},multiplier:1,friction:.75}),o(e,(e,n,r,o)=>{o.preventDefault(),t({type:"mouse",dx:0,dy:0,dz:n,x:s[0],y:s[1],event:o})});let u,d=i(e);d.on("start",e=>{n&&n.pause();let[t,r]=d.fingers;u=[.5*r.position[0]+.5*t.position[0],.5*r.position[1]+.5*t.position[1]]}),d.on("end",()=>{u=null,n&&n.resume()}),d.on("change",(e,n)=>{d.pinching&&u&&t({type:"touch",dx:0,dy:0,dz:2*-(e-n),x:u[0],y:u[1]})})}},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(e,t){"use strict";window.addEventListener("touchmove",(function(){})),t.exports=function e(t){var o,i,a,s,l,c,u,d,h,p,f,m=t.source,g=void 0===m?document:m,v=t.update,y=t.multiplier,b=void 0===y?1:y,_=t.friction,w=void 0===_?.92:_,C=t.initialValues,S=t.boundX,E=t.boundY,x=t.bounce,k=void 0===x||x;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var O=0,T=0,M=.3*b,P=!1,L=!1,N=!1,A=!1,I=[];function R(){v.call(g,O,T)}function D(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function j(e){var t=D(e);L||N||(L=!0,A=!1,h=t.id,l=u=t.x,c=d=t.y,I=[],W(l,c),document.addEventListener("touchmove",z,!!r()&&{passive:!1}),document.addEventListener("touchend",F),document.addEventListener("touchcancel",B),document.addEventListener("mousemove",z,!!r()&&{passive:!1}),document.addEventListener("mouseup",F))}function z(e){e.preventDefault();var t=D(e);L&&t.id===h&&(u=t.x,d=t.y,W(l,c),P||n(H),P=!0)}function F(e){var t=D(e);L&&t.id===h&&B()}function B(){L=!1,W(l,c),function(){var e=I[0],t=I[I.length-1],r=t.x-e.x,o=t.y-e.y,i=(t.time-e.time)/15/b;p=r/i||0,f=o/i||0;var a=G();(Math.abs(p)>1||Math.abs(f)>1||!a.inBounds)&&(A=!0,n(V))}(),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",F),document.removeEventListener("touchcancel",B),document.removeEventListener("mouseup",F),document.removeEventListener("mousemove",z)}function W(e,t){for(var n=Date.now();I.length>0&&!(n-I[0].time<=100);)I.shift();I.push({x:e,y:t,time:n})}function H(){var e=u-l,t=d-c;if(O+=e*b,T+=t*b,k){var n=G();0!==n.x&&(O-=e*U(n.x)*b),0!==n.y&&(T-=t*U(n.y)*b)}else G(!0);R(),l=u,c=d,P=!1}function U(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function G(e){var t=0,n=0;return void 0!==o&&O<o?t=o-O:void 0!==i&&O>i&&(t=i-O),void 0!==a&&T<a?n=a-T:void 0!==s&&T>s&&(n=s-T),e&&(0!==t&&(O=t>0?o:i),0!==n&&(T=n>0?a:s)),{x:t,y:n,inBounds:0===t&&0===n}}function V(){if(A){O+=p*=w,T+=f*=w;var e=G();if(Math.abs(p)>M||Math.abs(f)>M||!e.inBounds){if(k){if(0!==e.x)if(e.x*p<=0)p+=.04*e.x;else{var t=e.x>0?2.5:-2.5;p=.11*(e.x+t)}0!==e.y&&(e.y*f<=0?f+=.04*e.y:(t=e.y>0?2.5:-2.5,f=.11*(e.y+t)))}else 0!==e.x&&(O=e.x>0?o:i,p=0),0!==e.y&&(T=e.y>0?a:s,f=0);R(),n(V)}else A=!1}}!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!v)throw new Error("IMPETUS: update function not defined.");C&&(C[0]&&(O=C[0]),C[1]&&(T=C[1]),R()),S&&(o=S[0],i=S[1]),E&&(a=E[0],s=E[1]),g.addEventListener("touchstart",j),g.addEventListener("mousedown",j)}(),this.destroy=function(){return g.removeEventListener("touchstart",j),g.removeEventListener("mousedown",j),null},this.pause=function(){L=!1,N=!0},this.resume=function(){N=!1},this.setValues=function(e,t){"number"==typeof e&&(O=e),"number"==typeof t&&(T=t)},this.setMultiplier=function(e){M=.3*(b=e)},this.setBoundX=function(e){o=e[0],i=e[1]},this.setBoundY=function(e){a=e[0],s=e[1]}};var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)};function r(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return r=function(){return e},e}})?r.apply(t,[t,e]):r)||(e.exports=o)},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){"function"==typeof e&&(n=!!t,t=e,e=window);var o=r("ex",e),i=function(e){n&&e.preventDefault();var r=e.deltaX||0,i=e.deltaY||0,a=e.deltaZ||0,s=1;switch(e.deltaMode){case 1:s=o;break;case 2:s=window.innerHeight}if(i*=s,a*=s,(r*=s)||i||a)return t(r,i,a,e)};return e.addEventListener("wheel",i),i}},function(e,t,n){"use strict";var r=n(7);function o(e,t){var n=r(getComputedStyle(e).getPropertyValue(t));return n[0]*i(n[1],e)}function i(e,t){switch(t=t||document.body,e=(e||"px").trim().toLowerCase(),t!==window&&t!==document||(t=document.body),e){case"%":return t.clientHeight/100;case"ch":case"ex":return function(e,t){var n=document.createElement("div");n.style["font-size"]="128"+e,t.appendChild(n);var r=o(n,"font-size")/128;return t.removeChild(n),r}(e,t);case"em":return o(t,"font-size");case"rem":return o(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return 96;case"cm":return 96/2.54;case"mm":return 96/25.4;case"pt":return 96/72;case"pc":return 16}return 1}e.exports=i},function(e,t){e.exports=function(e,t){t||(t=[0,""]),e=String(e);var n=parseFloat(e,10);return t[0]=n,t[1]=e.match(/[\d.\-\+]*\s*(.*)/)[1]||"",t}},function(e,t,n){var r=n(9),o=n(1).EventEmitter,i=n(10),a=n(2);function s(){this.position=[0,0],this.touch=null}e.exports=function(e){e=e||window;var t=new o,n=[null,null],l=0,c=0,u=!1,d=!1;return Object.defineProperties(t,{pinching:i((function(){return 2===l})),fingers:i((function(){return n}))}),p(),t.enable=p,t.disable=function(){d&&(d=!1,l=0,n[0]=null,n[1]=null,c=0,u=!1,e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",m,!1),e.removeEventListener("touchend",g,!1),e.removeEventListener("touchcancel",g,!1))},t.indexOfTouch=h,t;function h(e){for(var t=e.identifier,r=0;r<n.length;r++)if(n[r]&&n[r].touch&&n[r].touch.identifier===t)return r;return-1}function p(){d||(d=!0,e.addEventListener("touchstart",f,!1),e.addEventListener("touchmove",m,!1),e.addEventListener("touchend",g,!1),e.addEventListener("touchcancel",g,!1))}function f(r){for(var o=0;o<r.changedTouches.length;o++){var i=r.changedTouches[o];if(-1===h(i.identifier)&&l<2){var d=0===l,p=n[0]?1:0,f=n[0]?0:1,m=new s;n[p]=m,l++,m.touch=i,a(i,e,m.position);var g=n[f]?n[f].touch:void 0;if(t.emit("place",i,g),!d){var y=v();u=!1,t.emit("start",y),c=y}}}}function m(r){for(var o=!1,i=0;i<r.changedTouches.length;i++){var s=r.changedTouches[i],u=h(s);-1!==u&&(o=!0,n[u].touch=s,a(s,e,n[u].position))}if(2===l&&o){var d=v();t.emit("change",d,c),c=d}}function g(e){for(var r=0;r<e.changedTouches.length;r++){var o=e.changedTouches[r],i=h(o);if(-1!==i){n[i]=null,l--;var a=0===i?1:0,s=n[a]?n[a].touch:void 0;t.emit("lift",o,s)}}u||2===l||(u=!0,t.emit("end"))}function v(){return l<2?0:r(n[0].position,n[1].position)}}},function(e,t){e.exports=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}},function(e,t){e.exports=function(e,t){return{configurable:!0,enumerable:!0,get:e,set:t}}},function(e,t,n){var r=n(2),o=n(1).EventEmitter;function i(e){var t=(e=e||{}).element||window,n=new o,i=e.position||[0,0];return!1!==e.touchstart&&(t.addEventListener("mousedown",s,!1),t.addEventListener("touchstart",a,!1)),t.addEventListener("mousemove",s,!1),t.addEventListener("touchmove",a,!1),n.position=i,n.dispose=function(){t.removeEventListener("mousemove",s,!1),t.removeEventListener("mousedown",s,!1),t.removeEventListener("touchmove",a,!1),t.removeEventListener("touchstart",a,!1)},n;function a(e){s(e.targetTouches[0])}function s(e){r(e,t,i),n.emit("move",e)}}e.exports=function(e){return i(e).position},e.exports.emitter=function(e){return i(e)}},function(e,t,n){"use strict";n.r(t);var r={highlight:!0,pan:!0,selection:!0,tooltip:!0,zoom:!0},o=n(3),i=n.n(o),a=n(0),s="phylocanvas-tooltip-visible";function l(e){e.classList.remove(s)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.default=function(e,t){var n,o={mousedown:!1,offsetX:void 0,offsetY:void 0},c={visible:!1,element:(n=document.createElement("div"),n.className="phylocanvas-tooltip",n.style.position="absolute",n.style.pointerEvents="none",n)};function d(t){1===t.button&&t.preventDefault(),o.mousedown=!0,o.offsetX=e.state.offsetX,o.offsetY=e.state.offsetY}function p(t){if(o.mousedown)e.state.interactions.tooltip&&c.visible&&(l(c.element),c.visible=!1);else{var n=a.utils.mapPoint(e,t.offsetX,t.offsetY),r=e.getNodeAtPoint(n.x,n.y);e.state.interactions.highlight&&e.highlightNode(r),e.state.interactions.tooltip&&(r&&!r.isLeaf?(function(e,t,n,r){e.innerHTML=r,e.style.left="".concat(t,"px"),e.style.top="".concat(n,"px"),e.classList.add(s)}(c.element,t.clientX,t.clientY,r.totalLeaves),c.visible=!0):c.visible&&(l(c.element),c.visible=!1))}}function f(t){o.mousedown=!1;var n=e.state.offsetX-o.offsetX,r=e.state.offsetY-o.offsetY,i=0!==n||0!==r;if(e.state.interactions.selection&&0===t.button&&!i){var s=a.utils.mapPoint(e,t.offsetX,t.offsetY),l=e.getNodeAtPoint(s.x,s.y);e.selectNode(l,t.metaKey||t.ctrlKey)}}t("mergeState",(function(t,n){c.visible&&(l(c.element),c.visible=!1),e.state.interactions.highlight&&e.highlightNode(null),t.apply(void 0,h(n))})),e.ctx.canvas.addEventListener("mousemove",p),e.ctx.canvas.addEventListener("mousedown",d),e.ctx.canvas.addEventListener("touchstart",d),e.ctx.canvas.addEventListener("mouseup",f),e.ctx.canvas.addEventListener("touchend",f),i()(e.ctx.canvas,(function(t){var n=t.dx,r=t.dy,o=t.dz,i=t.x,a=t.y,s=t.event;0!==o&&0===n&&0===r?e.state.interactions.zoom&&(s&&(s.metaKey||s.ctrlKey)?e.changeBranchScale(o<0?1:-1,{x:i,y:a}):s&&(s.altKey||s.shiftKey)?e.changeStepScale(o<0?1:-1,{x:i,y:a}):o>0&&e.state.scale>e.state.minScale*e.pixelRatio?e.transform(0,0,-1,{x:i,y:a}):o<0&&e.state.scale<e.state.maxScale*e.pixelRatio&&e.transform(0,0,1,{x:i,y:a})):e.state.interactions.pan&&e.transform(n,r,0,{x:i,y:a})})),e.ctx.canvas.onselectstart=function(){return!1},t("getInitialState",(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,1)[0],o=n.interactions,i=void 0===o?{}:o;return("string"==typeof n.parent?document.querySelector(n.parent):n.parent||document.body).appendChild(c.element),u({},e.apply(void 0,h(t)),{interactions:u({},r,{},i)})})),t("destroy",(function(t,n){e.ctx.canvas.removeEventListener("mousemove",p),e.ctx.canvas.removeEventListener("mousedown",d),e.ctx.canvas.removeEventListener("touchstart",d),e.ctx.canvas.removeEventListener("mouseup",f),e.ctx.canvas.removeEventListener("touchend",f),l(c.element),t.apply(void 0,h(n))}))}}]))},function(e,t,n){var r;window,e.exports=(r=n(102),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t);var r=n(0),o={blockFontSize:null,blockLength:16,blockSize:null,blockPadding:0,columns:[],fillStyle:"black",headerFontWeight:"bold",showLabels:!0,showHeaders:!0,textPadding:4,values:{}};function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u=r.utils.mapScalar,d=r.constants.Angles,h=r.constants.TreeTypes;function p(e,t){for(var n={},r=0,o=Object.keys(t);r<o.length;r++){var i=o[r];n[i]=t[i]/e.state.scale}return n}t.default=function(e,t){t("getInitialState",(function(e,t){var n=c(t,1)[0].metadata,r=void 0===n?{}:n;return s({},e.apply(void 0,i(t)),{metadata:s({},o,{},r)})})),t("layout",(function(t,n){var r=e.state,o=t.apply(void 0,i(n));if(o.metadata||(o.metadata={}),o.metadata.values!==r.metadata.values||o.metadata.columns!==r.metadata.columns||o.metadata.blockPadding!==r.metadata.blockPadding||o.metadata.blockLength!==r.metadata.blockLength||o.metadata.fontSize!==r.fontSize){o.metadata.columnWidths={},o.metadata.headerWidths={};var a=!0,s=!1,l=void 0;try{for(var c,u=r.metadata.columns[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value,h="",p=!0,f=!1,m=void 0;try{for(var g,v=o.leafNodes[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var y=g.value;if(y.id in r.metadata.values){var b=r.metadata.values[y.id][d];b&&("string"==typeof b.label?b.label.length>h.length&&(h=b.label):console.error("Invalid metadata label for node ",y.id," column ",d))}}}catch(e){f=!0,m=e}finally{try{p||null==v.return||v.return()}finally{if(f)throw m}}h.length?o.metadata.columnWidths[d]=e.measureTextWidth(h):o.metadata.columnWidths[d]=0,o.metadata.headerWidths[d]=2*r.fontSize+e.measureTextWidth(d,r.metadata.headerFontWeight)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}return o.metadata.blockLength=r.metadata.blockLength,o.metadata.blockPadding=r.metadata.blockPadding,o.metadata.columns=r.metadata.columns,o.metadata.values=r.metadata.values,o.metadata.fontSize=r.fontSize,o})),t("postRender",(function(t,n){var o=e.ctx,a=e.state,s=c(n,1)[0],l=u(e,a.metadata.blockLength),f=u(e,a.metadata.blockPadding),m=p(e,s.metadata.headerWidths),g=p(e,s.metadata.columnWidths),v=u(e,a.metadata.textPadding),y=new Set(Object.keys(a.metadata.values)),b=r.types[a.type],_=a.metadata.showHeaders&&b.mainAxis&&(!b.alignableLabels||b.alignableLabels&&e.state.alignLabels),w=a.metadata.showLabels,C=a.metadata.columns||[];o.save(),o.fillStyle=a.metadata.fillStyle;var S=v;if(a.showNodes&&(S+=e._.actualNodeSize),a.renderLeafLabels&&(S+=e._.actualMaxLabelWidth),_){o.textAlign="left",o.textBaseline="middle",o.font="".concat(a.metadata.headerFontWeight," ").concat(e._.actualFontSize,"px ").concat(a.fontFamily);var E=s.leafNodes[0];E.angle,a.metadata.showLabels||d.Degrees90,o.translate(E.x,E.y),o.rotate(E.angle);var x=S;b.alignableLabels&&(x+=e.state.branchScale*(s.rootNode.longestLeaf-E.distanceFromRoot));for(var k=-.5*a.stepScale,O=0;O<C.length;O++){var T=C[O],M=f;M+=w?Math.max(m[T],f+l+g[T]):l;var P=w?x+f+l+v:x+f+l/2,L=w?k-e._.actualFontSize/2:k-v;o.translate(P,L),w||o.rotate(-d.Degrees90),o.fillText(T,0,0),w||o.rotate(d.Degrees90),o.translate(-1*P,-1*L),x+=M}o.rotate(-E.angle),o.translate(-E.x,-E.y)}var N=a.stepScale,A=0;if(a.type===h.Circular&&e.state.alignLabels){var I=d.Degrees360/s.rootNode.totalLeaves;N=I*(s.rootNode.totalLeafLength*e.state.branchScale+e._.actualNodeSize+e._.actualMaxLabelWidth),A=I*(l+f)}else a.type===h.Radial&&(N=e._.actualNodeSize);var R=Math.min(N,a.blockSize||N);o.font="".concat(e._.actualFontSize,"px ").concat(a.fontFamily);var D=!0,j=!1,z=void 0;try{for(var F,B=s.leafNodes[Symbol.iterator]();!(D=(F=B.next()).done);D=!0){var W=F.value;if(y.has(W.id)){var H=a.metadata.values[W.id];o.translate(W.x,W.y),o.rotate(W.angle),o.beginPath();var U=S;b.alignableLabels&&e.state.alignLabels&&(U+=e.state.branchScale*(s.rootNode.longestLeaf-W.distanceFromRoot));for(var G=0;G<C.length;G++){var V=C[G];if(void 0!==H[V]&&!W.isHidden&&(o.fillStyle=H[V].colour||H[V],o.fillRect(U+f,0-R/2,l,R+G*A),o.fillStyle=a.metadata.fillStyle,e._.renderLabels&&w&&"string"==typeof H[V].label)){var Y=W.angle>d.Degrees90&&W.angle<d.Degrees270;Y&&o.rotate(d.Degrees180),o.textAlign=Y?"right":"left",o.textBaseline="middle",o.fillText(H[V].label,(Y?-1:1)*(U+f+l+v),0),Y&&o.rotate(-d.Degrees180)}U+=f+Math.max(_&&w?m[V]:0,w?f+l+g[V]:l)}o.closePath(),o.rotate(-W.angle),o.translate(-W.x,-W.y)}}}catch(e){j=!0,z=e}finally{try{D||null==B.return||B.return()}finally{if(j)throw z}}o.restore(),t.apply(void 0,i(n))})),t("getDrawingArea",(function(t,n){var o=t.apply(void 0,i(n)),a=r.types[e.state.type],s=e.layout(),l=e.state.metadata.blockLength,c=e.state.metadata.blockPadding,u=s.metadata.headerWidths,d=s.metadata.columnWidths,p=e.state.metadata.showLabels,f=e.state.metadata.showHeaders&&a.mainAxis&&(!a.alignableLabels||a.alignableLabels&&e.state.alignLabels),m=0;e.state.renderLeafLabels&&(m+=s.maxLabelWidth);var g=!0,v=!1,y=void 0;try{for(var b,_=e.state.metadata.columns[Symbol.iterator]();!(g=(b=_.next()).done);g=!0){var w=b.value;m+=c+Math.max(f&&p?u[w]:0,p?c+l+d[w]:l)}}catch(e){v=!0,y=e}finally{try{g||null==_.return||_.return()}finally{if(v)throw y}}var C=0,S=0,E=0,x=0;switch(e.state.type){case h.Rectangular:case h.Diagonal:E=f?e.state.stepScale:0,S=m;break;case h.Hierarchical:C=f?e.state.stepScale:0,x=m;break;case h.Circular:case h.Radial:C=m,E=m,S=m,x=m}return{width:o.width,height:o.height,left:o.left+C,top:o.top+E,right:o.right-S,bottom:o.bottom-x}}))}}]))},function(e,t,n){var r;window,e.exports=(r=n(102),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t){e.exports=r},function(e,t,n){"use strict";n.r(t);var r={background:"rgba(255, 255, 255, 0.87)",digits:2,fillStyle:"#222",fontSize:13,height:16,lineWidth:1,padding:8,position:{left:8,bottom:8},strokeStyle:"#222",textAlign:"center",textBaseline:"bottom",textBaselineOffset:2,width:80},o=n(0);function i(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=function(e,t){t("getInitialState",(function(e,t){var n=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(t,1)[0].scalebar,o=void 0===n?{}:n;return s({},e.apply(void 0,i(t)),{scalebar:s({},r,{},o)})})),t("render",(function(t,n){t.apply(void 0,i(n)),function(e){var t=e.state.scalebar,n=t.position,r=e.ctx,i=o.utils.getPixelRatio(r),a=t.lineWidth,s=t.fontSize,l=t.padding,c=t.height,u=t.width,d=t.digits,h=u/e.state.branchScale/e.state.scale,p=0;if(Number.isInteger(h))p=h;else for(;0===p;)0===(p=parseFloat(h.toFixed(d),10))&&d++;var f=u*p/h;r.save(),r.scale(i,i);var m=r.canvas.width/i,g=r.canvas.height/i,v=0;void 0!==n.left?v=n.left:void 0!==n.centre?v=m/2-f/2-l+n.centre:void 0!==n.right?v=m-f-n.right-2*l:e.error("Invalid horizontal position specified. Supported values are `left`, `centre`, or `right`");var y=0;void 0!==n.top?y=n.top+l:void 0!==n.middle?y=g/2-c+n.middle+l:void 0!==n.bottom?y=g-c-n.bottom-l:e.error("Invalid vertical position specified. Supported values are `top`, `middle`, or `bottom`"),r.fillStyle=t.background,r.fillRect(v,y-l,f+2*l,c+2*l),r.font="".concat(s,"px ").concat(t.fontFamily||e.state.fontFamily),r.fillStyle=t.fillStyle,r.strokeStyle=t.strokeStyle,r.lineWidth=a,r.textBaseline=t.textBaseline,r.textAlign=t.textAlign,r.beginPath(),r.moveTo(v+l+a,y+a),r.lineTo(v+f+l-a,y+a),r.moveTo(v+l+a,y+a),r.lineTo(v+l+a,y+c),r.moveTo(v+f+l-a,y+a),r.lineTo(v+f+l-a,y+c),r.stroke(),r.closePath(),r.fillText(p,v+(f+2*l)/2,y+c+t.textBaselineOffset),r.restore()}(e)}))}}]))},function(e,t,n){window,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=1)}([function(e,t,n){!function(){"use strict";var t,n,r,o,i;function a(e,t){var n,r=Object.keys(t);for(n=0;n<r.length;n++)e=e.replace(new RegExp("\\{"+r[n]+"\\}","gi"),t[r[n]]);return e}function s(e){var t,n,r;if(!e)throw new Error("cannot create a random attribute name for an undefined object");t="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="";do{for(n="",r=0;r<12;r++)n+=t[Math.floor(Math.random()*t.length)]}while(e[n]);return n}function l(e){var t={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return t[e]||t.alphabetic}i=function(e,t){var n,r,o,i={};for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r="&"+e[n+1]+";",o=parseInt(e[n],t),i[r]="&#"+o+";";return i["\\xa0"]="&#160;",i}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),t={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},(r=function(e,t){this.__root=e,this.__ctx=t}).prototype.addColorStop=function(e,t){var n,r=this.__ctx.__createElement("stop");r.setAttribute("offset",e),-1!==t.indexOf("rgba")?(n=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(t),r.setAttribute("stop-color",a("rgb({r},{g},{b})",{r:n[1],g:n[2],b:n[3]})),r.setAttribute("stop-opacity",n[4])):r.setAttribute("stop-color",t),this.__root.appendChild(r)},o=function(e,t){this.__root=e,this.__ctx=t},(n=function(e){var t,r={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((t=r).width=arguments[0],t.height=arguments[1]):t=e||r,!(this instanceof n))return new n(t);this.width=t.width||r.width,this.height=t.height||r.height,this.enableMirroring=void 0!==t.enableMirroring?t.enableMirroring:r.enableMirroring,this.canvas=this,this.__document=t.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(e,t,n){void 0===t&&(t={});var r,o,i=this.__document.createElementNS("http://www.w3.org/2000/svg",e),a=Object.keys(t);for(n&&(i.setAttribute("fill","none"),i.setAttribute("stroke","none")),r=0;r<a.length;r++)o=a[r],i.setAttribute(o,t[o]);return i},n.prototype.__setDefaultStyles=function(){var e,n,r=Object.keys(t);for(e=0;e<r.length;e++)this[n=r[e]]=t[n].canvas},n.prototype.__applyStyleState=function(e){var t,n,r=Object.keys(e);for(t=0;t<r.length;t++)this[n=r[t]]=e[n]},n.prototype.__getStyleState=function(){var e,n,r={},o=Object.keys(t);for(e=0;e<o.length;e++)r[n=o[e]]=this[n];return r},n.prototype.__applyStyleToCurrentElement=function(e){var n,i,s,l,c,u=Object.keys(t);for(n=0;n<u.length;n++)if(i=t[u[n]],s=this[u[n]],i.apply)if(-1!==i.apply.indexOf("fill")&&s instanceof o){if(s.__ctx)for(;s.__ctx.__defs.childNodes.length;)l=s.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[l]=l,this.__defs.appendChild(s.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",a("url(#{id})",{id:s.__root.getAttribute("id")}))}else-1!==i.apply.indexOf("fill")&&s instanceof r?this.__currentElement.setAttribute("fill",a("url(#{id})",{id:s.__root.getAttribute("id")})):-1!==i.apply.indexOf(e)&&i.svg!==s&&("stroke"!==i.svgAttr&&"fill"!==i.svgAttr||-1===s.indexOf("rgba")?this.__currentElement.setAttribute(i.svgAttr,s):(c=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(s),this.__currentElement.setAttribute(i.svgAttr,a("rgb({r},{g},{b})",{r:c[1],g:c[2],b:c[3]})),this.__currentElement.setAttribute(i.svgAttr+"-opacity",c[4])))},n.prototype.__closestGroupOrSvg=function(e){return"g"===(e=e||this.__currentElement).nodeName||"svg"===e.nodeName?e:this.__closestGroupOrSvg(e.parentNode)},n.prototype.getSerializedSvg=function(e){var t,n,r,o,a,s=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(s)&&(s=s.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),e)for(t=Object.keys(i),n=0;n<t.length;n++)r=t[n],o=i[r],(a=new RegExp(r,"gi")).test(s)&&(s=s.replace(a,o));return s},n.prototype.getSvg=function(){return this.__root},n.prototype.save=function(){var e=this.__createElement("g"),t=this.__closestGroupOrSvg();this.__groupStack.push(t),t.appendChild(e),this.__currentElement=e,this.__stack.push(this.__getStyleState())},n.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var e=this.__stack.pop();this.__applyStyleState(e)},n.prototype.__addTransform=function(e){var t=this.__closestGroupOrSvg();if(t.childNodes.length>0){var n=this.__createElement("g");t.appendChild(n),this.__currentElement=n}var r=this.__currentElement.getAttribute("transform");r?r+=" ":r="",r+=e,this.__currentElement.setAttribute("transform",r)},n.prototype.scale=function(e,t){void 0===t&&(t=e),this.__addTransform(a("scale({x},{y})",{x:e,y:t}))},n.prototype.rotate=function(e){var t=180*e/Math.PI;this.__addTransform(a("rotate({angle},{cx},{cy})",{angle:t,cx:0,cy:0}))},n.prototype.translate=function(e,t){this.__addTransform(a("translate({x},{y})",{x:e,y:t}))},n.prototype.transform=function(e,t,n,r,o,i){this.__addTransform(a("matrix({a},{b},{c},{d},{e},{f})",{a:e,b:t,c:n,d:r,e:o,f:i}))},n.prototype.beginPath=function(){var e;this.__currentDefaultPath="",this.__currentPosition={},e=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(e),this.__currentElement=e},n.prototype.__applyCurrentDefaultPath=function(){if("path"!==this.__currentElement.nodeName)throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName);var e=this.__currentDefaultPath;this.__currentElement.setAttribute("d",e)},n.prototype.__addPathCommand=function(e){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=e},n.prototype.moveTo=function(e,t){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:e,y:t},this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.closePath=function(){this.__addPathCommand("Z")},n.prototype.lineTo=function(e,t){this.__currentPosition={x:e,y:t},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(a("L {x} {y}",{x:e,y:t})):this.__addPathCommand(a("M {x} {y}",{x:e,y:t}))},n.prototype.bezierCurveTo=function(e,t,n,r,o,i){this.__currentPosition={x:o,y:i},this.__addPathCommand(a("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:e,cp1y:t,cp2x:n,cp2y:r,x:o,y:i}))},n.prototype.quadraticCurveTo=function(e,t,n,r){this.__currentPosition={x:n,y:r},this.__addPathCommand(a("Q {cpx} {cpy} {x} {y}",{cpx:e,cpy:t,x:n,y:r}))};var c=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]);return[e[0]/t,e[1]/t]};n.prototype.arcTo=function(e,t,n,r,o){var i=this.__currentPosition&&this.__currentPosition.x,a=this.__currentPosition&&this.__currentPosition.y;if(void 0!==i&&void 0!==a){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(i===e&&a===t||e===n&&t===r||0===o)this.lineTo(e,t);else{var s=c([i-e,a-t]),l=c([n-e,r-t]);if(s[0]*l[1]!=s[1]*l[0]){var u=s[0]*l[0]+s[1]*l[1],d=Math.acos(Math.abs(u)),h=c([s[0]+l[0],s[1]+l[1]]),p=o/Math.sin(d/2),f=e+p*h[0],m=t+p*h[1],g=[-s[1],s[0]],v=[l[1],-l[0]],y=function(e){var t=e[0];return e[1]>=0?Math.acos(t):-Math.acos(t)},b=y(g),_=y(v);this.lineTo(f+g[0]*o,m+g[1]*o),this.arc(f,m,o,b,_)}else this.lineTo(e,t)}}},n.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},n.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},n.prototype.rect=function(e,t,n,r){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.closePath()},n.prototype.fillRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill")},n.prototype.strokeRect=function(e,t,n,r){var o;o=this.__createElement("rect",{x:e,y:t,width:n,height:r},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")},n.prototype.clearRect=function(e,t,n,r){var o,i=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:e,y:t,width:n,height:r,fill:"#FFFFFF"},!0),i.appendChild(o)},n.prototype.createLinearGradient=function(e,t,n,o){var i=this.__createElement("linearGradient",{id:s(this.__ids),x1:e+"px",x2:n+"px",y1:t+"px",y2:o+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(i),new r(i,this)},n.prototype.createRadialGradient=function(e,t,n,o,i,a){var l=this.__createElement("radialGradient",{id:s(this.__ids),cx:o+"px",cy:i+"px",r:a+"px",fx:e+"px",fy:t+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(l),new r(l,this)},n.prototype.__parseFont=function(){var e=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i.exec(this.font),t={style:e[1]||"normal",size:e[4]||"10px",family:e[6]||"sans-serif",weight:e[3]||"normal",decoration:e[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(t.decoration="underline"),this.__fontHref&&(t.href=this.__fontHref),t},n.prototype.__wrapTextLink=function(e,t){if(e.href){var n=this.__createElement("a");return n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.href),n.appendChild(t),n}return t},n.prototype.__applyText=function(e,t,n,r){var o,i,a=this.__parseFont(),s=this.__closestGroupOrSvg(),c=this.__createElement("text",{"font-family":a.family,"font-size":a.size,"font-style":a.style,"font-weight":a.weight,"text-decoration":a.decoration,x:t,y:n,"text-anchor":(o=this.textAlign,i={left:"start",right:"end",center:"middle",start:"start",end:"end"},i[o]||i.start),"dominant-baseline":l(this.textBaseline)},!0);c.appendChild(this.__document.createTextNode(e)),this.__currentElement=c,this.__applyStyleToCurrentElement(r),s.appendChild(this.__wrapTextLink(a,c))},n.prototype.fillText=function(e,t,n){this.__applyText(e,t,n,"fill")},n.prototype.strokeText=function(e,t,n){this.__applyText(e,t,n,"stroke")},n.prototype.measureText=function(e){return this.__ctx.font=this.font,this.__ctx.measureText(e)},n.prototype.arc=function(e,t,n,r,o,i){if(r!==o){(r%=2*Math.PI)==(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(i?-1:1))%(2*Math.PI));var s,l=e+n*Math.cos(o),c=t+n*Math.sin(o),u=e+n*Math.cos(r),d=t+n*Math.sin(r),h=i?0:1,p=o-r;p<0&&(p+=2*Math.PI),s=i?p>Math.PI?0:1:p>Math.PI?1:0,this.lineTo(u,d),this.__addPathCommand(a("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:n,ry:n,xAxisRotation:0,largeArcFlag:s,sweepFlag:h,endX:l,endY:c})),this.__currentPosition={x:l,y:c}}},n.prototype.clip=function(){var e=this.__closestGroupOrSvg(),t=this.__createElement("clipPath"),n=s(this.__ids),r=this.__createElement("g");e.removeChild(this.__currentElement),t.setAttribute("id",n),t.appendChild(this.__currentElement),this.__defs.appendChild(t),e.setAttribute("clip-path",a("url(#{id})",{id:n})),e.appendChild(r),this.__currentElement=r},n.prototype.drawImage=function(){var e,t,r,o,i,a,s,l,c,u,d,h,p,f,m=Array.prototype.slice.call(arguments),g=m[0],v=0,y=0;if(3===m.length)e=m[1],t=m[2],r=i=g.width,o=a=g.height;else if(5===m.length)e=m[1],t=m[2],r=m[3],o=m[4],i=g.width,a=g.height;else{if(9!==m.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);v=m[1],y=m[2],i=m[3],a=m[4],e=m[5],t=m[6],r=m[7],o=m[8]}if(s=this.__closestGroupOrSvg(),d=this.__currentElement,g instanceof n){for(c=(l=g.getSvg()).childNodes[0];c.childNodes.length;)f=c.childNodes[0].getAttribute("id"),this.__ids[f]=f,this.__defs.appendChild(c.childNodes[0]);u=l.childNodes[1],s.appendChild(u),this.__currentElement=u,this.translate(e,t),this.__currentElement=d}else"CANVAS"!==g.nodeName&&"IMG"!==g.nodeName||((h=this.__createElement("image")).setAttribute("width",r),h.setAttribute("height",o),h.setAttribute("preserveAspectRatio","none"),(v||y||i!==g.width||a!==g.height)&&((p=this.__document.createElement("canvas")).width=r,p.height=o,p.getContext("2d").drawImage(g,v,y,i,a,0,0,r,o),g=p),h.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===g.nodeName?g.toDataURL():g.getAttribute("src")),s.appendChild(h),this.__currentElement=h,this.translate(e,t),this.__currentElement=d)},n.prototype.createPattern=function(e,t){var r,i=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),a=s(this.__ids);return i.setAttribute("id",a),i.setAttribute("width",e.width),i.setAttribute("height",e.height),"CANVAS"===e.nodeName||"IMG"===e.nodeName?((r=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",e.width),r.setAttribute("height",e.height),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===e.nodeName?e.toDataURL():e.getAttribute("src")),i.appendChild(r),this.__defs.appendChild(i)):e instanceof n&&(i.appendChild(e.__root.childNodes[1]),this.__defs.appendChild(i)),new o(i,this)},n.prototype.drawFocusRing=function(){},n.prototype.createImageData=function(){},n.prototype.getImageData=function(){},n.prototype.putImageData=function(){},n.prototype.globalCompositeOperation=function(){},n.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=n),"object"==typeof e.exports&&(e.exports=n)}()},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=e.ctx,i=r.canvas,a=i.width,s=i.height,l=new o.a(a,s);e.ctx=l,e.render();var c=l[t].apply(l,n);return e.ctx=r,e.render(),c}t.default=function(e){e.exportSVG=function(){return i(e,"getSvg")},e.exportSerialisedSVG=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return i(e,"getSerializedSvg",[t])}}}])},function(e,t,n){var r=n(259);e.exports=function(e,t){return r(Date.now(),e,t)}},function(e,t,n){"use strict";n(49)._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),e.exports=function(e){e.controllers.scatter=e.controllers.line}},function(e,t,n){"use strict";e.exports=function(e){e.Bar=function(t,n){return n.type="bar",new e(t,n)}}},function(e,t,n){!function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support=!("undefined"==typeof File||"undefined"==typeof Blob||"undefined"==typeof FileList||!Blob.prototype.webkitSlice&&!Blob.prototype.mozSlice&&!Blob.prototype.slice),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=n.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+r.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+r.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=e||{},n.getOpt=function(e){var n=this;if(e instanceof Array){var o={};return r.each(e,(function(e){o[e]=n.getOpt(e)})),o}if(n instanceof d){if(void 0!==n.opts[e])return n.opts[e];n=n.fileObj}if(n instanceof u){if(void 0!==n.opts[e])return n.opts[e];n=n.resumableObj}if(n instanceof t)return void 0!==n.opts[e]?n.opts[e]:n.defaults[e]},n.events=[],n.on=function(e,t){n.events.push(e.toLowerCase(),t)},n.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e[0].toLowerCase();for(t=0;t<=n.events.length;t+=2)n.events[t]==r&&n.events[t+1].apply(n,e.slice(1)),"catchall"==n.events[t]&&n.events[t+1].apply(null,e);"fileerror"==r&&n.fire("error",e[2],e[1]),"fileprogress"==r&&n.fire("progress")};var r={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if(void 0!==e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e,t){var r=n.getOpt("generateUniqueIdentifier");if("function"==typeof r)return r(e,t);var o=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+o.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return r.each(e,(function(e){return e!=t||(n=!0,!1)})),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=n.getOpt("target");if("test"===e&&n.getOpt("testTarget")&&(r="/"===n.getOpt("testTarget")?n.getOpt("target"):n.getOpt("testTarget")),"function"==typeof r)return r(t);var o=r.indexOf("?")<0?"?":"&";return r+o+t.join("&")}},o=function(e){r.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},i=function(e){e.preventDefault()};function a(e,t,n,r){var o;return e.isFile?e.file((function(e){e.relativePath=t+e.name,n.push(e),r()})):(e.isDirectory?o=e:e instanceof File&&n.push(e),"function"==typeof e.webkitGetAsEntry&&(o=e.webkitGetAsEntry()),o&&o.isDirectory?function(e,t,n,r){e.createReader().readEntries((function(e){if(!e.length)return r();s(e.map((function(e){return a.bind(null,e,t,n)})),r)}))}(o,t+o.name+"/",n,r):("function"==typeof e.getAsFile&&(e=e.getAsFile())instanceof File&&(e.relativePath=t+e.name,n.push(e)),void r()))}function s(e,t){if(!e||0===e.length)return t();e[0]((function(){s(e.slice(1),t)}))}function l(e,t){if(e.length){n.fire("beforeAdd");var r=[];s(Array.prototype.map.call(e,(function(e){return a.bind(null,e,"",r)})),(function(){r.length&&c(r,t)}))}}var c=function(e,t){var o=0,i=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if(void 0!==i.maxFiles&&i.maxFiles<e.length+n.files.length){if(1!==i.maxFiles||1!==n.files.length||1!==e.length)return i.maxFilesErrorCallback(e,o++),!1;n.removeFile(n.files[0])}var a=[],s=[],l=e.length,c=function(){if(!--l){if(!a.length&&!s.length)return;window.setTimeout((function(){n.fire("filesAdded",a,s)}),0)}};r.each(e,(function(e){var l=e.name;if(i.fileType.length>0){var d=!1;for(var h in i.fileType){var p="."+i.fileType[h];if(-1!==l.toLowerCase().indexOf(p.toLowerCase(),l.length-p.length)){d=!0;break}}if(!d)return i.fileTypeErrorCallback(e,o++),!1}if(void 0!==i.minFileSize&&e.size<i.minFileSize)return i.minFileSizeErrorCallback(e,o++),!1;if(void 0!==i.maxFileSize&&e.size>i.maxFileSize)return i.maxFileSizeErrorCallback(e,o++),!1;function f(r){n.getFromUniqueIdentifier(r)?s.push(e):function(){e.uniqueIdentifier=r;var o=new u(n,e,r);n.files.push(o),a.push(o),o.container=void 0!==t?t.srcElement:null,window.setTimeout((function(){n.fire("fileAdded",o,t)}),0)}(),c()}var m=r.generateUniqueIdentifier(e,t);m&&"function"==typeof m.then?m.then((function(e){f(e)}),(function(){c()})):f(m)}))};function u(e,t,n){var o=this;o.opts={},o.getOpt=e.getOpt,o._prevProgress=0,o.resumableObj=e,o.file=t,o.fileName=t.fileName||t.name,o.size=t.size,o.relativePath=t.relativePath||t.webkitRelativePath||o.fileName,o.uniqueIdentifier=n,o._pause=!1,o.container="";var i=void 0!==n,a=function(e,t){switch(e){case"progress":o.resumableObj.fire("fileProgress",o,t);break;case"error":o.abort(),i=!0,o.chunks=[],o.resumableObj.fire("fileError",o,t);break;case"success":if(i)return;o.resumableObj.fire("fileProgress",o),o.isComplete()&&o.resumableObj.fire("fileSuccess",o,t);break;case"retry":o.resumableObj.fire("fileRetry",o)}};return o.chunks=[],o.abort=function(){var e=0;r.each(o.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&o.resumableObj.fire("fileProgress",o)},o.cancel=function(){var e=o.chunks;o.chunks=[],r.each(e,(function(e){"uploading"==e.status()&&(e.abort(),o.resumableObj.uploadNextChunk())})),o.resumableObj.removeFile(o),o.resumableObj.fire("fileProgress",o)},o.retry=function(){o.bootstrap();var e=!1;o.resumableObj.on("chunkingComplete",(function(){e||o.resumableObj.upload(),e=!0}))},o.bootstrap=function(){o.abort(),i=!1,o.chunks=[],o._prevProgress=0;for(var e=o.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(o.file.size/o.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout((function(){o.chunks.push(new d(o.resumableObj,o,e,a)),o.resumableObj.fire("chunkingProgress",o,e/t)}),0)}(n);window.setTimeout((function(){o.resumableObj.fire("chunkingComplete",o)}),0)},o.progress=function(){if(i)return 1;var e=0,t=!1;return r.each(o.chunks,(function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)})),e=t?1:e>.99999?1:e,e=Math.max(o._prevProgress,e),o._prevProgress=e,e},o.isUploading=function(){var e=!1;return r.each(o.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},o.isComplete=function(){var e=!1;return r.each(o.chunks,(function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1})),!e},o.pause=function(e){o._pause=void 0===e?!o._pause:e},o.isPaused=function(){return o._pause},o.resumableObj.fire("chunkingStart",o),o.bootstrap(),this}function d(e,t,n,o){var i=this;i.opts={},i.getOpt=e.getOpt,i.resumableObj=e,i.fileObj=t,i.fileObjSize=t.size,i.fileObjType=t.file.type,i.offset=n,i.callback=o,i.lastProgressCallback=new Date,i.tested=!1,i.retries=0,i.pendingRetry=!1,i.preprocessState=0;var a=i.getOpt("chunkSize");return i.loaded=0,i.startByte=i.offset*a,i.endByte=Math.min(i.fileObjSize,(i.offset+1)*a),i.fileObjSize-i.endByte<a&&!i.getOpt("forceChunkSize")&&(i.endByte=i.fileObjSize),i.xhr=null,i.test=function(){i.xhr=new XMLHttpRequest;var e=function(e){i.tested=!0;var t=i.status();"success"==t?(i.callback(t,i.message()),i.resumableObj.uploadNextChunk()):i.send()};i.xhr.addEventListener("load",e,!1),i.xhr.addEventListener("error",e,!1),i.xhr.addEventListener("timeout",e,!1);var t=[],n=i.getOpt("parameterNamespace"),o=i.getOpt("query");"function"==typeof o&&(o=o(i.fileObj,i)),r.each(o,(function(e,r){t.push([encodeURIComponent(n+e),encodeURIComponent(r)].join("="))})),t=t.concat([["chunkNumberParameterName",i.offset+1],["chunkSizeParameterName",i.getOpt("chunkSize")],["currentChunkSizeParameterName",i.endByte-i.startByte],["totalSizeParameterName",i.fileObjSize],["typeParameterName",i.fileObjType],["identifierParameterName",i.fileObj.uniqueIdentifier],["fileNameParameterName",i.fileObj.fileName],["relativePathParameterName",i.fileObj.relativePath],["totalChunksParameterName",i.fileObj.chunks.length]].filter((function(e){return i.getOpt(e[0])})).map((function(e){return[n+i.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),i.xhr.open(i.getOpt("testMethod"),r.getTarget("test",t)),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var a=i.getOpt("headers");"function"==typeof a&&(a=a(i.fileObj,i)),r.each(a,(function(e,t){i.xhr.setRequestHeader(e,t)})),i.xhr.send(null)},i.preprocessFinished=function(){i.preprocessState=2,i.send()},i.send=function(){var e=i.getOpt("preprocess");if("function"==typeof e)switch(i.preprocessState){case 0:return i.preprocessState=1,void e(i);case 1:return}if(!i.getOpt("testChunks")||i.tested){i.xhr=new XMLHttpRequest,i.xhr.upload.addEventListener("progress",(function(e){new Date-i.lastProgressCallback>1e3*i.getOpt("throttleProgressCallbacks")&&(i.callback("progress"),i.lastProgressCallback=new Date),i.loaded=e.loaded||0}),!1),i.loaded=0,i.pendingRetry=!1,i.callback("progress");var t=function(e){var t=i.status();if("success"==t||"error"==t)i.callback(t,i.message()),i.resumableObj.uploadNextChunk();else{i.callback("retry",i.message()),i.abort(),i.retries++;var n=i.getOpt("chunkRetryInterval");void 0!==n?(i.pendingRetry=!0,setTimeout(i.send,n)):i.send()}};i.xhr.addEventListener("load",t,!1),i.xhr.addEventListener("error",t,!1),i.xhr.addEventListener("timeout",t,!1);var n=[["chunkNumberParameterName",i.offset+1],["chunkSizeParameterName",i.getOpt("chunkSize")],["currentChunkSizeParameterName",i.endByte-i.startByte],["totalSizeParameterName",i.fileObjSize],["typeParameterName",i.fileObjType],["identifierParameterName",i.fileObj.uniqueIdentifier],["fileNameParameterName",i.fileObj.fileName],["relativePathParameterName",i.fileObj.relativePath],["totalChunksParameterName",i.fileObj.chunks.length]].filter((function(e){return i.getOpt(e[0])})).reduce((function(e,t){return e[i.getOpt(t[0])]=t[1],e}),{}),o=i.getOpt("query");"function"==typeof o&&(o=o(i.fileObj,i)),r.each(o,(function(e,t){n[e]=t}));var a=i.fileObj.file.slice?"slice":i.fileObj.file.mozSlice?"mozSlice":i.fileObj.file.webkitSlice?"webkitSlice":"slice",s=i.fileObj.file[a](i.startByte,i.endByte,i.getOpt("setChunkTypeFromFile")?i.fileObj.file.type:""),l=null,c=[],u=i.getOpt("parameterNamespace");if("octet"===i.getOpt("method"))l=s,r.each(n,(function(e,t){c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))}));else if(l=new FormData,r.each(n,(function(e,t){l.append(u+e,t),c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))})),"blob"==i.getOpt("chunkFormat"))l.append(u+i.getOpt("fileParameterName"),s,i.fileObj.fileName);else if("base64"==i.getOpt("chunkFormat")){var d=new FileReader;d.onload=function(e){l.append(u+i.getOpt("fileParameterName"),d.result),i.xhr.send(l)},d.readAsDataURL(s)}var h=r.getTarget("upload",c),p=i.getOpt("uploadMethod");i.xhr.open(p,h),"octet"===i.getOpt("method")&&i.xhr.setRequestHeader("Content-Type","application/octet-stream"),i.xhr.timeout=i.getOpt("xhrTimeout"),i.xhr.withCredentials=i.getOpt("withCredentials");var f=i.getOpt("headers");"function"==typeof f&&(f=f(i.fileObj,i)),r.each(f,(function(e,t){i.xhr.setRequestHeader(e,t)})),"blob"==i.getOpt("chunkFormat")&&i.xhr.send(l)}else i.test()},i.abort=function(){i.xhr&&i.xhr.abort(),i.xhr=null},i.status=function(){return i.pendingRetry?"uploading":i.xhr?i.xhr.readyState<4?"uploading":200==i.xhr.status||201==i.xhr.status?"success":r.contains(i.getOpt("permanentErrors"),i.xhr.status)||i.retries>=i.getOpt("maxChunkRetries")?"error":(i.abort(),"pending"):"pending"},i.message=function(){return i.xhr?i.xhr.responseText:""},i.progress=function(e){void 0===e&&(e=!1);var t=e?(i.endByte-i.startByte)/i.fileObjSize:1;if(i.pendingRetry)return 0;switch(i.xhr&&i.xhr.status||(t*=.95),i.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return i.loaded/(i.endByte-i.startByte)*t}},this}return n.uploadNextChunk=function(){var e=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(r.each(n.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(r.each(n.files,(function(t){if(!1===t.isPaused()&&r.each(t.chunks,(function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1})),e)return!1})),e)return!0;var t=!1;return r.each(n.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||n.fire("complete"),!1},n.assignBrowse=function(e,t){void 0===e.length&&(e=[e]),r.each(e,(function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:((r=document.createElement("input")).setAttribute("type","file"),r.style.display="none",e.addEventListener("click",(function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"}),!1),e.appendChild(r));var o=n.getOpt("maxFiles");void 0===o||1!=o?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var i=n.getOpt("fileType");void 0!==i&&i.length>=1?r.setAttribute("accept",i.map((function(e){return"."+e})).join(",")):r.removeAttribute("accept"),r.addEventListener("change",(function(e){c(e.target.files,e),n.getOpt("clearInput")&&(e.target.value="")}),!1)}))},n.assignDrop=function(e){void 0===e.length&&(e=[e]),r.each(e,(function(e){e.addEventListener("dragover",i,!1),e.addEventListener("dragenter",i,!1),e.addEventListener("drop",o,!1)}))},n.unAssignDrop=function(e){void 0===e.length&&(e=[e]),r.each(e,(function(e){e.removeEventListener("dragover",i),e.removeEventListener("dragenter",i),e.removeEventListener("drop",o)}))},n.isUploading=function(){var e=!1;return r.each(n.files,(function(t){if(t.isUploading())return e=!0,!1})),e},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var e=1;e<=n.getOpt("simultaneousUploads");e++)n.uploadNextChunk()}},n.pause=function(){r.each(n.files,(function(e){e.abort()})),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var e=n.files.length-1;e>=0;e--)n.files[e].cancel();n.fire("cancel")},n.progress=function(){var e=0,t=0;return r.each(n.files,(function(n){e+=n.progress()*n.size,t+=n.size})),t>0?e/t:0},n.addFile=function(e,t){c([e],t)},n.addFiles=function(e,t){c(e,t)},n.removeFile=function(e){for(var t=n.files.length-1;t>=0;t--)n.files[t]===e&&n.files.splice(t,1)},n.getFromUniqueIdentifier=function(e){var t=!1;return r.each(n.files,(function(n){n.uniqueIdentifier==e&&(t=n)})),t},n.getSize=function(){var e=0;return r.each(n.files,(function(t){e+=t.size})),e},n.handleDropEvent=function(e){o(e)},n.handleChangeEvent=function(e){c(e.target.files,e),e.target.value=""},n.updateQuery=function(e){n.opts.query=e},this};e.exports=t}()},function(e,t,n){"use strict";e.exports=function(e){e.Bubble=function(t,n){return n.type="bubble",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Doughnut=function(t,n){return n.type="doughnut",new e(t,n)}}},function(e,t,n){"use strict";e.exports=function(e){e.Line=function(t,n){return n.type="line",new e(t,n)}}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";
/** @license React v16.12.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(245),o="function"==typeof Symbol&&Symbol.for,i=o?Symbol.for("react.element"):60103,a=o?Symbol.for("react.portal"):60106,s=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,c=o?Symbol.for("react.profiler"):60114,u=o?Symbol.for("react.provider"):60109,d=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113;o&&Symbol.for("react.suspense_list");var f=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116;o&&Symbol.for("react.fundamental"),o&&Symbol.for("react.responder"),o&&Symbol.for("react.scope");var g="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}function w(){}function C(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(v(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var S=C.prototype=new w;S.constructor=C,r(S,_.prototype),S.isPureReactComponent=!0;var E={current:null},x={current:null},k=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)k.call(t,r)&&!O.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:x.current}}function M(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g,L=[];function N(e,t,n,r){if(L.length){var o=L.pop();return o.result=e,o.keyPrefix=t,o.func=n,o.context=r,o.count=0,o}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>L.length&&L.push(e)}function I(e,t,n){return null==e?0:function e(t,n,r,o){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case a:l=!0}}if(l)return r(o,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,r,o)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),r,o);else if("object"===s)throw r=""+t,Error(v(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return l}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function D(e,t){e.func.call(e.context,t,e.count++)}function j(e,t,n){var r=e.result,o=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,r,n,(function(e){return e})):null!=e&&(M(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,o+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function z(e,t,n,r,o){var i="";null!=n&&(i=(""+n).replace(P,"$&/")+"/"),I(e,j,t=N(t,i,r,o)),A(t)}function F(){var e=E.current;if(null===e)throw Error(v(321));return e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return z(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;I(e,D,t=N(null,null,t,n)),A(t)},count:function(e){return I(e,(function(){return null}),null)},toArray:function(e){var t=[];return z(e,t,null,(function(e){return e})),t},only:function(e){if(!M(e))throw Error(v(143));return e}},createRef:function(){return{current:null}},Component:_,PureComponent:C,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,Profiler:c,StrictMode:l,Suspense:p,createElement:T,cloneElement:function(e,t,n){if(null==e)throw Error(v(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)k.call(t,u)&&!O.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:M,version:"16.12.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:E,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:r}},W={default:B},H=W&&B||W;e.exports=H.default||H},function(e,t,n){"use strict";e.exports=function(e){e.PolarArea=function(t,n){return n.type="polarArea",new e(t,n)}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o,i,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,i,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=n(540);function o(){}e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=o,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.12.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),o=n(245),i=n(542);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=null,l={};function c(){if(s)for(var e in l){var t=l[e],n=s.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!d[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in d[n]=t,n=t.eventTypes){var o=void 0,i=n[r],c=t,p=r;if(h.hasOwnProperty(p))throw Error(a(99,p));h[p]=i;var f=i.phasedRegistrationNames;if(f){for(o in f)f.hasOwnProperty(o)&&u(f[o],c,p);o=!0}else i.registrationName?(u(i.registrationName,c,p),o=!0):o=!1;if(!o)throw Error(a(98,r,e))}}}}function u(e,t,n){if(p[e])throw Error(a(100,e));p[e]=t,f[e]=t.eventTypes[n].dependencies}var d=[],h={},p={},f={};function m(e,t,n,r,o,i,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var g=!1,v=null,y=!1,b=null,_={onError:function(e){g=!0,v=e}};function w(e,t,n,r,o,i,a,s,l){g=!1,v=null,m.apply(_,arguments)}var C=null,S=null,E=null;function x(e,t,n){var r=e.type||"unknown-event";e.currentTarget=E(n),function(e,t,n,r,o,i,s,l,c){if(w.apply(this,arguments),g){if(!g)throw Error(a(198));var u=v;g=!1,v=null,y||(y=!0,b=u)}}(r,t,void 0,e),e.currentTarget=null}function k(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function O(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function M(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)x(e,t[r],n[r]);else t&&x(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function P(e){if(null!==e&&(T=k(T,e)),e=T,T=null,e){if(O(e,M),T)throw Error(a(95));if(y)throw e=b,y=!1,b=null,e}}var L={injectEventPluginOrder:function(e){if(s)throw Error(a(101));s=Array.prototype.slice.call(e),c()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!l.hasOwnProperty(t)||l[t]!==r){if(l[t])throw Error(a(102,t));l[t]=r,n=!0}}n&&c()}};function N(e,t){var n=e.stateNode;if(!n)return null;var r=C(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(a(231,t,typeof n));return n}var A=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;A.hasOwnProperty("ReactCurrentDispatcher")||(A.ReactCurrentDispatcher={current:null}),A.hasOwnProperty("ReactCurrentBatchConfig")||(A.ReactCurrentBatchConfig={suspense:null});var I=/^(.*)[\\\/]/,R="function"==typeof Symbol&&Symbol.for,D=R?Symbol.for("react.element"):60103,j=R?Symbol.for("react.portal"):60106,z=R?Symbol.for("react.fragment"):60107,F=R?Symbol.for("react.strict_mode"):60108,B=R?Symbol.for("react.profiler"):60114,W=R?Symbol.for("react.provider"):60109,H=R?Symbol.for("react.context"):60110,U=R?Symbol.for("react.concurrent_mode"):60111,G=R?Symbol.for("react.forward_ref"):60112,V=R?Symbol.for("react.suspense"):60113,Y=R?Symbol.for("react.suspense_list"):60120,q=R?Symbol.for("react.memo"):60115,Z=R?Symbol.for("react.lazy"):60116;R&&Symbol.for("react.fundamental"),R&&Symbol.for("react.responder"),R&&Symbol.for("react.scope");var $="function"==typeof Symbol&&Symbol.iterator;function K(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=$&&e[$]||e["@@iterator"])?e:null}function X(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case z:return"Fragment";case j:return"Portal";case B:return"Profiler";case F:return"StrictMode";case V:return"Suspense";case Y:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case H:return"Context.Consumer";case W:return"Context.Provider";case G:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case q:return X(e.type);case Z:if(e=1===e._status?e._result:null)return X(e)}return null}function Q(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,o=e._debugSource,i=X(e.type);n=null,r&&(n=X(r.type)),r=i,i="",o?i=" (at "+o.fileName.replace(I,"")+":"+o.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var J=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),ee=null,te=null,ne=null;function re(e){if(e=S(e)){if("function"!=typeof ee)throw Error(a(280));var t=C(e.stateNode);ee(e.stateNode,e.type,t)}}function oe(e){te?ne?ne.push(e):ne=[e]:te=e}function ie(){if(te){var e=te,t=ne;if(ne=te=null,re(e),t)for(e=0;e<t.length;e++)re(t[e])}}function ae(e,t){return e(t)}function se(e,t,n,r){return e(t,n,r)}function le(){}var ce=ae,ue=!1,de=!1;function he(){null===te&&null===ne||(le(),ie())}new Map;var pe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fe=Object.prototype.hasOwnProperty,me={},ge={};function ve(e,t,n,r,o,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){ye[e]=new ve(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];ye[t]=new ve(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){ye[e]=new ve(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){ye[e]=new ve(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){ye[e]=new ve(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){ye[e]=new ve(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){ye[e]=new ve(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){ye[e]=new ve(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){ye[e]=new ve(e,5,!1,e.toLowerCase(),null,!1)}));var be=/[\-:]([a-z])/g;function _e(e){return e[1].toUpperCase()}function we(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Ce(e,t,n,r){var o=ye.hasOwnProperty(t)?ye[t]:null;(null!==o?0===o.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!fe.call(ge,e)||!fe.call(me,e)&&(pe.test(e)?ge[e]=!0:(me[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function Se(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Ee(e){e._valueTracker||(e._valueTracker=function(e){var t=Se(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function xe(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Se(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ke(e,t){var n=t.checked;return o({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Oe(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=we(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&Ce(e,"checked",t,!1)}function Me(e,t){Te(e,t);var n=we(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Le(e,t.type,n):t.hasOwnProperty("defaultValue")&&Le(e,t.type,we(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Le(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Ne(e,t){return e=o({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+we(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function Ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return o({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Re(e,t){var n=t.value;if(null==n){if(n=t.defaultValue,null!=(t=t.children)){if(null!=n)throw Error(a(92));if(Array.isArray(t)){if(!(1>=t.length))throw Error(a(93));t=t[0]}n=t}null==n&&(n="")}e._wrapperState={initialValue:we(n)}}function De(e,t){var n=we(t.value),r=we(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function je(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(be,_e);ye[t]=new ve(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!1)})),ye.xlinkHref=new ve("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){ye[e]=new ve(e,1,!1,e.toLowerCase(),null,!0)}));var ze="http://www.w3.org/1999/xhtml",Fe="http://www.w3.org/2000/svg";function Be(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Be(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var He,Ue=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Fe||"innerHTML"in e)e.innerHTML=t;else{for((He=He||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=He.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ye={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},qe={},Ze={};function $e(e){if(qe[e])return qe[e];if(!Ye[e])return e;var t,n=Ye[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ze)return qe[e]=n[t];return e}J&&(Ze=document.createElement("div").style,"AnimationEvent"in window||(delete Ye.animationend.animation,delete Ye.animationiteration.animation,delete Ye.animationstart.animation),"TransitionEvent"in window||delete Ye.transitionend.transition);var Ke=$e("animationend"),Xe=$e("animationiteration"),Qe=$e("animationstart"),Je=$e("transitionend"),et="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" ");function tt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function nt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function rt(e){if(tt(e)!==e)throw Error(a(188))}function ot(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=tt(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return rt(o),e;if(i===r)return rt(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s){for(l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var it,at,st,lt=!1,ct=[],ut=null,dt=null,ht=null,pt=new Map,ft=new Map,mt=[],gt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),vt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function yt(e,t,n,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r}}function bt(e,t){switch(e){case"focus":case"blur":ut=null;break;case"dragenter":case"dragleave":dt=null;break;case"mouseover":case"mouseout":ht=null;break;case"pointerover":case"pointerout":pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function _t(e,t,n,r,o){return null===e||e.nativeEvent!==o?(e=yt(t,n,r,o),null!==t&&(null!==(t=cr(t))&&at(t)),e):(e.eventSystemFlags|=r,e)}function wt(e){var t=lr(e.target);if(null!==t){var n=tt(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=nt(n)))return e.blockedOn=t,void i.unstable_runWithPriority(e.priority,(function(){st(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ct(e){if(null!==e.blockedOn)return!1;var t=Ln(e.topLevelType,e.eventSystemFlags,e.nativeEvent);if(null!==t){var n=cr(t);return null!==n&&at(n),e.blockedOn=t,!1}return!0}function St(e,t,n){Ct(e)&&n.delete(t)}function Et(){for(lt=!1;0<ct.length;){var e=ct[0];if(null!==e.blockedOn){null!==(e=cr(e.blockedOn))&&it(e);break}var t=Ln(e.topLevelType,e.eventSystemFlags,e.nativeEvent);null!==t?e.blockedOn=t:ct.shift()}null!==ut&&Ct(ut)&&(ut=null),null!==dt&&Ct(dt)&&(dt=null),null!==ht&&Ct(ht)&&(ht=null),pt.forEach(St),ft.forEach(St)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,lt||(lt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Et)))}function kt(e){function t(t){return xt(t,e)}if(0<ct.length){xt(ct[0],e);for(var n=1;n<ct.length;n++){var r=ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&xt(ut,e),null!==dt&&xt(dt,e),null!==ht&&xt(ht,e),pt.forEach(t),ft.forEach(t),n=0;n<mt.length;n++)(r=mt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<mt.length&&null===(n=mt[0]).blockedOn;)wt(n),null===n.blockedOn&&mt.shift()}function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Tt(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mt(e,t,n){(t=N(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function Pt(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Tt(t);for(t=n.length;0<t--;)Mt(n[t],"captured",e);for(t=0;t<n.length;t++)Mt(n[t],"bubbled",e)}}function Lt(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=N(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function Nt(e){e&&e.dispatchConfig.registrationName&&Lt(e._targetInst,null,e)}function At(e){O(e,Pt)}function It(){return!0}function Rt(){return!1}function Dt(e,t,n,r){for(var o in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(o)&&((t=e[o])?this[o]=t(n):"target"===o?this.target=r:this[o]=n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?It:Rt,this.isPropagationStopped=Rt,this}function jt(e,t,n,r){if(this.eventPool.length){var o=this.eventPool.pop();return this.call(o,e,t,n,r),o}return new this(e,t,n,r)}function zt(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Ft(e){e.eventPool=[],e.getPooled=jt,e.release=zt}o(Dt.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=It)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=It)},persist:function(){this.isPersistent=It},isPersistent:Rt,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Rt,this._dispatchInstances=this._dispatchListeners=null}}),Dt.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Dt.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return o(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=o({},r.Interface,e),n.extend=r.extend,Ft(n),n},Ft(Dt);var Bt=Dt.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Wt=Dt.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ht=Dt.extend({view:null,detail:null}),Ut=Ht.extend({relatedTarget:null});function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Vt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=qt[e])&&!!t[e]}function $t(){return Zt}for(var Kt=Ht.extend({key:function(e){if(e.key){var t=Vt[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Yt[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:$t,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Xt=0,Qt=0,Jt=!1,en=!1,tn=Ht.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:$t,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Xt;return Xt=e.screenX,Jt?"mousemove"===e.type?e.screenX-t:0:(Jt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,en?"mousemove"===e.type?e.screenY-t:0:(en=!0,0)}}),nn=tn.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),rn=tn.extend({dataTransfer:null}),on=Ht.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:$t}),an=Dt.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),sn=tn.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ln=[["blur","blur",0],["cancel","cancel",0],["click","click",0],["close","close",0],["contextmenu","contextMenu",0],["copy","copy",0],["cut","cut",0],["auxclick","auxClick",0],["dblclick","doubleClick",0],["dragend","dragEnd",0],["dragstart","dragStart",0],["drop","drop",0],["focus","focus",0],["input","input",0],["invalid","invalid",0],["keydown","keyDown",0],["keypress","keyPress",0],["keyup","keyUp",0],["mousedown","mouseDown",0],["mouseup","mouseUp",0],["paste","paste",0],["pause","pause",0],["play","play",0],["pointercancel","pointerCancel",0],["pointerdown","pointerDown",0],["pointerup","pointerUp",0],["ratechange","rateChange",0],["reset","reset",0],["seeked","seeked",0],["submit","submit",0],["touchcancel","touchCancel",0],["touchend","touchEnd",0],["touchstart","touchStart",0],["volumechange","volumeChange",0],["drag","drag",1],["dragenter","dragEnter",1],["dragexit","dragExit",1],["dragleave","dragLeave",1],["dragover","dragOver",1],["mousemove","mouseMove",1],["mouseout","mouseOut",1],["mouseover","mouseOver",1],["pointermove","pointerMove",1],["pointerout","pointerOut",1],["pointerover","pointerOver",1],["scroll","scroll",1],["toggle","toggle",1],["touchmove","touchMove",1],["wheel","wheel",1],["abort","abort",2],[Ke,"animationEnd",2],[Xe,"animationIteration",2],[Qe,"animationStart",2],["canplay","canPlay",2],["canplaythrough","canPlayThrough",2],["durationchange","durationChange",2],["emptied","emptied",2],["encrypted","encrypted",2],["ended","ended",2],["error","error",2],["gotpointercapture","gotPointerCapture",2],["load","load",2],["loadeddata","loadedData",2],["loadedmetadata","loadedMetadata",2],["loadstart","loadStart",2],["lostpointercapture","lostPointerCapture",2],["playing","playing",2],["progress","progress",2],["seeking","seeking",2],["stalled","stalled",2],["suspend","suspend",2],["timeupdate","timeUpdate",2],[Je,"transitionEnd",2],["waiting","waiting",2]],cn={},un={},dn=0;dn<ln.length;dn++){var hn=ln[dn],pn=hn[0],fn=hn[1],mn=hn[2],gn="on"+(fn[0].toUpperCase()+fn.slice(1)),vn={phasedRegistrationNames:{bubbled:gn,captured:gn+"Capture"},dependencies:[pn],eventPriority:mn};cn[fn]=vn,un[pn]=vn}var yn={eventTypes:cn,getEventPriority:function(e){return void 0!==(e=un[e])?e.eventPriority:2},extractEvents:function(e,t,n,r){var o=un[e];if(!o)return null;switch(e){case"keypress":if(0===Gt(n))return null;case"keydown":case"keyup":e=Kt;break;case"blur":case"focus":e=Ut;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=tn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=rn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=on;break;case Ke:case Xe:case Qe:e=Bt;break;case Je:e=an;break;case"scroll":e=Ht;break;case"wheel":e=sn;break;case"copy":case"cut":case"paste":e=Wt;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=nn;break;default:e=Dt}return At(t=e.getPooled(o,t,n,r)),t}},bn=i.unstable_UserBlockingPriority,_n=i.unstable_runWithPriority,wn=yn.getEventPriority,Cn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=lr(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var o=Ot(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,a=e.eventSystemFlags,s=null,l=0;l<d.length;l++){var c=d[l];c&&(c=c.extractEvents(r,t,i,o,a))&&(s=k(s,c))}P(s)}}var En=!0;function xn(e,t){kn(t,e,!1)}function kn(e,t,n){switch(wn(t)){case 0:var r=On.bind(null,t,1);break;case 1:r=Tn.bind(null,t,1);break;default:r=Pn.bind(null,t,1)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function On(e,t,n){ue||le();var r=Pn,o=ue;ue=!0;try{se(r,e,t,n)}finally{(ue=o)||he()}}function Tn(e,t,n){_n(bn,Pn.bind(null,e,t,n))}function Mn(e,t,n,r){if(Cn.length){var o=Cn.pop();o.topLevelType=e,o.eventSystemFlags=t,o.nativeEvent=n,o.targetInst=r,e=o}else e={topLevelType:e,eventSystemFlags:t,nativeEvent:n,targetInst:r,ancestors:[]};try{if(t=Sn,n=e,de)t(n,void 0);else{de=!0;try{ce(t,n,void 0)}finally{de=!1,he()}}}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,Cn.length<10&&Cn.push(e)}}function Pn(e,t,n){if(En)if(0<ct.length&&-1<gt.indexOf(e))e=yt(null,e,t,n),ct.push(e);else{var r=Ln(e,t,n);null===r?bt(e,n):-1<gt.indexOf(e)?(e=yt(r,e,t,n),ct.push(e)):function(e,t,n,r){switch(t){case"focus":return ut=_t(ut,e,t,n,r),!0;case"dragenter":return dt=_t(dt,e,t,n,r),!0;case"mouseover":return ht=_t(ht,e,t,n,r),!0;case"pointerover":var o=r.pointerId;return pt.set(o,_t(pt.get(o)||null,e,t,n,r)),!0;case"gotpointercapture":return o=r.pointerId,ft.set(o,_t(ft.get(o)||null,e,t,n,r)),!0}return!1}(r,e,t,n)||(bt(e,n),Mn(e,t,n,null))}}function Ln(e,t,n){var r=Ot(n);if(null!==(r=lr(r))){var o=tt(r);if(null===o)r=null;else{var i=o.tag;if(13===i){if(null!==(r=nt(o)))return r;r=null}else if(3===i){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Mn(e,t,n,r),null}function Nn(e){if(!J)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var An=new("function"==typeof WeakMap?WeakMap:Map);function In(e){var t=An.get(e);return void 0===t&&(t=new Set,An.set(e,t)),t}function Rn(e,t,n){if(!n.has(e)){switch(e){case"scroll":kn(t,"scroll",!0);break;case"focus":case"blur":kn(t,"focus",!0),kn(t,"blur",!0),n.add("blur"),n.add("focus");break;case"cancel":case"close":Nn(e)&&kn(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===et.indexOf(e)&&xn(e,t)}n.add(e)}}var Dn={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jn=["Webkit","ms","Moz","O"];function zn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Dn.hasOwnProperty(e)&&Dn[e]?(""+t).trim():t+"px"}function Fn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=zn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(Dn).forEach((function(e){jn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dn[t]=Dn[e]}))}));var Bn=o({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wn(e,t){if(t){if(Bn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if(!("object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(a(62,""))}}function Hn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Un(e,t){var n=In(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=f[t];for(var r=0;r<t.length;r++)Rn(t[r],e,n)}function Gn(){}function Vn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Yn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qn(e,t){var n,r=Yn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Yn(r)}}function Zn(){for(var e=window,t=Vn();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=Vn((e=t.contentWindow).document)}return t}function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Kn=null,Xn=null;function Qn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Jn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var er="function"==typeof setTimeout?setTimeout:void 0,tr="function"==typeof clearTimeout?clearTimeout:void 0;function nr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function rr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var or=Math.random().toString(36).slice(2),ir="__reactInternalInstance$"+or,ar="__reactEventHandlers$"+or,sr="__reactContainere$"+or;function lr(e){var t=e[ir];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sr]||n[ir]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rr(e);null!==e;){if(n=e[ir])return n;e=rr(e)}return t}n=(e=n).parentNode}return null}function cr(e){return!(e=e[ir]||e[sr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ur(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function dr(e){return e[ar]||null}var hr=null,pr=null,fr=null;function mr(){if(fr)return fr;var e,t,n=pr,r=n.length,o="value"in hr?hr.value:hr.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return fr=o.slice(e,1<t?1-t:void 0)}var gr=Dt.extend({data:null}),vr=Dt.extend({data:null}),yr=[9,13,27,32],br=J&&"CompositionEvent"in window,_r=null;J&&"documentMode"in document&&(_r=document.documentMode);var wr=J&&"TextEvent"in window&&!_r,Cr=J&&(!br||_r&&8<_r&&11>=_r),Sr=String.fromCharCode(32),Er={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},xr=!1;function kr(e,t){switch(e){case"keyup":return-1!==yr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Or(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Tr=!1;var Mr={eventTypes:Er,extractEvents:function(e,t,n,r){var o;if(br)e:{switch(e){case"compositionstart":var i=Er.compositionStart;break e;case"compositionend":i=Er.compositionEnd;break e;case"compositionupdate":i=Er.compositionUpdate;break e}i=void 0}else Tr?kr(e,n)&&(i=Er.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Er.compositionStart);return i?(Cr&&"ko"!==n.locale&&(Tr||i!==Er.compositionStart?i===Er.compositionEnd&&Tr&&(o=mr()):(pr="value"in(hr=r)?hr.value:hr.textContent,Tr=!0)),i=gr.getPooled(i,t,n,r),o?i.data=o:null!==(o=Or(n))&&(i.data=o),At(i),o=i):o=null,(e=wr?function(e,t){switch(e){case"compositionend":return Or(t);case"keypress":return 32!==t.which?null:(xr=!0,Sr);case"textInput":return(e=t.data)===Sr&&xr?null:e;default:return null}}(e,n):function(e,t){if(Tr)return"compositionend"===e||!br&&kr(e,t)?(e=mr(),fr=pr=hr=null,Tr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cr&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=vr.getPooled(Er.beforeInput,t,n,r)).data=e,At(t)):t=null,null===o?t:null===t?o:[o,t]}},Pr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pr[e.type]:"textarea"===t}var Nr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Ar(e,t,n){return(e=Dt.getPooled(Nr.change,e,t,n)).type="change",oe(n),At(e),e}var Ir=null,Rr=null;function Dr(e){P(e)}function jr(e){if(xe(ur(e)))return e}function zr(e,t){if("change"===e)return t}var Fr=!1;function Br(){Ir&&(Ir.detachEvent("onpropertychange",Wr),Rr=Ir=null)}function Wr(e){if("value"===e.propertyName&&jr(Rr))if(e=Ar(Rr,e,Ot(e)),ue)P(e);else{ue=!0;try{ae(Dr,e)}finally{ue=!1,he()}}}function Hr(e,t,n){"focus"===e?(Br(),Rr=n,(Ir=t).attachEvent("onpropertychange",Wr)):"blur"===e&&Br()}function Ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jr(Rr)}function Gr(e,t){if("click"===e)return jr(t)}function Vr(e,t){if("input"===e||"change"===e)return jr(t)}J&&(Fr=Nn("input")&&(!document.documentMode||9<document.documentMode));var Yr,qr={eventTypes:Nr,_isInputEventSupported:Fr,extractEvents:function(e,t,n,r){var o=t?ur(t):window,i=o.nodeName&&o.nodeName.toLowerCase();if("select"===i||"input"===i&&"file"===o.type)var a=zr;else if(Lr(o))if(Fr)a=Vr;else{a=Ur;var s=Hr}else(i=o.nodeName)&&"input"===i.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(a=Gr);if(a&&(a=a(e,t)))return Ar(a,n,r);s&&s(e,o,t),"blur"===e&&(e=o._wrapperState)&&e.controlled&&"number"===o.type&&Le(o,"number",o.value)}},Zr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$r={eventTypes:Zr,extractEvents:function(e,t,n,r,o){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&0==(32&o)&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?lr(t):null)&&(t!==(i=tt(t))||5!==t.tag&&6!==t.tag)&&(t=null)):a=null,a===t)return null;if("mouseout"===e||"mouseover"===e)var s=tn,l=Zr.mouseLeave,c=Zr.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=nn,l=Zr.pointerLeave,c=Zr.pointerEnter,u="pointer");if(e=null==a?o:ur(a),o=null==t?o:ur(t),(l=s.getPooled(l,a,n,r)).type=u+"leave",l.target=e,l.relatedTarget=o,(r=s.getPooled(c,t,n,r)).type=u+"enter",r.target=o,r.relatedTarget=e,u=t,(s=a)&&u)e:{for(e=u,a=0,t=c=s;t;t=Tt(t))a++;for(t=0,o=e;o;o=Tt(o))t++;for(;0<a-t;)c=Tt(c),a--;for(;0<t-a;)e=Tt(e),t--;for(;a--;){if(c===e||c===e.alternate)break e;c=Tt(c),e=Tt(e)}c=null}else c=null;for(e=c,c=[];s&&s!==e&&(null===(a=s.alternate)||a!==e);)c.push(s),s=Tt(s);for(s=[];u&&u!==e&&(null===(a=u.alternate)||a!==e);)s.push(u),u=Tt(u);for(u=0;u<c.length;u++)Lt(c[u],"bubbled",l);for(u=s.length;0<u--;)Lt(s[u],"captured",r);return n===Yr?(Yr=null,[l]):(Yr=n,[l,r])}};var Kr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Xr=Object.prototype.hasOwnProperty;function Qr(e,t){if(Kr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Xr.call(t,n[r])||!Kr(e[n[r]],t[n[r]]))return!1;return!0}var Jr=J&&"documentMode"in document&&11>=document.documentMode,eo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},to=null,no=null,ro=null,oo=!1;function io(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return oo||null==to||to!==Vn(n)?null:("selectionStart"in(n=to)&&$n(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ro&&Qr(ro,n)?null:(ro=n,(e=Dt.getPooled(eo.select,no,e,t)).type="select",e.target=to,At(e),e))}var ao={eventTypes:eo,extractEvents:function(e,t,n,r){var o,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(o=!i)){e:{i=In(i),o=f.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?ur(t):window,e){case"focus":(Lr(i)||"true"===i.contentEditable)&&(to=i,no=t,ro=null);break;case"blur":ro=no=to=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":return oo=!1,io(n,r);case"selectionchange":if(Jr)break;case"keydown":case"keyup":return io(n,r)}return null}};L.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),C=dr,S=cr,E=ur,L.injectEventPluginsByName({SimpleEventPlugin:yn,EnterLeaveEventPlugin:$r,ChangeEventPlugin:qr,SelectEventPlugin:ao,BeforeInputEventPlugin:Mr}),new Set;var so=[],lo=-1;function co(e){0>lo||(e.current=so[lo],so[lo]=null,lo--)}function uo(e,t){lo++,so[lo]=e.current,e.current=t}var ho={},po={current:ho},fo={current:!1},mo=ho;function go(e,t){var n=e.type.contextTypes;if(!n)return ho;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function vo(e){return null!=(e=e.childContextTypes)}function yo(e){co(fo),co(po)}function bo(e){co(fo),co(po)}function _o(e,t,n){if(po.current!==ho)throw Error(a(168));uo(po,t),uo(fo,n)}function wo(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(a(108,X(t)||"Unknown",i));return o({},n,{},r)}function Co(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||ho,mo=po.current,uo(po,t),uo(fo,fo.current),!0}function So(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(t=wo(e,t,mo),r.__reactInternalMemoizedMergedChildContext=t,co(fo),co(po),uo(po,t)):co(fo),uo(fo,n)}var Eo=i.unstable_runWithPriority,xo=i.unstable_scheduleCallback,ko=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,To=i.unstable_requestPaint,Mo=i.unstable_now,Po=i.unstable_getCurrentPriorityLevel,Lo=i.unstable_ImmediatePriority,No=i.unstable_UserBlockingPriority,Ao=i.unstable_NormalPriority,Io=i.unstable_LowPriority,Ro=i.unstable_IdlePriority,Do={},jo=void 0!==To?To:function(){},zo=null,Fo=null,Bo=!1,Wo=Mo(),Ho=1e4>Wo?Mo:function(){return Mo()-Wo};function Uo(){switch(Po()){case Lo:return 99;case No:return 98;case Ao:return 97;case Io:return 96;case Ro:return 95;default:throw Error(a(332))}}function Go(e){switch(e){case 99:return Lo;case 98:return No;case 97:return Ao;case 96:return Io;case 95:return Ro;default:throw Error(a(332))}}function Vo(e,t){return e=Go(e),Eo(e,t)}function Yo(e,t,n){return e=Go(e),xo(e,t,n)}function qo(e){return null===zo?(zo=[e],Fo=xo(Lo,$o)):zo.push(e),Do}function Zo(){if(null!==Fo){var e=Fo;Fo=null,ko(e)}$o()}function $o(){if(!Bo&&null!==zo){Bo=!0;var e=0;try{var t=zo;Vo(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),zo=null}catch(t){throw null!==zo&&(zo=zo.slice(e+1)),xo(Lo,Zo),t}finally{Bo=!1}}}var Ko=3;function Xo(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Qo(e,t){if(e&&e.defaultProps)for(var n in t=o({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Jo={current:null},ei=null,ti=null,ni=null;function ri(){ni=ti=ei=null}function oi(e,t){var n=e.type._context;uo(Jo,n._currentValue),n._currentValue=t}function ii(e){var t=Jo.current;co(Jo),e.type._context._currentValue=t}function ai(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function si(e,t){ei=e,ni=ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Wa=!0),e.firstContext=null)}function li(e,t){if(ni!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(ni=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ti){if(null===ei)throw Error(a(308));ti=t,ei.dependencies={expirationTime:0,firstContext:t,responders:null}}else ti=ti.next=t;return e._currentValue}var ci=!1;function ui(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function di(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function hi(e,t){return{expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function pi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function fi(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,o=null;null===r&&(r=e.updateQueue=ui(e.memoizedState))}else r=e.updateQueue,o=n.updateQueue,null===r?null===o?(r=e.updateQueue=ui(e.memoizedState),o=n.updateQueue=ui(n.memoizedState)):r=e.updateQueue=di(o):null===o&&(o=n.updateQueue=di(r));null===o||r===o?pi(r,t):null===r.lastUpdate||null===o.lastUpdate?(pi(r,t),pi(o,t)):(pi(r,t),o.lastUpdate=t)}function mi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ui(e.memoizedState):gi(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function gi(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=di(t)),t}function vi(e,t,n,r,i,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,i):e;case 3:e.effectTag=-4097&e.effectTag|64;case 0:if(null==(i="function"==typeof(e=n.payload)?e.call(a,r,i):e))break;return o({},r,i);case 2:ci=!0}return r}function yi(e,t,n,r,o){ci=!1;for(var i=(t=gi(e,t)).baseState,a=null,s=0,l=t.firstUpdate,c=i;null!==l;){var u=l.expirationTime;u<o?(null===a&&(a=l,i=c),s<u&&(s=u)):(dl(u,l.suspenseConfig),c=vi(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<o?(null===u&&(u=l,null===a&&(i=c)),s<d&&(s=d)):(c=vi(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===a&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===u&&(i=c),t.baseState=i,t.firstUpdate=a,t.firstCapturedUpdate=u,hl(s),e.expirationTime=s,e.memoizedState=c}function bi(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),_i(t.firstEffect,n),t.firstEffect=t.lastEffect=null,_i(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function _i(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;if("function"!=typeof n)throw Error(a(191,n));n.call(r)}e=e.nextEffect}}var wi=A.ReactCurrentBatchConfig,Ci=(new r.Component).refs;function Si(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:o({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Ei={isMounted:function(e){return!!(e=e._reactInternalFiber)&&tt(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Qs(),o=wi.suspense;(o=hi(r=Js(r,e,o),o)).payload=t,null!=n&&(o.callback=n),fi(e,o),el(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Qs(),o=wi.suspense;(o=hi(r=Js(r,e,o),o)).tag=1,o.payload=t,null!=n&&(o.callback=n),fi(e,o),el(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Qs(),r=wi.suspense;(r=hi(n=Js(n,e,r),r)).tag=2,null!=t&&(r.callback=t),fi(e,r),el(e,n)}};function xi(e,t,n,r,o,i,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(n,r)||!Qr(o,i))}function ki(e,t,n){var r=!1,o=ho,i=t.contextType;return"object"==typeof i&&null!==i?i=li(i):(o=vo(t)?mo:po.current,i=(r=null!=(r=t.contextTypes))?go(e,o):ho),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ei,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oi(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ei.enqueueReplaceState(t,t.state,null)}function Ti(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=Ci;var i=t.contextType;"object"==typeof i&&null!==i?o.context=li(i):(i=vo(t)?mo:po.current,o.context=go(e,i)),null!==(i=e.updateQueue)&&(yi(e,i,n,o,r),o.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(Si(e,t,i,n),o.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof o.getSnapshotBeforeUpdate||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||(t=o.state,"function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&Ei.enqueueReplaceState(o,o.state,null),null!==(i=e.updateQueue)&&(yi(e,i,n,o,r),o.state=e.memoizedState)),"function"==typeof o.componentDidMount&&(e.effectTag|=4)}var Mi=Array.isArray;function Pi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=r.refs;t===Ci&&(t=r.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Li(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Ni(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t,n){return(e=Nl(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Rl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=o(t,n.props)).ref=Pi(e,t,n),r.return=e,r):((r=Al(n.type,n.key,n.props,null,e.mode,r)).ref=Pi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dl(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Il(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rl(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case D:return(n=Al(t.type,t.key,t.props,null,e.mode,n)).ref=Pi(e,null,t),n.return=e,n;case j:return(t=Dl(t,e.mode,n)).return=e,t}if(Mi(t)||K(t))return(t=Il(t,e.mode,n,null)).return=e,t;Li(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case D:return n.key===o?n.type===z?d(e,t,n.props.children,r,o):c(e,t,n,r):null;case j:return n.key===o?u(e,t,n,r):null}if(Mi(n)||K(n))return null!==o?null:d(e,t,n,r,null);Li(e,n)}return null}function f(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case D:return e=e.get(null===r.key?n:r.key)||null,r.type===z?d(t,e,r.props.children,o,r.key):c(t,e,r,o);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(Mi(r)||K(r))return d(t,e=e.get(n)||null,r,o,null);Li(t,r)}return null}function m(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(o,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(o,d),a=i(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(o,d),c;if(null===d){for(;m<s.length;m++)null!==(d=h(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(o,d);m<s.length;m++)null!==(g=f(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),c}function g(o,s,l,c){var u=K(l);if("function"!=typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(o,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(o,m),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(o,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(o,y.value,c))&&(s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(o,m);!y.done;g++,y=l.next())null!==(y=f(m,o,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(o,e)})),u}return function(e,r,i,l){var c="object"==typeof i&&null!==i&&i.type===z&&null===i.key;c&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case D:e:{for(u=i.key,c=r;null!==c;){if(c.key===u){if(7===c.tag?i.type===z:c.elementType===i.type){n(e,c.sibling),(r=o(c,i.type===z?i.props.children:i.props)).ref=Pi(e,c,i),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}i.type===z?((r=Il(i.props.children,e.mode,l,i.key)).return=e,e=r):((l=Al(i.type,i.key,i.props,null,e.mode,l)).ref=Pi(e,r,i),l.return=e,e=l)}return s(e);case j:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=o(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Dl(i,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=o(r,i)).return=e,e=r):(n(e,r),(r=Rl(i,e.mode,l)).return=e,e=r),s(e);if(Mi(i))return m(e,r,i,l);if(K(i))return g(e,r,i,l);if(u&&Li(e,i),void 0===i&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Ai=Ni(!0),Ii=Ni(!1),Ri={},Di={current:Ri},ji={current:Ri},zi={current:Ri};function Fi(e){if(e===Ri)throw Error(a(174));return e}function Bi(e,t){uo(zi,t),uo(ji,e),uo(Di,Ri);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:We(null,"");break;default:t=We(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}co(Di),uo(Di,t)}function Wi(e){co(Di),co(ji),co(zi)}function Hi(e){Fi(zi.current);var t=Fi(Di.current),n=We(t,e.type);t!==n&&(uo(ji,e),uo(Di,n))}function Ui(e){ji.current===e&&(co(Di),co(ji))}var Gi={current:0};function Vi(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Yi(e,t){return{responder:e,props:t}}var qi=A.ReactCurrentDispatcher,Zi=A.ReactCurrentBatchConfig,$i=0,Ki=null,Xi=null,Qi=null,Ji=null,ea=null,ta=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0;function la(){throw Error(a(321))}function ca(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kr(e[n],t[n]))return!1;return!0}function ua(e,t,n,r,o,i){if($i=i,Ki=t,Qi=null!==e?e.memoizedState:null,qi.current=null===Qi?Ma:Pa,t=n(r,o),ia){do{ia=!1,sa+=1,Qi=null!==e?e.memoizedState:null,ta=Ji,ra=ea=Xi=null,qi.current=Pa,t=n(r,o)}while(ia);aa=null,sa=0}if(qi.current=Ta,(e=Ki).memoizedState=Ji,e.expirationTime=na,e.updateQueue=ra,e.effectTag|=oa,e=null!==Xi&&null!==Xi.next,$i=0,ta=ea=Ji=Qi=Xi=Ki=null,na=0,ra=null,oa=0,e)throw Error(a(300));return t}function da(){qi.current=Ta,$i=0,ta=ea=Ji=Qi=Xi=Ki=null,na=0,ra=null,oa=0,ia=!1,aa=null,sa=0}function ha(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===ea?Ji=ea=e:ea=ea.next=e,ea}function pa(){if(null!==ta)ta=(ea=ta).next,Qi=null!==(Xi=Qi)?Xi.next:null;else{if(null===Qi)throw Error(a(310));var e={memoizedState:(Xi=Qi).memoizedState,baseState:Xi.baseState,queue:Xi.queue,baseUpdate:Xi.baseUpdate,next:null};ea=null===ea?Ji=e:ea.next=e,Qi=Xi.next}return ea}function fa(e,t){return"function"==typeof t?t(e):t}function ma(e){var t=pa(),n=t.queue;if(null===n)throw Error(a(311));if(n.lastRenderedReducer=e,0<sa){var r=n.dispatch;if(null!==aa){var o=aa.get(n);if(void 0!==o){aa.delete(n);var i=t.memoizedState;do{i=e(i,o.action),o=o.next}while(null!==o);return Kr(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),n.lastRenderedState=i,[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=o=null,c=r,u=!1;do{var d=c.expirationTime;d<$i?(u||(u=!0,l=s,o=i),d>na&&hl(na=d)):(dl(d,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action)),s=c,c=c.next}while(null!==c&&c!==r);u||(l=s,o=i),Kr(i,t.memoizedState)||(Wa=!0),t.memoizedState=i,t.baseUpdate=l,t.baseState=o,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function ga(e){var t=ha();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e}).dispatch=Oa.bind(null,Ki,e),[t.memoizedState,e]}function va(e){return ma(fa)}function ya(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===ra?(ra={lastEffect:null}).lastEffect=e.next=e:null===(t=ra.lastEffect)?ra.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,ra.lastEffect=e),e}function ba(e,t,n,r){var o=ha();oa|=e,o.memoizedState=ya(t,n,void 0,void 0===r?null:r)}function _a(e,t,n,r){var o=pa();r=void 0===r?null:r;var i=void 0;if(null!==Xi){var a=Xi.memoizedState;if(i=a.destroy,null!==r&&ca(r,a.deps))return void ya(0,n,i,r)}oa|=e,o.memoizedState=ya(t,n,i,r)}function wa(e,t){return ba(516,192,e,t)}function Ca(e,t){return _a(516,192,e,t)}function Sa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ea(){}function xa(e,t){return ha().memoizedState=[e,void 0===t?null:t],e}function ka(e,t){var n=pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Oa(e,t,n){if(!(25>sa))throw Error(a(301));var r=e.alternate;if(e===Ki||null!==r&&r===Ki)if(ia=!0,e={expirationTime:$i,suspenseConfig:null,action:n,eagerReducer:null,eagerState:null,next:null},null===aa&&(aa=new Map),void 0===(n=aa.get(t)))aa.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{var o=Qs(),i=wi.suspense;i={expirationTime:o=Js(o,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var s=t.last;if(null===s)i.next=i;else{var l=s.next;null!==l&&(i.next=l),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var c=t.lastRenderedState,u=r(c,n);if(i.eagerReducer=r,i.eagerState=u,Kr(u,c))return}catch(e){}el(e,o)}}var Ta={readContext:li,useCallback:la,useContext:la,useEffect:la,useImperativeHandle:la,useLayoutEffect:la,useMemo:la,useReducer:la,useRef:la,useState:la,useDebugValue:la,useResponder:la,useDeferredValue:la,useTransition:la},Ma={readContext:li,useCallback:xa,useContext:li,useEffect:wa,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ba(4,36,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ba(4,36,e,t)},useMemo:function(e,t){var n=ha();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ha();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oa.bind(null,Ki,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ha().memoizedState=e},useState:ga,useDebugValue:Ea,useResponder:Yi,useDeferredValue:function(e,t){var n=ga(e),r=n[0],o=n[1];return wa((function(){i.unstable_next((function(){var n=Zi.suspense;Zi.suspense=void 0===t?null:t;try{o(e)}finally{Zi.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=ga(!1),n=t[0],r=t[1];return[xa((function(t){r(!0),i.unstable_next((function(){var n=Zi.suspense;Zi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Zi.suspense=n}}))}),[e,n]),n]}},Pa={readContext:li,useCallback:ka,useContext:li,useEffect:Ca,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,_a(4,36,Sa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _a(4,36,e,t)},useMemo:function(e,t){var n=pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ca(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ma,useRef:function(){return pa().memoizedState},useState:va,useDebugValue:Ea,useResponder:Yi,useDeferredValue:function(e,t){var n=va(),r=n[0],o=n[1];return Ca((function(){i.unstable_next((function(){var n=Zi.suspense;Zi.suspense=void 0===t?null:t;try{o(e)}finally{Zi.suspense=n}}))}),[e,t]),r},useTransition:function(e){var t=va(),n=t[0],r=t[1];return[ka((function(t){r(!0),i.unstable_next((function(){var n=Zi.suspense;Zi.suspense=void 0===e?null:e;try{r(!1),t()}finally{Zi.suspense=n}}))}),[e,n]),n]}},La=null,Na=null,Aa=!1;function Ia(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Da(e){if(Aa){var t=Na;if(t){var n=t;if(!Ra(e,t)){if(!(t=nr(n.nextSibling))||!Ra(e,t))return e.effectTag=-1025&e.effectTag|2,Aa=!1,void(La=e);Ia(La,n)}La=e,Na=nr(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,Aa=!1,La=e}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;La=e}function za(e){if(e!==La)return!1;if(!Aa)return ja(e),Aa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Jn(t,e.memoizedProps))for(t=Na;t;)Ia(e,t),t=nr(t.nextSibling);if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Na=nr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Na=null}}else Na=La?nr(e.stateNode.nextSibling):null;return!0}function Fa(){Na=La=null,Aa=!1}var Ba=A.ReactCurrentOwner,Wa=!1;function Ha(e,t,n,r){t.child=null===e?Ii(t,null,n,r):Ai(t,e.child,n,r)}function Ua(e,t,n,r,o){n=n.render;var i=t.ref;return si(t,o),r=ua(e,t,n,r,i,o),null===e||Wa?(t.effectTag|=1,Ha(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),is(e,t,o))}function Ga(e,t,n,r,o,i){if(null===e){var a=n.type;return"function"!=typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Al(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Va(e,t,a,r,o,i))}return a=e.child,o<i&&(o=a.memoizedProps,(n=null!==(n=n.compare)?n:Qr)(o,r)&&e.ref===t.ref)?is(e,t,i):(t.effectTag|=1,(e=Nl(a,r)).ref=t.ref,e.return=t,t.child=e)}function Va(e,t,n,r,o,i){return null!==e&&Qr(e.memoizedProps,r)&&e.ref===t.ref&&(Wa=!1,o<i)?is(e,t,i):qa(e,t,n,r,i)}function Ya(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function qa(e,t,n,r,o){var i=vo(n)?mo:po.current;return i=go(t,i),si(t,o),n=ua(e,t,n,r,i,o),null===e||Wa?(t.effectTag|=1,Ha(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=o&&(e.expirationTime=0),is(e,t,o))}function Za(e,t,n,r,o){if(vo(n)){var i=!0;Co(t)}else i=!1;if(si(t,o),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ki(t,n,r),Ti(t,n,r,o),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=li(c):c=go(t,c=vo(n)?mo:po.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Oi(t,a,r,c),ci=!1;var h=t.memoizedState;l=a.state=h;var p=t.updateQueue;null!==p&&(yi(t,p,r,a,o),l=t.memoizedState),s!==r||h!==l||fo.current||ci?("function"==typeof u&&(Si(t,n,u,r),l=t.memoizedState),(s=ci||xi(t,n,s,r,h,l,c))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=t.type===t.elementType?s:Qo(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=li(c):c=go(t,c=vo(n)?mo:po.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Oi(t,a,r,c),ci=!1,l=t.memoizedState,h=a.state=l,null!==(p=t.updateQueue)&&(yi(t,p,r,a,o),h=t.memoizedState),s!==r||l!==h||fo.current||ci?("function"==typeof u&&(Si(t,n,u,r),h=t.memoizedState),(u=ci||xi(t,n,s,r,l,h,c))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return $a(e,t,n,r,i,o)}function $a(e,t,n,r,o,i){Ya(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return o&&So(t,n,!1),is(e,t,i);r=t.stateNode,Ba.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Ai(t,e.child,null,i),t.child=Ai(t,null,s,i)):Ha(e,t,s,i),t.memoizedState=r.state,o&&So(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?_o(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_o(0,t.context,!1),Bi(e,t.containerInfo)}var Xa,Qa,Ja,es={dehydrated:null,retryTime:0};function ts(e,t,n){var r,o=t.mode,i=t.pendingProps,a=Gi.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),uo(Gi,1&a),null===e){if(void 0!==i.fallback&&Da(t),s){if(s=i.fallback,(i=Il(null,o,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Il(s,o,n,null)).return=t,i.sibling=n,t.memoizedState=es,t.child=i,n}return o=i.children,t.memoizedState=null,t.child=Ii(t,null,o,n)}if(null!==e.memoizedState){if(o=(e=e.child).sibling,s){if(i=i.fallback,(n=Nl(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(o=Nl(o,i,o.expirationTime)).return=t,n.sibling=o,n.childExpirationTime=0,t.memoizedState=es,t.child=n,o}return n=Ai(t,e.child,i.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=i.fallback,(i=Il(null,o,0,null)).return=t,i.child=e,null!==e&&(e.return=i),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,i.child=e;null!==e;)e.return=i,e=e.sibling;return(n=Il(s,o,n,null)).return=t,i.sibling=n,n.effectTag|=2,i.childExpirationTime=0,t.memoizedState=es,t.child=i,n}return t.memoizedState=null,t.child=Ai(t,e,i.children,n)}function ns(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),ai(e.return,t)}function rs(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,last:r,tail:n,tailExpiration:0,tailMode:o,lastEffect:i}:(a.isBackwards=t,a.rendering=null,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=o,a.lastEffect=i)}function os(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ha(e,t,r.children,n),0!=(2&(r=Gi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(uo(Gi,r),0==(2&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Vi(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rs(t,!1,o,n,i,t.lastEffect);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Vi(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rs(t,!0,n,null,i,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function is(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&hl(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Nl(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Nl(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function as(e){e.effectTag|=4}function ss(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ls(e){switch(e.tag){case 1:vo(e.type)&&yo();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Wi(),bo(),0!=(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return Ui(e),null;case 13:return co(Gi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return co(Gi),null;case 4:return Wi(),null;case 10:return ii(e),null;default:return null}}function cs(e,t){return{value:e,source:t,stack:Q(t)}}Xa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qa=function(e,t,n,r,i){var a=e.memoizedProps;if(a!==r){var s,l,c=t.stateNode;switch(Fi(Di.current),e=null,n){case"input":a=ke(c,a),r=ke(c,r),e=[];break;case"option":a=Ne(c,a),r=Ne(c,r),e=[];break;case"select":a=o({},a,{value:void 0}),r=o({},r,{value:void 0}),e=[];break;case"textarea":a=Ie(c,a),r=Ie(c,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(c.onclick=Gn)}for(s in Wn(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(l in c=a[s])c.hasOwnProperty(l)&&(n||(n={}),n[l]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(p.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var u=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&u!==c&&(null!=u||null!=c))if("style"===s)if(c){for(l in c)!c.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&c[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(e||(e=[]),e.push(s,n)),n=u;else"dangerouslySetInnerHTML"===s?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(s,""+u)):"children"===s?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(s,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(p.hasOwnProperty(s)?(null!=u&&Un(i,s),e||c===u||(e=[])):(e=e||[]).push(s,u))}n&&(e=e||[]).push("style",n),i=e,(t.updateQueue=i)&&as(t)}},Ja=function(e,t,n,r){n!==r&&as(t)};var us="function"==typeof WeakSet?WeakSet:Set;function ds(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Q(n)),null!==n&&X(n.type),t=t.value,null!==e&&1===e.tag&&X(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function hs(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){El(e,t)}else t.current=null}function ps(e,t){switch(t.tag){case 0:case 11:case 15:fs(2,0,t);break;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Qo(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break;case 3:case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}function fs(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if(0!=(r.tag&e)){var o=r.destroy;r.destroy=void 0,void 0!==o&&o()}0!=(r.tag&t)&&(o=r.create,r.destroy=o()),r=r.next}while(r!==n)}}function ms(e,t,n){switch("function"==typeof Tl&&Tl(t),t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Vo(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var o=t;try{n()}catch(e){El(o,e)}}e=e.next}while(e!==r)}))}break;case 1:hs(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){El(e,t)}}(t,n);break;case 5:hs(t);break;case 4:bs(e,t,n)}}function gs(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,null!==t&&gs(t)}function vs(e){return 5===e.tag||3===e.tag||4===e.tag}function ys(e){e:{for(var t=e.return;null!==t;){if(vs(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ge(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var o=e;;){var i=5===o.tag||6===o.tag;if(i){var s=i?o.stateNode:o.stateNode.instance;if(n)if(r){var l=s;s=n,8===(i=t).nodeType?i.parentNode.insertBefore(l,s):i.insertBefore(l,s)}else t.insertBefore(s,n);else r?(8===(l=t).nodeType?(i=l.parentNode).insertBefore(s,l):(i=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==i.onclick||(i.onclick=Gn)):t.appendChild(s)}else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===e)break;for(;null===o.sibling;){if(null===o.return||o.return===e)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function bs(e,t,n){for(var r,o,i=t,s=!1;;){if(!s){s=i.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:r=r.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===i.tag||6===i.tag){e:for(var l=e,c=i,u=n,d=c;;)if(ms(l,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}o?(l=r,c=i.stateNode,8===l.nodeType?l.parentNode.removeChild(c):l.removeChild(c)):r.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){r=i.stateNode.containerInfo,o=!0,i.child.return=i,i=i.child;continue}}else if(ms(e,i,n),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fs(4,8,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,o=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[ar]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Te(n,r),Hn(e,o),t=Hn(e,r),o=0;o<i.length;o+=2){var s=i[o],l=i[o+1];"style"===s?Fn(n,l):"dangerouslySetInnerHTML"===s?Ue(n,l):"children"===s?Ge(n,l):Ce(n,s,l,t)}switch(e){case"input":Me(n,r);break;case"textarea":De(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:if(null===t.stateNode)throw Error(a(162));t.stateNode.nodeValue=t.memoizedProps;break;case 3:(t=t.stateNode).hydrate&&(t.hydrate=!1,kt(t.containerInfo));break;case 12:break;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Bs=Ho()),null!==n)e:for(e=n;;){if(5===e.tag)i=e.stateNode,r?"function"==typeof(i=i.style).setProperty?i.setProperty("display","none","important"):i.display="none":(i=e.stateNode,o=null!=(o=e.memoizedProps.style)&&o.hasOwnProperty("display")?o.display:null,i.style.display=zn("display",o));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(i=e.child.sibling).return=e,e=i;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}ws(t);break;case 19:ws(t);break;case 17:case 20:case 21:break;default:throw Error(a(163))}}function ws(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new us),t.forEach((function(t){var r=kl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Cs="function"==typeof WeakMap?WeakMap:Map;function Ss(e,t,n){(n=hi(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Us=r),ds(e,t)},n}function Es(e,t,n){(n=hi(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var o=t.value;n.payload=function(){return ds(e,t),r(o)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Gs?Gs=new Set([this]):Gs.add(this),ds(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var xs,ks=Math.ceil,Os=A.ReactCurrentDispatcher,Ts=A.ReactCurrentOwner,Ms=0,Ps=null,Ls=null,Ns=0,As=0,Is=null,Rs=1073741823,Ds=1073741823,js=null,zs=0,Fs=!1,Bs=0,Ws=null,Hs=!1,Us=null,Gs=null,Vs=!1,Ys=null,qs=90,Zs=null,$s=0,Ks=null,Xs=0;function Qs(){return 0!=(48&Ms)?1073741821-(Ho()/10|0):0!==Xs?Xs:Xs=1073741821-(Ho()/10|0)}function Js(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var r=Uo();if(0==(4&t))return 99===r?1073741823:1073741822;if(0!=(16&Ms))return Ns;if(null!==n)e=Xo(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=Xo(e,150,100);break;case 97:case 96:e=Xo(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Ps&&e===Ns&&--e,e}function el(e,t){if(50<$s)throw $s=0,Ks=null,Error(a(185));if(null!==(e=tl(e,t))){var n=Uo();1073741823===t?0!=(8&Ms)&&0==(48&Ms)?il(e):(rl(e),0===Ms&&Zo()):rl(e),0==(4&Ms)||98!==n&&99!==n||(null===Zs?Zs=new Map([[e,t]]):(void 0===(n=Zs.get(e))||n>t)&&Zs.set(e,t))}}function tl(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,o=null;if(null===r&&3===e.tag)o=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){o=r.stateNode;break}r=r.return}return null!==o&&(Ps===o&&(hl(t),4===As&&Fl(o,Ns)),Bl(o,t)),o}function nl(e){var t=e.lastExpiredTime;return 0!==t?t:zl(e,t=e.firstPendingTime)?(t=e.lastPingedTime)>(e=e.nextKnownPendingLevel)?t:e:t}function rl(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=qo(il.bind(null,e));else{var t=nl(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Qs();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var o=e.callbackPriority;if(e.callbackExpirationTime===t&&o>=r)return;n!==Do&&ko(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?qo(il.bind(null,e)):Yo(r,ol.bind(null,e),{timeout:10*(1073741821-t)-Ho()}),e.callbackNode=t}}}function ol(e,t){if(Xs=0,t)return Wl(e,t=Qs()),rl(e),null;var n=nl(e);if(0!==n){if(t=e.callbackNode,0!=(48&Ms))throw Error(a(327));if(wl(),e===Ps&&n===Ns||ll(e,n),null!==Ls){var r=Ms;Ms|=16;for(var o=ul();;)try{fl();break}catch(t){cl(e,t)}if(ri(),Ms=r,Os.current=o,1===As)throw t=Is,ll(e,n),Fl(e,n),rl(e),t;if(null===Ls)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=As,Ps=null,r){case 0:case 1:throw Error(a(345));case 2:Wl(e,2<n?2:n);break;case 3:if(Fl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=vl(o)),1073741823===Rs&&10<(o=Bs+500-Ho())){if(Fs){var i=e.lastPingedTime;if(0===i||i>=n){e.lastPingedTime=n,ll(e,n);break}}if(0!==(i=nl(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=er(yl.bind(null,e),o);break}yl(e);break;case 4:if(Fl(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=vl(o)),Fs&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,ll(e,n);break}if(0!==(o=nl(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Ds?r=10*(1073741821-Ds)-Ho():1073741823===Rs?r=0:(r=10*(1073741821-Rs)-5e3,0>(r=(o=Ho())-r)&&(r=0),(n=10*(1073741821-n)-o)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ks(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=er(yl.bind(null,e),r);break}yl(e);break;case 5:if(1073741823!==Rs&&null!==js){i=Rs;var s=js;if(0>=(r=0|s.busyMinDurationMs)?r=0:(o=0|s.busyDelayMs,r=(i=Ho()-(10*(1073741821-i)-(0|s.timeoutMs||5e3)))<=o?0:o+r-i),10<r){Fl(e,n),e.timeoutHandle=er(yl.bind(null,e),r);break}}yl(e);break;default:throw Error(a(329))}if(rl(e),e.callbackNode===t)return ol.bind(null,e)}}return null}function il(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,e.finishedExpirationTime===t)yl(e);else{if(0!=(48&Ms))throw Error(a(327));if(wl(),e===Ps&&t===Ns||ll(e,t),null!==Ls){var n=Ms;Ms|=16;for(var r=ul();;)try{pl();break}catch(t){cl(e,t)}if(ri(),Ms=n,Os.current=r,1===As)throw n=Is,ll(e,t),Fl(e,t),rl(e),n;if(null!==Ls)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ps=null,yl(e),rl(e)}}return null}function al(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&Zo()}}function sl(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&Zo()}}function ll(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,tr(n)),null!==Ls)for(n=Ls.return;null!==n;){var r=n;switch(r.tag){case 1:var o=r.type.childContextTypes;null!=o&&yo();break;case 3:Wi(),bo();break;case 5:Ui(r);break;case 4:Wi();break;case 13:case 19:co(Gi);break;case 10:ii(r)}n=n.return}Ps=e,Ls=Nl(e.current,null),Ns=t,As=0,Is=null,Ds=Rs=1073741823,js=null,zs=0,Fs=!1}function cl(e,t){for(;;){try{if(ri(),da(),null===Ls||null===Ls.return)return As=1,Is=t,null;e:{var n=e,r=Ls.return,o=Ls,i=t;if(t=Ns,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var a=i,s=0!=(1&Gi.current),l=r;do{var c;if(c=13===l.tag){var u=l.memoizedState;if(null!==u)c=null!==u.dehydrated;else{var d=l.memoizedProps;c=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!s)}}if(c){var h=l.updateQueue;if(null===h){var p=new Set;p.add(a),l.updateQueue=p}else h.add(a);if(0==(2&l.mode)){if(l.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var f=hi(1073741823,null);f.tag=2,fi(o,f)}o.expirationTime=1073741823;break e}i=void 0,o=t;var m=n.pingCache;if(null===m?(m=n.pingCache=new Cs,i=new Set,m.set(a,i)):void 0===(i=m.get(a))&&(i=new Set,m.set(a,i)),!i.has(o)){i.add(o);var g=xl.bind(null,n,a,o);a.then(g,g)}l.effectTag|=4096,l.expirationTime=t;break e}l=l.return}while(null!==l);i=Error((X(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Q(o))}5!==As&&(As=2),i=cs(i,o),l=r;do{switch(l.tag){case 3:a=i,l.effectTag|=4096,l.expirationTime=t,mi(l,Ss(l,a,t));break e;case 1:a=i;var v=l.type,y=l.stateNode;if(0==(64&l.effectTag)&&("function"==typeof v.getDerivedStateFromError||null!==y&&"function"==typeof y.componentDidCatch&&(null===Gs||!Gs.has(y)))){l.effectTag|=4096,l.expirationTime=t,mi(l,Es(l,a,t));break e}}l=l.return}while(null!==l)}Ls=gl(Ls)}catch(e){t=e;continue}break}}function ul(){var e=Os.current;return Os.current=Ta,null===e?Ta:e}function dl(e,t){e<Rs&&2<e&&(Rs=e),null!==t&&e<Ds&&2<e&&(Ds=e,js=t)}function hl(e){e>zs&&(zs=e)}function pl(){for(;null!==Ls;)Ls=ml(Ls)}function fl(){for(;null!==Ls&&!Oo();)Ls=ml(Ls)}function ml(e){var t=xs(e.alternate,e,Ns);return e.memoizedProps=e.pendingProps,null===t&&(t=gl(e)),Ts.current=null,t}function gl(e){Ls=e;do{var t=Ls.alternate;if(e=Ls.return,0==(2048&Ls.effectTag)){e:{var n=t,r=Ns,i=(t=Ls).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:vo(t.type)&&yo();break;case 3:Wi(),bo(),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(null===n||null===n.child)&&za(t)&&as(t);break;case 5:Ui(t),r=Fi(zi.current);var s=t.type;if(null!==n&&null!=t.stateNode)Qa(n,t,s,i,r),n.ref!==t.ref&&(t.effectTag|=128);else if(i){var l=Fi(Di.current);if(za(t)){var c=(i=t).stateNode;n=i.type;var u=i.memoizedProps,d=r;switch(c[ir]=i,c[ar]=u,s=void 0,r=c,n){case"iframe":case"object":case"embed":xn("load",r);break;case"video":case"audio":for(c=0;c<et.length;c++)xn(et[c],r);break;case"source":xn("error",r);break;case"img":case"image":case"link":xn("error",r),xn("load",r);break;case"form":xn("reset",r),xn("submit",r);break;case"details":xn("toggle",r);break;case"input":Oe(r,u),xn("invalid",r),Un(d,"onChange");break;case"select":r._wrapperState={wasMultiple:!!u.multiple},xn("invalid",r),Un(d,"onChange");break;case"textarea":Re(r,u),xn("invalid",r),Un(d,"onChange")}for(s in Wn(n,u),c=null,u)u.hasOwnProperty(s)&&(l=u[s],"children"===s?"string"==typeof l?r.textContent!==l&&(c=["children",l]):"number"==typeof l&&r.textContent!==""+l&&(c=["children",""+l]):p.hasOwnProperty(s)&&null!=l&&Un(d,s));switch(n){case"input":Ee(r),Pe(r,u,!0);break;case"textarea":Ee(r),je(r);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(r.onclick=Gn)}s=c,i.updateQueue=s,(i=null!==s)&&as(t)}else{n=t,d=s,u=i,c=9===r.nodeType?r:r.ownerDocument,l===ze&&(l=Be(d)),l===ze?"script"===d?((u=c.createElement("div")).innerHTML="<script><\/script>",c=u.removeChild(u.firstChild)):"string"==typeof u.is?c=c.createElement(d,{is:u.is}):(c=c.createElement(d),"select"===d&&(d=c,u.multiple?d.multiple=!0:u.size&&(d.size=u.size))):c=c.createElementNS(l,d),(u=c)[ir]=n,u[ar]=i,Xa(u,t),t.stateNode=u;var h=r,f=Hn(d=s,n=i);switch(d){case"iframe":case"object":case"embed":xn("load",u),r=n;break;case"video":case"audio":for(r=0;r<et.length;r++)xn(et[r],u);r=n;break;case"source":xn("error",u),r=n;break;case"img":case"image":case"link":xn("error",u),xn("load",u),r=n;break;case"form":xn("reset",u),xn("submit",u),r=n;break;case"details":xn("toggle",u),r=n;break;case"input":Oe(u,n),r=ke(u,n),xn("invalid",u),Un(h,"onChange");break;case"option":r=Ne(u,n);break;case"select":u._wrapperState={wasMultiple:!!n.multiple},r=o({},n,{value:void 0}),xn("invalid",u),Un(h,"onChange");break;case"textarea":Re(u,n),r=Ie(u,n),xn("invalid",u),Un(h,"onChange");break;default:r=n}Wn(d,r),c=void 0,l=d;var m=u,g=r;for(c in g)if(g.hasOwnProperty(c)){var v=g[c];"style"===c?Fn(m,v):"dangerouslySetInnerHTML"===c?null!=(v=v?v.__html:void 0)&&Ue(m,v):"children"===c?"string"==typeof v?("textarea"!==l||""!==v)&&Ge(m,v):"number"==typeof v&&Ge(m,""+v):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(p.hasOwnProperty(c)?null!=v&&Un(h,c):null!=v&&Ce(m,c,v,f))}switch(d){case"input":Ee(u),Pe(u,n,!1);break;case"textarea":Ee(u),je(u);break;case"option":null!=n.value&&u.setAttribute("value",""+we(n.value));break;case"select":(r=u).multiple=!!n.multiple,null!=(u=n.value)?Ae(r,!!n.multiple,u,!1):null!=n.defaultValue&&Ae(r,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof r.onClick&&(u.onclick=Gn)}(i=Qn(s,i))&&as(t)}null!==t.ref&&(t.effectTag|=128)}else if(null===t.stateNode)throw Error(a(166));break;case 6:if(n&&null!=t.stateNode)Ja(0,t,n.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(a(166));r=Fi(zi.current),Fi(Di.current),za(t)?(s=(i=t).stateNode,r=i.memoizedProps,s[ir]=i,(i=s.nodeValue!==r)&&as(t)):(s=t,(i=(9===r.nodeType?r:r.ownerDocument).createTextNode(i))[ir]=s,t.stateNode=i)}break;case 11:break;case 13:if(co(Gi),i=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=r;break e}i=null!==i,s=!1,null===n?void 0!==t.memoizedProps.fallback&&za(t):(s=null!==(r=n.memoizedState),i||null===r||null!==(r=n.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=r,r.nextEffect=u):(t.firstEffect=t.lastEffect=r,r.nextEffect=null),r.effectTag=8)),i&&!s&&0!=(2&t.mode)&&(null===n&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Gi.current)?0===As&&(As=3):(0!==As&&3!==As||(As=4),0!==zs&&null!==Ps&&(Fl(Ps,Ns),Bl(Ps,zs)))),(i||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Wi();break;case 10:ii(t);break;case 9:case 14:break;case 17:vo(t.type)&&yo();break;case 19:if(co(Gi),null===(i=t.memoizedState))break;if(s=0!=(64&t.effectTag),null===(u=i.rendering)){if(s)ss(i,!1);else if(0!==As||null!==n&&0!=(64&n.effectTag))for(n=t.child;null!==n;){if(null!==(u=Vi(n))){for(t.effectTag|=64,ss(i,!1),null!==(s=u.updateQueue)&&(t.updateQueue=s,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,i=r,s=t.child;null!==s;)n=i,(r=s).effectTag&=2,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null,null===(u=r.alternate)?(r.childExpirationTime=0,r.expirationTime=n,r.child=null,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null):(r.childExpirationTime=u.childExpirationTime,r.expirationTime=u.expirationTime,r.child=u.child,r.memoizedProps=u.memoizedProps,r.memoizedState=u.memoizedState,r.updateQueue=u.updateQueue,n=u.dependencies,r.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),s=s.sibling;uo(Gi,1&Gi.current|2),t=t.child;break e}n=n.sibling}}else{if(!s)if(null!==(n=Vi(u))){if(t.effectTag|=64,s=!0,null!==(r=n.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),ss(i,!0),null===i.tail&&"hidden"===i.tailMode&&!u.alternate){null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null);break}}else Ho()>i.tailExpiration&&1<r&&(t.effectTag|=64,s=!0,ss(i,!1),t.expirationTime=t.childExpirationTime=r-1);i.isBackwards?(u.sibling=t.child,t.child=u):(null!==(r=i.last)?r.sibling=u:t.child=u,i.last=u)}if(null!==i.tail){0===i.tailExpiration&&(i.tailExpiration=Ho()+500),r=i.tail,i.rendering=r,i.tail=r.sibling,i.lastEffect=t.lastEffect,r.sibling=null,i=Gi.current,uo(Gi,i=s?1&i|2:1&i),t=r;break e}break;case 20:case 21:break;default:throw Error(a(156,t.tag))}t=null}if(i=Ls,1===Ns||1!==i.childExpirationTime){for(s=0,r=i.child;null!==r;)(n=r.expirationTime)>s&&(s=n),(u=r.childExpirationTime)>s&&(s=u),r=r.sibling;i.childExpirationTime=s}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ls.firstEffect),null!==Ls.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ls.firstEffect),e.lastEffect=Ls.lastEffect),1<Ls.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ls:e.firstEffect=Ls,e.lastEffect=Ls))}else{if(null!==(t=ls(Ls)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ls.sibling))return t;Ls=e}while(null!==Ls);return 0===As&&(As=5),null}function vl(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function yl(e){var t=Uo();return Vo(99,bl.bind(null,e,t)),null}function bl(e,t){do{wl()}while(null!==Ys);if(0!=(48&Ms))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=vl(n);if(e.firstPendingTime=o,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ps&&(Ls=Ps=null,Ns=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var i=Ms;Ms|=32,Ts.current=null,Kn=En;var s=Zn();if($n(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(l=(l=s.ownerDocument)&&l.defaultView||window).getSelection&&l.getSelection();if(c&&0!==c.rangeCount){l=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{l.nodeType,d.nodeType}catch(e){l=null;break e}var h=0,p=-1,f=-1,m=0,g=0,v=s,y=null;t:for(;;){for(var b;v!==l||0!==u&&3!==v.nodeType||(p=h+u),v!==d||0!==c&&3!==v.nodeType||(f=h+c),3===v.nodeType&&(h+=v.nodeValue.length),null!==(b=v.firstChild);)y=v,v=b;for(;;){if(v===s)break t;if(y===l&&++m===u&&(p=h),y===d&&++g===c&&(f=h),null!==(b=v.nextSibling))break;y=(v=y).parentNode}v=b}l=-1===p||-1===f?null:{start:p,end:f}}else l=null}l=l||{start:0,end:0}}else l=null;Xn={focusedElem:s,selectionRange:l},En=!1,Ws=o;do{try{_l()}catch(e){if(null===Ws)throw Error(a(330));El(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=o;do{try{for(s=e,l=t;null!==Ws;){var _=Ws.effectTag;if(16&_&&Ge(Ws.stateNode,""),128&_){var w=Ws.alternate;if(null!==w){var C=w.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&_){case 2:ys(Ws),Ws.effectTag&=-3;break;case 6:ys(Ws),Ws.effectTag&=-3,_s(Ws.alternate,Ws);break;case 1024:Ws.effectTag&=-1025;break;case 1028:Ws.effectTag&=-1025,_s(Ws.alternate,Ws);break;case 4:_s(Ws.alternate,Ws);break;case 8:bs(s,u=Ws,l),gs(u)}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));El(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);if(C=Xn,w=Zn(),_=C.focusedElem,l=C.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==l&&$n(_)&&(w=l.start,void 0===(C=l.end)&&(C=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(C,_.value.length)):(C=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(C=C.getSelection(),u=_.textContent.length,s=Math.min(l.start,u),l=void 0===l.end?s:Math.min(l.end,u),!C.extend&&s>l&&(u=l,l=s,s=u),u=qn(_,s),d=qn(_,l),u&&d&&(1!==C.rangeCount||C.anchorNode!==u.node||C.anchorOffset!==u.offset||C.focusNode!==d.node||C.focusOffset!==d.offset)&&((w=w.createRange()).setStart(u.node,u.offset),C.removeAllRanges(),s>l?(C.addRange(w),C.extend(d.node,d.offset)):(w.setEnd(d.node,d.offset),C.addRange(w))))),w=[];for(C=_;C=C.parentNode;)1===C.nodeType&&w.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<w.length;_++)(C=w[_]).element.scrollLeft=C.left,C.element.scrollTop=C.top}Xn=null,En=!!Kn,Kn=null,e.current=n,Ws=o;do{try{for(_=r;null!==Ws;){var S=Ws.effectTag;if(36&S){var E=Ws.alternate;switch(C=_,(w=Ws).tag){case 0:case 11:case 15:fs(16,32,w);break;case 1:var x=w.stateNode;if(4&w.effectTag)if(null===E)x.componentDidMount();else{var k=w.elementType===w.type?E.memoizedProps:Qo(w.type,E.memoizedProps);x.componentDidUpdate(k,E.memoizedState,x.__reactInternalSnapshotBeforeUpdate)}var O=w.updateQueue;null!==O&&bi(0,O,x);break;case 3:var T=w.updateQueue;if(null!==T){if(s=null,null!==w.child)switch(w.child.tag){case 5:s=w.child.stateNode;break;case 1:s=w.child.stateNode}bi(0,T,s)}break;case 5:var M=w.stateNode;null===E&&4&w.effectTag&&Qn(w.type,w.memoizedProps)&&M.focus();break;case 6:case 4:case 12:break;case 13:if(null===w.memoizedState){var P=w.alternate;if(null!==P){var L=P.memoizedState;if(null!==L){var N=L.dehydrated;null!==N&&kt(N)}}}break;case 19:case 17:case 20:case 21:break;default:throw Error(a(163))}}if(128&S){w=void 0;var A=Ws.ref;if(null!==A){var I=Ws.stateNode;switch(Ws.tag){case 5:w=I;break;default:w=I}"function"==typeof A?A(w):A.current=w}}Ws=Ws.nextEffect}}catch(e){if(null===Ws)throw Error(a(330));El(Ws,e),Ws=Ws.nextEffect}}while(null!==Ws);Ws=null,jo(),Ms=i}else e.current=n;if(Vs)Vs=!1,Ys=e,qs=t;else for(Ws=o;null!==Ws;)t=Ws.nextEffect,Ws.nextEffect=null,Ws=t;if(0===(t=e.firstPendingTime)&&(Gs=null),1073741823===t?e===Ks?$s++:($s=0,Ks=e):$s=0,"function"==typeof Ol&&Ol(n.stateNode,r),rl(e),Hs)throw Hs=!1,e=Us,Us=null,e;return 0!=(8&Ms)?null:(Zo(),null)}function _l(){for(;null!==Ws;){var e=Ws.effectTag;0!=(256&e)&&ps(Ws.alternate,Ws),0==(512&e)||Vs||(Vs=!0,Yo(97,(function(){return wl(),null}))),Ws=Ws.nextEffect}}function wl(){if(90!==qs){var e=97<qs?97:qs;return qs=90,Vo(e,Cl)}}function Cl(){if(null===Ys)return!1;var e=Ys;if(Ys=null,0!=(48&Ms))throw Error(a(331));var t=Ms;for(Ms|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:fs(128,0,n),fs(0,64,n)}}catch(t){if(null===e)throw Error(a(330));El(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return Ms=t,Zo(),!0}function Sl(e,t,n){fi(e,t=Ss(e,t=cs(n,t),1073741823)),null!==(e=tl(e,1073741823))&&rl(e)}function El(e,t){if(3===e.tag)Sl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Sl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Gs||!Gs.has(r))){fi(n,e=Es(n,e=cs(t,e),1073741823)),null!==(n=tl(n,1073741823))&&rl(n);break}}n=n.return}}function xl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Ps===e&&Ns===n?4===As||3===As&&1073741823===Rs&&Ho()-Bs<500?ll(e,Ns):Fs=!0:zl(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,e.finishedExpirationTime===n&&(e.finishedExpirationTime=0,e.finishedWork=null),rl(e)))}function kl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Js(t=Qs(),e,null)),null!==(e=tl(e,t))&&rl(e)}xs=function(e,t,n){var r=t.expirationTime;if(null!==e){var o=t.pendingProps;if(e.memoizedProps!==o||fo.current)Wa=!0;else{if(r<n){switch(Wa=!1,t.tag){case 3:Ka(t),Fa();break;case 5:if(Hi(t),4&t.mode&&1!==n&&o.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:vo(t.type)&&Co(t);break;case 4:Bi(t,t.stateNode.containerInfo);break;case 10:oi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ts(e,t,n):(uo(Gi,1&Gi.current),null!==(t=is(e,t,n))?t.sibling:null);uo(Gi,1&Gi.current);break;case 19:if(r=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(r)return os(e,t,n);t.effectTag|=64}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null),uo(Gi,Gi.current),!r)return null}return is(e,t,n)}Wa=!1}}else Wa=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o=go(t,po.current),si(t,n),o=ua(null,t,r,e,o,n),t.effectTag|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){if(t.tag=1,da(),vo(r)){var i=!0;Co(t)}else i=!1;t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Si(t,r,s,e),o.updater=Ei,t.stateNode=o,o._reactInternalFiber=t,Ti(t,r,e,n),t=$a(null,t,r,!0,i,n)}else t.tag=0,Ha(null,t,o,n),t=t.child;return t;case 16:if(o=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(o),1!==o._status)throw o._result;switch(o=o._result,t.type=o,i=t.tag=function(e){if("function"==typeof e)return Ll(e)?1:0;if(null!=e){if((e=e.$$typeof)===G)return 11;if(e===q)return 14}return 2}(o),e=Qo(o,e),i){case 0:t=qa(null,t,o,e,n);break;case 1:t=Za(null,t,o,e,n);break;case 11:t=Ua(null,t,o,e,n);break;case 14:t=Ga(null,t,o,Qo(o.type,e),r,n);break;default:throw Error(a(306,o,""))}return t;case 0:return r=t.type,o=t.pendingProps,qa(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 1:return r=t.type,o=t.pendingProps,Za(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 3:if(Ka(t),null===(r=t.updateQueue))throw Error(a(282));if(o=null!==(o=t.memoizedState)?o.element:null,yi(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===o)Fa(),t=is(e,t,n);else{if((o=t.stateNode.hydrate)&&(Na=nr(t.stateNode.containerInfo.firstChild),La=t,o=Aa=!0),o)for(n=Ii(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Ha(e,t,r,n),Fa();t=t.child}return t;case 5:return Hi(t),null===e&&Da(t),r=t.type,o=t.pendingProps,i=null!==e?e.memoizedProps:null,s=o.children,Jn(r,o)?s=null:null!==i&&Jn(r,i)&&(t.effectTag|=16),Ya(e,t),4&t.mode&&1!==n&&o.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ha(e,t,s,n),t=t.child),t;case 6:return null===e&&Da(t),null;case 13:return ts(e,t,n);case 4:return Bi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ai(t,null,r,n):Ha(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ua(e,t,r,o=t.elementType===r?o:Qo(r,o),n);case 7:return Ha(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ha(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,oi(t,i=o.value),null!==s){var l=s.value;if(0===(i=Kr(l,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,i):1073741823))){if(s.children===o.children&&!fo.current){t=is(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===l.tag&&((u=hi(n,null)).tag=2,fi(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),ai(l.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ha(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=(i=t.pendingProps).children,si(t,n),r=r(o=li(o,i.unstable_observedBits)),t.effectTag|=1,Ha(e,t,r,n),t.child;case 14:return i=Qo(o=t.type,t.pendingProps),Ga(e,t,o,i=Qo(o.type,i),r,n);case 15:return Va(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Qo(r,o),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,vo(r)?(e=!0,Co(t)):e=!1,si(t,n),ki(t,r,o),Ti(t,r,o,n),$a(null,t,r,!0,e,n);case 19:return os(e,t,n)}throw Error(a(156,t.tag))};var Ol=null,Tl=null;function Ml(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Pl(e,t,n,r){return new Ml(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Nl(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Al(e,t,n,r,o,i){var s=2;if(r=e,"function"==typeof e)Ll(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case z:return Il(n.children,o,i,t);case U:s=8,o|=7;break;case F:s=8,o|=1;break;case B:return(e=Pl(12,n,t,8|o)).elementType=B,e.type=B,e.expirationTime=i,e;case V:return(e=Pl(13,n,t,o)).type=V,e.elementType=V,e.expirationTime=i,e;case Y:return(e=Pl(19,n,t,o)).elementType=Y,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case W:s=10;break e;case H:s=9;break e;case G:s=11;break e;case q:s=14;break e;case Z:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Pl(s,n,t,o)).elementType=e,t.type=r,t.expirationTime=i,t}function Il(e,t,n,r){return(e=Pl(7,e,r,t)).expirationTime=n,e}function Rl(e,t,n){return(e=Pl(6,e,null,t)).expirationTime=n,e}function Dl(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zl(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Fl(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bl(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Wl(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Hl(e,t,n,r){var o=t.current,i=Qs(),s=wi.suspense;i=Js(i,o,s);e:if(n){t:{if(tt(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vo(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vo(c)){n=wo(n,c,l);break e}}n=l}else n=ho;return null===t.context?t.context=n:t.pendingContext=n,(t=hi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fi(o,t),el(o,i),i}function Ul(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Gl(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Vl(e,t){Gl(e,t),(e=e.alternate)&&Gl(e,t)}function Yl(e,t,n){var r=new jl(e,t,n=null!=n&&!0===n.hydrate),o=Pl(3,null,null,2===t?7:1===t?3:0);r.current=o,o.stateNode=r,e[sr]=r.current,n&&0!==t&&function(e){var t=In(e);gt.forEach((function(n){Rn(n,e,t)})),vt.forEach((function(n){Rn(n,e,t)}))}(9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var a=i._internalRoot;if("function"==typeof o){var s=o;o=function(){var e=Ul(a);s.call(e)}}Hl(t,a,e,o)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Yl(e,0,t?{hydrate:!0}:void 0)}(n,r),a=i._internalRoot,"function"==typeof o){var l=o;o=function(){var e=Ul(a);l.call(e)}}sl((function(){Hl(t,a,e,o)}))}return Ul(a)}function $l(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Kl(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ql(t))throw Error(a(200));return $l(e,t,null,n)}Yl.prototype.render=function(e,t){Hl(e,this._internalRoot,null,void 0===t?null:t)},Yl.prototype.unmount=function(e){var t=this._internalRoot,n=void 0===e?null:e,r=t.containerInfo;Hl(null,t,null,(function(){r[sr]=null,null!==n&&n()}))},it=function(e){if(13===e.tag){var t=Xo(Qs(),150,100);el(e,t),Vl(e,t)}},at=function(e){if(13===e.tag){Qs();var t=Ko++;el(e,t),Vl(e,t)}},st=function(e){if(13===e.tag){var t=Qs();el(e,t=Js(t,e,null)),Vl(e,t)}},ee=function(e,t,n){switch(t){case"input":if(Me(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=dr(r);if(!o)throw Error(a(90));xe(r),Me(r,o)}}}break;case"textarea":De(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},ae=al,se=function(e,t,n,r){var o=Ms;Ms|=4;try{return Vo(98,e.bind(null,t,n,r))}finally{0===(Ms=o)&&Zo()}},le=function(){0==(49&Ms)&&(function(){if(null!==Zs){var e=Zs;Zs=null,e.forEach((function(e,t){Wl(t,e),rl(t)})),Zo()}}(),wl())},ce=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&Zo()}};var Xl={createPortal:Kl,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=ot(t))?null:e.stateNode},hydrate:function(e,t,n){if(!ql(t))throw Error(a(200));return Zl(null,e,t,!0,n)},render:function(e,t,n){if(!ql(t))throw Error(a(200));return Zl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!ql(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Zl(e,t,n,!1,r)},unmountComponentAtNode:function(e){if(!ql(e))throw Error(a(40));return!!e._reactRootContainer&&(sl((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[sr]=null}))})),!0)},unstable_createPortal:function(){return Kl.apply(void 0,arguments)},unstable_batchedUpdates:al,flushSync:function(e,t){if(0!=(48&Ms))throw Error(a(187));var n=Ms;Ms|=1;try{return Vo(99,e.bind(null,t))}finally{Ms=n,Zo()}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[cr,ur,dr,L.injectEventPluginsByName,h,At,function(e){O(e,Nt)},oe,ie,Pn,P,wl,{current:!1}]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Ol=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},Tl=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}})(o({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ot(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:lr,bundleType:0,version:"16.12.0",rendererPackageName:"react-dom"});var Ql={default:Xl},Jl=Ql&&Xl||Ql;e.exports=Jl.default||Jl},function(e,t,n){"use strict";e.exports=n(543)},function(e,t,n){"use strict";
/** @license React v0.18.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r,o,i,a,s;if(Object.defineProperty(t,"__esModule",{value:!0}),"undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(u,0))},o=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,p=window.Date,f=window.setTimeout,m=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var v=p.now();t.unstable_now=function(){return p.now()-v}}var y=!1,b=null,_=-1,w=5,C=0;a=function(){return t.unstable_now()>=C},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();C=e+w;try{b(!0,e)?E.postMessage(null):(y=!1,b=null)}catch(e){throw E.postMessage(null),e}}else y=!1},r=function(e){b=e,y||(y=!0,E.postMessage(null))},o=function(e,n){_=f((function(){e(t.unstable_now())}),n)},i=function(){m(_),_=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=Math.floor((n-1)/2),o=e[r];if(!(void 0!==o&&0<T(o,t)))break e;e[r]=t,e[n]=o,n=r}}function k(e){return void 0===(e=e[0])?null:e}function O(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length;r<o;){var i=2*(r+1)-1,a=e[i],s=i+1,l=e[s];if(void 0!==a&&0>T(a,n))void 0!==l&&0>T(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[i]=n,r=i);else{if(!(void 0!==l&&0>T(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var M=[],P=[],L=1,N=null,A=3,I=!1,R=!1,D=!1;function j(e){for(var t=k(P);null!==t;){if(null===t.callback)O(P);else{if(!(t.startTime<=e))break;O(P),t.sortIndex=t.expirationTime,x(M,t)}t=k(P)}}function z(e){if(D=!1,j(e),!R)if(null!==k(M))R=!0,r(F);else{var t=k(P);null!==t&&o(z,t.startTime-e)}}function F(e,n){R=!1,D&&(D=!1,i()),I=!0;var r=A;try{for(j(n),N=k(M);null!==N&&(!(N.expirationTime>n)||e&&!a());){var s=N.callback;if(null!==s){N.callback=null,A=N.priorityLevel;var l=s(N.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?N.callback=l:N===k(M)&&O(M),j(n)}else O(M);N=k(M)}if(null!==N)var c=!0;else{var u=k(P);null!==u&&o(z,u.startTime-n),c=!1}return c}finally{N=null,A=r,I=!1}}function B(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var W=s;t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:B(e)}else a=B(e),l=s;return e={id:L++,callback:n,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,x(P,e),null===k(M)&&e===k(P)&&(D?i():D=!0,o(z,l-s))):(e.sortIndex=a,x(M,e),R||I||(R=!0,r(F))),e},t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_shouldYield=function(){var e=t.unstable_now();j(e);var n=k(M);return n!==N&&null!==N&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<N.expirationTime||a()},t.unstable_requestPaint=W,t.unstable_continueExecution=function(){R||I||(R=!0,r(F))},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return k(M)},t.unstable_Profiling=null},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){"use strict";var r=n(246);t.__esModule=!0,t.storeShape=t.subscriptionShape=void 0;var o=r(n(1)),i=o.default.shape({trySubscribe:o.default.func.isRequired,tryUnsubscribe:o.default.func.isRequired,notifyNestedSubs:o.default.func.isRequired,isSubscribed:o.default.func.isRequired});t.subscriptionShape=i;var a=o.default.shape({subscribe:o.default.func.isRequired,dispatch:o.default.func.isRequired,getState:o.default.func.isRequired});t.storeShape=a},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.locationsAreEqual=t.createLocation=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(368)),i=s(n(369)),a=n(383);function s(e){return e&&e.__esModule?e:{default:e}}t.createLocation=function(e,t,n,i){var s=void 0;"string"==typeof e?(s=(0,a.parsePath)(e)).state=t:(void 0===(s=r({},e)).pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==t&&void 0===s.state&&(s.state=t));try{s.pathname=decodeURI(s.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=(0,o.default)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s},t.locationsAreEqual=function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&(0,i.default)(e.state,t.state)}},function(e,t,n){"use strict";t.__esModule=!0;var r,o=n(47),i=(r=o)&&r.__esModule?r:{default:r};t.default=function(){var e=null,t=[];return{setPrompt:function(t){return(0,i.default)(null==e,"A history supports only one prompt at a time"),e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,o){if(null!=e){var a="function"==typeof e?e(t,n):e;"string"==typeof a?"function"==typeof r?r(a,o):((0,i.default)(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},appendListener:function(e){var n=!0,r=function(){n&&e.apply(void 0,arguments)};return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}},function(e,t,n){"use strict";t.__esModule=!0;t.canUseDOM=!("undefined"==typeof window||!window.document||!window.document.createElement),t.addEventListener=function(e,t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},t.removeEventListener=function(e,t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},t.getConfirmation=function(e,t){return t(window.confirm(e))},t.supportsHistory=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},t.supportsPopStateOnHashChange=function(){return-1===window.navigator.userAgent.indexOf("Trident")},t.supportsGoWithoutReloadUsingHash=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},t.isExtraneousPopstateEvent=function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(e,t,n){"use strict";
/** @license React v16.7.0
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,h=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case d:case h:case a:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case p:case c:return e;default:return t}}case g:case m:case i:return t}}}function y(e){return v(e)===h}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=c,t.Element=o,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===h||e===l||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===c||e.$$typeof===u||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||v(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return v(e)===p},t.isFragment=function(e){return v(e)===a},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===l},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===f}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),i=c(n(1)),a=c(n(552)),s=c(n(555)),l=n(385);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}l.nameShape.isRequired,i.default.bool,i.default.bool,i.default.bool,(0,l.transitionTimeout)("Appear"),(0,l.transitionTimeout)("Enter"),(0,l.transitionTimeout)("Leave");var h=function(e){function t(){var n,r;u(this,t);for(var i=arguments.length,a=Array(i),l=0;l<i;l++)a[l]=arguments[l];return n=r=d(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return o.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(o.default.Component);h.displayName="CSSTransitionGroup",h.propTypes={},h.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=h,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(553)),i=l(n(0)),a=l(n(1)),s=(l(n(47)),n(554));function l(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var c=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,o));return i.performAppear=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(i._handleDoneAppearing.bind(i,e,t)):i._handleDoneAppearing(e,t)},i._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performEnter=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(i._handleDoneEntering.bind(i,e,t)):i._handleDoneEntering(e,t)},i._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)||i.performLeave(e,t)},i.performLeave=function(e,t){i.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(i._handleDoneLeaving.bind(i,e,t)):i._handleDoneLeaving(e,t)},i._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete i.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(i.props.children);n&&n.hasOwnProperty(e)?i.keysToEnter.push(e):i.setState((function(t){var n=r({},t.children);return delete n[e],{children:n}}))},i.childRefs=Object.create(null),i.state={children:(0,s.getChildMapping)(n.children)},i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var o=n&&n.hasOwnProperty(r);!t[r]||o||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var i in n){var a=t&&t.hasOwnProperty(i);!n[i]||a||this.currentlyTransitioningKeys[i]||this.keysToLeave.push(i)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach((function(t){return e.performEnter(t,e.childRefs[t])}));var n=this.keysToLeave;this.keysToLeave=[],n.forEach((function(t){return e.performLeave(t,e.childRefs[t])}))},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),l=function(t){e.childRefs[n]=t};s===r&&a&&(l=(0,o.default)(r.ref,l)),t.push(i.default.cloneElement(s,{key:n,ref:l}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,i.default.createElement(this.props.component,s,t)},t}(i.default.Component);c.displayName="TransitionGroup",c.propTypes={},c.defaultProps={component:"span",childFactory:function(e){return e}},t.default=c,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter((function(e){return null!=e}))).length)return 1===t.length?t[0]:t.reduce((function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}))}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,(function(e){return e})).forEach((function(e){t[e.key]=e})),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},o=[];for(var i in e)t.hasOwnProperty(i)?o.length&&(r[i]=o,o=[]):o.push(i);var a=void 0,s={};for(var l in t){if(r.hasOwnProperty(l))for(a=0;a<r[l].length;a++){var c=r[l][a];s[r[l][a]]=n(c)}s[l]=n(l)}for(a=0;a<o.length;a++)s[o[a]]=n(o[a]);return s};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=h(n(556)),i=h(n(558)),a=h(n(559)),s=n(560),l=h(n(0)),c=h(n(1)),u=n(19),d=n(385);function h(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=[];s.transitionEnd&&m.push(s.transitionEnd),s.animationEnd&&m.push(s.animationEnd);c.default.node,d.nameShape.isRequired,c.default.bool,c.default.bool,c.default.bool,c.default.number,c.default.number,c.default.number;var g=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach((function(e){clearTimeout(e)})),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,u.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,l=this.props.name[e+"Active"]||a+"-active",c=null,d=void 0;(0,o.default)(r,a),this.queueClassAndNode(l,r);var h=function(e){e&&e.target!==r||(clearTimeout(c),d&&d(),(0,i.default)(r,a),(0,i.default)(r,l),d&&d(),t&&t())};n?(c=setTimeout(h,n),this.transitionTimeouts.push(c)):s.transitionEnd&&(d=function(e,t){return m.length?m.forEach((function(n){return e.addEventListener(n,t,!1)})):setTimeout(t,0),function(){m.length&&m.forEach((function(n){return e.removeEventListener(n,t,!1)}))}}(r,h))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)((function(){return n.flushClassNameAndNodeQueue()})))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach((function(e){e.node.scrollTop,(0,o.default)(e.node,e.className)})),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,l.default.cloneElement(l.default.Children.only(this.props.children),e)},t}(l.default.Component);g.displayName="CSSTransitionGroupChild",g.propTypes={},t.default=g,e.exports=t.default},function(e,t,n){"use strict";var r=n(246);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,o.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var o=r(n(557));e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";var r=n(246);t.__esModule=!0,t.default=void 0;var o,i=r(n(384)),a="clearTimeout",s=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r},l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};i.default&&["","webkit","moz","o","ms"].some((function(e){var t=l(e,"request");if(t in window)return a=l(e,"cancel"),s=function(e){return window[t](e)}}));var c=(new Date).getTime();(o=function(e){return s(e)}).cancel=function(e){window[a]&&"function"==typeof window[a]&&window[a](e)};var u=o;t.default=u,e.exports=t.default},function(e,t,n){"use strict";var r=n(246);t.__esModule=!0,t.default=t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var o,i,a,s,l,c,u,d,h,p,f,m=r(n(384)),g="transform";if(t.transform=g,t.animationEnd=a,t.transitionEnd=i,t.transitionDelay=u,t.transitionTiming=c,t.transitionDuration=l,t.transitionProperty=s,t.animationDelay=f,t.animationTiming=p,t.animationDuration=h,t.animationName=d,m.default){var v=function(){for(var e,t,n=document.createElement("div").style,r={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},o=Object.keys(r),i="",a=0;a<o.length;a++){var s=o[a];if(s+"TransitionProperty"in n){i="-"+s.toLowerCase(),e=r[s]("TransitionEnd"),t=r[s]("AnimationEnd");break}}!e&&"transitionProperty"in n&&(e="transitionend");!t&&"animationName"in n&&(t="animationend");return n=null,{animationEnd:t,transitionEnd:e,prefix:i}}();o=v.prefix,t.transitionEnd=i=v.transitionEnd,t.animationEnd=a=v.animationEnd,t.transform=g=o+"-"+g,t.transitionProperty=s=o+"-transition-property",t.transitionDuration=l=o+"-transition-duration",t.transitionDelay=u=o+"-transition-delay",t.transitionTiming=c=o+"-transition-timing-function",t.animationName=d=o+"-animation-name",t.animationDuration=h=o+"-animation-duration",t.animationTiming=p=o+"-animation-delay",t.animationDelay=f=o+"-animation-timing-function"}var y={transform:g,end:i,property:s,timing:c,delay:u,duration:l};t.default=y},function(e,t,n){n(562),e.exports=n(66).Object.assign},function(e,t,n){var r=n(117);r(r.S+r.F,"Object",{assign:n(563)})},function(e,t,n){"use strict";var r=n(136),o=n(248),i=n(343),a=n(271),s=n(193),l=n(388),c=Object.assign;e.exports=!c||n(192)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r}))?function(e,t){for(var n=s(e),c=arguments.length,u=1,d=i.f,h=a.f;c>u;)for(var p,f=l(arguments[u++]),m=d?o(f).concat(d(f)):o(f),g=m.length,v=0;g>v;)p=m[v++],r&&!h.call(f,p)||(n[p]=f[p]);return n}:c},function(e,t,n){var r=n(175),o=n(338),i=n(565);e.exports=function(e){return function(t,n,a){var s,l=r(t),c=o(l.length),u=i(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(339),o=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?o(e+t,0):i(e,t)}},function(e,t,n){n(567);var r=n(66).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(117);r(r.S+r.F*!n(136),"Object",{defineProperty:n(135).f})},function(e,t,n){e.exports={default:n(569),__esModule:!0}},function(e,t,n){n(251),n(573),e.exports=n(66).Array.from},function(e,t,n){var r=n(339),o=n(337);e.exports=function(e){return function(t,n){var i,a,s=String(o(t)),l=r(n),c=s.length;return l<0||l>=c?e?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?e?s.charAt(l):i:e?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(344),o=n(247),i=n(272),a={};n(173)(a,n(93)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(a,{next:o(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(135),o=n(124),i=n(248);e.exports=n(136)?Object.defineProperties:function(e,t){o(e);for(var n,a=i(t),s=a.length,l=0;s>l;)r.f(e,n=a[l++],t[n]);return e}},function(e,t,n){"use strict";var r=n(191),o=n(117),i=n(193),a=n(394),s=n(395),l=n(338),c=n(574),u=n(345);o(o.S+o.F*!n(396)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,d,h=i(e),p="function"==typeof this?this:Array,f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,v=0,y=u(h);if(g&&(m=r(m,f>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=l(h.length));t>v;v++)c(n,v,g?m(h[v],v):h[v]);else for(d=y.call(h),n=new p;!(o=d.next()).done;v++)c(n,v,g?a(d,m,[o.value,v],!0):o.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(135),o=n(247);e.exports=function(e,t,n){t in e?r.f(e,t,o(0,n)):e[t]=n}},function(e,t,n){n(576),e.exports=n(66).Object.getPrototypeOf},function(e,t,n){var r=n(193),o=n(393);n(347)("getPrototypeOf",(function(){return function(e){return o(r(e))}}))},function(e,t,n){e.exports={default:n(578),__esModule:!0}},function(e,t,n){n(251),n(273),e.exports=n(348).f("iterator")},function(e,t,n){"use strict";var r=n(580),o=n(581),i=n(194),a=n(175);e.exports=n(390)(Array,"Array",(function(e,t){this._t=a(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,o(1)):o(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){e.exports={default:n(583),__esModule:!0}},function(e,t,n){n(584),n(398),n(589),n(590),e.exports=n(66).Symbol},function(e,t,n){"use strict";var r=n(92),o=n(174),i=n(136),a=n(117),s=n(391),l=n(585).KEY,c=n(192),u=n(341),d=n(272),h=n(270),p=n(93),f=n(348),m=n(349),g=n(586),v=n(587),y=n(124),b=n(153),_=n(193),w=n(175),C=n(336),S=n(247),E=n(344),x=n(588),k=n(350),O=n(343),T=n(135),M=n(248),P=k.f,L=T.f,N=x.f,A=r.Symbol,I=r.JSON,R=I&&I.stringify,D=p("_hidden"),j=p("toPrimitive"),z={}.propertyIsEnumerable,F=u("symbol-registry"),B=u("symbols"),W=u("op-symbols"),H=Object.prototype,U="function"==typeof A&&!!O.f,G=r.QObject,V=!G||!G.prototype||!G.prototype.findChild,Y=i&&c((function(){return 7!=E(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=P(H,t);r&&delete H[t],L(e,t,n),r&&e!==H&&L(H,t,r)}:L,q=function(e){var t=B[e]=E(A.prototype);return t._k=e,t},Z=U&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},$=function(e,t,n){return e===H&&$(W,t,n),y(e),t=C(t,!0),y(n),o(B,t)?(n.enumerable?(o(e,D)&&e[D][t]&&(e[D][t]=!1),n=E(n,{enumerable:S(0,!1)})):(o(e,D)||L(e,D,S(1,{})),e[D][t]=!0),Y(e,t,n)):L(e,t,n)},K=function(e,t){y(e);for(var n,r=g(t=w(t)),o=0,i=r.length;i>o;)$(e,n=r[o++],t[n]);return e},X=function(e){var t=z.call(this,e=C(e,!0));return!(this===H&&o(B,e)&&!o(W,e))&&(!(t||!o(this,e)||!o(B,e)||o(this,D)&&this[D][e])||t)},Q=function(e,t){if(e=w(e),t=C(t,!0),e!==H||!o(B,t)||o(W,t)){var n=P(e,t);return!n||!o(B,t)||o(e,D)&&e[D][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=N(w(e)),r=[],i=0;n.length>i;)o(B,t=n[i++])||t==D||t==l||r.push(t);return r},ee=function(e){for(var t,n=e===H,r=N(n?W:w(e)),i=[],a=0;r.length>a;)!o(B,t=r[a++])||n&&!o(H,t)||i.push(B[t]);return i};U||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=h(arguments.length>0?arguments[0]:void 0),t=function(n){this===H&&t.call(W,n),o(this,D)&&o(this[D],e)&&(this[D][e]=!1),Y(this,e,S(1,n))};return i&&V&&Y(H,e,{configurable:!0,set:t}),q(e)}).prototype,"toString",(function(){return this._k})),k.f=Q,T.f=$,n(397).f=x.f=J,n(271).f=X,O.f=ee,i&&!n(250)&&s(H,"propertyIsEnumerable",X,!0),f.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!U,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)p(te[ne++]);for(var re=M(p.store),oe=0;re.length>oe;)m(re[oe++]);a(a.S+a.F*!U,"Symbol",{for:function(e){return o(F,e+="")?F[e]:F[e]=A(e)},keyFor:function(e){if(!Z(e))throw TypeError(e+" is not a symbol!");for(var t in F)if(F[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!U,"Object",{create:function(e,t){return void 0===t?E(e):K(E(e),t)},defineProperty:$,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var ie=c((function(){O.f(1)}));a(a.S+a.F*ie,"Object",{getOwnPropertySymbols:function(e){return O.f(_(e))}}),I&&a(a.S+a.F*(!U||c((function(){var e=A();return"[null]"!=R([e])||"{}"!=R({a:e})||"{}"!=R(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],o=1;arguments.length>o;)r.push(arguments[o++]);if(n=t=r[1],(b(t)||void 0!==e)&&!Z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Z(t))return t}),r[1]=t,R.apply(I,r)}}),A.prototype[j]||n(173)(A.prototype,j,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(270)("meta"),o=n(153),i=n(174),a=n(135).f,s=0,l=Object.isExtensible||function(){return!0},c=!n(192)((function(){return l(Object.preventExtensions({}))})),u=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return c&&d.NEED&&l(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){var r=n(248),o=n(343),i=n(271);e.exports=function(e){var t=r(e),n=o.f;if(n)for(var a,s=n(e),l=i.f,c=0;s.length>c;)l.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(249);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(175),o=n(397).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==i.call(e)?function(e){try{return o(e)}catch(e){return a.slice()}}(e):o(r(e))}},function(e,t,n){n(349)("asyncIterator")},function(e,t,n){n(349)("observable")},function(e,t,n){e.exports={default:n(592),__esModule:!0}},function(e,t,n){n(593),e.exports=n(66).Object.setPrototypeOf},function(e,t,n){var r=n(117);r(r.S,"Object",{setPrototypeOf:n(594).set})},function(e,t,n){var r=n(153),o=n(124),i=function(e,t){if(o(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(191)(Function.call,n(350).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(596),__esModule:!0}},function(e,t,n){n(597);var r=n(66).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(117);r(r.S,"Object",{create:n(344)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=void 0,r=void 0;return function(){var o=+new Date;!!n&&o<n+t?(clearTimeout(r),r=setTimeout((function(){n=o,e()}),t)):(n=o,e())}}},function(e,t,n){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},function(e,t,n){var r=n(125);e.exports=function(){return r.Date.now()}},function(e,t,n){var r=n(252),o=n(253),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},function(e,t,n){var r=n(275),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t){e.exports=function(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();return t.setSeconds(0,0),6e4*n+t.getTime()%6e4}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(5)),o=i(n(0));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className,n=e.included,i=e.vertical,a=e.offset,s=e.length,l=e.minimumTrackStyle,c={visibility:n?"visible":"hidden"};i?(c.bottom=a+"%",c.height=s+"%"):(c.left=a+"%",c.width=s+"%");var u=(0,r.default)({},c,l);return o.default.createElement("div",{className:t,style:u})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=b(n(61)),o=b(n(5)),i=b(n(25)),a=b(n(7)),s=b(n(12)),l=b(n(8)),c=b(n(261)),u=b(n(11));t.default=function(e){var t,n;return n=t=function(e){function t(e){(0,a.default)(this,t);var n=(0,l.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,r=y.getMousePosition(t,e);if(y.isEventFromHandle(e,n.handlesRefs)){var o=y.getHandleCenterPosition(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.onStart(r),n.addDocumentMouseEvents(),y.pauseEvent(e)}},n.onTouchStart=function(e){if(!y.isNotTouchEvent(e)){var t=n.props.vertical,r=y.getTouchPosition(t,e);if(y.isEventFromHandle(e,n.handlesRefs)){var o=y.getHandleCenterPosition(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.onStart(r),n.addDocumentTouchEvents(),y.pauseEvent(e)}},n.onMouseMove=function(e){if(n.sliderRef){var t=y.getMousePosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!y.isNotTouchEvent(e)&&n.sliderRef){var t=y.getTouchPosition(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.saveSlider=function(e){n.sliderRef=e},n.handlesRefs={},n}return(0,u.default)(t,e),(0,s.default)(t,[{key:"componentWillUnmount",value:function(){(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=(0,p.default)(document,"touchmove",this.onTouchMove),this.onTouchUpListener=(0,p.default)(document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=(0,p.default)(document,"mousemove",this.onMouseMove),this.onMouseUpListener=(0,p.default)(document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"getSliderStart",value:function(){var e=this.sliderRef.getBoundingClientRect();return this.props.vertical?e.top:e.left}},{key:"getSliderLength",value:function(){var e=this.sliderRef;return e?this.props.vertical?e.clientHeight:e.clientWidth:0}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,o=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(o-r)+r:i*(o-r)+r}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,o=n.className,a=n.marks,s=n.dots,l=n.step,u=n.included,h=n.disabled,p=n.vertical,v=n.min,y=n.max,b=n.children,w=n.maximumTrackStyle,C=n.style,S=(0,c.default)(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),E=S.tracks,x=S.handles,k=(0,f.default)((e={},(0,i.default)(e,r,!0),(0,i.default)(e,r+"-with-marks",Object.keys(a).length),(0,i.default)(e,r+"-disabled",h),(0,i.default)(e,r+"-vertical",p),(0,i.default)(e,o,o),e));return d.default.createElement("div",{ref:this.saveSlider,className:k,onTouchStart:h?_:this.onTouchStart,onMouseDown:h?_:this.onMouseDown,style:C},d.default.createElement("div",{className:r+"-rail",style:w}),E,d.default.createElement(m.default,{prefixCls:r,vertical:p,marks:a,dots:s,step:l,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:y,min:v}),x,d.default.createElement(g.default,{className:r+"-mark",vertical:p,marks:a,included:u,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:y,min:v}),b)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=(0,o.default)({},e.propTypes,{min:h.default.number,max:h.default.number,step:h.default.number,marks:h.default.object,included:h.default.bool,className:h.default.string,prefixCls:h.default.string,disabled:h.default.bool,children:h.default.any,onBeforeChange:h.default.func,onChange:h.default.func,onAfterChange:h.default.func,handle:h.default.func,dots:h.default.bool,vertical:h.default.bool,style:h.default.object,minimumTrackStyle:h.default.object,maximumTrackStyle:h.default.object,handleStyle:h.default.object}),t.defaultProps=(0,o.default)({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=(0,r.default)(e,["index"]);return delete n.dragging,delete n.value,d.default.createElement(v.default,(0,o.default)({},n,{key:t}))},onBeforeChange:_,onChange:_,onAfterChange:_,included:!0,disabled:!1,dots:!1,vertical:!1,minimumTrackStyle:{},maximumTrackStyle:{},handleStyle:{}}),n};var d=b(n(0)),h=b(n(1)),p=b(n(609)),f=b(n(4)),m=(b(n(47)),b(n(612))),g=b(n(613)),v=b(n(614)),y=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(401));function b(e){return e&&e.__esModule?e:{default:e}}function _(){}e.exports=t.default},function(e,t,n){n(608);var r=n(66).Object;e.exports=function(e,t){return r.getOwnPropertyDescriptor(e,t)}},function(e,t,n){var r=n(175),o=n(350).f;n(347)("getOwnPropertyDescriptor",(function(){return function(e,t){return o(r(e),t)}}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,i){var a=o.default.unstable_batchedUpdates?function(e){o.default.unstable_batchedUpdates(n,e)}:n;return(0,r.default)(e,t,a,i)};var r=i(n(372)),o=i(n(19));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(611)),i=r(n(245)),a=["altKey","bubbles","cancelable","ctrlKey","currentTarget","eventPhase","metaKey","shiftKey","target","timeStamp","view","type"];function s(e){return null==e}var l=[{reg:/^key/,props:["char","charCode","key","keyCode","which"],fix:function(e,t){s(e.which)&&(e.which=s(t.charCode)?t.keyCode:t.charCode),void 0===e.metaKey&&(e.metaKey=e.ctrlKey)}},{reg:/^touch/,props:["touches","changedTouches","targetTouches"]},{reg:/^hashchange$/,props:["newURL","oldURL"]},{reg:/^gesturechange$/i,props:["rotation","scale"]},{reg:/^(mousewheel|DOMMouseScroll)$/,props:[],fix:function(e,t){var n=void 0,r=void 0,o=void 0,i=t.wheelDelta,a=t.axis,s=t.wheelDeltaY,l=t.wheelDeltaX,c=t.detail;i&&(o=i/120),c&&(o=0-(c%3==0?c/3:c)),void 0!==a&&(a===e.HORIZONTAL_AXIS?(r=0,n=0-o):a===e.VERTICAL_AXIS&&(n=0,r=o)),void 0!==s&&(r=s/120),void 0!==l&&(n=-1*l/120),n||r||(r=o),void 0!==n&&(e.deltaX=n),void 0!==r&&(e.deltaY=r),void 0!==o&&(e.delta=o)}},{reg:/^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,props:["buttons","clientX","clientY","button","offsetX","relatedTarget","which","fromElement","toElement","offsetY","pageX","pageY","screenX","screenY"],fix:function(e,t){var n=void 0,r=void 0,o=void 0,i=e.target,a=t.button;return i&&s(e.pageX)&&!s(t.clientX)&&(r=(n=i.ownerDocument||document).documentElement,o=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),!e.relatedTarget&&e.fromElement&&(e.relatedTarget=e.fromElement===i?e.toElement:e.fromElement),e}}];function c(){return!0}function u(){return!1}function d(e){var t=e.type,n="function"==typeof e.stopPropagation||"boolean"==typeof e.cancelBubble;o.default.call(this),this.nativeEvent=e;var r=u;"defaultPrevented"in e?r=e.defaultPrevented?c:u:"getPreventDefault"in e?r=e.getPreventDefault()?c:u:"returnValue"in e&&(r=!1===e.returnValue?c:u),this.isDefaultPrevented=r;var i=[],s=void 0,d=void 0,h=a.concat();for(l.forEach((function(e){t.match(e.reg)&&(h=h.concat(e.props),e.fix&&i.push(e.fix))})),s=h.length;s;)this[d=h[--s]]=e[d];for(!this.target&&n&&(this.target=e.srcElement||document),this.target&&3===this.target.nodeType&&(this.target=this.target.parentNode),s=i.length;s;)(0,i[--s])(this,e);this.timeStamp=e.timeStamp||Date.now()}var h=o.default.prototype;(0,i.default)(d.prototype,h,{constructor:d,preventDefault:function(){var e=this.nativeEvent;e.preventDefault?e.preventDefault():e.returnValue=!1,h.preventDefault.call(this)},stopPropagation:function(){var e=this.nativeEvent;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,h.stopPropagation.call(this)}}),t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(){return!1}function o(){return!0}function i(){this.timeStamp=Date.now(),this.target=void 0,this.currentTarget=void 0}Object.defineProperty(t,"__esModule",{value:!0}),i.prototype={isEventObject:1,constructor:i,isDefaultPrevented:r,isPropagationStopped:r,isImmediatePropagationStopped:r,preventDefault:function(){this.isDefaultPrevented=o},stopPropagation:function(){this.isPropagationStopped=o},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=o,this.stopPropagation()},halt:function(e){e?this.stopImmediatePropagation():this.stopPropagation(),this.preventDefault()}},t.default=i,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(25)),o=s(n(0)),i=s(n(4)),a=s(n(47));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.prefixCls,n=e.vertical,s=e.marks,l=e.dots,c=e.step,u=e.included,d=e.lowerBound,h=e.upperBound,p=e.max,f=e.min,m=p-f,g=function(e,t,n,r,o,i){(0,a.default)(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var s=Object.keys(t).map(parseFloat);if(n)for(var l=o;l<=i;l+=r)s.indexOf(l)>=0||s.push(l);return s}(0,s,l,c,f,p).map((function(e){var a,s=Math.abs(e-f)/m*100+"%",l=n?{bottom:s}:{left:s},c=!u&&e===h||u&&e<=h&&e>=d,p=(0,i.default)((a={},(0,r.default)(a,t+"-dot",!0),(0,r.default)(a,t+"-dot-active",c),a));return o.default.createElement("span",{className:p,style:l,key:e})}));return o.default.createElement("div",{className:t+"-step"},g)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(5)),o=l(n(178)),i=l(n(25)),a=l(n(0)),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.className,n=e.vertical,l=e.marks,c=e.included,u=e.upperBound,d=e.lowerBound,h=e.max,p=e.min,f=Object.keys(l),m=.9*(100/(f.length-1)),g=h-p,v=f.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var h,f=!c&&e===u||c&&e<=u&&e>=d,v=(0,s.default)((h={},(0,i.default)(h,t+"-text",!0),(0,i.default)(h,t+"-text-active",f),h)),y=n?{marginBottom:"-50%",bottom:(e-p)/g*100+"%"}:{width:m+"%",marginLeft:-m/2+"%",left:(e-p)/g*100+"%"},b=l[e],_="object"===(void 0===b?"undefined":(0,o.default)(b))&&!a.default.isValidElement(b),w=_?b.label:b,C=_?(0,r.default)({},y,b.style):y;return a.default.createElement("span",{className:v,style:C,key:e},w)}));return a.default.createElement("div",{className:t},v)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(5)),o=d(n(61)),i=d(n(7)),a=d(n(12)),s=d(n(8)),l=d(n(11)),c=d(n(0)),u=d(n(1));function d(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.vertical,i=e.offset,a=e.handleStyle,s=(0,o.default)(e,["className","vertical","offset","handleStyle"]),l=n?{bottom:i+"%"}:{left:i+"%"},u=(0,r.default)({},l,a);return c.default.createElement("div",(0,r.default)({},s,{className:t,style:u}))}}]),t}(c.default.Component);t.default=h,h.propTypes={className:u.default.string,vertical:u.default.bool,offset:u.default.number,handleStyle:u.default.object},e.exports=t.default},function(e,t,n){var r=n(60),o=n(616),i=n(617);e.exports=function(e){var t=r(e);return i(t,o(t))+1}},function(e,t,n){var r=n(60);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(e,t,n){var r=n(351);e.exports=function(e,t){var n=r(e),o=r(t),i=n.getTime()-6e4*n.getTimezoneOffset(),a=o.getTime()-6e4*o.getTimezoneOffset();return Math.round((i-a)/864e5)}},function(e,t,n){var r=n(60),o=n(352),i=n(620);e.exports=function(e){var t=r(e),n=o(t).getTime()-i(t).getTime();return Math.round(n/6048e5)+1}},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=t&&Number(t.weekStartsOn)||0,o=r(e),i=o.getDay(),a=(i<n?7:0)+i-n;return o.setDate(o.getDate()-a),o.setHours(0,0,0,0),o}},function(e,t,n){var r=n(402),o=n(352);e.exports=function(e){var t=r(e),n=new Date(0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),o(n)}},function(e,t,n){var r=n(400);e.exports=function(e){if(r(e))return!isNaN(e);throw new TypeError(toString.call(e)+" is not an instance of Date")}},function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(e,t,n){var r=n(624);e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],l=["a.m.","p.m."],c={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return n[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?l[1]:l[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){c[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:c,formattingTokensRegExp:r(c)}}},function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(e,t,n){var r=n(60);e.exports=function(e){var t=r(e),n=t.getFullYear(),o=t.getMonth(),i=new Date(0);return i.setFullYear(n,o+1,0),i.setHours(0,0,0,0),i.getDate()}},function(e){e.exports=JSON.parse('{"ao":["Angola",-11.202692,17.873887],"dz":["Algeria",28.033886,1.659626],"eg":["Egypt",26.820553,30.802498],"bd":["Bangladesh",23.684994,90.356331],"ne":["Niger",17.607789,8.081666],"li":["Liechtenstein",47.166,9.555373],"na":["Namibia",-22.95764,18.49041],"bg":["Bulgaria",42.733883,25.48583],"bo":["Bolivia",-16.290154,-63.588653],"gh":["Ghana",7.946527,-1.023194],"cc":["Cocos [Keeling] Islands",-12.164165,96.870956],"pk":["Pakistan",30.375321,69.345116],"cv":["Cape Verde",16.002082,-24.013197],"jo":["Jordan",30.585164,36.238414],"lr":["Liberia",6.428055,-9.429499],"ly":["Libya",26.3351,17.228331],"my":["Malaysia",4.210484,101.975766],"do":["Dominican Republic",18.735693,-70.162651],"pr":["Puerto Rico",18.220833,-66.590149],"sx":["Land Sint Maarten","18.04167","-63.06667"],"kp":["North Korea",40.339852,127.510093],"ps":["Palestinian Territories",31.952162,35.233154],"tz":["Tanzania",-6.369028,34.888822],"bw":["Botswana",-22.328474,24.684866],"kh":["Cambodia",12.565679,104.990963],"um":["United States Minor Outlying Islands","5.8811111","-162.0725"],"ni":["Nicaragua",12.865416,-85.207229],"tt":["Trinidad and Tobago",10.691803,-61.222503],"et":["Ethiopia",9.145,40.489673],"py":["Paraguay",-23.442503,-58.443832],"hk":["Hong Kong",22.396428,114.109497],"sa":["Saudi Arabia",23.885942,45.079162],"lb":["Lebanon",33.854721,35.862285],"si":["Slovenia",46.151241,14.995463],"bf":["Burkina Faso",12.238333,-1.561593],"ch":["Switzerland",46.818188,8.227512],"mr":["Mauritania",21.00789,-10.940835],"hr":["Croatia",45.1,15.2],"cl":["Chile",-35.675147,-71.542969],"cn":["China",35.86166,104.195397],"kn":["Saint Kitts and Nevis",17.357822,-62.782998],"sl":["Sierra Leone",8.460555,-11.779889],"jm":["Jamaica",18.109581,-77.297508],"sm":["San Marino",43.94236,12.457777],"gi":["Gibraltar",36.137741,-5.345374],"dj":["Djibouti",11.825138,42.590275],"gn":["Guinea",9.945587,-9.696645],"fi":["Finland",61.92411,25.748151],"uy":["Uruguay",-32.522779,-55.765835],"th":["Thailand",15.870032,100.992541],"st":["São Tomé and Príncipe",0.18636,6.613081],"sc":["Seychelles",-4.679574,55.491977],"np":["Nepal",28.394857,84.124008],"cx":["Christmas Island",-10.447525,105.690449],"la":["Laos",19.85627,102.495496],"ye":["Yemen",15.552727,48.516388],"bv":["Bouvet Island",-54.423199,3.413194],"za":["South Africa",-30.559482,22.937506],"ki":["Kiribati",-3.370417,-168.734039],"ph":["Philippines",12.879721,121.774017],"ro":["Romania",45.943161,24.96676],"vi":["U.S. Virgin Islands",18.335765,-64.896335],"sy":["Syria",34.802075,38.996815],"mo":["Macau",22.198745,113.543873],"mf":["Saint Martin","18.075","-63.05833"],"mt":["Malta",35.937496,14.375416],"kz":["Kazakhstan",48.019573,66.923684],"tc":["Turks and Caicos Islands",21.694025,-71.797928],"pf":["French Polynesia",-17.679742,-149.406843],"nu":["Niue",-19.054445,-169.867233],"dm":["Dominica",15.414999,-61.370976],"bj":["Benin",9.30769,2.315834],"gf":["French Guiana",3.933889,-53.125782],"be":["Belgium",50.503887,4.469936],"ms":["Montserrat",16.742498,-62.187366],"tg":["Togo",8.619543,0.824782],"de":["Germany",51.165691,10.451526],"gu":["Guam",13.444304,144.793731],"lk":["Sri Lanka",7.873054,80.771797],"ss":["Republic of South Sudan","8","30"],"fk":["Falkland Islands [Islas Malvinas]",-51.796253,-59.523613],"gb":["United Kingdom",55.378051,-3.435973],"bq":["Bonaire, Sint Eustatius, and Saba","12.2","-68.25"],"gy":["Guyana",4.860416,-58.93018],"cr":["Costa Rica",9.748917,-83.753428],"cm":["Cameroon",7.369722,12.354722],"ma":["Morocco",31.791702,-7.09262],"mp":["Northern Mariana Islands",17.33083,145.38469],"ls":["Lesotho",-29.609988,28.233608],"hu":["Hungary",47.162494,19.503304],"tm":["Turkmenistan",38.969719,59.556278],"sr":["Suriname",3.919305,-56.027783],"nl":["Netherlands",52.132633,5.291266],"bm":["Bermuda",32.321384,-64.75737],"hm":["Heard Island and McDonald Islands",-53.08181,73.504158],"td":["Chad",15.454166,18.732207],"ge":["Georgia",42.315407,43.356892],"me":["Montenegro",42.708678,19.37439],"mn":["Mongolia",46.862496,103.846656],"mh":["Marshall Islands",7.131474,171.184478],"mq":["Martinique",14.641528,-61.024174],"bz":["Belize",17.189877,-88.49765],"nf":["Norfolk Island",-29.040835,167.954712],"mm":["Myanmar [Burma]",21.913965,95.956223],"af":["Islamic Republic of Afghanistan","33","66"],"bi":["Burundi",-3.373056,29.918886],"vg":["British Virgin Islands",18.420695,-64.639968],"by":["Belarus",53.709807,27.953389],"bl":["Saint Barthelemy","17.9","-62.833333"],"gd":["Grenada",12.262776,-61.604171],"tk":["Tokelau",-8.967363,-171.855881],"gr":["Greece",39.074208,21.824312],"ru":["Russia",61.52401,105.318756],"gl":["Greenland",71.706936,-42.604303],"sh":["Saint Helena",-24.143474,-10.030696],"ad":["Andorra",42.546245,1.601554],"mz":["Mozambique",-18.665695,35.529562],"tj":["Tajikistan",38.861034,71.276093],"ht":["Haiti",18.971187,-72.285215],"mx":["Mexico",23.634501,-102.552784],"zw":["Zimbabwe",-19.015438,29.154857],"lc":["Saint Lucia",13.909444,-60.978893],"in":["India",20.593684,78.96288],"lv":["Latvia",56.879635,24.603189],"bt":["Bhutan",27.514162,90.433601],"vc":["Saint Vincent and the Grenadines",12.984305,-61.287228],"vn":["Vietnam",14.058324,108.277199],"no":["Norway",60.472024,8.468946],"cz":["Czech Republic",49.817492,15.472962],"tf":["French Southern Territories",-49.280366,69.348557],"ag":["Antigua and Barbuda",17.060816,-61.796428],"fj":["Fiji",-16.578193,179.414413],"io":["British Indian Ocean Territory",-6.343194,71.876519],"hn":["Honduras",15.199999,-86.241905],"mu":["Mauritius",-20.348404,57.552152],"aq":["Antarctica",-75.250973,-0.071389],"lu":["Luxembourg",49.815273,6.129583],"il":["Israel",31.046051,34.851612],"fm":["Micronesia",7.425554,150.550812],"pe":["Peru",-9.189967,-75.015152],"re":["Réunion",-21.115141,55.536384],"id":["Indonesia",-0.789275,113.921327],"vu":["Vanuatu",-15.376706,166.959158],"mk":["Macedonia [FYROM]",41.608635,21.745275],"cd":["Congo [DRC]",-4.038333,21.758664],"cg":["Congo [Republic]",-0.228021,15.827659],"is":["Iceland",64.963051,-19.020835],"gp":["Guadeloupe",16.995971,-62.067641],"ck":["Cook Islands",-21.236736,-159.777671],"km":["Comoros",-11.875001,43.872219],"co":["Colombia",4.570868,-74.297333],"ng":["Nigeria",9.081999,8.675277],"tl":["Timor-Leste",-8.874217,125.727539],"tw":["Taiwan",23.69781,120.960515],"pt":["Portugal",39.399872,-8.224454],"md":["Moldova",47.411631,28.369885],"gg":["Guernsey",49.465691,-2.585278],"mg":["Madagascar",-18.766947,46.869107],"ec":["Ecuador",-1.831239,-78.183406],"sn":["Senegal",14.497401,-14.452362],"nz":["New Zealand",-40.900557,174.885971],"mv":["Maldives",3.202778,73.22068],"as":["American Samoa",-14.270972,-170.132217],"pm":["Saint Pierre and Miquelon",46.941936,-56.27111],"cw":["Land Curacao","12.166667","-69"],"fr":["France",46.227638,2.213749],"lt":["Lithuania",55.169438,23.881275],"rw":["Rwanda",-1.940278,29.873888],"zm":["Zambia",-13.133897,27.849332],"gm":["Gambia",13.443182,-15.310139],"wf":["Wallis and Futuna",-13.768752,-177.156097],"je":["Jersey",49.214439,-2.13125],"fo":["Faroe Islands",61.892635,-6.911806],"gt":["Guatemala",15.783471,-90.230759],"dk":["Denmark",56.26392,9.501785],"im":["Isle of Man",54.236107,-4.548056],"au":["Australia",-25.274398,133.775136],"at":["Austria",47.516231,14.550072],"sj":["Svalbard and Jan Mayen",77.553604,23.670272],"ve":["Venezuela",6.42375,-66.58973],"pw":["Palau",7.51498,134.58252],"ke":["Kenya",-0.023559,37.906193],"yt":["Mayotte",-12.8275,45.166244],"ws":["Samoa",-13.759029,-172.104629],"tr":["Turkey",38.963745,35.243322],"al":["Albania",41.153332,20.168331],"om":["Oman",21.512583,55.923255],"tv":["Tuvalu",-7.109535,177.64933],"ax":["Aland Islands",60.116667,19.9],"bn":["Brunei",4.535277,114.727669],"tn":["Tunisia",33.886917,9.537499],"pn":["Pitcairn Islands",-24.703615,-127.439308],"bb":["Barbados",13.193887,-59.543198],"br":["Brazil",-14.235004,-51.92528],"ci":["Côte d\'Ivoire",7.539989,-5.54708],"rs":["Serbia",44.016521,21.005859],"gq":["Equatorial Guinea",1.650801,10.267895],"us":["United States of America",37.09024,-95.712891],"qa":["Qatar",25.354826,51.183884],"se":["Sweden",60.128161,18.643501],"az":["Azerbaijan",40.143105,47.576927],"gw":["Guinea-Bissau",11.803749,-15.180413],"sz":["Swaziland",-26.522503,31.465866],"to":["Tonga",-21.178986,-175.198242],"ca":["Canada",56.130366,-106.346771],"ua":["Ukraine",48.379433,31.16558],"kr":["South Korea",35.907757,127.766922],"ai":["Anguilla",18.220554,-63.068615],"cf":["Central African Republic",6.611111,20.939444],"sk":["Slovakia",48.669026,19.699024],"cy":["Cyprus",35.126413,33.429859],"ba":["Bosnia and Herzegovina",43.915886,17.679076],"sg":["Singapore",1.352083,103.819836],"gs":["South Georgia and the South Sandwich Islands",-54.429579,-36.587909],"so":["Somalia",5.152149,46.199616],"uz":["Uzbekistan",41.377491,64.585262],"er":["Eritrea",15.179384,39.782334],"pl":["Poland",51.919438,19.145136],"kw":["Kuwait",29.31166,47.481766],"ga":["Gabon",-0.803689,11.609444],"ky":["Cayman Islands",19.513469,-80.566956],"va":["Vatican City",41.902916,12.453389],"ee":["Estonia",58.595272,25.013607],"mw":["Malawi",-13.254308,34.301525],"es":["Spain",40.463667,-3.74922],"iq":["Iraq",33.223191,43.679291],"sv":["El Salvador",13.794185,-88.89653],"ml":["Mali",17.570692,-3.996166],"ie":["Ireland",53.41291,-8.24389],"ir":["Iran",32.427908,53.688046],"aw":["Aruba",12.52111,-69.968338],"pg":["Papua New Guinea",-6.314993,143.95555],"pa":["Panama",8.537981,-80.782127],"sd":["Sudan",12.862807,30.217636],"sb":["Solomon Islands",-9.64571,160.156194],"eh":["Western Sahara",24.215527,-12.885834],"mc":["Monaco",43.750298,7.412841],"it":["Italy",41.87194,12.56738],"jp":["Japan",36.204824,138.252924],"kg":["Kyrgyzstan",41.20438,74.766098],"ug":["Uganda",1.373333,32.290275],"nc":["New Caledonia",-20.904305,165.618042],"ae":["United Arab Emirates",23.424076,53.847818],"ar":["Argentina",-38.416097,-63.616672],"bs":["Bahamas",25.03428,-77.39628],"bh":["Bahrain",25.930414,50.637772],"am":["Armenia",40.069099,45.038189],"nr":["Nauru",-0.522778,166.931503],"cu":["Cuba",21.521757,-77.781167],"kv":["Republic of Kosovo","42.583333","21"]}')},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){var r={"./":129,"./FormattedName.react":229,"./FormattedName.react.js":229,"./canar":297,"./canar.js":297,"./index":129,"./index.js":129,"./klepn":298,"./klepn.js":298,"./ngonorrhoeae":301,"./ngonorrhoeae.js":301,"./rensm":302,"./rensm.js":302,"./saureus":304,"./saureus.js":304,"./sequi":306,"./sequi.js":306,"./strpn":307,"./strpn.js":307,"./styphi":308,"./styphi.js":308,"./vibcl":309,"./vibcl.js":309,"./zikv":310,"./zikv.js":310};function o(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=i,e.exports=o,o.id=628},function(e,t,n){"use strict";e.exports.version="0.24.0",e.exports.Node=n(353),e.exports.Parser=n(630),e.exports.HtmlRenderer=n(642),e.exports.XmlRenderer=n(643)},function(e,t,n){"use strict";var r=n(353),o=n(198).unescapeString,i=n(198).OPENTAG,a=n(198).CLOSETAG,s=n(638),l=[/./,/^<(?:script|pre|style)(?:\s|>|$)/i,/^<!--/,/^<[?]/,/^<![A-Z]/,/^<!\[CDATA\[/,/^<[/]?(?:address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h1|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|title|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul)(?:\s|[/]?[>]|$)/i,new RegExp("^(?:"+i+"|"+a+")s*$","i")],c=[/./,/<\/(?:script|pre|style)>/i,/-->/,/\?>/,/>/,/\]\]>/],u=/^(?:(?:\* *){3,}|(?:_ *){3,}|(?:- *){3,}) *$/,d=/^[#`~*+_=<>0-9-]/,h=/[^ \t\f\v\r\n]/,p=/^[*+-]/,f=/^(\d{1,9})([.)])/,m=/^#{1,6}(?: +|$)/,g=/^`{3,}(?!.*`)|^~{3,}(?!.*~)/,v=/^(?:`{3,}|~{3,})(?= *$)/,y=/^(?:=+|-+) *$/,b=/\r\n|\n|\r/,_=function(e,t){return t<e.length?e.charCodeAt(t):-1},w=function(e){for(;e;){if(e._lastLineBlank)return!0;var t=e.type;if("List"!==t&&"Item"!==t)break;e=e._lastChild}return!1},C=function(e){var t=e,n=null;do{"List"===t.type&&(n=t),t=t._parent}while(t);if(n){for(;e!==n;)this.finalize(e,this.lineNumber),e=e._parent;this.finalize(n,this.lineNumber),this.tip=n._parent}},S=function(){this.tip._string_content+=this.currentLine.slice(this.offset)+"\n"},E=function(e,t){for(;!this.blocks[this.tip.type].canContain(e);)this.finalize(this.tip,this.lineNumber-1);var n=t+1,o=new r(e,[[this.lineNumber,n],[0,0]]);return o._string_content="",this.tip.appendChild(o),this.tip=o,o},x=function(){if(!this.allClosed){for(;this.oldtip!==this.lastMatchedContainer;){var e=this.oldtip._parent;this.finalize(this.oldtip,this.lineNumber-1),this.oldtip=e}this.allClosed=!0}},k={Document:{continue:function(){return 0},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},List:{continue:function(){return 0},finalize:function(e,t){for(var n=t._firstChild;n;){if(w(n)&&n._next){t._listData.tight=!1;break}for(var r=n._firstChild;r;){if(w(r)&&(n._next||r._next)){t._listData.tight=!1;break}r=r._next}n=n._next}},canContain:function(e){return"Item"===e},acceptsLines:!1},BlockQuote:{continue:function(e){var t=e.currentLine;return e.indented||62!==_(t,e.nextNonspace)?1:(e.advanceNextNonspace(),e.advanceOffset(1,!1),32===_(t,e.offset)&&e.offset++,0)},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},Item:{continue:function(e,t){if(e.blank&&null!==t._firstChild)e.advanceNextNonspace();else{if(!(e.indent>=t._listData.markerOffset+t._listData.padding))return 1;e.advanceOffset(t._listData.markerOffset+t._listData.padding,!0)}return 0},finalize:function(){},canContain:function(e){return"Item"!==e},acceptsLines:!1},Heading:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},ThematicBreak:{continue:function(){return 1},finalize:function(){},canContain:function(){return!1},acceptsLines:!1},CodeBlock:{continue:function(e,t){var n=e.currentLine,r=e.indent;if(t._isFenced){var o=r<=3&&n.charAt(e.nextNonspace)===t._fenceChar&&n.slice(e.nextNonspace).match(v);if(o&&o[0].length>=t._fenceLength)return e.finalize(t,e.lineNumber),2;for(var i=t._fenceOffset;i>0&&32===_(n,e.offset);)e.advanceOffset(1,!1),i--}else if(r>=4)e.advanceOffset(4,!0);else{if(!e.blank)return 1;e.advanceNextNonspace()}return 0},finalize:function(e,t){if(t._isFenced){var n=t._string_content,r=n.indexOf("\n"),i=n.slice(0,r),a=n.slice(r+1);t.info=o(i.trim()),t._literal=a}else t._literal=t._string_content.replace(/(\n *)+$/,"\n");t._string_content=null},canContain:function(){return!1},acceptsLines:!0},HtmlBlock:{continue:function(e,t){return!e.blank||6!==t._htmlBlockType&&7!==t._htmlBlockType?0:1},finalize:function(e,t){t._literal=t._string_content.replace(/(\n *)+$/,""),t._string_content=null},canContain:function(){return!1},acceptsLines:!0},Paragraph:{continue:function(e){return e.blank?1:0},finalize:function(e,t){for(var n,r,o=!1;91===_(t._string_content,0)&&(n=e.inlineParser.parseReference(t._string_content,e.refmap));)t._string_content=t._string_content.slice(n),o=!0;o&&(r=t._string_content,!h.test(r))&&t.unlink()},canContain:function(){return!1},acceptsLines:!0}},O=[function(e){return e.indented||62!==_(e.currentLine,e.nextNonspace)?0:(e.advanceNextNonspace(),e.advanceOffset(1,!1),32===_(e.currentLine,e.offset)&&e.advanceOffset(1,!1),e.closeUnmatchedBlocks(),e.addChild("BlockQuote",e.nextNonspace),1)},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(m))){e.advanceNextNonspace(),e.advanceOffset(t[0].length,!1),e.closeUnmatchedBlocks();var n=e.addChild("Heading",e.nextNonspace);return n.level=t[0].trim().length,n._string_content=e.currentLine.slice(e.offset).replace(/^ *#+ *$/,"").replace(/ +#+ *$/,""),e.advanceOffset(e.currentLine.length-e.offset),2}return 0},function(e){var t;if(!e.indented&&(t=e.currentLine.slice(e.nextNonspace).match(g))){var n=t[0].length;e.closeUnmatchedBlocks();var r=e.addChild("CodeBlock",e.nextNonspace);return r._isFenced=!0,r._fenceLength=n,r._fenceChar=t[0][0],r._fenceOffset=e.indent,e.advanceNextNonspace(),e.advanceOffset(n,!1),2}return 0},function(e,t){if(!e.indented&&60===_(e.currentLine,e.nextNonspace)){var n,r=e.currentLine.slice(e.nextNonspace);for(n=1;n<=7;n++){if(l[n].test(r)&&(n<7||"Paragraph"!==t.type))return e.closeUnmatchedBlocks(),e.addChild("HtmlBlock",e.offset)._htmlBlockType=n,2}}return 0},function(e,t){var n;if(!e.indented&&"Paragraph"===t.type&&(n=e.currentLine.slice(e.nextNonspace).match(y))){e.closeUnmatchedBlocks();var o=new r("Heading",t.sourcepos);return o.level="="===n[0][0]?1:2,o._string_content=t._string_content,t.insertAfter(o),t.unlink(),e.tip=o,e.advanceOffset(e.currentLine.length-e.offset,!1),2}return 0},function(e){return!e.indented&&u.test(e.currentLine.slice(e.nextNonspace))?(e.closeUnmatchedBlocks(),e.addChild("ThematicBreak",e.nextNonspace),e.advanceOffset(e.currentLine.length-e.offset,!1),2):0},function(e,t){var n,r,o;return e.indented&&"List"!==t.type||!(n=function(e){var t,n,r,o,i=e.currentLine.slice(e.nextNonspace),a={type:null,tight:!0,bulletChar:null,start:null,delimiter:null,padding:null,markerOffset:e.indent};if(t=i.match(p))a.type="Bullet",a.bulletChar=t[0][0];else{if(!(t=i.match(f)))return null;a.type="Ordered",a.start=parseInt(t[1]),a.delimiter=t[2]}if(-1!==(n=_(e.currentLine,e.nextNonspace+t[0].length))&&9!==n&&32!==n)return null;e.advanceNextNonspace(),e.advanceOffset(t[0].length,!0),r=e.column,o=e.offset;do{e.advanceOffset(1,!0),n=_(e.currentLine,e.offset)}while(e.column-r<5&&(32===n||9===n));var s=-1===_(e.currentLine,e.offset),l=e.column-r;return l>=5||l<1||s?(a.padding=t[0].length+1,e.column=r,e.offset=o,32===_(e.currentLine,e.offset)&&e.advanceOffset(1,!0)):a.padding=t[0].length+l,a}(e))?0:(e.closeUnmatchedBlocks(),"List"===e.tip.type&&(r=t._listData,o=n,r.type===o.type&&r.delimiter===o.delimiter&&r.bulletChar===o.bulletChar)||((t=e.addChild("List",e.nextNonspace))._listData=n),(t=e.addChild("Item",e.nextNonspace))._listData=n,1)},function(e){return e.indented&&"Paragraph"!==e.tip.type&&!e.blank?(e.advanceOffset(4,!0),e.closeUnmatchedBlocks(),e.addChild("CodeBlock",e.offset),2):0}],T=function(e,t){for(var n,r,o=this.currentLine;e>0&&(r=o[this.offset]);)"\t"===r?(n=4-this.column%4,this.column+=n,this.offset+=1,e-=t?n:1):(1,this.offset+=1,this.column+=1,e-=1)},M=function(){this.offset=this.nextNonspace,this.column=this.nextNonspaceColumn},P=function(){for(var e,t=this.currentLine,n=this.offset,r=this.column;""!==(e=t.charAt(n));)if(" "===e)n++,r++;else{if("\t"!==e)break;n++,r+=4-r%4}this.blank="\n"===e||"\r"===e||""===e,this.nextNonspace=n,this.nextNonspaceColumn=r,this.indent=this.nextNonspaceColumn-this.column,this.indented=this.indent>=4},L=function(e){var t,n,r=!0,o=this.doc;for(this.oldtip=this.tip,this.offset=0,this.column=0,this.lineNumber+=1,-1!==e.indexOf("\0")&&(e=e.replace(/\0/g,"�")),this.currentLine=e;(n=o._lastChild)&&n._open;){switch(o=n,this.findNextNonspace(),this.blocks[o.type].continue(this,o)){case 0:break;case 1:r=!1;break;case 2:return void(this.lastLineLength=e.length);default:throw"continue returned illegal value, must be 0, 1, or 2"}if(!r){o=o._parent;break}}this.allClosed=o===this.oldtip,this.lastMatchedContainer=o,this.blank&&o._lastLineBlank&&(this.breakOutOfLists(o),o=this.tip);for(var i="Paragraph"!==o.type&&k[o.type].acceptsLines,a=this.blockStarts,s=a.length;!i;){if(this.findNextNonspace(),!this.indented&&!d.test(e.slice(this.nextNonspace))){this.advanceNextNonspace();break}for(var l=0;l<s;){var u=a[l](this,o);if(1===u){o=this.tip;break}if(2===u){o=this.tip,i=!0;break}l++}if(l===s){this.advanceNextNonspace();break}}if(this.allClosed||this.blank||"Paragraph"!==this.tip.type){this.closeUnmatchedBlocks(),this.blank&&o.lastChild&&(o.lastChild._lastLineBlank=!0),t=o.type;for(var h=this.blank&&!("BlockQuote"===t||"CodeBlock"===t&&o._isFenced||"Item"===t&&!o._firstChild&&o.sourcepos[0][0]===this.lineNumber),p=o;p;)p._lastLineBlank=h,p=p._parent;this.blocks[t].acceptsLines?(this.addLine(),"HtmlBlock"===t&&o._htmlBlockType>=1&&o._htmlBlockType<=5&&c[o._htmlBlockType].test(this.currentLine.slice(this.offset))&&this.finalize(o,this.lineNumber)):this.offset<e.length&&!this.blank&&(o=this.addChild("Paragraph",this.offset),this.advanceNextNonspace(),this.addLine())}else this.addLine();this.lastLineLength=e.length},N=function(e,t){var n=e._parent;e._open=!1,e.sourcepos[1]=[t,this.lastLineLength],this.blocks[e.type].finalize(this,e),this.tip=n},A=function(e){var t,n,r,o=e.walker();for(this.inlineParser.refmap=this.refmap,this.inlineParser.options=this.options;n=o.next();)r=(t=n.node).type,n.entering||"Paragraph"!==r&&"Heading"!==r||this.inlineParser.parse(t)},I=function(){return new r("Document",[[1,1],[0,0]])},R=function(e){this.doc=new I,this.tip=this.doc,this.refmap={},this.lineNumber=0,this.lastLineLength=0,this.offset=0,this.column=0,this.lastMatchedContainer=this.doc,this.currentLine="",this.options.time&&console.time("preparing input");var t=e.split(b),n=t.length;10===e.charCodeAt(e.length-1)&&(n-=1),this.options.time&&console.timeEnd("preparing input"),this.options.time&&console.time("block parsing");for(var r=0;r<n;r++)this.incorporateLine(t[r]);for(;this.tip;)this.finalize(this.tip,n);return this.options.time&&console.timeEnd("block parsing"),this.options.time&&console.time("inline parsing"),this.processInlines(this.doc),this.options.time&&console.timeEnd("inline parsing"),this.doc};e.exports=function(e){return{doc:new I,blocks:k,blockStarts:O,tip:this.doc,oldtip:this.doc,currentLine:"",lineNumber:0,offset:0,column:0,nextNonspace:0,nextNonspaceColumn:0,indent:0,indented:!1,blank:!1,allClosed:!0,lastMatchedContainer:this.doc,refmap:{},lastLineLength:0,inlineParser:new s(e),findNextNonspace:P,advanceOffset:T,advanceNextNonspace:M,breakOutOfLists:C,addLine:S,addChild:E,incorporateLine:L,finalize:N,processInlines:A,closeUnmatchedBlocks:x,parse:R,options:e||{}}}},function(e,t,n){"use strict";var r={};function o(e,t,n){var i,a,s,l,c,u="";for("string"!=typeof t&&(n=t,t=o.defaultChars),void 0===n&&(n=!0),c=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),/^[0-9a-z]$/i.test(n)?o.push(n):o.push("%"+("0"+t.toString(16).toUpperCase()).slice(-2));for(t=0;t<e.length;t++)o[e.charCodeAt(t)]=e[t];return o}(t),i=0,a=e.length;i<a;i++)if(s=e.charCodeAt(i),n&&37===s&&i+2<a&&/^[0-9a-f]{2}$/i.test(e.slice(i+1,i+3)))u+=e.slice(i,i+3),i+=2;else if(s<128)u+=c[s];else if(s>=55296&&s<=57343){if(s>=55296&&s<=56319&&i+1<a&&(l=e.charCodeAt(i+1))>=56320&&l<=57343){u+=encodeURIComponent(e[i]+e[i+1]),i++;continue}u+="%EF%BF%BD"}else u+=encodeURIComponent(e[i]);return u}o.defaultChars=";/?:@&=+$,-_.!~*'()#",o.componentChars="-_.!~*'()",e.exports=o},function(e,t,n){"use strict";var r={};function o(e,t){var n;return"string"!=typeof t&&(t=o.defaultChars),n=function(e){var t,n,o=r[e];if(o)return o;for(o=r[e]=[],t=0;t<128;t++)n=String.fromCharCode(t),o.push(n);for(t=0;t<e.length;t++)o[n=e.charCodeAt(t)]="%"+("0"+n.toString(16).toUpperCase()).slice(-2);return o}(t),e.replace(/(%[a-f0-9]{2})+/gi,(function(e){var t,r,o,i,a,s,l,c="";for(t=0,r=e.length;t<r;t+=3)(o=parseInt(e.slice(t+1,t+3),16))<128?c+=n[o]:192==(224&o)&&t+3<r&&128==(192&(i=parseInt(e.slice(t+4,t+6),16)))?(c+=(l=o<<6&1984|63&i)<128?"��":String.fromCharCode(l),t+=3):224==(240&o)&&t+6<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),128==(192&i)&&128==(192&a))?(c+=(l=o<<12&61440|i<<6&4032|63&a)<2048||l>=55296&&l<=57343?"���":String.fromCharCode(l),t+=6):240==(248&o)&&t+9<r&&(i=parseInt(e.slice(t+4,t+6),16),a=parseInt(e.slice(t+7,t+9),16),s=parseInt(e.slice(t+10,t+12),16),128==(192&i)&&128==(192&a)&&128==(192&s))?((l=o<<18&1835008|i<<12&258048|a<<6&4032|63&s)<65536||l>1114111?c+="����":(l-=65536,c+=String.fromCharCode(55296+(l>>10),56320+(1023&l))),t+=9):c+="�";return c}))}o.defaultChars=";/?:@&=+$,#",o.componentChars="",e.exports=o},function(e,t,n){var r=s(n(406)),o=l(r);t.XML=p(r,o);var i=s(n(407)),a=l(i);function s(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function l(e){var t=[],n=[];return Object.keys(e).forEach((function(e){1===e.length?t.push("\\"+e):n.push(e)})),n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.HTML=p(i,a);var c=/[^\0-\x7F]/g,u=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function d(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"}function h(e){return"&#x"+(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function p(e,t){function n(t){return e[t]}return function(e){return e.replace(t,n).replace(u,h).replace(c,d)}}var f=l(r);t.escape=function(e){return e.replace(f,d).replace(u,h).replace(c,d)}},function(e,t,n){var r=n(407),o=n(635),i=n(406),a=n(636),s=c(i),l=c(r);function c(e){var t=Object.keys(e).join("|"),n=h(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}var u=function(){for(var e=Object.keys(o).sort(d),t=Object.keys(r).sort(d),n=0,i=0;n<t.length;n++)e[i]===t[n]?(t[n]+=";?",i++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=h(r);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}();function d(e,t){return e<t?1:-1}function h(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?a(parseInt(t.substr(3),16)):a(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:u,HTMLStrict:l}},function(e){e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},function(e,t,n){var r=n(637);e.exports=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in r&&(e=r[e]);var t="";e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e);return t+=String.fromCharCode(e)}},function(e){e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},function(e,t,n){"use strict";var r=n(353),o=n(198),i=n(639),a=o.normalizeURI,s=o.unescapeString,l=n(640),c=n(405).decodeHTML;n(641);var u=o.ESCAPABLE,d="\\\\"+u,h="\\(([^\\\\()\\x00-\\x20]|"+d+"|\\\\)*\\)",p=o.ENTITY,f=o.reHtmlTag,m=new RegExp(/^[\u2000-\u206F\u2E00-\u2E7F\\'!"#\$%&\(\)\*\+,\-\.\/:;<=>\?@\[\]\^_`\{\|\}~]/),g=new RegExp('^(?:"('+d+'|[^"\\x00])*"|\'('+d+"|[^'\\x00])*'|\\(("+d+"|[^)\\x00])*\\))"),v=new RegExp("^(?:[<](?:[^ <>\\t\\n\\\\\\x00]|"+d+"|\\\\)*[>])"),y=new RegExp("^(?:[^\\\\()\\x00-\\x20]+|"+d+"|\\\\|"+h+")*"),b=new RegExp("^"+u),_=new RegExp("^"+p,"i"),w=/`+/,C=/^`+/,S=/\.\.\./g,E=/--+/g,x=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,k=/^<[A-Za-z][A-Za-z0-9.+-]{1,31}:[^<>\x00-\x20]*>/i,O=/^ *(?:\n *)?/,T=/^\s/,M=/\s+/g,P=/ *$/,L=/^ */,N=/^ *(?:\n|$)/,A=new RegExp("^\\[(?:[^\\\\\\[\\]]|"+d+"|\\\\){0,1000}\\]"),I=/^[^\n`\[\]\\!<&*_'"]+/m,R=function(e){var t=new r("Text");return t._literal=e,t},D=function(e){var t=e.exec(this.subject.slice(this.pos));return null===t?null:(this.pos+=t.index+t[0].length,t[0])},j=function(){return this.pos<this.subject.length?this.subject.charCodeAt(this.pos):-1},z=function(){return this.match(O),!0},F=function(e){var t=this.match(C);if(null===t)return!1;for(var n,o,i=this.pos;null!==(n=this.match(w));)if(n===t)return(o=new r("Code"))._literal=this.subject.slice(i,this.pos-t.length).trim().replace(M," "),e.appendChild(o),!0;return this.pos=i,e.appendChild(R(t)),!0},B=function(e){var t,n=this.subject;return this.pos+=1,10===this.peek()?(this.pos+=1,t=new r("Hardbreak"),e.appendChild(t)):b.test(n.charAt(this.pos))?(e.appendChild(R(n.charAt(this.pos))),this.pos+=1):e.appendChild(R("\\")),!0},W=function(e){var t,n,o;return(t=this.match(x))?(n=t.slice(1,t.length-1),(o=new r("Link"))._destination=a("mailto:"+n),o._title="",o.appendChild(R(n)),e.appendChild(o),!0):!!(t=this.match(k))&&(n=t.slice(1,t.length-1),(o=new r("Link"))._destination=a(n),o._title="",o.appendChild(R(n)),e.appendChild(o),!0)},H=function(e){var t=this.match(f);if(null===t)return!1;var n=new r("HtmlInline");return n._literal=t,e.appendChild(n),!0},U=function(e){var t,n,r,o,i,a,s,c,u,d,h,p=0,f=this.pos;if(39===e||34===e)p++,this.pos++;else for(;this.peek()===e;)p++,this.pos++;return 0===p?null:(t=0===f?"\n":this.subject.charAt(f-1),n=-1===(r=this.peek())?"\n":l(r),c=T.test(n),u=m.test(n),d=T.test(t),h=m.test(t),o=!(c||u&&!d&&!h),i=!(d||h&&!c&&!u),95===e?(a=o&&(!i||h),s=i&&(!o||u)):39===e||34===e?(a=o&&!i,s=i):(a=o,s=i),this.pos=f,{numdelims:p,can_open:a,can_close:s})},G=function(e,t){var n=this.scanDelims(e);if(!n)return!1;var r,o=n.numdelims,i=this.pos;this.pos+=o,r=39===e?"’":34===e?"“":this.subject.slice(i,this.pos);var a=R(r);return t.appendChild(a),this.delimiters={cc:e,numdelims:o,node:a,previous:this.delimiters,next:null,can_open:n.can_open,can_close:n.can_close,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},V=function(e){null!==e.previous&&(e.previous.next=e.next),null===e.next?this.delimiters=e.previous:e.next.previous=e.previous},Y=function(e){var t,n,o,i,a,s,l,c,u,d,h,p,f=[];for(f[95]=e,f[42]=e,f[39]=e,f[34]=e,n=this.delimiters;null!==n&&n.previous!==e;)n=n.previous;for(;null!==n;){var m=n.cc;if(!n.can_close||95!==m&&42!==m&&39!==m&&34!==m)n=n.next;else{for(t=n.previous,d=!1;null!==t&&t!==e&&t!==f[m];){if(t.cc===n.cc&&t.can_open){d=!0;break}t=t.previous}if(o=n,42===m||95===m)if(d){l=n.numdelims<3||t.numdelims<3?n.numdelims<=t.numdelims?n.numdelims:t.numdelims:n.numdelims%2==0?2:1,i=t.node,a=n.node,t.numdelims-=l,n.numdelims-=l,i._literal=i._literal.slice(0,i._literal.length-l),a._literal=a._literal.slice(0,a._literal.length-l);var g=new r(1===l?"Emph":"Strong");for(c=i._next;c&&c!==a;)u=c._next,c.unlink(),g.appendChild(c),c=u;i.insertAfter(g),p=n,(h=t).next!==p&&(h.next=p,p.previous=h),0===t.numdelims&&(i.unlink(),this.removeDelimiter(t)),0===n.numdelims&&(a.unlink(),s=n.next,this.removeDelimiter(n),n=s)}else n=n.next;else 39===m?(n.node._literal="’",d&&(t.node._literal="‘"),n=n.next):34===m&&(n.node._literal="”",d&&(t.node.literal="“"),n=n.next);d||(f[m]=o.previous,o.can_open||this.removeDelimiter(o))}}for(;null!==this.delimiters&&this.delimiters!==e;)this.removeDelimiter(this.delimiters)},q=function(){var e=this.match(g);return null===e?null:s(e.substr(1,e.length-2))},Z=function(){var e=this.match(v);return null===e?null===(e=this.match(y))?null:a(s(e)):a(s(e.substr(1,e.length-2)))},$=function(){var e=this.match(A);return null===e||e.length>1001?0:e.length},K=function(e){var t=this.pos;this.pos+=1;var n=R("[");return e.appendChild(n),this.delimiters={cc:91,numdelims:1,node:n,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:t,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters),!0},X=function(e){var t=this.pos;if(this.pos+=1,91===this.peek()){this.pos+=1;var n=R("![");e.appendChild(n),this.delimiters={cc:33,numdelims:1,node:n,previous:this.delimiters,next:null,can_open:!0,can_close:!1,index:t+1,active:!0},null!==this.delimiters.previous&&(this.delimiters.previous.next=this.delimiters)}else e.appendChild(R("!"));return!0},Q=function(e){var t,n,o,a,s,l,c=!1;for(this.pos+=1,t=this.pos,l=this.delimiters;null!==l&&91!==l.cc&&33!==l.cc;)l=l.previous;if(null===l)return e.appendChild(R("]")),!0;if(!l.active)return e.appendChild(R("]")),this.removeDelimiter(l),!0;if(n=33===l.cc,40===this.peek())this.pos++,this.spnl()&&null!==(o=this.parseLinkDestination())&&this.spnl()&&(T.test(this.subject.charAt(this.pos-1))&&(a=this.parseLinkTitle()),1)&&this.spnl()&&41===this.peek()&&(this.pos+=1,c=!0);else{var u=this.pos,d=this.pos,h=this.parseLinkLabel();s=0===h||2===h?this.subject.slice(l.index,t):this.subject.slice(d,d+h),0===h&&(this.pos=u);var p=this.refmap[i(s)];p&&(o=p.destination,a=p.title,c=!0)}if(c){var f,m,g=new r(n?"Image":"Link");for(g._destination=o,g._title=a||"",f=l.node._next;f;)m=f._next,f.unlink(),g.appendChild(f),f=m;if(e.appendChild(g),this.processEmphasis(l.previous),l.node.unlink(),!n)for(l=this.delimiters;null!==l;)91===l.cc&&(l.active=!1),l=l.previous;return!0}return this.removeDelimiter(l),this.pos=t,e.appendChild(R("]")),!0},J=function(e){var t;return!!(t=this.match(_))&&(e.appendChild(R(c(t))),!0)},ee=function(e){var t;return!!(t=this.match(I))&&(this.options.smart?e.appendChild(R(t.replace(S,"…").replace(E,(function(e){var t=0,n=0;return e.length%3==0?n=e.length/3:e.length%2==0?t=e.length/2:e.length%3==2?(t=1,n=(e.length-2)/3):(t=2,n=(e.length-4)/3),"—".repeat(n)+"–".repeat(t)})))):e.appendChild(R(t)),!0)},te=function(e){this.pos+=1;var t=e._lastChild;if(t&&"Text"===t.type&&" "===t._literal[t._literal.length-1]){var n=" "===t._literal[t._literal.length-2];t._literal=t._literal.replace(P,""),e.appendChild(new r(n?"Hardbreak":"Softbreak"))}else e.appendChild(new r("Softbreak"));return this.match(L),!0},ne=function(e,t){var n,r,o,a;this.subject=e,this.pos=0;var s=this.pos;if(0===(a=this.parseLinkLabel()))return 0;if(n=this.subject.substr(0,a),58!==this.peek())return this.pos=s,0;if(this.pos++,this.spnl(),null===(r=this.parseLinkDestination())||0===r.length)return this.pos=s,0;var l=this.pos;this.spnl(),null===(o=this.parseLinkTitle())&&(o="",this.pos=l);var c=!0;if(null===this.match(N)&&(""===o?c=!1:(o="",this.pos=l,c=null!==this.match(N))),!c)return this.pos=s,0;var u=i(n);return""===u?(this.pos=s,0):(t[u]||(t[u]={destination:r,title:o}),this.pos-s)},re=function(e){var t=!1,n=this.peek();if(-1===n)return!1;switch(n){case 10:t=this.parseNewline(e);break;case 92:t=this.parseBackslash(e);break;case 96:t=this.parseBackticks(e);break;case 42:case 95:t=this.handleDelim(n,e);break;case 39:case 34:t=this.options.smart&&this.handleDelim(n,e);break;case 91:t=this.parseOpenBracket(e);break;case 33:t=this.parseBang(e);break;case 93:t=this.parseCloseBracket(e);break;case 60:t=this.parseAutolink(e)||this.parseHtmlTag(e);break;case 38:t=this.parseEntity(e);break;default:t=this.parseString(e)}return t||(this.pos+=1,e.appendChild(R(l(n)))),!0},oe=function(e){for(this.subject=e._string_content.trim(),this.pos=0,this.delimiters=null;this.parseInline(e););e._string_content=null,this.processEmphasis(null)};e.exports=function(e){return{subject:"",delimiters:null,pos:0,refmap:{},match:D,peek:j,spnl:z,parseBackticks:F,parseBackslash:B,parseAutolink:W,parseHtmlTag:H,scanDelims:U,handleDelim:G,parseLinkTitle:q,parseLinkDestination:Z,parseLinkLabel:$,parseOpenBracket:K,parseCloseBracket:Q,parseBang:X,parseEntity:J,parseString:ee,parseNewline:te,parseReference:ne,parseInline:re,processEmphasis:Y,removeDelimiter:V,options:e||{},parse:oe}}},function(e,t,n){"use strict";var r=/[ \t\r\n]+|[A-Z\xB5\xC0-\xD6\xD8-\xDF\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u0149\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u017F\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C5\u01C7\u01C8\u01CA\u01CB\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F0-\u01F2\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0345\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03AB\u03B0\u03C2\u03CF-\u03D1\u03D5\u03D6\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F0\u03F1\u03F4\u03F5\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u0587\u10A0-\u10C5\u10C7\u10CD\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E96-\u1E9B\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F50\u1F52\u1F54\u1F56\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1F80-\u1FAF\u1FB2-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD2\u1FD3\u1FD6-\u1FDB\u1FE2-\u1FE4\u1FE6-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2126\u212A\u212B\u2132\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AD\uA7B0\uA7B1\uFB00-\uFB06\uFB13-\uFB17\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27]|\uD806[\uDCA0-\uDCBF]/g,o={A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z","µ":"μ","À":"à","Á":"á","Â":"â","Ã":"ã","Ä":"ä","Å":"å","Æ":"æ","Ç":"ç","È":"è","É":"é","Ê":"ê","Ë":"ë","Ì":"ì","Í":"í","Î":"î","Ï":"ï","Ð":"ð","Ñ":"ñ","Ò":"ò","Ó":"ó","Ô":"ô","Õ":"õ","Ö":"ö","Ø":"ø","Ù":"ù","Ú":"ú","Û":"û","Ü":"ü","Ý":"ý","Þ":"þ","Ā":"ā","Ă":"ă","Ą":"ą","Ć":"ć","Ĉ":"ĉ","Ċ":"ċ","Č":"č","Ď":"ď","Đ":"đ","Ē":"ē","Ĕ":"ĕ","Ė":"ė","Ę":"ę","Ě":"ě","Ĝ":"ĝ","Ğ":"ğ","Ġ":"ġ","Ģ":"ģ","Ĥ":"ĥ","Ħ":"ħ","Ĩ":"ĩ","Ī":"ī","Ĭ":"ĭ","Į":"į","Ĳ":"ĳ","Ĵ":"ĵ","Ķ":"ķ","Ĺ":"ĺ","Ļ":"ļ","Ľ":"ľ","Ŀ":"ŀ","Ł":"ł","Ń":"ń","Ņ":"ņ","Ň":"ň","Ŋ":"ŋ","Ō":"ō","Ŏ":"ŏ","Ő":"ő","Œ":"œ","Ŕ":"ŕ","Ŗ":"ŗ","Ř":"ř","Ś":"ś","Ŝ":"ŝ","Ş":"ş","Š":"š","Ţ":"ţ","Ť":"ť","Ŧ":"ŧ","Ũ":"ũ","Ū":"ū","Ŭ":"ŭ","Ů":"ů","Ű":"ű","Ų":"ų","Ŵ":"ŵ","Ŷ":"ŷ","Ÿ":"ÿ","Ź":"ź","Ż":"ż","Ž":"ž","ſ":"s","Ɓ":"ɓ","Ƃ":"ƃ","Ƅ":"ƅ","Ɔ":"ɔ","Ƈ":"ƈ","Ɖ":"ɖ","Ɗ":"ɗ","Ƌ":"ƌ","Ǝ":"ǝ","Ə":"ə","Ɛ":"ɛ","Ƒ":"ƒ","Ɠ":"ɠ","Ɣ":"ɣ","Ɩ":"ɩ","Ɨ":"ɨ","Ƙ":"ƙ","Ɯ":"ɯ","Ɲ":"ɲ","Ɵ":"ɵ","Ơ":"ơ","Ƣ":"ƣ","Ƥ":"ƥ","Ʀ":"ʀ","Ƨ":"ƨ","Ʃ":"ʃ","Ƭ":"ƭ","Ʈ":"ʈ","Ư":"ư","Ʊ":"ʊ","Ʋ":"ʋ","Ƴ":"ƴ","Ƶ":"ƶ","Ʒ":"ʒ","Ƹ":"ƹ","Ƽ":"ƽ","Ǆ":"ǆ","ǅ":"ǆ","Ǉ":"ǉ","ǈ":"ǉ","Ǌ":"ǌ","ǋ":"ǌ","Ǎ":"ǎ","Ǐ":"ǐ","Ǒ":"ǒ","Ǔ":"ǔ","Ǖ":"ǖ","Ǘ":"ǘ","Ǚ":"ǚ","Ǜ":"ǜ","Ǟ":"ǟ","Ǡ":"ǡ","Ǣ":"ǣ","Ǥ":"ǥ","Ǧ":"ǧ","Ǩ":"ǩ","Ǫ":"ǫ","Ǭ":"ǭ","Ǯ":"ǯ","Ǳ":"ǳ","ǲ":"ǳ","Ǵ":"ǵ","Ƕ":"ƕ","Ƿ":"ƿ","Ǹ":"ǹ","Ǻ":"ǻ","Ǽ":"ǽ","Ǿ":"ǿ","Ȁ":"ȁ","Ȃ":"ȃ","Ȅ":"ȅ","Ȇ":"ȇ","Ȉ":"ȉ","Ȋ":"ȋ","Ȍ":"ȍ","Ȏ":"ȏ","Ȑ":"ȑ","Ȓ":"ȓ","Ȕ":"ȕ","Ȗ":"ȗ","Ș":"ș","Ț":"ț","Ȝ":"ȝ","Ȟ":"ȟ","Ƞ":"ƞ","Ȣ":"ȣ","Ȥ":"ȥ","Ȧ":"ȧ","Ȩ":"ȩ","Ȫ":"ȫ","Ȭ":"ȭ","Ȯ":"ȯ","Ȱ":"ȱ","Ȳ":"ȳ","Ⱥ":"ⱥ","Ȼ":"ȼ","Ƚ":"ƚ","Ⱦ":"ⱦ","Ɂ":"ɂ","Ƀ":"ƀ","Ʉ":"ʉ","Ʌ":"ʌ","Ɇ":"ɇ","Ɉ":"ɉ","Ɋ":"ɋ","Ɍ":"ɍ","Ɏ":"ɏ","ͅ":"ι","Ͱ":"ͱ","Ͳ":"ͳ","Ͷ":"ͷ","Ϳ":"ϳ","Ά":"ά","Έ":"έ","Ή":"ή","Ί":"ί","Ό":"ό","Ύ":"ύ","Ώ":"ώ","Α":"α","Β":"β","Γ":"γ","Δ":"δ","Ε":"ε","Ζ":"ζ","Η":"η","Θ":"θ","Ι":"ι","Κ":"κ","Λ":"λ","Μ":"μ","Ν":"ν","Ξ":"ξ","Ο":"ο","Π":"π","Ρ":"ρ","Σ":"σ","Τ":"τ","Υ":"υ","Φ":"φ","Χ":"χ","Ψ":"ψ","Ω":"ω","Ϊ":"ϊ","Ϋ":"ϋ","ς":"σ","Ϗ":"ϗ","ϐ":"β","ϑ":"θ","ϕ":"φ","ϖ":"π","Ϙ":"ϙ","Ϛ":"ϛ","Ϝ":"ϝ","Ϟ":"ϟ","Ϡ":"ϡ","Ϣ":"ϣ","Ϥ":"ϥ","Ϧ":"ϧ","Ϩ":"ϩ","Ϫ":"ϫ","Ϭ":"ϭ","Ϯ":"ϯ","ϰ":"κ","ϱ":"ρ","ϴ":"θ","ϵ":"ε","Ϸ":"ϸ","Ϲ":"ϲ","Ϻ":"ϻ","Ͻ":"ͻ","Ͼ":"ͼ","Ͽ":"ͽ","Ѐ":"ѐ","Ё":"ё","Ђ":"ђ","Ѓ":"ѓ","Є":"є","Ѕ":"ѕ","І":"і","Ї":"ї","Ј":"ј","Љ":"љ","Њ":"њ","Ћ":"ћ","Ќ":"ќ","Ѝ":"ѝ","Ў":"ў","Џ":"џ","А":"а","Б":"б","В":"в","Г":"г","Д":"д","Е":"е","Ж":"ж","З":"з","И":"и","Й":"й","К":"к","Л":"л","М":"м","Н":"н","О":"о","П":"п","Р":"р","С":"с","Т":"т","У":"у","Ф":"ф","Х":"х","Ц":"ц","Ч":"ч","Ш":"ш","Щ":"щ","Ъ":"ъ","Ы":"ы","Ь":"ь","Э":"э","Ю":"ю","Я":"я","Ѡ":"ѡ","Ѣ":"ѣ","Ѥ":"ѥ","Ѧ":"ѧ","Ѩ":"ѩ","Ѫ":"ѫ","Ѭ":"ѭ","Ѯ":"ѯ","Ѱ":"ѱ","Ѳ":"ѳ","Ѵ":"ѵ","Ѷ":"ѷ","Ѹ":"ѹ","Ѻ":"ѻ","Ѽ":"ѽ","Ѿ":"ѿ","Ҁ":"ҁ","Ҋ":"ҋ","Ҍ":"ҍ","Ҏ":"ҏ","Ґ":"ґ","Ғ":"ғ","Ҕ":"ҕ","Җ":"җ","Ҙ":"ҙ","Қ":"қ","Ҝ":"ҝ","Ҟ":"ҟ","Ҡ":"ҡ","Ң":"ң","Ҥ":"ҥ","Ҧ":"ҧ","Ҩ":"ҩ","Ҫ":"ҫ","Ҭ":"ҭ","Ү":"ү","Ұ":"ұ","Ҳ":"ҳ","Ҵ":"ҵ","Ҷ":"ҷ","Ҹ":"ҹ","Һ":"һ","Ҽ":"ҽ","Ҿ":"ҿ","Ӏ":"ӏ","Ӂ":"ӂ","Ӄ":"ӄ","Ӆ":"ӆ","Ӈ":"ӈ","Ӊ":"ӊ","Ӌ":"ӌ","Ӎ":"ӎ","Ӑ":"ӑ","Ӓ":"ӓ","Ӕ":"ӕ","Ӗ":"ӗ","Ә":"ә","Ӛ":"ӛ","Ӝ":"ӝ","Ӟ":"ӟ","Ӡ":"ӡ","Ӣ":"ӣ","Ӥ":"ӥ","Ӧ":"ӧ","Ө":"ө","Ӫ":"ӫ","Ӭ":"ӭ","Ӯ":"ӯ","Ӱ":"ӱ","Ӳ":"ӳ","Ӵ":"ӵ","Ӷ":"ӷ","Ӹ":"ӹ","Ӻ":"ӻ","Ӽ":"ӽ","Ӿ":"ӿ","Ԁ":"ԁ","Ԃ":"ԃ","Ԅ":"ԅ","Ԇ":"ԇ","Ԉ":"ԉ","Ԋ":"ԋ","Ԍ":"ԍ","Ԏ":"ԏ","Ԑ":"ԑ","Ԓ":"ԓ","Ԕ":"ԕ","Ԗ":"ԗ","Ԙ":"ԙ","Ԛ":"ԛ","Ԝ":"ԝ","Ԟ":"ԟ","Ԡ":"ԡ","Ԣ":"ԣ","Ԥ":"ԥ","Ԧ":"ԧ","Ԩ":"ԩ","Ԫ":"ԫ","Ԭ":"ԭ","Ԯ":"ԯ","Ա":"ա","Բ":"բ","Գ":"գ","Դ":"դ","Ե":"ե","Զ":"զ","Է":"է","Ը":"ը","Թ":"թ","Ժ":"ժ","Ի":"ի","Լ":"լ","Խ":"խ","Ծ":"ծ","Կ":"կ","Հ":"հ","Ձ":"ձ","Ղ":"ղ","Ճ":"ճ","Մ":"մ","Յ":"յ","Ն":"ն","Շ":"շ","Ո":"ո","Չ":"չ","Պ":"պ","Ջ":"ջ","Ռ":"ռ","Ս":"ս","Վ":"վ","Տ":"տ","Ր":"ր","Ց":"ց","Ւ":"ւ","Փ":"փ","Ք":"ք","Օ":"օ","Ֆ":"ֆ","Ⴀ":"ⴀ","Ⴁ":"ⴁ","Ⴂ":"ⴂ","Ⴃ":"ⴃ","Ⴄ":"ⴄ","Ⴅ":"ⴅ","Ⴆ":"ⴆ","Ⴇ":"ⴇ","Ⴈ":"ⴈ","Ⴉ":"ⴉ","Ⴊ":"ⴊ","Ⴋ":"ⴋ","Ⴌ":"ⴌ","Ⴍ":"ⴍ","Ⴎ":"ⴎ","Ⴏ":"ⴏ","Ⴐ":"ⴐ","Ⴑ":"ⴑ","Ⴒ":"ⴒ","Ⴓ":"ⴓ","Ⴔ":"ⴔ","Ⴕ":"ⴕ","Ⴖ":"ⴖ","Ⴗ":"ⴗ","Ⴘ":"ⴘ","Ⴙ":"ⴙ","Ⴚ":"ⴚ","Ⴛ":"ⴛ","Ⴜ":"ⴜ","Ⴝ":"ⴝ","Ⴞ":"ⴞ","Ⴟ":"ⴟ","Ⴠ":"ⴠ","Ⴡ":"ⴡ","Ⴢ":"ⴢ","Ⴣ":"ⴣ","Ⴤ":"ⴤ","Ⴥ":"ⴥ","Ⴧ":"ⴧ","Ⴭ":"ⴭ","Ḁ":"ḁ","Ḃ":"ḃ","Ḅ":"ḅ","Ḇ":"ḇ","Ḉ":"ḉ","Ḋ":"ḋ","Ḍ":"ḍ","Ḏ":"ḏ","Ḑ":"ḑ","Ḓ":"ḓ","Ḕ":"ḕ","Ḗ":"ḗ","Ḙ":"ḙ","Ḛ":"ḛ","Ḝ":"ḝ","Ḟ":"ḟ","Ḡ":"ḡ","Ḣ":"ḣ","Ḥ":"ḥ","Ḧ":"ḧ","Ḩ":"ḩ","Ḫ":"ḫ","Ḭ":"ḭ","Ḯ":"ḯ","Ḱ":"ḱ","Ḳ":"ḳ","Ḵ":"ḵ","Ḷ":"ḷ","Ḹ":"ḹ","Ḻ":"ḻ","Ḽ":"ḽ","Ḿ":"ḿ","Ṁ":"ṁ","Ṃ":"ṃ","Ṅ":"ṅ","Ṇ":"ṇ","Ṉ":"ṉ","Ṋ":"ṋ","Ṍ":"ṍ","Ṏ":"ṏ","Ṑ":"ṑ","Ṓ":"ṓ","Ṕ":"ṕ","Ṗ":"ṗ","Ṙ":"ṙ","Ṛ":"ṛ","Ṝ":"ṝ","Ṟ":"ṟ","Ṡ":"ṡ","Ṣ":"ṣ","Ṥ":"ṥ","Ṧ":"ṧ","Ṩ":"ṩ","Ṫ":"ṫ","Ṭ":"ṭ","Ṯ":"ṯ","Ṱ":"ṱ","Ṳ":"ṳ","Ṵ":"ṵ","Ṷ":"ṷ","Ṹ":"ṹ","Ṻ":"ṻ","Ṽ":"ṽ","Ṿ":"ṿ","Ẁ":"ẁ","Ẃ":"ẃ","Ẅ":"ẅ","Ẇ":"ẇ","Ẉ":"ẉ","Ẋ":"ẋ","Ẍ":"ẍ","Ẏ":"ẏ","Ẑ":"ẑ","Ẓ":"ẓ","Ẕ":"ẕ","ẛ":"ṡ","Ạ":"ạ","Ả":"ả","Ấ":"ấ","Ầ":"ầ","Ẩ":"ẩ","Ẫ":"ẫ","Ậ":"ậ","Ắ":"ắ","Ằ":"ằ","Ẳ":"ẳ","Ẵ":"ẵ","Ặ":"ặ","Ẹ":"ẹ","Ẻ":"ẻ","Ẽ":"ẽ","Ế":"ế","Ề":"ề","Ể":"ể","Ễ":"ễ","Ệ":"ệ","Ỉ":"ỉ","Ị":"ị","Ọ":"ọ","Ỏ":"ỏ","Ố":"ố","Ồ":"ồ","Ổ":"ổ","Ỗ":"ỗ","Ộ":"ộ","Ớ":"ớ","Ờ":"ờ","Ở":"ở","Ỡ":"ỡ","Ợ":"ợ","Ụ":"ụ","Ủ":"ủ","Ứ":"ứ","Ừ":"ừ","Ử":"ử","Ữ":"ữ","Ự":"ự","Ỳ":"ỳ","Ỵ":"ỵ","Ỷ":"ỷ","Ỹ":"ỹ","Ỻ":"ỻ","Ỽ":"ỽ","Ỿ":"ỿ","Ἀ":"ἀ","Ἁ":"ἁ","Ἂ":"ἂ","Ἃ":"ἃ","Ἄ":"ἄ","Ἅ":"ἅ","Ἆ":"ἆ","Ἇ":"ἇ","Ἐ":"ἐ","Ἑ":"ἑ","Ἒ":"ἒ","Ἓ":"ἓ","Ἔ":"ἔ","Ἕ":"ἕ","Ἠ":"ἠ","Ἡ":"ἡ","Ἢ":"ἢ","Ἣ":"ἣ","Ἤ":"ἤ","Ἥ":"ἥ","Ἦ":"ἦ","Ἧ":"ἧ","Ἰ":"ἰ","Ἱ":"ἱ","Ἲ":"ἲ","Ἳ":"ἳ","Ἴ":"ἴ","Ἵ":"ἵ","Ἶ":"ἶ","Ἷ":"ἷ","Ὀ":"ὀ","Ὁ":"ὁ","Ὂ":"ὂ","Ὃ":"ὃ","Ὄ":"ὄ","Ὅ":"ὅ","Ὑ":"ὑ","Ὓ":"ὓ","Ὕ":"ὕ","Ὗ":"ὗ","Ὠ":"ὠ","Ὡ":"ὡ","Ὢ":"ὢ","Ὣ":"ὣ","Ὤ":"ὤ","Ὥ":"ὥ","Ὦ":"ὦ","Ὧ":"ὧ","Ᾰ":"ᾰ","Ᾱ":"ᾱ","Ὰ":"ὰ","Ά":"ά","ι":"ι","Ὲ":"ὲ","Έ":"έ","Ὴ":"ὴ","Ή":"ή","Ῐ":"ῐ","Ῑ":"ῑ","Ὶ":"ὶ","Ί":"ί","Ῠ":"ῠ","Ῡ":"ῡ","Ὺ":"ὺ","Ύ":"ύ","Ῥ":"ῥ","Ὸ":"ὸ","Ό":"ό","Ὼ":"ὼ","Ώ":"ώ","Ω":"ω","K":"k","Å":"å","Ⅎ":"ⅎ","Ⅰ":"ⅰ","Ⅱ":"ⅱ","Ⅲ":"ⅲ","Ⅳ":"ⅳ","Ⅴ":"ⅴ","Ⅵ":"ⅵ","Ⅶ":"ⅶ","Ⅷ":"ⅷ","Ⅸ":"ⅸ","Ⅹ":"ⅹ","Ⅺ":"ⅺ","Ⅻ":"ⅻ","Ⅼ":"ⅼ","Ⅽ":"ⅽ","Ⅾ":"ⅾ","Ⅿ":"ⅿ","Ↄ":"ↄ","Ⓐ":"ⓐ","Ⓑ":"ⓑ","Ⓒ":"ⓒ","Ⓓ":"ⓓ","Ⓔ":"ⓔ","Ⓕ":"ⓕ","Ⓖ":"ⓖ","Ⓗ":"ⓗ","Ⓘ":"ⓘ","Ⓙ":"ⓙ","Ⓚ":"ⓚ","Ⓛ":"ⓛ","Ⓜ":"ⓜ","Ⓝ":"ⓝ","Ⓞ":"ⓞ","Ⓟ":"ⓟ","Ⓠ":"ⓠ","Ⓡ":"ⓡ","Ⓢ":"ⓢ","Ⓣ":"ⓣ","Ⓤ":"ⓤ","Ⓥ":"ⓥ","Ⓦ":"ⓦ","Ⓧ":"ⓧ","Ⓨ":"ⓨ","Ⓩ":"ⓩ","Ⰰ":"ⰰ","Ⰱ":"ⰱ","Ⰲ":"ⰲ","Ⰳ":"ⰳ","Ⰴ":"ⰴ","Ⰵ":"ⰵ","Ⰶ":"ⰶ","Ⰷ":"ⰷ","Ⰸ":"ⰸ","Ⰹ":"ⰹ","Ⰺ":"ⰺ","Ⰻ":"ⰻ","Ⰼ":"ⰼ","Ⰽ":"ⰽ","Ⰾ":"ⰾ","Ⰿ":"ⰿ","Ⱀ":"ⱀ","Ⱁ":"ⱁ","Ⱂ":"ⱂ","Ⱃ":"ⱃ","Ⱄ":"ⱄ","Ⱅ":"ⱅ","Ⱆ":"ⱆ","Ⱇ":"ⱇ","Ⱈ":"ⱈ","Ⱉ":"ⱉ","Ⱊ":"ⱊ","Ⱋ":"ⱋ","Ⱌ":"ⱌ","Ⱍ":"ⱍ","Ⱎ":"ⱎ","Ⱏ":"ⱏ","Ⱐ":"ⱐ","Ⱑ":"ⱑ","Ⱒ":"ⱒ","Ⱓ":"ⱓ","Ⱔ":"ⱔ","Ⱕ":"ⱕ","Ⱖ":"ⱖ","Ⱗ":"ⱗ","Ⱘ":"ⱘ","Ⱙ":"ⱙ","Ⱚ":"ⱚ","Ⱛ":"ⱛ","Ⱜ":"ⱜ","Ⱝ":"ⱝ","Ⱞ":"ⱞ","Ⱡ":"ⱡ","Ɫ":"ɫ","Ᵽ":"ᵽ","Ɽ":"ɽ","Ⱨ":"ⱨ","Ⱪ":"ⱪ","Ⱬ":"ⱬ","Ɑ":"ɑ","Ɱ":"ɱ","Ɐ":"ɐ","Ɒ":"ɒ","Ⱳ":"ⱳ","Ⱶ":"ⱶ","Ȿ":"ȿ","Ɀ":"ɀ","Ⲁ":"ⲁ","Ⲃ":"ⲃ","Ⲅ":"ⲅ","Ⲇ":"ⲇ","Ⲉ":"ⲉ","Ⲋ":"ⲋ","Ⲍ":"ⲍ","Ⲏ":"ⲏ","Ⲑ":"ⲑ","Ⲓ":"ⲓ","Ⲕ":"ⲕ","Ⲗ":"ⲗ","Ⲙ":"ⲙ","Ⲛ":"ⲛ","Ⲝ":"ⲝ","Ⲟ":"ⲟ","Ⲡ":"ⲡ","Ⲣ":"ⲣ","Ⲥ":"ⲥ","Ⲧ":"ⲧ","Ⲩ":"ⲩ","Ⲫ":"ⲫ","Ⲭ":"ⲭ","Ⲯ":"ⲯ","Ⲱ":"ⲱ","Ⲳ":"ⲳ","Ⲵ":"ⲵ","Ⲷ":"ⲷ","Ⲹ":"ⲹ","Ⲻ":"ⲻ","Ⲽ":"ⲽ","Ⲿ":"ⲿ","Ⳁ":"ⳁ","Ⳃ":"ⳃ","Ⳅ":"ⳅ","Ⳇ":"ⳇ","Ⳉ":"ⳉ","Ⳋ":"ⳋ","Ⳍ":"ⳍ","Ⳏ":"ⳏ","Ⳑ":"ⳑ","Ⳓ":"ⳓ","Ⳕ":"ⳕ","Ⳗ":"ⳗ","Ⳙ":"ⳙ","Ⳛ":"ⳛ","Ⳝ":"ⳝ","Ⳟ":"ⳟ","Ⳡ":"ⳡ","Ⳣ":"ⳣ","Ⳬ":"ⳬ","Ⳮ":"ⳮ","Ⳳ":"ⳳ","Ꙁ":"ꙁ","Ꙃ":"ꙃ","Ꙅ":"ꙅ","Ꙇ":"ꙇ","Ꙉ":"ꙉ","Ꙋ":"ꙋ","Ꙍ":"ꙍ","Ꙏ":"ꙏ","Ꙑ":"ꙑ","Ꙓ":"ꙓ","Ꙕ":"ꙕ","Ꙗ":"ꙗ","Ꙙ":"ꙙ","Ꙛ":"ꙛ","Ꙝ":"ꙝ","Ꙟ":"ꙟ","Ꙡ":"ꙡ","Ꙣ":"ꙣ","Ꙥ":"ꙥ","Ꙧ":"ꙧ","Ꙩ":"ꙩ","Ꙫ":"ꙫ","Ꙭ":"ꙭ","Ꚁ":"ꚁ","Ꚃ":"ꚃ","Ꚅ":"ꚅ","Ꚇ":"ꚇ","Ꚉ":"ꚉ","Ꚋ":"ꚋ","Ꚍ":"ꚍ","Ꚏ":"ꚏ","Ꚑ":"ꚑ","Ꚓ":"ꚓ","Ꚕ":"ꚕ","Ꚗ":"ꚗ","Ꚙ":"ꚙ","Ꚛ":"ꚛ","Ꜣ":"ꜣ","Ꜥ":"ꜥ","Ꜧ":"ꜧ","Ꜩ":"ꜩ","Ꜫ":"ꜫ","Ꜭ":"ꜭ","Ꜯ":"ꜯ","Ꜳ":"ꜳ","Ꜵ":"ꜵ","Ꜷ":"ꜷ","Ꜹ":"ꜹ","Ꜻ":"ꜻ","Ꜽ":"ꜽ","Ꜿ":"ꜿ","Ꝁ":"ꝁ","Ꝃ":"ꝃ","Ꝅ":"ꝅ","Ꝇ":"ꝇ","Ꝉ":"ꝉ","Ꝋ":"ꝋ","Ꝍ":"ꝍ","Ꝏ":"ꝏ","Ꝑ":"ꝑ","Ꝓ":"ꝓ","Ꝕ":"ꝕ","Ꝗ":"ꝗ","Ꝙ":"ꝙ","Ꝛ":"ꝛ","Ꝝ":"ꝝ","Ꝟ":"ꝟ","Ꝡ":"ꝡ","Ꝣ":"ꝣ","Ꝥ":"ꝥ","Ꝧ":"ꝧ","Ꝩ":"ꝩ","Ꝫ":"ꝫ","Ꝭ":"ꝭ","Ꝯ":"ꝯ","Ꝺ":"ꝺ","Ꝼ":"ꝼ","Ᵹ":"ᵹ","Ꝿ":"ꝿ","Ꞁ":"ꞁ","Ꞃ":"ꞃ","Ꞅ":"ꞅ","Ꞇ":"ꞇ","Ꞌ":"ꞌ","Ɥ":"ɥ","Ꞑ":"ꞑ","Ꞓ":"ꞓ","Ꞗ":"ꞗ","Ꞙ":"ꞙ","Ꞛ":"ꞛ","Ꞝ":"ꞝ","Ꞟ":"ꞟ","Ꞡ":"ꞡ","Ꞣ":"ꞣ","Ꞥ":"ꞥ","Ꞧ":"ꞧ","Ꞩ":"ꞩ","Ɦ":"ɦ","Ɜ":"ɜ","Ɡ":"ɡ","Ɬ":"ɬ","Ʞ":"ʞ","Ʇ":"ʇ","Ａ":"ａ","Ｂ":"ｂ","Ｃ":"ｃ","Ｄ":"ｄ","Ｅ":"ｅ","Ｆ":"ｆ","Ｇ":"ｇ","Ｈ":"ｈ","Ｉ":"ｉ","Ｊ":"ｊ","Ｋ":"ｋ","Ｌ":"ｌ","Ｍ":"ｍ","Ｎ":"ｎ","Ｏ":"ｏ","Ｐ":"ｐ","Ｑ":"ｑ","Ｒ":"ｒ","Ｓ":"ｓ","Ｔ":"ｔ","Ｕ":"ｕ","Ｖ":"ｖ","Ｗ":"ｗ","Ｘ":"ｘ","Ｙ":"ｙ","Ｚ":"ｚ","𐐀":"𐐨","𐐁":"𐐩","𐐂":"𐐪","𐐃":"𐐫","𐐄":"𐐬","𐐅":"𐐭","𐐆":"𐐮","𐐇":"𐐯","𐐈":"𐐰","𐐉":"𐐱","𐐊":"𐐲","𐐋":"𐐳","𐐌":"𐐴","𐐍":"𐐵","𐐎":"𐐶","𐐏":"𐐷","𐐐":"𐐸","𐐑":"𐐹","𐐒":"𐐺","𐐓":"𐐻","𐐔":"𐐼","𐐕":"𐐽","𐐖":"𐐾","𐐗":"𐐿","𐐘":"𐑀","𐐙":"𐑁","𐐚":"𐑂","𐐛":"𐑃","𐐜":"𐑄","𐐝":"𐑅","𐐞":"𐑆","𐐟":"𐑇","𐐠":"𐑈","𐐡":"𐑉","𐐢":"𐑊","𐐣":"𐑋","𐐤":"𐑌","𐐥":"𐑍","𐐦":"𐑎","𐐧":"𐑏","𑢠":"𑣀","𑢡":"𑣁","𑢢":"𑣂","𑢣":"𑣃","𑢤":"𑣄","𑢥":"𑣅","𑢦":"𑣆","𑢧":"𑣇","𑢨":"𑣈","𑢩":"𑣉","𑢪":"𑣊","𑢫":"𑣋","𑢬":"𑣌","𑢭":"𑣍","𑢮":"𑣎","𑢯":"𑣏","𑢰":"𑣐","𑢱":"𑣑","𑢲":"𑣒","𑢳":"𑣓","𑢴":"𑣔","𑢵":"𑣕","𑢶":"𑣖","𑢷":"𑣗","𑢸":"𑣘","𑢹":"𑣙","𑢺":"𑣚","𑢻":"𑣛","𑢼":"𑣜","𑢽":"𑣝","𑢾":"𑣞","𑢿":"𑣟","ß":"ss","İ":"i̇","ŉ":"ʼn","ǰ":"ǰ","ΐ":"ΐ","ΰ":"ΰ","և":"եւ","ẖ":"ẖ","ẗ":"ẗ","ẘ":"ẘ","ẙ":"ẙ","ẚ":"aʾ","ẞ":"ss","ὐ":"ὐ","ὒ":"ὒ","ὔ":"ὔ","ὖ":"ὖ","ᾀ":"ἀι","ᾁ":"ἁι","ᾂ":"ἂι","ᾃ":"ἃι","ᾄ":"ἄι","ᾅ":"ἅι","ᾆ":"ἆι","ᾇ":"ἇι","ᾈ":"ἀι","ᾉ":"ἁι","ᾊ":"ἂι","ᾋ":"ἃι","ᾌ":"ἄι","ᾍ":"ἅι","ᾎ":"ἆι","ᾏ":"ἇι","ᾐ":"ἠι","ᾑ":"ἡι","ᾒ":"ἢι","ᾓ":"ἣι","ᾔ":"ἤι","ᾕ":"ἥι","ᾖ":"ἦι","ᾗ":"ἧι","ᾘ":"ἠι","ᾙ":"ἡι","ᾚ":"ἢι","ᾛ":"ἣι","ᾜ":"ἤι","ᾝ":"ἥι","ᾞ":"ἦι","ᾟ":"ἧι","ᾠ":"ὠι","ᾡ":"ὡι","ᾢ":"ὢι","ᾣ":"ὣι","ᾤ":"ὤι","ᾥ":"ὥι","ᾦ":"ὦι","ᾧ":"ὧι","ᾨ":"ὠι","ᾩ":"ὡι","ᾪ":"ὢι","ᾫ":"ὣι","ᾬ":"ὤι","ᾭ":"ὥι","ᾮ":"ὦι","ᾯ":"ὧι","ᾲ":"ὰι","ᾳ":"αι","ᾴ":"άι","ᾶ":"ᾶ","ᾷ":"ᾶι","ᾼ":"αι","ῂ":"ὴι","ῃ":"ηι","ῄ":"ήι","ῆ":"ῆ","ῇ":"ῆι","ῌ":"ηι","ῒ":"ῒ","ΐ":"ΐ","ῖ":"ῖ","ῗ":"ῗ","ῢ":"ῢ","ΰ":"ΰ","ῤ":"ῤ","ῦ":"ῦ","ῧ":"ῧ","ῲ":"ὼι","ῳ":"ωι","ῴ":"ώι","ῶ":"ῶ","ῷ":"ῶι","ῼ":"ωι","ﬀ":"ff","ﬁ":"fi","ﬂ":"fl","ﬃ":"ffi","ﬄ":"ffl","ﬅ":"st","ﬆ":"st","ﬓ":"մն","ﬔ":"մե","ﬕ":"մի","ﬖ":"վն","ﬗ":"մխ"};e.exports=function(e){return e.slice(1,e.length-1).trim().replace(r,(function(e){return o[e]||" "}))}},function(e,t,n){"use strict";
/*! http://mths.be/fromcodepoint v0.2.1 by @mathias */if(String.fromCodePoint)e.exports=function(e){try{return String.fromCodePoint(e)}catch(e){if(e instanceof RangeError)return String.fromCharCode(65533);throw e}};else{var r=String.fromCharCode,o=Math.floor;e.exports=function(){var e,t,n=16384,i=[],a=-1,s=arguments.length;if(!s)return"";for(var l="";++a<s;){var c=Number(arguments[a]);if(!isFinite(c)||c<0||c>1114111||o(c)!==c)return String.fromCharCode(65533);c<=65535?i.push(c):(e=55296+((c-=65536)>>10),t=c%1024+56320,i.push(e,t)),(a+1===s||i.length>n)&&(l+=r.apply(null,i),i.length=0)}return l}}},function(e,t){
/*! http://mths.be/repeat v0.2.0 by @mathias */
String.prototype.repeat||function(){"use strict";var e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),t=function(e){if(null==this)throw TypeError();var t=String(this),n=e?Number(e):0;if(n!=n&&(n=0),n<0||n==1/0)throw RangeError();for(var r="";n;)n%2==1&&(r+=t),n>1&&(t+=t),n>>=1;return r};e?e(String.prototype,"repeat",{value:t,configurable:!0,writable:!0}):String.prototype.repeat=t}()},function(e,t,n){"use strict";var r=n(198).escapeXml,o=function(e,t,n){var r="<"+e;if(t&&t.length>0)for(var o,i=0;void 0!==(o=t[i]);)r+=" "+o[0]+'="'+o[1]+'"',i++;return n&&(r+=" /"),r+=">"},i=/\<[^>]*\>/,a=/^javascript:|vbscript:|file:|data:/i,s=/^data:image\/(?:png|gif|jpeg|webp)/i,l=function(e){return a.test(e)&&!s.test(e)},c=function(e){var t,n,r,a,s,c,u,d=e.walker(),h="",p="\n",f=0,m=function(e){h+=f>0?e.replace(i,""):e,p=e},g=this.escape,v=function(){"\n"!==p&&(h+="\n",p="\n")},y=this.options;for(y.time&&console.time("rendering");a=d.next();){if(c=a.entering,s=a.node,t=[],y.sourcepos){var b=s.sourcepos;b&&t.push(["data-sourcepos",String(b[0][0])+":"+String(b[0][1])+"-"+String(b[1][0])+":"+String(b[1][1])])}switch(s.type){case"Text":m(g(s.literal,!1));break;case"Softbreak":m(this.softbreak);break;case"Hardbreak":m(o("br",[],!0)),v();break;case"Emph":m(o(c?"em":"/em"));break;case"Strong":m(o(c?"strong":"/strong"));break;case"HtmlInline":y.safe?m("\x3c!-- raw HTML omitted --\x3e"):m(s.literal);break;case"CustomInline":c&&s.onEnter?m(s.onEnter):!c&&s.onExit&&m(s.onExit);break;case"Link":c?(y.safe&&l(s.destination)||t.push(["href",g(s.destination,!0)]),s.title&&t.push(["title",g(s.title,!0)]),m(o("a",t))):m(o("/a"));break;case"Image":c?(0===f&&(y.safe&&l(s.destination)?m('<img src="" alt="'):m('<img src="'+g(s.destination,!0)+'" alt="')),f+=1):0===(f-=1)&&(s.title&&m('" title="'+g(s.title,!0)),m('" />'));break;case"Code":m(o("code")+g(s.literal,!1)+o("/code"));break;case"Document":break;case"Paragraph":if(null!==(u=s.parent.parent)&&"List"===u.type&&u.listTight)break;c?(v(),m(o("p",t))):(m(o("/p")),v());break;case"BlockQuote":c?(v(),m(o("blockquote",t)),v()):(v(),m(o("/blockquote")),v());break;case"Item":c?m(o("li",t)):(m(o("/li")),v());break;case"List":if(r="Bullet"===s.listType?"ul":"ol",c){var _=s.listStart;null!==_&&1!==_&&t.push(["start",_.toString()]),v(),m(o(r,t)),v()}else v(),m(o("/"+r)),v();break;case"Heading":r="h"+s.level,c?(v(),m(o(r,t))):(m(o("/"+r)),v());break;case"CodeBlock":(n=s.info?s.info.split(/\s+/):[]).length>0&&n[0].length>0&&t.push(["class","language-"+g(n[0],!0)]),v(),m(o("pre")+o("code",t)),m(g(s.literal,!1)),m(o("/code")+o("/pre")),v();break;case"HtmlBlock":v(),y.safe?m("\x3c!-- raw HTML omitted --\x3e"):m(s.literal),v();break;case"CustomBlock":v(),c&&s.onEnter?m(s.onEnter):!c&&s.onExit&&m(s.onExit),v();break;case"ThematicBreak":v(),m(o("hr",t,!0)),v();break;default:throw"Unknown node type "+s.type}}return y.time&&console.timeEnd("rendering"),h};e.exports=function(e){return{softbreak:"\n",escape:r,options:e||{},render:c}}},function(e,t,n){"use strict";var r=n(198).escapeXml,o=function(e,t,n){var r="<"+e;if(t&&t.length>0)for(var o,i=0;void 0!==(o=t[i]);)r+=" "+o[0]+'="'+o[1]+'"',i++;return n&&(r+=" /"),r+=">"},i=function(e){var t,n,r,i,a,s,l,c,u=e.walker(),d="",h="\n",p=0,f=function(e){d+=e,h=e},m=this.escape,g=function(){if("\n"!==h){d+="\n",h="\n";for(var e=p;e>0;e--)d+="  "}},v=this.options;for(v.time&&console.time("rendering"),d+='<?xml version="1.0" encoding="UTF-8"?>\n',d+='<!DOCTYPE CommonMark SYSTEM "CommonMark.dtd">\n';r=u.next();)if(a=r.entering,c=(i=r.node).type,s=i.isContainer,l="ThematicBreak"===c||"Hardbreak"===c||"Softbreak"===c,n=c.replace(/([a-z])([A-Z])/g,"$1_$2").toLowerCase(),a){switch(t=[],c){case"Document":t.push(["xmlns","http://commonmark.org/xml/1.0"]);break;case"List":null!==i.listType&&t.push(["type",i.listType.toLowerCase()]),null!==i.listStart&&t.push(["start",String(i.listStart)]),null!==i.listTight&&t.push(["tight",i.listTight?"true":"false"]);var y=i.listDelimiter;if(null!==y){var b="";b="."===y?"period":"paren",t.push(["delimiter",b])}break;case"CodeBlock":i.info&&t.push(["info",i.info]);break;case"Heading":t.push(["level",String(i.level)]);break;case"Link":case"Image":t.push(["destination",i.destination]),t.push(["title",i.title]);break;case"CustomInline":case"CustomBlock":t.push(["on_enter",i.onEnter]),t.push(["on_exit",i.onExit])}if(v.sourcepos){var _=i.sourcepos;_&&t.push(["sourcepos",String(_[0][0])+":"+String(_[0][1])+"-"+String(_[1][0])+":"+String(_[1][1])])}if(g(),f(o(n,t,l)),s)p+=1;else if(!s&&!l){var w=i.literal;w&&f(m(w)),f(o("/"+n))}}else p-=1,g(),f(o("/"+n));return v.time&&console.timeEnd("rendering"),d+="\n"};e.exports=function(e){return{softbreak:"\n",escape:r,options:e||{},render:i}}},function(e,t,n){"use strict";e.exports=function(e){e.Radar=function(t,n){return n.type="radar",new e(t,n)}}},function(e,t){var n=/^(?:0|[1-9]\d*)$/;function r(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var o,i,a=Object.prototype,s=a.hasOwnProperty,l=a.toString,c=a.propertyIsEnumerable,u=(o=Object.keys,i=Object,function(e){return o(i(e))}),d=Math.max,h=!c.call({valueOf:1},"valueOf");function p(e,t){var n=y(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&b(e)}(e)&&s.call(e,"callee")&&(!c.call(e,"callee")||"[object Arguments]"==l.call(e))}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var i in e)!t&&!s.call(e,i)||o&&("length"==i||m(i,r))||n.push(i);return n}function f(e,t,n){var r=e[t];s.call(e,t)&&v(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function m(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||n.test(e))&&e>-1&&e%1==0&&e<t}function g(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||a)}function v(e,t){return e===t||e!=e&&t!=t}var y=Array.isArray;function b(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=_(e)?l.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}function _(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var w,C=(w=function(e,t){if(h||g(t)||b(t))!function(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var a=t[o],s=r?r(n[a],e[a],a,n,e):void 0;f(n,a,void 0===s?e[a]:s)}}(t,function(e){return b(e)?p(e):function(e){if(!g(e))return u(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}(t),e);else for(var n in t)s.call(t,n)&&f(e,n,t[n])},function(e,t){return t=d(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=d(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=n[o];return s[t]=a,r(e,this,s)}}((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=w.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!_(n))return!1;var r=typeof t;return!!("number"==r?b(n)&&m(t,n.length):"string"==r&&t in n)&&v(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var a=t[n];a&&w(e,a,n,o)}return e})));e.exports=C},function(e,t){var n,r,o=Function.prototype,i=Object.prototype,a=o.toString,s=i.hasOwnProperty,l=a.call(Object),c=i.toString,u=(n=Object.getPrototypeOf,r=Object,function(e){return n(r(e))});e.exports=function(e){if(!function(e){return!!e&&"object"==typeof e}(e)||"[object Object]"!=c.call(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e))return!1;var t=u(e);if(null===t)return!0;var n=s.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&a.call(n)==l}},function(e,t,n){"use strict";e.exports=function(e){e.Scatter=function(t,n){return n.type="scatter",new e(t,n)}}},function(e,t){e.exports=
/*!
 * pascalcase <https://github.com/jonschlinkert/pascalcase>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */
function(e){if("string"!=typeof e)throw new TypeError("expected a string.");return 1===(e=e.replace(/([A-Z])/g," $1")).length?e.toUpperCase():(e=(e=e.replace(/^[\W_]+|[\W_]+$/g,"").toLowerCase()).charAt(0).toUpperCase()+e.slice(1)).replace(/[\W_]+(\w|$)/g,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n>o?-1:n<o?1:0}},function(e,t,n){var r=n(651);e.exports=function(e,t){var n=r(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=r(e),o=r(t);return n.getTime()-o.getTime()}},function(e,t,n){var r=n(60),o=n(373),i=n(653);e.exports=function(e,t){var n=r(e),a=r(t),s=i(n,a),l=Math.abs(o(n,a));return n.setMonth(n.getMonth()-s*l),s*(l-(i(n,a)===-s))}},function(e,t,n){var r=n(60);e.exports=function(e,t){var n=r(e).getTime(),o=r(t).getTime();return n<o?-1:n>o?1:0}},function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,a=parseInt,s="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,c=s||l||Function("return this")(),u=Object.prototype.toString,d=Math.max,h=Math.min,p=function(){return c.Date.now()};function f(e,t,n){var r,o,i,a,s,l,c=0,u=!1,f=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,c=t,a=e.apply(i,n)}function b(e){return c=e,s=setTimeout(w,t),u?y(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||f&&e-c>=i}function w(){var e=p();if(_(e))return C(e);s=setTimeout(w,function(e){var n=t-(e-l);return f?h(n,i-(e-c)):n}(e))}function C(e){return s=void 0,v&&r?y(e):(r=o=void 0,a)}function S(){var e=p(),n=_(e);if(r=arguments,o=this,l=e,n){if(void 0===s)return b(l);if(f)return s=setTimeout(w,t),y(l)}return void 0===s&&(s=setTimeout(w,t)),a}return t=g(t)||0,m(n)&&(u=!!n.leading,i=(f="maxWait"in n)?d(g(n.maxWait)||0,t):i,v="trailing"in n?!!n.trailing:v),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=l=o=s=void 0},S.flush=function(){return void 0===s?a:C(p())},S}function m(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function g(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==u.call(e)}(e))return NaN;if(m(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=m(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var s=o.test(e);return s||i.test(e)?a(e.slice(2),s?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return m(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),f(e,t,{leading:r,maxWait:t,trailing:o})}}).call(this,n(45))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(0)),a=c(n(1)),s=c(n(19)),l=n(418);function c(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return l.canUseDOM&&(r.node=document.createElement("div"),r.root=null,r.handleRootRef=function(e){r.root=e},r.handleOutClick=function(e){var t=r.props.onOutClick;"function"==typeof t&&(r.root&&!r.root.contains(e.target)&&t(e),r.root||t(e))},document.addEventListener("click",r.handleOutClick,!0)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){l.canUseDOM&&document.body.appendChild(this.node)}},{key:"componentWillUnmount",value:function(){l.canUseDOM&&(document.removeEventListener("click",this.handleOutClick,!0),document.body.removeChild(this.node))}},{key:"render",value:function(){var e=this.props,t=(e.onOutClick,function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["onOutClick"]));return s.default.createPortal(i.default.createElement("div",r({},t,{ref:this.handleRootRef})),this.node)}}]),t}(i.default.Component);u.propTypes={onOutClick:a.default.func},t.default=u},function(e,t,n){(function(t){(function(){var n,r,o,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,i=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=i-s):Date.now?(e.exports=function(){return Date.now()-o},o=Date.now()):(e.exports=function(){return(new Date).getTime()-o},o=(new Date).getTime())}).call(this)}).call(this,n(137))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=l(n(1)),i=n(0),a=l(i),s=l(n(4));function l(e){return e&&e.__esModule?e:{default:e}}var c="mdc-form-field",u={alignEnd:o.default.bool,children:o.default.node,className:o.default.string,id:o.default.string.isRequired},d=function(e){var t,n,o,l=e.alignEnd,u=e.className,d=e.children,h=e.id,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["alignEnd","className","children","id"]),f=i.Children.map(d,(function(e){return"label"===e.type?(0,i.cloneElement)(e,{htmlFor:h}):(0,i.cloneElement)(e,{id:h})}));return a.default.createElement("div",r({className:(0,s.default)(c,(t={},n="mdc-form-field--align-end",o=l,n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t),u)},p),f)};d.propTypes=u,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=s(n(0)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l="mdc-switch",c={className:o.default.string,disabled:o.default.bool},u=function(e){var t=e.className,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className"]),o=(0,a.default)(l,t);return i.default.createElement("div",{className:o},i.default.createElement("input",r({className:"mdc-switch__native-control",type:"checkbox"},n)),i.default.createElement("div",{className:"mdc-switch__background"},i.default.createElement("div",{className:"mdc-switch__knob"})))};u.propTypes=c,t.default=u},function(e,t,n){"use strict";var r=n(49),o=n(152),i=n(32);r._set("global",{plugins:{filler:{propagate:!0}}}),e.exports=function(){var e={dataset:function(e){var t=e.fill,n=e.chart,r=n.getDatasetMeta(t),o=r&&n.isDatasetVisible(t)&&r.dataset._children||[],i=o.length||0;return i?function(e,t){return t<i&&o[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,r=t?t.y:null;return function(e){return{x:null===n?e.x:n,y:null===r?e.y:r}}}};function t(e,t,n){var r,o=e._model||{},i=o.fill;if(void 0===i&&(i=!!o.backgroundColor),!1===i||null===i)return!1;if(!0===i)return"origin";if(r=parseFloat(i,10),isFinite(r)&&Math.floor(r)===r)return"-"!==i[0]&&"+"!==i[0]||(r=t+r),!(r===t||r<0||r>=n)&&r;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function n(e){var t,n=e.el._model||{},r=e.el._scale||{},o=e.fill,i=null;if(isFinite(o))return null;if("start"===o?i=void 0===n.scaleBottom?r.bottom:n.scaleBottom:"end"===o?i=void 0===n.scaleTop?r.top:n.scaleTop:void 0!==n.scaleZero?i=n.scaleZero:r.getBasePosition?i=r.getBasePosition():r.getBasePixel&&(i=r.getBasePixel()),null!=i){if(void 0!==i.x&&void 0!==i.y)return i;if("number"==typeof i&&isFinite(i))return{x:(t=r.isHorizontal())?i:null,y:t?null:i}}return null}function a(e,t,n){var r,o=e[t].fill,i=[t];if(!n)return o;for(;!1!==o&&-1===i.indexOf(o);){if(!isFinite(o))return o;if(!(r=e[o]))return!1;if(r.visible)return o;i.push(o),o=r.fill}return!1}function s(t){var n=t.fill,r="dataset";return!1===n?null:(isFinite(n)||(r="boundary"),e[r](t))}function l(e){return e&&!e.skip}function c(e,t,n,r,o){var a;if(r&&o){for(e.moveTo(t[0].x,t[0].y),a=1;a<r;++a)i.canvas.lineTo(e,t[a-1],t[a]);for(e.lineTo(n[o-1].x,n[o-1].y),a=o-1;a>0;--a)i.canvas.lineTo(e,n[a],n[a-1],!0)}}return{id:"filler",afterDatasetsUpdate:function(e,r){var i,l,c,u,d=(e.data.datasets||[]).length,h=r.propagate,p=[];for(l=0;l<d;++l)u=null,(c=(i=e.getDatasetMeta(l)).dataset)&&c._model&&c instanceof o.Line&&(u={visible:e.isDatasetVisible(l),fill:t(c,l,d),chart:e,el:c}),i.$filler=u,p.push(u);for(l=0;l<d;++l)(u=p[l])&&(u.fill=a(p,l,h),u.boundary=n(u),u.mapper=s(u))},beforeDatasetDraw:function(e,t){var n=t.meta.$filler;if(n){var o=e.ctx,a=n.el,s=a._view,u=a._children||[],d=n.mapper,h=s.backgroundColor||r.global.defaultColor;d&&h&&u.length&&(i.canvas.clipArea(o,e.chartArea),function(e,t,n,r,o,i){var a,s,u,d,h,p,f,m=t.length,g=r.spanGaps,v=[],y=[],b=0,_=0;for(e.beginPath(),a=0,s=m+!!i;a<s;++a)h=n(d=t[u=a%m]._view,u,r),p=l(d),f=l(h),p&&f?(b=v.push(d),_=y.push(h)):b&&_&&(g?(p&&v.push(d),f&&y.push(h)):(c(e,v,y,b,_),b=_=0,v=[],y=[]));c(e,v,y,b,_),e.closePath(),e.fillStyle=o,e.fill()}(o,u,d,s,h,a._loop),i.canvas.unclipArea(o))}}}}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,r=this.chart,o=r.getDatasetMeta(n);o.hidden=null===o.hidden?!r.data.datasets[n].hidden:null,r.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return i.isArray(t.datasets)?t.datasets.map((function(t,n){return{text:t.label,fillStyle:i.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(n),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:n}}),this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var n=0;n<e.data.datasets.length;n++)t.push('<li><span style="background-color:'+e.data.datasets[n].backgroundColor+'"></span>'),e.data.datasets[n].label&&t.push(e.data.datasets[n].label),t.push("</li>");return t.push("</ul>"),t.join("")}}),e.exports=function(e){var t=e.layoutService,n=i.noop;function a(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function s(n,r){var o=new e.Legend({ctx:n.ctx,options:r,chart:n});t.configure(n,o,r),t.addBox(n,o),n.legend=o}return e.Legend=o.extend({initialize:function(e){i.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:n,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:function(){var e=this,t=e.options.labels||{},n=i.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:n,beforeFit:n,fit:function(){var e=this,t=e.options,n=t.labels,o=t.display,s=e.ctx,l=r.global,c=i.valueOrDefault,u=c(n.fontSize,l.defaultFontSize),d=c(n.fontStyle,l.defaultFontStyle),h=c(n.fontFamily,l.defaultFontFamily),p=i.fontString(u,d,h),f=e.legendHitBoxes=[],m=e.minSize,g=e.isHorizontal();if(g?(m.width=e.maxWidth,m.height=o?10:0):(m.width=o?10:0,m.height=e.maxHeight),o)if(s.font=p,g){var v=e.lineWidths=[0],y=e.legendItems.length?u+n.padding:0;s.textAlign="left",s.textBaseline="top",i.each(e.legendItems,(function(t,r){var o=a(n,u)+u/2+s.measureText(t.text).width;v[v.length-1]+o+n.padding>=e.width&&(y+=u+n.padding,v[v.length]=e.left),f[r]={left:0,top:0,width:o,height:u},v[v.length-1]+=o+n.padding})),m.height+=y}else{var b=n.padding,_=e.columnWidths=[],w=n.padding,C=0,S=0,E=u+b;i.each(e.legendItems,(function(e,t){var r=a(n,u)+u/2+s.measureText(e.text).width;S+E>m.height&&(w+=C+n.padding,_.push(C),C=0,S=0),C=Math.max(C,r),S+=E,f[t]={left:0,top:0,width:r,height:u}})),w+=C,_.push(C),m.width+=w}e.width=m.width,e.height=m.height},afterFit:n,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,o=r.global,s=o.elements.line,l=e.width,c=e.lineWidths;if(t.display){var u,d=e.ctx,h=i.valueOrDefault,p=h(n.fontColor,o.defaultFontColor),f=h(n.fontSize,o.defaultFontSize),m=h(n.fontStyle,o.defaultFontStyle),g=h(n.fontFamily,o.defaultFontFamily),v=i.fontString(f,m,g);d.textAlign="left",d.textBaseline="middle",d.lineWidth=.5,d.strokeStyle=p,d.fillStyle=p,d.font=v;var y=a(n,f),b=e.legendHitBoxes,_=e.isHorizontal();u=_?{x:e.left+(l-c[0])/2,y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+n.padding,line:0};var w=f+n.padding;i.each(e.legendItems,(function(r,a){var p=d.measureText(r.text).width,m=y+f/2+p,g=u.x,v=u.y;_?g+m>=l&&(v=u.y+=w,u.line++,g=u.x=e.left+(l-c[u.line])/2):v+w>e.bottom&&(g=u.x=g+e.columnWidths[u.line]+n.padding,v=u.y=e.top+n.padding,u.line++),function(e,n,r){if(!(isNaN(y)||y<=0)){d.save(),d.fillStyle=h(r.fillStyle,o.defaultColor),d.lineCap=h(r.lineCap,s.borderCapStyle),d.lineDashOffset=h(r.lineDashOffset,s.borderDashOffset),d.lineJoin=h(r.lineJoin,s.borderJoinStyle),d.lineWidth=h(r.lineWidth,s.borderWidth),d.strokeStyle=h(r.strokeStyle,o.defaultColor);var a=0===h(r.lineWidth,s.borderWidth);if(d.setLineDash&&d.setLineDash(h(r.lineDash,s.borderDash)),t.labels&&t.labels.usePointStyle){var l=f*Math.SQRT2/2,c=l/Math.SQRT2,u=e+c,p=n+c;i.canvas.drawPoint(d,r.pointStyle,l,u,p)}else a||d.strokeRect(e,n,y,f),d.fillRect(e,n,y,f);d.restore()}}(g,v,r),b[a].left=g,b[a].top=v,function(e,t,n,r){var o=f/2,i=y+o+e,a=t+o;d.fillText(n.text,i,a),n.hidden&&(d.beginPath(),d.lineWidth=2,d.moveTo(i,a),d.lineTo(i+r,a),d.stroke())}(g,v,r,p),_?u.x+=m+n.padding:u.y+=w}))}},handleEvent:function(e){var t=this,n=t.options,r="mouseup"===e.type?"click":e.type,o=!1;if("mousemove"===r){if(!n.onHover)return}else{if("click"!==r)return;if(!n.onClick)return}var i=e.x,a=e.y;if(i>=t.left&&i<=t.right&&a>=t.top&&a<=t.bottom)for(var s=t.legendHitBoxes,l=0;l<s.length;++l){var c=s[l];if(i>=c.left&&i<=c.left+c.width&&a>=c.top&&a<=c.top+c.height){if("click"===r){n.onClick.call(t,e.native,t.legendItems[l]),o=!0;break}if("mousemove"===r){n.onHover.call(t,e.native,t.legendItems[l]),o=!0;break}}}return o}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&s(e,t)},beforeUpdate:function(e){var n=e.options.legend,o=e.legend;n?(i.mergeIf(n,r.global.legend),o?(t.configure(e,o,n),o.options=n):s(e,n)):o&&(t.removeBox(e,o),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}}}},function(e,t,n){"use strict";var r=n(49),o=n(121),i=n(32);r._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),e.exports=function(e){var t=e.layoutService,n=i.noop;function a(n,r){var o=new e.Title({ctx:n.ctx,options:r,chart:n});t.configure(n,o,r),t.addBox(n,o),n.titleBlock=o}return e.Title=o.extend({initialize:function(e){i.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:n,update:function(e,t,n){var r=this;return r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r.margins=n,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r.beforeBuildLabels(),r.buildLabels(),r.afterBuildLabels(),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate(),r.minSize},afterUpdate:n,beforeSetDimensions:n,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:n,beforeBuildLabels:n,buildLabels:n,afterBuildLabels:n,beforeFit:n,fit:function(){var e=this,t=i.valueOrDefault,n=e.options,o=n.display,a=t(n.fontSize,r.global.defaultFontSize),s=e.minSize,l=i.isArray(n.text)?n.text.length:1,c=i.options.toLineHeight(n.lineHeight,a),u=o?l*c+2*n.padding:0;e.isHorizontal()?(s.width=e.maxWidth,s.height=u):(s.width=u,s.height=e.maxHeight),e.width=s.width,e.height=s.height},afterFit:n,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=i.valueOrDefault,o=e.options,a=r.global;if(o.display){var s,l,c,u=n(o.fontSize,a.defaultFontSize),d=n(o.fontStyle,a.defaultFontStyle),h=n(o.fontFamily,a.defaultFontFamily),p=i.fontString(u,d,h),f=i.options.toLineHeight(o.lineHeight,u),m=f/2+o.padding,g=0,v=e.top,y=e.left,b=e.bottom,_=e.right;t.fillStyle=n(o.fontColor,a.defaultFontColor),t.font=p,e.isHorizontal()?(l=y+(_-y)/2,c=v+m,s=_-y):(l="left"===o.position?y+m:_-m,c=v+(b-v)/2,s=b-v,g=Math.PI*("left"===o.position?-.5:.5)),t.save(),t.translate(l,c),t.rotate(g),t.textAlign="center",t.textBaseline="middle";var w=o.text;if(i.isArray(w))for(var C=0,S=0;S<w.length;++S)t.fillText(w[S],0,C,s),C+=f;else t.fillText(w,0,0,s);t.restore()}}}),{id:"title",beforeInit:function(e){var t=e.options.title;t&&a(e,t)},beforeUpdate:function(n){var o=n.options.title,s=n.titleBlock;o?(i.mergeIf(o,r.global.title),s?(t.configure(n,s,o),s.options=o):a(n,o)):s&&(e.layoutService.removeBox(n,s),delete n.titleBlock)}}}},function(e,t,n){e.exports=n(663),e.exports.parse_nhx=n(668)},function(e,t){e.exports.parse_newick=function(e){for(var t=[],n={},r=e.split(/\s*(;|\(|\)|,|:)\s*/),o=0;o<r.length;o++){var i=r[o];switch(i){case"(":var a={};n.children=[a],t.push(n),n=a;break;case",":a={};t[t.length-1].children.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:var s=r[o-1];")"==s||"("==s||","==s?n.name=i:":"==s&&(n.branch_length=parseFloat(i))}}return n},e.exports.parse_json=function(e){return function e(t){var n="";if(t.hasOwnProperty("children")){var r=[];t.children.forEach((function(t){var n=e(t);r.push(n)}));var o=r.join();t.hasOwnProperty("name")&&(n="("+o+")"+t.name),t.hasOwnProperty("branch_length")&&(n=n+":"+t.branch_length)}else{var i="";t.hasOwnProperty("name")&&(i=t.name),t.hasOwnProperty("branch_length")&&(i=i+":"+t.branch_length),n+=i}return n}(e)+";"}},function(e,t,n){var r=n(665),o=function(){return new c};for(var i in r){o[i+"Raw"]=function(e){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),r[e](t)}}(i);var a=/(\w+)2(\w+)/.exec(i),s=a[1],l=a[2];(o[s]=o[s]||{})[l]=o[i]=function(e){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=r[e](t);if("string"==typeof n||void 0===n)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(i)}var c=function(){this.convs={}};c.prototype.routeSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n))},c.prototype.setValues=function(e,t){return this.space=e,this.convs={},this.convs[e]=t,this},c.prototype.getValues=function(e){var t=this.convs[e];if(!t){var n=this.space,r=this.convs[n];t=o[n][e](r),this.convs[e]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach((function(e){c.prototype[e]=function(t){return this.routeSpace(e,arguments)}})),e.exports=o},function(e,t){function n(e){var t,n,r=e[0]/255,o=e[1]/255,i=e[2]/255,a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a;return s==a?t=0:r==s?t=(o-i)/l:o==s?t=2+(i-r)/l:i==s&&(t=4+(r-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s==a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]}function o(e){var t,n,r=e[0],o=e[1],i=e[2],a=Math.min(r,o,i),s=Math.max(r,o,i),l=s-a;return n=0==s?0:l/s*1e3/10,s==a?t=0:r==s?t=(o-i)/l:o==s?t=2+(i-r)/l:i==s&&(t=4+(r-o)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,n,s/255*1e3/10]}function i(e){var t=e[0],r=e[1],o=e[2];return[n(e)[0],100*(1/255*Math.min(t,Math.min(r,o))),100*(o=1-1/255*Math.max(t,Math.max(r,o)))]}function a(e){var t,n=e[0]/255,r=e[1]/255,o=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-r,1-o)))/(1-t)||0),100*((1-r-t)/(1-t)||0),100*((1-o-t)/(1-t)||0),100*t]}function s(e){return E[JSON.stringify(e)]}function l(e){var t=e[0]/255,n=e[1]/255,r=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]}function c(e){var t=l(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]}function u(e){var t,n,r,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0==s)return[i=255*l,i,i];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(r=a+1/3*-(c-1))<0&&r++,r>1&&r--,i=6*r<1?t+6*(n-t)*r:2*r<1?n:3*r<2?t+(n-t)*(2/3-r)*6:t,o[c]=255*i;return o}function d(e){var t=e[0]/60,n=e[1]/100,r=e[2]/100,o=Math.floor(t)%6,i=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*i),l=255*r*(1-n*(1-i));r*=255;switch(o){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}}function h(e){var t,n,o,i,a=e[0]/360,s=e[1]/100,l=e[2]/100,c=s+l;switch(c>1&&(s/=c,l/=c),o=6*a-(t=Math.floor(6*a)),0!=(1&t)&&(o=1-o),i=s+o*((n=1-l)-s),t){default:case 6:case 0:r=n,g=i,b=s;break;case 1:r=i,g=n,b=s;break;case 2:r=s,g=n,b=i;break;case 3:r=s,g=i,b=n;break;case 4:r=i,g=s,b=n;break;case 5:r=n,g=s,b=i}return[255*r,255*g,255*b]}function p(e){var t=e[0]/100,n=e[1]/100,r=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o))]}function f(e){var t,n,r,o=e[0]/100,i=e[1]/100,a=e[2]/100;return n=-.9689*o+1.8758*i+.0415*a,r=.0557*o+-.204*i+1.057*a,t=(t=3.2406*o+-1.5372*i+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:t*=12.92,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(r=Math.min(Math.max(0,r),1))]}function m(e){var t=e[0],n=e[1],r=e[2];return n/=100,r/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]}function v(e){var t,n,r,o,i=e[0],a=e[1],s=e[2];return i<=8?o=(n=100*i/903.3)/100*7.787+16/116:(n=100*Math.pow((i+16)/116,3),o=Math.pow(n/100,1/3)),[t=t/95.047<=.008856?t=95.047*(a/500+o-16/116)/7.787:95.047*Math.pow(a/500+o,3),n,r=r/108.883<=.008859?r=108.883*(o-s/200-16/116)/7.787:108.883*Math.pow(o-s/200,3)]}function y(e){var t,n=e[0],r=e[1],o=e[2];return(t=360*Math.atan2(o,r)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(r*r+o*o),t]}function _(e){return f(v(e))}function w(e){var t,n=e[0],r=e[1];return t=e[2]/360*2*Math.PI,[n,r*Math.cos(t),r*Math.sin(t)]}function C(e){return S[e]}e.exports={rgb2hsl:n,rgb2hsv:o,rgb2hwb:i,rgb2cmyk:a,rgb2keyword:s,rgb2xyz:l,rgb2lab:c,rgb2lch:function(e){return y(c(e))},hsl2rgb:u,hsl2hsv:function(e){var t=e[0],n=e[1]/100,r=e[2]/100;if(0===r)return[0,0,0];return[t,100*(2*(n*=(r*=2)<=1?r:2-r)/(r+n)),100*((r+n)/2)]},hsl2hwb:function(e){return i(u(e))},hsl2cmyk:function(e){return a(u(e))},hsl2keyword:function(e){return s(u(e))},hsv2rgb:d,hsv2hsl:function(e){var t,n,r=e[0],o=e[1]/100,i=e[2]/100;return t=o*i,[r,100*(t=(t/=(n=(2-o)*i)<=1?n:2-n)||0),100*(n/=2)]},hsv2hwb:function(e){return i(d(e))},hsv2cmyk:function(e){return a(d(e))},hsv2keyword:function(e){return s(d(e))},hwb2rgb:h,hwb2hsl:function(e){return n(h(e))},hwb2hsv:function(e){return o(h(e))},hwb2cmyk:function(e){return a(h(e))},hwb2keyword:function(e){return s(h(e))},cmyk2rgb:p,cmyk2hsl:function(e){return n(p(e))},cmyk2hsv:function(e){return o(p(e))},cmyk2hwb:function(e){return i(p(e))},cmyk2keyword:function(e){return s(p(e))},keyword2rgb:C,keyword2hsl:function(e){return n(C(e))},keyword2hsv:function(e){return o(C(e))},keyword2hwb:function(e){return i(C(e))},keyword2cmyk:function(e){return a(C(e))},keyword2lab:function(e){return c(C(e))},keyword2xyz:function(e){return l(C(e))},xyz2rgb:f,xyz2lab:m,xyz2lch:function(e){return y(m(e))},lab2xyz:v,lab2rgb:_,lab2lch:y,lch2lab:w,lch2xyz:function(e){return v(w(e))},lch2rgb:function(e){return _(w(e))}};var S={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},E={};for(var x in S)E[JSON.stringify(S[x])]=x},function(e,t,n){var r=n(667);function o(e){if(e){var t=[0,0,0],n=1,o=e.match(/^#([a-fA-F0-9]{3})$/i);if(o){o=o[1];for(var i=0;i<t.length;i++)t[i]=parseInt(o[i]+o[i],16)}else if(o=e.match(/^#([a-fA-F0-9]{6})$/i)){o=o[1];for(i=0;i<t.length;i++)t[i]=parseInt(o.slice(2*i,2*i+2),16)}else if(o=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=parseInt(o[i+1]);n=parseFloat(o[4])}else if(o=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(i=0;i<t.length;i++)t[i]=Math.round(2.55*parseFloat(o[i+1]));n=parseFloat(o[4])}else if(o=e.match(/(\w+)/)){if("transparent"==o[1])return[0,0,0,0];if(!(t=r[o[1]]))return}for(i=0;i<t.length;i++)t[i]=u(t[i],0,255);return n=n||0==n?u(n,0,1):1,t[3]=n,t}}function i(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function a(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[u(parseInt(t[1]),0,360),u(parseFloat(t[2]),0,100),u(parseFloat(t[3]),0,100),u(isNaN(n)?1:n,0,1)]}}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function l(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function c(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function u(e,t,n){return Math.min(Math.max(t,e),n)}function d(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}e.exports={getRgba:o,getHsla:i,getRgb:function(e){var t=o(e);return t&&t.slice(0,3)},getHsl:function(e){var t=i(e);return t&&t.slice(0,3)},getHwb:a,getAlpha:function(e){var t=o(e);if(t)return t[3];if(t=i(e))return t[3];if(t=a(e))return t[3]},hexString:function(e){return"#"+d(e[0])+d(e[1])+d(e[2])},rgbString:function(e,t){if(t<1||e[3]&&e[3]<1)return s(e,t);return"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);var n=Math.round(e[0]/255*100),r=Math.round(e[1]/255*100),o=Math.round(e[2]/255*100);return"rgb("+n+"%, "+r+"%, "+o+"%)"},percentaString:l,hslString:function(e,t){if(t<1||e[3]&&e[3]<1)return c(e,t);return"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:c,hwbString:function(e,t){void 0===t&&(t=void 0!==e[3]?e[3]:1);return"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return h[e.slice(0,3)]}};var h={};for(var p in r)h[r[p]]=p},function(e,t,n){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},function(e,t){e.exports=parse_nhx=function(e){for(var t=[],n={},r=e.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/),o=0;o<r.length;o++){var i=r[o];switch(i){case"(":var a={};n.children=[a],t.push(n),n=a;break;case",":a={};t[t.length-1].children.push(a),n=a;break;case")":n=t.pop();break;case":":break;default:var s=r[o-1];if(")"==s||"("==s||","==s)n.name=i;else if(":"==s){isNaN(i)||(n.branch_length=parseFloat(i))}else if("="==s){switch(r[o-2]){case"D":n.duplication=i;break;case"G":n.gene_id=i;break;case"T":n.taxon_id=i}}else;}}return n}},function(e,t){e.exports=["alignContent","MozAlignContent","WebkitAlignContent","MSAlignContent","OAlignContent","alignItems","MozAlignItems","WebkitAlignItems","MSAlignItems","OAlignItems","alignSelf","MozAlignSelf","WebkitAlignSelf","MSAlignSelf","OAlignSelf","all","MozAll","WebkitAll","MSAll","OAll","animation","MozAnimation","WebkitAnimation","MSAnimation","OAnimation","animationDelay","MozAnimationDelay","WebkitAnimationDelay","MSAnimationDelay","OAnimationDelay","animationDirection","MozAnimationDirection","WebkitAnimationDirection","MSAnimationDirection","OAnimationDirection","animationDuration","MozAnimationDuration","WebkitAnimationDuration","MSAnimationDuration","OAnimationDuration","animationFillMode","MozAnimationFillMode","WebkitAnimationFillMode","MSAnimationFillMode","OAnimationFillMode","animationIterationCount","MozAnimationIterationCount","WebkitAnimationIterationCount","MSAnimationIterationCount","OAnimationIterationCount","animationName","MozAnimationName","WebkitAnimationName","MSAnimationName","OAnimationName","animationPlayState","MozAnimationPlayState","WebkitAnimationPlayState","MSAnimationPlayState","OAnimationPlayState","animationTimingFunction","MozAnimationTimingFunction","WebkitAnimationTimingFunction","MSAnimationTimingFunction","OAnimationTimingFunction","backfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","MSBackfaceVisibility","OBackfaceVisibility","background","MozBackground","WebkitBackground","MSBackground","OBackground","backgroundAttachment","MozBackgroundAttachment","WebkitBackgroundAttachment","MSBackgroundAttachment","OBackgroundAttachment","backgroundBlendMode","MozBackgroundBlendMode","WebkitBackgroundBlendMode","MSBackgroundBlendMode","OBackgroundBlendMode","backgroundClip","MozBackgroundClip","WebkitBackgroundClip","MSBackgroundClip","OBackgroundClip","backgroundColor","MozBackgroundColor","WebkitBackgroundColor","MSBackgroundColor","OBackgroundColor","backgroundImage","MozBackgroundImage","WebkitBackgroundImage","MSBackgroundImage","OBackgroundImage","backgroundOrigin","MozBackgroundOrigin","WebkitBackgroundOrigin","MSBackgroundOrigin","OBackgroundOrigin","backgroundPosition","MozBackgroundPosition","WebkitBackgroundPosition","MSBackgroundPosition","OBackgroundPosition","backgroundRepeat","MozBackgroundRepeat","WebkitBackgroundRepeat","MSBackgroundRepeat","OBackgroundRepeat","backgroundSize","MozBackgroundSize","WebkitBackgroundSize","MSBackgroundSize","OBackgroundSize","blockSize","MozBlockSize","WebkitBlockSize","MSBlockSize","OBlockSize","border","MozBorder","WebkitBorder","MSBorder","OBorder","borderBlockEnd","MozBorderBlockEnd","WebkitBorderBlockEnd","MSBorderBlockEnd","OBorderBlockEnd","borderBlockEndColor","MozBorderBlockEndColor","WebkitBorderBlockEndColor","MSBorderBlockEndColor","OBorderBlockEndColor","borderBlockEndStyle","MozBorderBlockEndStyle","WebkitBorderBlockEndStyle","MSBorderBlockEndStyle","OBorderBlockEndStyle","borderBlockEndWidth","MozBorderBlockEndWidth","WebkitBorderBlockEndWidth","MSBorderBlockEndWidth","OBorderBlockEndWidth","borderBlockStart","MozBorderBlockStart","WebkitBorderBlockStart","MSBorderBlockStart","OBorderBlockStart","borderBlockStartColor","MozBorderBlockStartColor","WebkitBorderBlockStartColor","MSBorderBlockStartColor","OBorderBlockStartColor","borderBlockStartStyle","MozBorderBlockStartStyle","WebkitBorderBlockStartStyle","MSBorderBlockStartStyle","OBorderBlockStartStyle","borderBlockStartWidth","MozBorderBlockStartWidth","WebkitBorderBlockStartWidth","MSBorderBlockStartWidth","OBorderBlockStartWidth","borderBottom","MozBorderBottom","WebkitBorderBottom","MSBorderBottom","OBorderBottom","borderBottomColor","MozBorderBottomColor","WebkitBorderBottomColor","MSBorderBottomColor","OBorderBottomColor","borderBottomLeftRadius","MozBorderBottomLeftRadius","WebkitBorderBottomLeftRadius","MSBorderBottomLeftRadius","OBorderBottomLeftRadius","borderBottomRightRadius","MozBorderBottomRightRadius","WebkitBorderBottomRightRadius","MSBorderBottomRightRadius","OBorderBottomRightRadius","borderBottomStyle","MozBorderBottomStyle","WebkitBorderBottomStyle","MSBorderBottomStyle","OBorderBottomStyle","borderBottomWidth","MozBorderBottomWidth","WebkitBorderBottomWidth","MSBorderBottomWidth","OBorderBottomWidth","borderCollapse","MozBorderCollapse","WebkitBorderCollapse","MSBorderCollapse","OBorderCollapse","borderColor","MozBorderColor","WebkitBorderColor","MSBorderColor","OBorderColor","borderImage","MozBorderImage","WebkitBorderImage","MSBorderImage","OBorderImage","borderImageOutset","MozBorderImageOutset","WebkitBorderImageOutset","MSBorderImageOutset","OBorderImageOutset","borderImageRepeat","MozBorderImageRepeat","WebkitBorderImageRepeat","MSBorderImageRepeat","OBorderImageRepeat","borderImageSlice","MozBorderImageSlice","WebkitBorderImageSlice","MSBorderImageSlice","OBorderImageSlice","borderImageSource","MozBorderImageSource","WebkitBorderImageSource","MSBorderImageSource","OBorderImageSource","borderImageWidth","MozBorderImageWidth","WebkitBorderImageWidth","MSBorderImageWidth","OBorderImageWidth","borderInlineEnd","MozBorderInlineEnd","WebkitBorderInlineEnd","MSBorderInlineEnd","OBorderInlineEnd","borderInlineEndColor","MozBorderInlineEndColor","WebkitBorderInlineEndColor","MSBorderInlineEndColor","OBorderInlineEndColor","borderInlineEndStyle","MozBorderInlineEndStyle","WebkitBorderInlineEndStyle","MSBorderInlineEndStyle","OBorderInlineEndStyle","borderInlineEndWidth","MozBorderInlineEndWidth","WebkitBorderInlineEndWidth","MSBorderInlineEndWidth","OBorderInlineEndWidth","borderInlineStart","MozBorderInlineStart","WebkitBorderInlineStart","MSBorderInlineStart","OBorderInlineStart","borderInlineStartColor","MozBorderInlineStartColor","WebkitBorderInlineStartColor","MSBorderInlineStartColor","OBorderInlineStartColor","borderInlineStartStyle","MozBorderInlineStartStyle","WebkitBorderInlineStartStyle","MSBorderInlineStartStyle","OBorderInlineStartStyle","borderInlineStartWidth","MozBorderInlineStartWidth","WebkitBorderInlineStartWidth","MSBorderInlineStartWidth","OBorderInlineStartWidth","borderLeft","MozBorderLeft","WebkitBorderLeft","MSBorderLeft","OBorderLeft","borderLeftColor","MozBorderLeftColor","WebkitBorderLeftColor","MSBorderLeftColor","OBorderLeftColor","borderLeftStyle","MozBorderLeftStyle","WebkitBorderLeftStyle","MSBorderLeftStyle","OBorderLeftStyle","borderLeftWidth","MozBorderLeftWidth","WebkitBorderLeftWidth","MSBorderLeftWidth","OBorderLeftWidth","borderRadius","MozBorderRadius","WebkitBorderRadius","MSBorderRadius","OBorderRadius","borderRight","MozBorderRight","WebkitBorderRight","MSBorderRight","OBorderRight","borderRightColor","MozBorderRightColor","WebkitBorderRightColor","MSBorderRightColor","OBorderRightColor","borderRightStyle","MozBorderRightStyle","WebkitBorderRightStyle","MSBorderRightStyle","OBorderRightStyle","borderRightWidth","MozBorderRightWidth","WebkitBorderRightWidth","MSBorderRightWidth","OBorderRightWidth","borderSpacing","MozBorderSpacing","WebkitBorderSpacing","MSBorderSpacing","OBorderSpacing","borderStyle","MozBorderStyle","WebkitBorderStyle","MSBorderStyle","OBorderStyle","borderTop","MozBorderTop","WebkitBorderTop","MSBorderTop","OBorderTop","borderTopColor","MozBorderTopColor","WebkitBorderTopColor","MSBorderTopColor","OBorderTopColor","borderTopLeftRadius","MozBorderTopLeftRadius","WebkitBorderTopLeftRadius","MSBorderTopLeftRadius","OBorderTopLeftRadius","borderTopRightRadius","MozBorderTopRightRadius","WebkitBorderTopRightRadius","MSBorderTopRightRadius","OBorderTopRightRadius","borderTopStyle","MozBorderTopStyle","WebkitBorderTopStyle","MSBorderTopStyle","OBorderTopStyle","borderTopWidth","MozBorderTopWidth","WebkitBorderTopWidth","MSBorderTopWidth","OBorderTopWidth","borderWidth","MozBorderWidth","WebkitBorderWidth","MSBorderWidth","OBorderWidth","bottom","MozBottom","WebkitBottom","MSBottom","OBottom","boxDecorationBreak","MozBoxDecorationBreak","WebkitBoxDecorationBreak","MSBoxDecorationBreak","OBoxDecorationBreak","boxShadow","MozBoxShadow","WebkitBoxShadow","MSBoxShadow","OBoxShadow","boxSizing","MozBoxSizing","WebkitBoxSizing","MSBoxSizing","OBoxSizing","breakAfter","MozBreakAfter","WebkitBreakAfter","MSBreakAfter","OBreakAfter","breakBefore","MozBreakBefore","WebkitBreakBefore","MSBreakBefore","OBreakBefore","breakInside","MozBreakInside","WebkitBreakInside","MSBreakInside","OBreakInside","captionSide","MozCaptionSide","WebkitCaptionSide","MSCaptionSide","OCaptionSide","caretColor","MozCaretColor","WebkitCaretColor","MSCaretColor","OCaretColor","ch","MozCh","WebkitCh","MSCh","OCh","clear","MozClear","WebkitClear","MSClear","OClear","clip","MozClip","WebkitClip","MSClip","OClip","clipPath","MozClipPath","WebkitClipPath","MSClipPath","OClipPath","cm","MozCm","WebkitCm","MSCm","OCm","color","MozColor","WebkitColor","MSColor","OColor","columnCount","MozColumnCount","WebkitColumnCount","MSColumnCount","OColumnCount","columnFill","MozColumnFill","WebkitColumnFill","MSColumnFill","OColumnFill","columnGap","MozColumnGap","WebkitColumnGap","MSColumnGap","OColumnGap","columnRule","MozColumnRule","WebkitColumnRule","MSColumnRule","OColumnRule","columnRuleColor","MozColumnRuleColor","WebkitColumnRuleColor","MSColumnRuleColor","OColumnRuleColor","columnRuleStyle","MozColumnRuleStyle","WebkitColumnRuleStyle","MSColumnRuleStyle","OColumnRuleStyle","columnRuleWidth","MozColumnRuleWidth","WebkitColumnRuleWidth","MSColumnRuleWidth","OColumnRuleWidth","columnSpan","MozColumnSpan","WebkitColumnSpan","MSColumnSpan","OColumnSpan","columnWidth","MozColumnWidth","WebkitColumnWidth","MSColumnWidth","OColumnWidth","columns","MozColumns","WebkitColumns","MSColumns","OColumns","content","MozContent","WebkitContent","MSContent","OContent","counterIncrement","MozCounterIncrement","WebkitCounterIncrement","MSCounterIncrement","OCounterIncrement","counterReset","MozCounterReset","WebkitCounterReset","MSCounterReset","OCounterReset","cursor","MozCursor","WebkitCursor","MSCursor","OCursor","deg","MozDeg","WebkitDeg","MSDeg","ODeg","direction","MozDirection","WebkitDirection","MSDirection","ODirection","display","MozDisplay","WebkitDisplay","MSDisplay","ODisplay","dpcm","MozDpcm","WebkitDpcm","MSDpcm","ODpcm","dpi","MozDpi","WebkitDpi","MSDpi","ODpi","dppx","MozDppx","WebkitDppx","MSDppx","ODppx","em","MozEm","WebkitEm","MSEm","OEm","emptyCells","MozEmptyCells","WebkitEmptyCells","MSEmptyCells","OEmptyCells","ex","MozEx","WebkitEx","MSEx","OEx","filter","MozFilter","WebkitFilter","MSFilter","OFilter","flexBasis","MozFlexBasis","WebkitFlexBasis","MSFlexBasis","OFlexBasis","flexDirection","MozFlexDirection","WebkitFlexDirection","MSFlexDirection","OFlexDirection","flexFlow","MozFlexFlow","WebkitFlexFlow","MSFlexFlow","OFlexFlow","flexGrow","MozFlexGrow","WebkitFlexGrow","MSFlexGrow","OFlexGrow","flexShrink","MozFlexShrink","WebkitFlexShrink","MSFlexShrink","OFlexShrink","flexWrap","MozFlexWrap","WebkitFlexWrap","MSFlexWrap","OFlexWrap","float","MozFloat","WebkitFloat","MSFloat","OFloat","font","MozFont","WebkitFont","MSFont","OFont","fontFamily","MozFontFamily","WebkitFontFamily","MSFontFamily","OFontFamily","fontFeatureSettings","MozFontFeatureSettings","WebkitFontFeatureSettings","MSFontFeatureSettings","OFontFeatureSettings","fontKerning","MozFontKerning","WebkitFontKerning","MSFontKerning","OFontKerning","fontLanguageOverride","MozFontLanguageOverride","WebkitFontLanguageOverride","MSFontLanguageOverride","OFontLanguageOverride","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","fontSizeAdjust","MozFontSizeAdjust","WebkitFontSizeAdjust","MSFontSizeAdjust","OFontSizeAdjust","fontStretch","MozFontStretch","WebkitFontStretch","MSFontStretch","OFontStretch","fontStyle","MozFontStyle","WebkitFontStyle","MSFontStyle","OFontStyle","fontSynthesis","MozFontSynthesis","WebkitFontSynthesis","MSFontSynthesis","OFontSynthesis","fontVariant","MozFontVariant","WebkitFontVariant","MSFontVariant","OFontVariant","fontVariantAlternates","MozFontVariantAlternates","WebkitFontVariantAlternates","MSFontVariantAlternates","OFontVariantAlternates","fontVariantCaps","MozFontVariantCaps","WebkitFontVariantCaps","MSFontVariantCaps","OFontVariantCaps","fontVariantEastAsian","MozFontVariantEastAsian","WebkitFontVariantEastAsian","MSFontVariantEastAsian","OFontVariantEastAsian","fontVariantLigatures","MozFontVariantLigatures","WebkitFontVariantLigatures","MSFontVariantLigatures","OFontVariantLigatures","fontVariantNumeric","MozFontVariantNumeric","WebkitFontVariantNumeric","MSFontVariantNumeric","OFontVariantNumeric","fontVariantPosition","MozFontVariantPosition","WebkitFontVariantPosition","MSFontVariantPosition","OFontVariantPosition","fontWeight","MozFontWeight","WebkitFontWeight","MSFontWeight","OFontWeight","fr","MozFr","WebkitFr","MSFr","OFr","grad","MozGrad","WebkitGrad","MSGrad","OGrad","grid","MozGrid","WebkitGrid","MSGrid","OGrid","gridArea","MozGridArea","WebkitGridArea","MSGridArea","OGridArea","gridAutoColumns","MozGridAutoColumns","WebkitGridAutoColumns","MSGridAutoColumns","OGridAutoColumns","gridAutoFlow","MozGridAutoFlow","WebkitGridAutoFlow","MSGridAutoFlow","OGridAutoFlow","gridAutoRows","MozGridAutoRows","WebkitGridAutoRows","MSGridAutoRows","OGridAutoRows","gridColumn","MozGridColumn","WebkitGridColumn","MSGridColumn","OGridColumn","gridColumnEnd","MozGridColumnEnd","WebkitGridColumnEnd","MSGridColumnEnd","OGridColumnEnd","gridColumnGap","MozGridColumnGap","WebkitGridColumnGap","MSGridColumnGap","OGridColumnGap","gridColumnStart","MozGridColumnStart","WebkitGridColumnStart","MSGridColumnStart","OGridColumnStart","gridGap","MozGridGap","WebkitGridGap","MSGridGap","OGridGap","gridRow","MozGridRow","WebkitGridRow","MSGridRow","OGridRow","gridRowEnd","MozGridRowEnd","WebkitGridRowEnd","MSGridRowEnd","OGridRowEnd","gridRowGap","MozGridRowGap","WebkitGridRowGap","MSGridRowGap","OGridRowGap","gridRowStart","MozGridRowStart","WebkitGridRowStart","MSGridRowStart","OGridRowStart","gridTemplate","MozGridTemplate","WebkitGridTemplate","MSGridTemplate","OGridTemplate","gridTemplateAreas","MozGridTemplateAreas","WebkitGridTemplateAreas","MSGridTemplateAreas","OGridTemplateAreas","gridTemplateColumns","MozGridTemplateColumns","WebkitGridTemplateColumns","MSGridTemplateColumns","OGridTemplateColumns","gridTemplateRows","MozGridTemplateRows","WebkitGridTemplateRows","MSGridTemplateRows","OGridTemplateRows","height","MozHeight","WebkitHeight","MSHeight","OHeight","hyphens","MozHyphens","WebkitHyphens","MSHyphens","OHyphens","hz","MozHz","WebkitHz","MSHz","OHz","imageOrientation","MozImageOrientation","WebkitImageOrientation","MSImageOrientation","OImageOrientation","imageRendering","MozImageRendering","WebkitImageRendering","MSImageRendering","OImageRendering","imageResolution","MozImageResolution","WebkitImageResolution","MSImageResolution","OImageResolution","imeMode","MozImeMode","WebkitImeMode","MSImeMode","OImeMode","in","MozIn","WebkitIn","MSIn","OIn","inherit","MozInherit","WebkitInherit","MSInherit","OInherit","initial","MozInitial","WebkitInitial","MSInitial","OInitial","inlineSize","MozInlineSize","WebkitInlineSize","MSInlineSize","OInlineSize","isolation","MozIsolation","WebkitIsolation","MSIsolation","OIsolation","justifyContent","MozJustifyContent","WebkitJustifyContent","MSJustifyContent","OJustifyContent","khz","MozKhz","WebkitKhz","MSKhz","OKhz","left","MozLeft","WebkitLeft","MSLeft","OLeft","letterSpacing","MozLetterSpacing","WebkitLetterSpacing","MSLetterSpacing","OLetterSpacing","lineBreak","MozLineBreak","WebkitLineBreak","MSLineBreak","OLineBreak","lineHeight","MozLineHeight","WebkitLineHeight","MSLineHeight","OLineHeight","listStyle","MozListStyle","WebkitListStyle","MSListStyle","OListStyle","listStyleImage","MozListStyleImage","WebkitListStyleImage","MSListStyleImage","OListStyleImage","listStylePosition","MozListStylePosition","WebkitListStylePosition","MSListStylePosition","OListStylePosition","listStyleType","MozListStyleType","WebkitListStyleType","MSListStyleType","OListStyleType","margin","MozMargin","WebkitMargin","MSMargin","OMargin","marginBlockEnd","MozMarginBlockEnd","WebkitMarginBlockEnd","MSMarginBlockEnd","OMarginBlockEnd","marginBlockStart","MozMarginBlockStart","WebkitMarginBlockStart","MSMarginBlockStart","OMarginBlockStart","marginBottom","MozMarginBottom","WebkitMarginBottom","MSMarginBottom","OMarginBottom","marginInlineEnd","MozMarginInlineEnd","WebkitMarginInlineEnd","MSMarginInlineEnd","OMarginInlineEnd","marginInlineStart","MozMarginInlineStart","WebkitMarginInlineStart","MSMarginInlineStart","OMarginInlineStart","marginLeft","MozMarginLeft","WebkitMarginLeft","MSMarginLeft","OMarginLeft","marginRight","MozMarginRight","WebkitMarginRight","MSMarginRight","OMarginRight","marginTop","MozMarginTop","WebkitMarginTop","MSMarginTop","OMarginTop","mask","MozMask","WebkitMask","MSMask","OMask","maskClip","MozMaskClip","WebkitMaskClip","MSMaskClip","OMaskClip","maskComposite","MozMaskComposite","WebkitMaskComposite","MSMaskComposite","OMaskComposite","maskImage","MozMaskImage","WebkitMaskImage","MSMaskImage","OMaskImage","maskMode","MozMaskMode","WebkitMaskMode","MSMaskMode","OMaskMode","maskOrigin","MozMaskOrigin","WebkitMaskOrigin","MSMaskOrigin","OMaskOrigin","maskPosition","MozMaskPosition","WebkitMaskPosition","MSMaskPosition","OMaskPosition","maskRepeat","MozMaskRepeat","WebkitMaskRepeat","MSMaskRepeat","OMaskRepeat","maskSize","MozMaskSize","WebkitMaskSize","MSMaskSize","OMaskSize","maskType","MozMaskType","WebkitMaskType","MSMaskType","OMaskType","maxHeight","MozMaxHeight","WebkitMaxHeight","MSMaxHeight","OMaxHeight","maxWidth","MozMaxWidth","WebkitMaxWidth","MSMaxWidth","OMaxWidth","minBlockSize","MozMinBlockSize","WebkitMinBlockSize","MSMinBlockSize","OMinBlockSize","minHeight","MozMinHeight","WebkitMinHeight","MSMinHeight","OMinHeight","minInlineSize","MozMinInlineSize","WebkitMinInlineSize","MSMinInlineSize","OMinInlineSize","minWidth","MozMinWidth","WebkitMinWidth","MSMinWidth","OMinWidth","mixBlendMode","MozMixBlendMode","WebkitMixBlendMode","MSMixBlendMode","OMixBlendMode","mm","MozMm","WebkitMm","MSMm","OMm","ms","MozMs","WebkitMs","MSMs","OMs","objectFit","MozObjectFit","WebkitObjectFit","MSObjectFit","OObjectFit","objectPosition","MozObjectPosition","WebkitObjectPosition","MSObjectPosition","OObjectPosition","offsetBlockEnd","MozOffsetBlockEnd","WebkitOffsetBlockEnd","MSOffsetBlockEnd","OOffsetBlockEnd","offsetBlockStart","MozOffsetBlockStart","WebkitOffsetBlockStart","MSOffsetBlockStart","OOffsetBlockStart","offsetInlineEnd","MozOffsetInlineEnd","WebkitOffsetInlineEnd","MSOffsetInlineEnd","OOffsetInlineEnd","offsetInlineStart","MozOffsetInlineStart","WebkitOffsetInlineStart","MSOffsetInlineStart","OOffsetInlineStart","opacity","MozOpacity","WebkitOpacity","MSOpacity","OOpacity","order","MozOrder","WebkitOrder","MSOrder","OOrder","orphans","MozOrphans","WebkitOrphans","MSOrphans","OOrphans","outline","MozOutline","WebkitOutline","MSOutline","OOutline","outlineColor","MozOutlineColor","WebkitOutlineColor","MSOutlineColor","OOutlineColor","outlineOffset","MozOutlineOffset","WebkitOutlineOffset","MSOutlineOffset","OOutlineOffset","outlineStyle","MozOutlineStyle","WebkitOutlineStyle","MSOutlineStyle","OOutlineStyle","outlineWidth","MozOutlineWidth","WebkitOutlineWidth","MSOutlineWidth","OOutlineWidth","overflow","MozOverflow","WebkitOverflow","MSOverflow","OOverflow","overflowWrap","MozOverflowWrap","WebkitOverflowWrap","MSOverflowWrap","OOverflowWrap","overflowX","MozOverflowX","WebkitOverflowX","MSOverflowX","OOverflowX","overflowY","MozOverflowY","WebkitOverflowY","MSOverflowY","OOverflowY","padding","MozPadding","WebkitPadding","MSPadding","OPadding","paddingBlockEnd","MozPaddingBlockEnd","WebkitPaddingBlockEnd","MSPaddingBlockEnd","OPaddingBlockEnd","paddingBlockStart","MozPaddingBlockStart","WebkitPaddingBlockStart","MSPaddingBlockStart","OPaddingBlockStart","paddingBottom","MozPaddingBottom","WebkitPaddingBottom","MSPaddingBottom","OPaddingBottom","paddingInlineEnd","MozPaddingInlineEnd","WebkitPaddingInlineEnd","MSPaddingInlineEnd","OPaddingInlineEnd","paddingInlineStart","MozPaddingInlineStart","WebkitPaddingInlineStart","MSPaddingInlineStart","OPaddingInlineStart","paddingLeft","MozPaddingLeft","WebkitPaddingLeft","MSPaddingLeft","OPaddingLeft","paddingRight","MozPaddingRight","WebkitPaddingRight","MSPaddingRight","OPaddingRight","paddingTop","MozPaddingTop","WebkitPaddingTop","MSPaddingTop","OPaddingTop","pageBreakAfter","MozPageBreakAfter","WebkitPageBreakAfter","MSPageBreakAfter","OPageBreakAfter","pageBreakBefore","MozPageBreakBefore","WebkitPageBreakBefore","MSPageBreakBefore","OPageBreakBefore","pageBreakInside","MozPageBreakInside","WebkitPageBreakInside","MSPageBreakInside","OPageBreakInside","pc","MozPc","WebkitPc","MSPc","OPc","perspective","MozPerspective","WebkitPerspective","MSPerspective","OPerspective","perspectiveOrigin","MozPerspectiveOrigin","WebkitPerspectiveOrigin","MSPerspectiveOrigin","OPerspectiveOrigin","pointerEvents","MozPointerEvents","WebkitPointerEvents","MSPointerEvents","OPointerEvents","position","MozPosition","WebkitPosition","MSPosition","OPosition","pt","MozPt","WebkitPt","MSPt","OPt","px","MozPx","WebkitPx","MSPx","OPx","q","MozQ","WebkitQ","MSQ","OQ","quotes","MozQuotes","WebkitQuotes","MSQuotes","OQuotes","rad","MozRad","WebkitRad","MSRad","ORad","rem","MozRem","WebkitRem","MSRem","ORem","resize","MozResize","WebkitResize","MSResize","OResize","revert","MozRevert","WebkitRevert","MSRevert","ORevert","right","MozRight","WebkitRight","MSRight","ORight","rubyAlign","MozRubyAlign","WebkitRubyAlign","MSRubyAlign","ORubyAlign","rubyMerge","MozRubyMerge","WebkitRubyMerge","MSRubyMerge","ORubyMerge","rubyPosition","MozRubyPosition","WebkitRubyPosition","MSRubyPosition","ORubyPosition","s","MozS","WebkitS","MSS","OS","scrollBehavior","MozScrollBehavior","WebkitScrollBehavior","MSScrollBehavior","OScrollBehavior","scrollSnapCoordinate","MozScrollSnapCoordinate","WebkitScrollSnapCoordinate","MSScrollSnapCoordinate","OScrollSnapCoordinate","scrollSnapDestination","MozScrollSnapDestination","WebkitScrollSnapDestination","MSScrollSnapDestination","OScrollSnapDestination","scrollSnapType","MozScrollSnapType","WebkitScrollSnapType","MSScrollSnapType","OScrollSnapType","shapeImageThreshold","MozShapeImageThreshold","WebkitShapeImageThreshold","MSShapeImageThreshold","OShapeImageThreshold","shapeMargin","MozShapeMargin","WebkitShapeMargin","MSShapeMargin","OShapeMargin","shapeOutside","MozShapeOutside","WebkitShapeOutside","MSShapeOutside","OShapeOutside","tabSize","MozTabSize","WebkitTabSize","MSTabSize","OTabSize","tableLayout","MozTableLayout","WebkitTableLayout","MSTableLayout","OTableLayout","textAlign","MozTextAlign","WebkitTextAlign","MSTextAlign","OTextAlign","textAlignLast","MozTextAlignLast","WebkitTextAlignLast","MSTextAlignLast","OTextAlignLast","textCombineUpright","MozTextCombineUpright","WebkitTextCombineUpright","MSTextCombineUpright","OTextCombineUpright","textDecoration","MozTextDecoration","WebkitTextDecoration","MSTextDecoration","OTextDecoration","textDecorationColor","MozTextDecorationColor","WebkitTextDecorationColor","MSTextDecorationColor","OTextDecorationColor","textDecorationLine","MozTextDecorationLine","WebkitTextDecorationLine","MSTextDecorationLine","OTextDecorationLine","textDecorationStyle","MozTextDecorationStyle","WebkitTextDecorationStyle","MSTextDecorationStyle","OTextDecorationStyle","textEmphasis","MozTextEmphasis","WebkitTextEmphasis","MSTextEmphasis","OTextEmphasis","textEmphasisColor","MozTextEmphasisColor","WebkitTextEmphasisColor","MSTextEmphasisColor","OTextEmphasisColor","textEmphasisPosition","MozTextEmphasisPosition","WebkitTextEmphasisPosition","MSTextEmphasisPosition","OTextEmphasisPosition","textEmphasisStyle","MozTextEmphasisStyle","WebkitTextEmphasisStyle","MSTextEmphasisStyle","OTextEmphasisStyle","textIndent","MozTextIndent","WebkitTextIndent","MSTextIndent","OTextIndent","textOrientation","MozTextOrientation","WebkitTextOrientation","MSTextOrientation","OTextOrientation","textOverflow","MozTextOverflow","WebkitTextOverflow","MSTextOverflow","OTextOverflow","textRendering","MozTextRendering","WebkitTextRendering","MSTextRendering","OTextRendering","textShadow","MozTextShadow","WebkitTextShadow","MSTextShadow","OTextShadow","textTransform","MozTextTransform","WebkitTextTransform","MSTextTransform","OTextTransform","textUnderlinePosition","MozTextUnderlinePosition","WebkitTextUnderlinePosition","MSTextUnderlinePosition","OTextUnderlinePosition","top","MozTop","WebkitTop","MSTop","OTop","touchAction","MozTouchAction","WebkitTouchAction","MSTouchAction","OTouchAction","transform","MozTransform","WebkitTransform","msTransform","OTransform","transformBox","MozTransformBox","WebkitTransformBox","MSTransformBox","OTransformBox","transformOrigin","MozTransformOrigin","WebkitTransformOrigin","MSTransformOrigin","OTransformOrigin","transformStyle","MozTransformStyle","WebkitTransformStyle","MSTransformStyle","OTransformStyle","transition","MozTransition","WebkitTransition","MSTransition","OTransition","transitionDelay","MozTransitionDelay","WebkitTransitionDelay","MSTransitionDelay","OTransitionDelay","transitionDuration","MozTransitionDuration","WebkitTransitionDuration","MSTransitionDuration","OTransitionDuration","transitionProperty","MozTransitionProperty","WebkitTransitionProperty","MSTransitionProperty","OTransitionProperty","transitionTimingFunction","MozTransitionTimingFunction","WebkitTransitionTimingFunction","MSTransitionTimingFunction","OTransitionTimingFunction","turn","MozTurn","WebkitTurn","MSTurn","OTurn","unicodeBidi","MozUnicodeBidi","WebkitUnicodeBidi","MSUnicodeBidi","OUnicodeBidi","unset","MozUnset","WebkitUnset","MSUnset","OUnset","verticalAlign","MozVerticalAlign","WebkitVerticalAlign","MSVerticalAlign","OVerticalAlign","vh","MozVh","WebkitVh","MSVh","OVh","visibility","MozVisibility","WebkitVisibility","MSVisibility","OVisibility","vmax","MozVmax","WebkitVmax","MSVmax","OVmax","vmin","MozVmin","WebkitVmin","MSVmin","OVmin","vw","MozVw","WebkitVw","MSVw","OVw","whiteSpace","MozWhiteSpace","WebkitWhiteSpace","MSWhiteSpace","OWhiteSpace","widows","MozWidows","WebkitWidows","MSWidows","OWidows","width","MozWidth","WebkitWidth","MSWidth","OWidth","willChange","MozWillChange","WebkitWillChange","MSWillChange","OWillChange","wordBreak","MozWordBreak","WebkitWordBreak","MSWordBreak","OWordBreak","wordSpacing","MozWordSpacing","WebkitWordSpacing","MSWordSpacing","OWordSpacing","wordWrap","MozWordWrap","WebkitWordWrap","MSWordWrap","OWordWrap","writingMode","MozWritingMode","WebkitWritingMode","MSWritingMode","OWritingMode","zIndex","MozZIndex","WebkitZIndex","MSZIndex","OZIndex","fontSize","MozFontSize","WebkitFontSize","MSFontSize","OFontSize","flex","MozFlex","WebkitFlex","MSFlex","OFlex","fr","MozFr","WebkitFr","MSFr","OFr","overflowScrolling","MozOverflowScrolling","WebkitOverflowScrolling","MSOverflowScrolling","OOverflowScrolling","userSelect","MozUserSelect","WebkitUserSelect","MSUserSelect","OUserSelect"]},function(e,t,n){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,o=this._nonPointGroup,i=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,l=e.length,c=0,u=!0;if(this._map){var d=(new Date).getTime(),h=L.bind((function(){for(var p=(new Date).getTime();c<l&&!(i&&c%200==0&&(new Date).getTime()-p>a);c++)if((n=e[c])instanceof L.LayerGroup)u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(n,e),l=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var f=n.__parent.getAllChildMarkers(),m=f[0]===n?f[1]:f[0];r.removeLayer(m)}}else o.addLayer(n),t||this.fire("layeradd",{layer:n});s&&s(c,l,(new Date).getTime()-d),c===l?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(h,this.options.chunkDelay)}),this);h()}else for(var p=this._needsClustering;c<l;c++)(n=e[c])instanceof L.LayerGroup?(u&&(e=e.slice(),u=!1),this._extractNonGroupLayers(n,e),l=e.length):n.getLatLng?this.hasLayer(n)||p.push(n):o.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,o=this._featureGroup,i=this._nonPointGroup,a=!0;if(!this._map){for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),i.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),l=r;for(t=0;t<l;t++)(n=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),l=s.length):this._unspiderfyLayer(n)}for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),o.hasLayer(n)&&(o.removeLayer(n),n.clusterShow&&n.clusterShow())):(i.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,o,i=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(i),r=i.length-1;r>=0;r--){for(n=!0,o=a.length-1;o>=0;o--)if(a[o].layer===i[r]){n=!1;break}n&&e.call(t,i[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(t=(n=this._needsRemoving).length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){"function"!=typeof t&&(t=function(){});var n=function(){!e._icon&&!e.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",n,this),this.off("animationend",n,this),e._icon?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",n,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",n,this),this.on("animationend",n,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,r;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)(r=this._needsRemoving[t]).newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());t>=o&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var r=this._gridClusters,o=this._gridUnclustered,i=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var l,c=e.__parent,u=c._markers;for(this._arraySplice(u,e);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<s));)t&&c._childCount<=1?(l=c._markers[0]===e?c._markers[1]:c._markers[0],r[c._zoom].removeObject(c,a.project(c._cLatLng,c._zoom)),o[c._zoom].addObject(l,a.project(l.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(l),l.__parent=c.__parent,c._icon&&(i.removeLayer(c),n||i.addLayer(l))):c._iconNeedsUpdate=!0,c=c.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;(t||r)&&this.on("clusterclick",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){for(var t=e.layer,n=t;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this._map;(e||n)&&this.off("clusterclick",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!=typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var o=e;o>=t;o--)this._gridClusters[o]=new L.DistanceGrid(r(o)),this._gridUnclustered[o]=new L.DistanceGrid(r(o));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,o=this._gridClusters,i=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=o[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=i[t].getNearObject(n)){var l=s.__parent;l&&this._removeLayer(s,!1);var c=new this._markerCluster(this,t,s,e);o[t].addObject(c,this._map.project(c._cLatLng,t)),s.__parent=c,e.__parent=c;var u=c;for(r=t-1;r>l._zoom;r--)u=new this._markerCluster(this,r,u),o[r].addObject(u,this._map.project(s.getLatLng(),r));return l._addChild(u),void this._removeFromGridUnclustered(s,t)}i[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),o=0;for(t=t||[];o<r.length;o++)(n=r[o])instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),o=this._featureGroup,i=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,i,(function(i){var a,s=i._latlng,l=i._markers;for(r.contains(s)||(s=null),i._isSingleParent()&&e+1===t?(o.removeLayer(i),i._recursivelyAddChildrenToMap(null,t,r)):(i.clusterHide(),i._recursivelyAddChildrenToMap(s,t,r)),n=l.length-1;n>=0;n--)a=l[n],r.contains(a._latlng)||o.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),o.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(r,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,e,i,(function(e){o.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,o,t+1,n);var i=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(r,n,o,(function(e){e._recursivelyRemoveChildrenFromMap(r,o,t+1)}));i._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(e);for(var r=this._markers.length-1;r>=0;r--)t&&this._markers[r].__dragStart||e.push(this._markers[r]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),r=this._group._map,o=r.getBoundsZoom(this._bounds),i=this._zoom+1,a=r.getZoom();n.length>0&&o>i;){i++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}o>i?this._group._map.setView(this._latlng,i):o<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,r,o=this._markers,i=this._childClusters,a=0,s=0,l=this._childCount;if(0!==l){for(this._resetBounds(),e=0;e<o.length;e++)n=o[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<i.length;e++)(t=i[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,a+=n.lat*r,s+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(a/l,s/l),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,r,o=e._markers;for(n=o.length-1;n>=0;n--)(r=o[n])._icon&&(r._setPos(t),r.clusterHide())}),(function(e){var n,r,o=e._childClusters;for(n=o.length-1;n>=0;n--)(r=o[n])._icon&&(r._setPos(t),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,r){this._recursively(e,r,t,(function(o){o._recursivelyAnimateChildrenIn(e,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),n),o._isSingleParent()&&n-1===r?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(e,t,n)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(r){if(t!==r._zoom)for(var o=r._markers.length-1;o>=0;o--){var i=r._markers[o];n.contains(i._latlng)&&(e&&(i._backupLatlng=i.getLatLng(),i.setLatLng(e),i.clusterHide&&i.clusterHide()),r._group._featureGroup.addLayer(i))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,r){var o,i;this._recursively(e,t-1,n-1,(function(e){for(i=e._markers.length-1;i>=0;i--)o=e._markers[i],r&&r.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(e){for(i=e._childClusters.length-1;i>=0;i--)o=e._childClusters[i],r&&r.contains(o._latlng)||(e._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(e,t,n,r,o){var i,a,s=this._childClusters,l=this._zoom;if(t<=l&&(r&&r(this),o&&l===n&&o(this)),l<t||l<n)for(i=s.length-1;i>=0;i--)(a=s[i])._boundsNeedUpdate&&a._recalculateBounds(),e.intersects(a._bounds)&&a._recursively(e,t,n,r,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),o=this._grid,i=o[r]=o[r]||{},a=i[n]=i[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,o=this._getCoord(t.x),i=this._getCoord(t.y),a=this._grid,s=a[i]=a[i]||{},l=s[o]=s[o]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=l.length;n<r;n++)if(l[n]===e)return l.splice(n,1),1===r&&delete s[o],!0},eachObject:function(e,t){var n,r,o,i,a,s,l=this._grid;for(n in l)for(r in a=l[n])for(o=0,i=(s=a[r]).length;o<i;o++)e.call(t,s[o])&&(o--,i--)},getNearObject:function(e){var t,n,r,o,i,a,s,l,c=this._getCoord(e.x),u=this._getCoord(e.y),d=this._objectPoint,h=this._sqCellSize,p=null;for(t=u-1;t<=u+1;t++)if(o=this._grid[t])for(n=c-1;n<=c+1;n++)if(i=o[n])for(r=0,a=i.length;r<a;r++)s=i[r],((l=this._sqDist(d[L.Util.stamp(s)],e))<h||l<=h&&null===p)&&(h=l,p=s);return p},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,o,i=0,a=null,s=[];for(n=t.length-1;n>=0;n--)r=t[n],(o=this.getDistant(r,e))>0&&(s.push(r),o>i&&(i=o,a=r));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?n=(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints))).concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints)):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,o=!1,i=!1,a=null,s=null,l=null,c=null,u=null,d=null;for(t=e.length-1;t>=0;t--){var h=e[t];(!1===n||h.lat>n)&&(a=h,n=h.lat),(!1===r||h.lat<r)&&(s=h,r=h.lat),(!1===o||h.lng>o)&&(l=h,o=h.lng),(!1===i||h.lng<i)&&(c=h,i=h.lng)}return r!==n?(d=s,u=a):(d=c,u=l),[].concat(this.buildConvexHull([d,u],e),this.buildConvexHull([u,d],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,n):(n.y+=10,e=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,i=this._2PI/e,a=[];for(o=Math.max(o,35),a.length=e,n=0;n<e;n++)r=this._circleStartAngle+n*i,a[n]=new L.Point(t.x+o*Math.cos(r),t.y+o*Math.sin(r))._round();return a},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,o=r*this._spiralLengthStart,i=r*this._spiralFootSeparation,a=r*this._spiralLengthFactor*this._2PI,s=0,l=[];for(l.length=e,n=e;n>=0;n--)n<e&&(l[n]=new L.Point(t.x+o*Math.cos(s),t.y+o*Math.sin(s))._round()),o+=a/(s+=i/o+5e-4*n);return l},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,o=n._featureGroup,i=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=i.length-1;t>=0;t--)e=i[t],o.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:i}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,o,i,a=this._group,s=a._map,l=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)i=s.layerPointToLatLng(t[n]),r=e[n],o=new L.Polyline([this._latlng,i],c),s.addLayer(o),r._spiderLeg=o,r._preSpiderfyLatlng=r._latlng,r.setLatLng(i),r.setZIndexOffset&&r.setZIndexOffset(1e6),l.addLayer(r);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,o,i,a,s,l=this,c=this._group,u=c._map,d=c._featureGroup,h=this._latlng,p=u.latLngToLayerPoint(h),f=L.Path.SVG,m=L.extend({},this._group.options.spiderLegPolylineOptions),g=m.opacity;for(void 0===g&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),f?(m.opacity=0,m.className=(m.className||"")+" leaflet-cluster-spider-leg"):m.opacity=g,c._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],s=u.layerPointToLatLng(t[n]),o=new L.Polyline([h,s],m),u.addLayer(o),r._spiderLeg=o,f&&(a=(i=o._path).getTotalLength()+.1,i.style.strokeDasharray=a,i.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),d.addLayer(r),r._setPos&&r._setPos(p);for(c._forceLayout(),c._animationStart(),n=e.length-1;n>=0;n--)s=u.layerPointToLatLng(t[n]),(r=e[n])._preSpiderfyLatlng=r._latlng,r.setLatLng(s),r.clusterShow&&r.clusterShow(),f&&((i=(o=r._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:g}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:l,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,r,o,i,a,s=this,l=this._group,c=l._map,u=l._featureGroup,d=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),h=this.getAllChildMarkers(null,!0),p=L.Path.SVG;for(l._ignoreMove=!0,l._animationStart(),this.setOpacity(1),n=h.length-1;n>=0;n--)(t=h[n])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(d),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&u.removeLayer(t),p&&(i=(o=(r=t._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=i,r.setStyle({opacity:0})));l._ignoreMove=!1,setTimeout((function(){var e=0;for(n=h.length-1;n>=0;n--)(t=h[n])._spiderLeg&&e++;for(n=h.length-1;n>=0;n--)(t=h[n])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&u.removeLayer(t),c.removeLayer(t._spiderLeg),delete t._spiderLeg);l._animationEnd(),l.fire("unspiderfied",{cluster:s,markers:h})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n}(t)},function(e,t){L.FeatureGroup.LassoSelect=L.FeatureGroup.extend({options:{activeTooltip:"Click and release to place your first point.",startedTooltip:"Click on the map to draw an edge.",readyTooltip:"Continue placing points or click on the first point to finish shape.",finishedTooltip:"",polyline:{},initialPath:null},initialize(e){L.Util.setOptions(this,e)},onAdd(e){if(this.map=e,this.disable(),this.options.control&&(this.control=L.control.lassoSelect(this,this.options.control),this.control.addTo(e)),this.options.initialPath)for(var t=0;t<this.options.initialPath.length;t++)this.addPointToPath(this.options.initialPath[t]);this.options.noClickEvent||this.map.on("click",this.onClick,this)},onRemove(){this.map=null,this.off("click")},enable(){this.isActive=!0,this.reset(),this.bringToFront()},disable(){this.isActive=!1,this.reset()},toggle(){this.isActive?this.disable():this.enable()},reset(){if(this.polygon&&this.map.removeLayer(this.polygon),this.polygon=null,this.polyline&&this.map.removeLayer(this.polyline),this.polyline=null,this.markers)for(var e=0;e<this.markers.length;e++)this.map.removeLayer(this.markers[e]);this.markers=[],this.isStarted=!1,this.isFinished=!1,this.setMapTooltip()},getPath(){return this.isStarted?this.polyline.getLatLngs():null},getBounds(){return this.isFinished?this.polyline.getBounds():null},contains(e){for(var t=this.getPath(),n=e.lat,r=e.lng,o=!1,i=0,a=t.length-1;i<t.length;a=i++){var s=t[i].lat,l=t[i].lng,c=t[a].lat,u=t[a].lng;l>r!=u>r&&n<(c-s)*(r-l)/(u-l)+s&&(o=!o)}return o},setMapTooltip(){var e="",t="";this.isActive&&(this.isFinished?e=this.options.finishedTooltip:this.isStarted?this.getPath().length<3?(t="crosshair",e=this.options.startedTooltip):(t="crosshair",e=this.options.readyTooltip):(t="crosshair",e=this.options.activeTooltip)),this.map._container.style.cursor=t,this.map._container.title=e},onClick(e){this.isActive&&(this.isFinished&&!1!==this.controlled||(this.addPointToPath(e.latlng),this.setMapTooltip()))},addPointToPath(e){this.isStarted||(this.polyline=L.polyline([],this.options.polyline).addTo(this.map),this.markers=[],this.isStarted=!0),this.polyline.addLatLng(e);const t=L.marker(e,{draggable:!0,icon:L.divIcon({html:""})}).addTo(this.map);0===this.markers.length&&t.on("click",this.completePath.bind(this)),t.on("dragend",this.fire.bind(this,"pathchange")),t.on("drag",this.updatePath.bind(this)),this.markers.push(t)},updatePath(){for(var e=[],t=0;t<this.markers.length;t++)e.push(this.markers[t].getLatLng());e.push(this.markers[0].getLatLng()),this.polyline.setLatLngs(e)},completePath(){this.isFinished||this.markers.length<3||(this.polyline.addLatLng(this.markers[0].getLatLng()),this.isFinished=!0,this.setMapTooltip(),this.fire("pathchange"))}}),L.featureGroup.lassoSelect=function(e){return new L.FeatureGroup.LassoSelect(e)},L.Control.LassoSelect=L.Control.extend({options:{content:"Lasso",className:"leaflet-lasso-select-control"},initialize(e,t){this.lasso=e,L.Util.setOptions(this,t)},onAdd(e){this.map=e;var t=L.DomUtil.create("button");return t.innerHTML=this.options.content,t.className=this.options.className,this._onClick=this.onClick.bind(this),t.addEventListener("click",this._onClick),this.button=t,t},onRemove(){this.map=null,button.removeEventListener("click",this._onClick)},onClick(e){e.stopPropagation(),this.lasso.toggle(),this.button.classList.toggle("active")}}),L.control.lassoSelect=function(e,t){return new L.Control.LassoSelect(e,t)}},function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var l={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:l,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}},function(e,t){
/**
 * [Chart.PieceLabel.js]{@link https://github.com/emn178/Chart.PieceLabel.js}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2017
 * @license MIT
 */
!function(){function e(){this.drawDataset=this.drawDataset.bind(this)}e.prototype.beforeDatasetsUpdate=function(e){if(this.parseOptions(e)&&"outside"===this.position){var t=1.5*this.fontSize+2;e.chartArea.top+=t,e.chartArea.bottom-=t}},e.prototype.afterDatasetsDraw=function(e){this.parseOptions(e)&&(this.labelBounds=[],e.config.data.datasets.forEach(this.drawDataset))},e.prototype.drawDataset=function(e){for(var t=this.ctx,n=this.chartInstance,r=e._meta[Object.keys(e._meta)[0]],o=0,i=0;i<r.data.length;i++){var a,s=r.data[i],l=s._view;if(0!==l.circumference||this.showZero){switch(this.render){case"value":var c=e.data[i];this.format&&(c=this.format(c)),a=c.toString();break;case"label":a=n.config.data.labels[i];break;case"percentage":default:var u=l.circumference/this.options.circumference*100;(o+=u=parseFloat(u.toFixed(this.precision)))>100&&(u-=o-100,u=parseFloat(u.toFixed(this.precision))),a=u+"%"}var d,h,p;if("function"==typeof this.render&&(a=this.render({dataset:e,index:i,label:n.config.data.labels[i],value:e.data[i],percentage:u})),t.save(),t.beginPath(),t.font=Chart.helpers.fontString(this.fontSize,this.fontStyle,this.fontFamily),"outside"===this.position||"border"===this.position&&"pie"===n.config.type){h=l.outerRadius/2;var f,m=this.fontSize+2,g=l.startAngle+(l.endAngle-l.startAngle)/2;"border"===this.position?f=(l.outerRadius-h)/2+h:"outside"===this.position&&(f=l.outerRadius-h+h+m),d={x:l.x+Math.cos(g)*f,y:l.y+Math.sin(g)*f},"outside"===this.position&&(d.x<l.x?d.x-=m:d.x+=m,p=l.outerRadius+m)}else h=l.innerRadius,d=s.tooltipPosition();var v=this.fontColor;if("string"!=typeof this.fontColor&&(v=this.fontColor[i]||this.options.defaultFontColor),this.arc)p||(p=(h+l.outerRadius)/2),t.fillStyle=v,t.textBaseline="middle",this.drawArcText(a,p,l,this.overlap);else{var y=t.measureText(a),b=d.x-y.width/2,_=d.x+y.width/2,w=d.y-this.fontSize/2,C=d.y+this.fontSize/2;(!!this.overlap||("outside"===this.position?this.checkTextBound(b,_,w,C):s.inRange(b,w)&&s.inRange(b,C)&&s.inRange(_,w)&&s.inRange(_,C)))&&(t.fillStyle=v,t.textBaseline="top",t.textAlign="center",t.fillText(a,d.x,d.y-this.fontSize/2))}t.restore()}}},e.prototype.parseOptions=function(e){var t=e.options.pieceLabel;return!!t&&(this.chartInstance=e,this.ctx=e.chart.ctx,this.options=e.config.options,this.render=t.render||t.mode,this.position=t.position||"default",this.arc=t.arc,this.format=t.format,this.precision=t.precision||0,this.fontSize=t.fontSize||this.options.defaultFontSize,this.fontColor=t.fontColor||this.options.defaultFontColor,this.fontStyle=t.fontStyle||this.options.defaultFontStyle,this.fontFamily=t.fontFamily||this.options.defaultFontFamily,this.hasTooltip=e.tooltip._active&&e.tooltip._active.length,this.showZero=t.showZero,this.overlap=t.overlap,!0)},e.prototype.checkTextBound=function(e,t,n,r){for(var o=this.labelBounds,i=0;i<o.length;++i){for(var a=o[i],s=[[e,n],[e,r],[t,n],[t,r]],l=0;l<s.length;++l){var c=s[l][0],u=s[l][1];if(c>=a.left&&c<=a.right&&u>=a.top&&u<=a.bottom)return!1}s=[[a.left,a.top],[a.left,a.bottom],[a.right,a.top],[a.right,a.bottom]];for(l=0;l<s.length;++l){c=s[l][0],u=s[l][1];if(c>=e&&c<=t&&u>=n&&u<=r)return!1}}return o.push({left:e,right:t,top:n,bottom:r}),!0},e.prototype.drawArcText=function(e,t,n,r){var o=this.ctx,i=n.x,a=n.y,s=n.startAngle,l=n.endAngle;o.save(),o.translate(i,a);var c=l-s;s+=Math.PI/2,l+=Math.PI/2;var u=o.measureText(e);if(s+=(l-(u.width/t+s))/2,!r&&l-s>c)o.restore();else{o.rotate(s);for(var d=0;d<e.length;d++){var h=e.charAt(d);u=o.measureText(h),o.save(),o.translate(0,-1*t),o.fillText(h,0,0),o.restore(),o.rotate(u.width/t)}o.restore()}},Chart.pluginService.register({beforeInit:function(t){t.pieceLabel=new e},beforeDatasetsUpdate:function(e){e.pieceLabel.beforeDatasetsUpdate(e)},afterDatasetsDraw:function(e){e.pieceLabel.afterDatasetsDraw(e)}})}()},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),i=n(19),a=(n(15),n(915),n(921),n(923),n(473)),s=n.n(a),l=n(675),c=n(111),u=n(107);var d={primaryColour:"#673c90"};Object(u.a)(d);var h=()=>o.a.createElement(s.a,{store:c.a},o.a.createElement(l.a,null));Object(i.render)(o.a.createElement(h,null),document.getElementById("pathogenwatch"))},function(e,t,n){"use strict";var r={};n.r(r),n.d(r,"bounds",(function(){return ma})),n.d(r,"children",(function(){return ga})),n.d(r,"controlPosition",(function(){return va})),n.d(r,"latlng",(function(){return pa})),n.d(r,"latlngList",(function(){return fa})),n.d(r,"layer",(function(){return ya})),n.d(r,"layerContainer",(function(){return ba})),n.d(r,"map",(function(){return _a})),n.d(r,"viewport",(function(){return wa}));var o=n(0),i=n.n(o),a=n(109),s=n.n(a),l=n(56),c=n.n(l),u=n(1),d=n.n(u),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var n,r;p(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=f(this,e.call.apply(e,[this].concat(i))),r.state={match:r.computeMatch(r.props.history.location.pathname)},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:h({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,r=t.history;c()(null==n||1===i.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen((function(){e.setState({match:e.computeMatch(r.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){s()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?i.a.Children.only(e):null},t}(i.a.Component);m.propTypes={history:d.a.object.isRequired,children:d.a.node},m.contextTypes={router:d.a.object},m.childContextTypes={router:d.a.object.isRequired};var g=m,v=n(486),y=n(474),b=n.n(y),_=(n(925),n(927),n(929),n(3)),w=n(4),C=n.n(w),S=n(63),E=n(131),x=n(126),k=n(26);const O=i.a.createClass({displayName:"Component",componentDidMount(){Object(x.b)().then(this.props.setSelection)},render:()=>null});var T=Object(_.a)(null,(function(e){return{setSelection:t=>e(Object(k.l)(t))}}))(O),M=n(300);function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var A=function(e){function t(){return P(this,t),N(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){s()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,r=void 0,o=void 0;return i.a.Children.forEach(t,(function(t){if(null==r&&i.a.isValidElement(t)){var a=t.props,s=a.path,l=a.exact,c=a.strict,u=a.sensitive,d=a.from,h=s||d;o=t,r=Object(M.a)(n.pathname,{path:h,exact:l,strict:c,sensitive:u},e.match)}})),r?i.a.cloneElement(o,{location:n,computedMatch:r}):null},t}(i.a.Component);A.contextTypes={router:d.a.shape({route:d.a.object.isRequired}).isRequired},A.propTypes={children:d.a.node,location:d.a.object};var I=A,R=(n(1003),n(375)),D=n(170);const j=i.a.createClass({displayName:"MenuButton",propTypes:{openMenu:i.a.PropTypes.func},openLoginMenu(e){e.stopPropagation(),e.preventDefault(),this.props.openMenu()},render(){return i.a.createElement("div",{className:"wgsa-main-menu-button"},i.a.createElement("button",{className:"mdl-button mdl-button--icon",title:"Main Menu",onClick:e=>this.openLoginMenu(e)},i.a.createElement("i",{className:"material-icons"},"menu")))}});var z=Object(_.a)(null,(function(e){return{openMenu:()=>e(Object(D.c)(!0))}}))(j),F=n(41),B=n(160);const W=()=>i.a.createElement("span",{className:"wgsa-header-content"},i.a.createElement("span",{className:"mdl-navigation__link"},"Offline Mode"));var H=({offline:e=Object(B.b)()})=>e?i.a.createElement(W,null):i.a.createElement("nav",{className:"wgsa-header-content mdl-navigation"},i.a.createElement(F.d,{to:"/genomes"},"Genomes"),i.a.createElement(F.d,{to:"/collections"},"Collections"),i.a.createElement(F.d,{to:"/upload"},"Upload"),i.a.createElement(F.d,{to:"https://cgps.gitbook.io/pathogenwatch/",external:!0,className:"sm-hide"},"Documentation"),i.a.createElement("a",{className:"mdl-button mdl-button--icon",href:"https://twitter.com/pathogenwatch",rel:"noopener",target:"_blank",title:"Follow @Pathogenwatch"},i.a.createElement("i",{className:"cgps-twitter-icon"})),i.a.createElement("a",{className:"mdl-button mdl-button--icon",href:`mailto:pathogenwatch@cgps.group?body=${encodeURIComponent("Please add a descriptive subject line and also edit the section below as appropriate.\n------\nTopic - Website / Data / Documentation / Other\nType - Feature Request / Error Report / Explanation Request\nAffected URL - the URL of the query page if relevant.\nBug Report - Browser / Operating system / Time & Date\n-----\n")}`,rel:"noopener",target:"_blank",title:"Contact us"},i.a.createElement("i",{className:"material-icons"},"email"))),U=n(52);const G=({header:e})=>e,V=()=>i.a.createElement(R.a,{to:"/offline",className:"wgsa-main-menu-button",title:"View Saved Collections"},i.a.createElement("i",{className:"material-icons"},"signal_wifi_off"));var Y=Object(_.a)((function(e){return{...G(e),offline:Object(B.b)()}}))(({asideEnabled:e,className:t,offline:n,children:r=i.a.createElement(H,{asideEnabled:e})})=>i.a.createElement("header",{className:C()("mdl-layout__header mdl-layout__header--scroll wgsa-header",{"wgsa-header--inverse":n},t)},i.a.createElement("div",{className:"mdl-layout__header-row"},n?i.a.createElement(V,null):i.a.createElement(z,null),i.a.createElement(R.a,{to:"/",className:"mdl-layout-title"},i.a.createElement(U.c,{className:"wgsa-header-logo"})),r))),q=i.a.createElement(v.a,{component:Y}),Z=(n(1005),n(28)),$=n(2),K=n(13),X=n(24),Q=n(78),J=n.n(Q),ee=n(20),te=n(104);const ne=e=>e.viewer.clusterView,re=Object($.createSelector)(ne,e=>e.lassoPath),oe=Object($.createSelector)(ne,e=>e.lassoActive);function ie(e,t){let n=!1;for(let r=0,o=e.length-1;r<e.length;o=r++)e[r].y>t.y!=e[o].y>t.y&&t.x<(e[o].x-e[r].x)*(t.y-e[r].y)/(e[o].y-e[r].y)+e[r].x&&(n=!n);return n}const ae=Object($.createSelector)(re,ee.e,(e,t)=>{if(e){const n=[];for(const r of t.nodes)r.x&&r.y&&ie(e,r)&&n.push(...r.genomeIds);return n}}),se=Object($.createSelector)(ee.b,ee.i,ee.g,(e,t,n)=>{const r={};if(!t)return{items:r};let o=null,i=0;for(let a=0;a<t.length&&!(t[a]>te.b);a++)o!==n[a]&&(o=n[a],r[e[a]]=""),i=e[a];return{max:i||e[n.indexOf(o)],items:r}}),le=Object($.createSelector)(e=>e.location,e=>Object(Q.parse)(e.search).threshold);var ce=n(34),ue=n(87),de=n.n(ue),he=n(43),pe=n.n(he),fe=n(27),me=n(211),ge=n(58);const ve=e=>de()(e).format("YYYY-MM-DD");function ye(e){const t=[],n={};for(const r of e){const e=r.date;n[e]=(n[e]||0)+1,t.push({x:e,y:n[e],id:r.id})}return t}function be(e,t){const n={};for(const r of e){const e=de()(r.date),o=[e.year()];"quarter"===t?o.push(e.quarter()):"week"===t?o.push(e.week()):"month"===t?o.push(e.month()+1):"day"===t&&(o.push(e.month()+1),o.push(e.date()));const i=o.join("-");if(n[i])n[i].y++;else{const r=de()({year:e.year()});"quarter"===t?r.set("quarter",e.quarter()):"week"===t?r.set("week",e.week()):"month"===t?r.set("month",e.month()):"day"===t&&(r.set("month",e.month()),r.set("date",e.date())),n[i]={x:r.toDate(),y:1,label:ve(r)}}}return Object.values(n)}const _e=e=>({min:0,max:e.length-1}),we=({min:e,max:t},n)=>n.length?{min:de()(n[Math.ceil(e)].x),max:de()(n[Math.floor(t)].x)}:{},Ce=e=>Object(K.f)(e).timeline.libmicroreact,Se=Object($.createSelector)(fe.d,me.a,(e,t)=>({id:n})=>`${Object(ge.a)(e.activeColumn)}: ${t[n].label}`),Ee=Object($.createSelector)(X.a,e=>{const t=[];for(const n of e)n.year&&t.push({date:new Date(`${n.year}-${n.month||1}-${n.day||1}`),id:n.id});return pe()(t,"date")}),xe=e=>Ee(e).length>0,ke=Object($.createSelector)(Ee,e=>Ce(e).unit,be),Oe=Object($.createSelector)(e=>Ce(e).bounds,ke,(e,t)=>e||_e(t)),Te=Object($.createSelector)(Oe,ke,we),Me=Object($.createSelector)(e=>Ce(e).bounds,Ee,Te,(e,t,{min:n,max:r})=>{if(null===e)return null;const o=[];for(const{date:e,id:i}of t)n.isSameOrBefore(e)&&r.isSameOrAfter(e)&&o.push(i);return o});var Pe=n(54);const Le=e=>e.viewer,Ne=e=>Le(e).search.intersections,Ae=Object($.createSelector)(Ne,e=>e.reduce((e,t)=>{let n=t[0].value.ids;for(const{value:e}of t.slice(1))n=n.filter(t=>-1!==e.ids.indexOf(t));return e.concat(n)},[])),Ie=Object($.createSelector)(e=>Le(e).filter,ae,ce.c,Me,(e,t=[],n=[],r=[])=>{const o=[];return e[Pe.a.MAP].active&&o.push(e[Pe.a.MAP].ids),t.length&&o.push(new Set(t)),n&&n.length&&o.push(new Set(n)),r&&r.length&&o.push(new Set(r)),e[Pe.a.VISIBILITY].active&&o.push(e[Pe.a.VISIBILITY].ids),o}),Re=Object($.createSelector)(X.c,ce.f,(e,t)=>t.length?t:e),De=Object($.createSelector)(X.c,e=>e.length),je=Object($.createSelector)(Ie,Ne,Ae,(e,t,n)=>{const r=[...e];t.length&&r.push(new Set(n));const o=new Set(r[0]);for(const e of r.slice(1))for(const t of o)e.has(t)||o.delete(t);return new Set(o)}),ze=Object($.createSelector)(Ne,je,(e,t)=>!!e.length||!!t.size),Fe=Object($.createSelector)(Re,De,je,ze,(e,t,n,r)=>({unfilteredIds:e,total:t,ids:n,active:r,count:r?n.size:e.length})),Be=Object($.createSelector)(Fe,e=>Array.from(e.active?e.ids:e.unfilteredIds));var We=n(9),He=n(133),Ue=n(114);const Ge=e=>Object(K.f)(e).search,Ve=e=>Ge(e).category,Ye=e=>Ge(e).text,qe=e=>Ge(e).sort,Ze=e=>Ge(e).advanced,$e=Object($.createSelector)(Ve,Ye,e=>Ge(e).exact,(e,t,n)=>{if(!t.length)return null;let r;return e&&e.numeric&&(r=Object(Ue.e)(t)),r||(r=Object(Ue.g)(t,n)),r}),Ke=Object($.createSelector)(Ge,e=>Array.from(e.recent)),Xe=Object($.createSelector)(Ge,e=>e.intersections),Qe=Object($.createSelector)(Ge,e=>e.intersections[e.currentIntersection]),Je=Object($.createSelector)(fe.h,$e,fe.j,(e,t,n)=>Object.keys(e).reduce((r,o)=>{const i=e[o],a=Object(Ue.i)(i.columns,o,t);if(i===e.metadata){const e=Object(Ue.f)(n,t);e&&a.unshift(e)}return a.length&&r.push({heading:We.b[o],items:a}),r},[]));function et(e,t,n){const r=n.length?[{key:`contains_${t}`,label:t,ids:n,isExpression:!0}]:[],o=e.numeric?"Enter expression: =, <, >, <=, >=":"Enter text";return{heading:e.numeric?"Expression":"Contains",placeholder:o,items:r}}const tt=Object($.createSelector)(X.b,X.a,Qe,Ie,(e,t,n,r)=>{const o=[...r];if(n)for(const e of n)o.push(new Set(e.value.ids));if(!o.length)return t;const i=new Set(o[0]);for(const e of o.slice(1))for(const t of i)e.has(t)||i.delete(t);return Array.from(i).map(t=>e[t])}),nt=Object($.createSelector)(Ve,fe.h,Ye,$e,tt,qe,Qe,(e,t,n,r,o,i,a=[])=>{const s=t[e.tableName],l=Object(Ue.d)(s.columns,e.key),c=new Map,u=[];for(const t of o){const n=l.valueGetter(t);if(null==n)continue;if(a.some(r=>r.category.key===e.key&&r.value.key===n||!r.value.ids.includes(t.uuid)))continue;const o=Object(Ue.h)(n,e.tableName),i=r&&r.test(o);if(i&&u.push(t.uuid),r?i:o){const e=c.get(n)||{key:n,label:o,ids:[]};e.ids.push(t.uuid),c.set(n,e)}}return[et(e,n,u),{heading:"Matches",items:Array.from(c.values()).sort(Ue.j[i]),placeholder:"No results",sort:!0}]}),rt=e=>Ve(e)?nt(e):Je(e),ot=Object($.createSelector)(rt,e=>Ge(e).cursor,(e,t)=>{if(0===e.length)return null;let n=t;for(const{items:t}of e){if(!(n>=t.length))return t[n];n-=t.length}const{items:r}=e[e.length-1];return r[r.length-1]||null}),it=Object($.createSelector)(Ge,fe.d,({advanced:e,category:t},n)=>e?`FILTER ${t?t.label:"COLUMNS"}`:`FILTER ${Object(ge.a)(n.activeColumn)}`);var at=n(37);var st=Object(_.a)((function(e){return{active:qe(e)}}),(function(e){return{onChange:t=>e(Object(at.s)(t.target.value))}}))(({active:e,onChange:t})=>i.a.createElement("aside",null,i.a.createElement("label",null,"Sort by",i.a.createElement("select",{value:e,onChange:t},i.a.createElement("option",{value:He.b.FREQ_DESC},"Frequency: High to Low"),i.a.createElement("option",{value:He.b.FREQ_ASC},"Frequency: Low to High"),i.a.createElement("option",{value:He.b.VALUE_ASC},"Value: Ascending"),i.a.createElement("option",{value:He.b.VALUE_DESC},"Value: Descending")))));var lt=Object(_.a)((function(e,{index:t}){return{active:Ge(e).currentIntersection===t}}),(function(e,{index:t}){return{onClick:()=>e(Object(at.q)(t))}}))(({operator:e,active:t,onClick:n})=>i.a.createElement("button",{className:C()("mdl-chip",{"mdl-chip--active":t}),onClick:n},i.a.createElement("span",{className:"mdl-chip__text"},e)));function ct(e){return(t,n)=>{const r=Ge(n());if(r.recent.has(e))t(Object(at.k)(e));else if(r.category){const n=Object(Ue.b)(r.category,e);t(Object(at.k)(n))}else t(Object(at.r)(e))}}function ut(e,t,n){const r=Object(fe.e)(e),o=Object(fe.d)(e),i=Object(X.a)(e);return Object(Ue.a)(r,o,i,t,n)}const dt=i.a.createClass({displayName:"AdvancedMode",propTypes:{open:i.a.PropTypes.bool},renderCurrentFilter(){const{current:e,removeTerm:t}=this.props;return e.length?i.a.createElement("section",null,i.a.createElement("h2",{className:"wgsa-search-dropdown__heading"},"Current Filter"),e.map((n,r)=>i.a.createElement("ul",{key:r},n.map((e,o)=>i.a.createElement("li",{key:e.key},i.a.createElement("span",{className:"mdl-chip mdl-chip--deletable mdl-chip--contact mdl-chip--alt"},i.a.createElement("span",{className:"mdl-chip__contact"},e.value.ids.length),i.a.createElement("span",{className:"mdl-chip__text"},i.a.createElement("small",null,e.category.label,": "),i.a.createElement("strong",null,e.value.label)),i.a.createElement("button",{className:"mdl-chip__action",onClick:()=>t(e,r),title:"Remove"},i.a.createElement("i",{className:"material-icons"},"cancel"))),o<n.length-1&&i.a.createElement("span",{className:"wgsa-search-operator"},"AND"))),i.a.createElement("li",null,i.a.createElement(lt,{operator:"AND",index:r})),r<e.length-1&&i.a.createElement("li",{className:"wgsa-search-operator"},i.a.createElement("span",null,"OR")),r===e.length-1&&i.a.createElement("li",{className:"wgsa-search-operator"},i.a.createElement(lt,{operator:"OR",index:e.length})))),i.a.createElement("hr",null)):null},renderRecentTerms(){const{recent:e,selectItem:t}=this.props;return e.length?i.a.createElement("section",null,i.a.createElement("h2",{className:"wgsa-search-dropdown__heading"},"Recently Used"),i.a.createElement("ul",null,e.map(e=>i.a.createElement("li",{key:e.key},i.a.createElement("button",{className:"mdl-chip mdl-chip--contact",onClick:()=>t(e)},i.a.createElement("span",{className:"mdl-chip__text"},i.a.createElement("span",{className:"mdl-chip__contact mdl-chip__contact--muted"},e.value.ids.length),i.a.createElement("small",null,e.category.label,": "),i.a.createElement("strong",null,e.value.label)))))),i.a.createElement("hr",null)):null},getColumnHeading:(e,t)=>e?i.a.createElement("h2",{className:"wgsa-search-dropdown__heading"},"Choose Value"):t.length?i.a.createElement("h2",{className:"wgsa-search-dropdown__heading"},"Choose Column"):i.a.createElement("span",null,"(No matching column)"),render(){const{sections:e,activeItem:t,category:n}=this.props,{selectItem:r,removeCategory:o}=this.props;return i.a.createElement("div",{className:"wgsa-advanced-search"},this.renderCurrentFilter(),this.renderRecentTerms(),i.a.createElement("section",null,this.getColumnHeading(n,e),!!n&&i.a.createElement("span",{className:"mdl-chip mdl-chip--deletable"},i.a.createElement("span",{className:"mdl-chip__text"},n.label),i.a.createElement("button",{className:"mdl-chip__action",onClick:()=>o()},i.a.createElement("i",{className:"material-icons"},"cancel")))),i.a.createElement("div",{className:"wgsa-search-dropdown__values"},e.map(({heading:e,items:n,placeholder:o,sort:a})=>i.a.createElement("section",{key:e},a&&i.a.createElement(st,null),i.a.createElement("h3",{className:"wgsa-search-dropdown__heading"},e),o&&!n.length&&i.a.createElement("p",null,"(",o,")"),i.a.createElement("ul",null,n.map(e=>i.a.createElement("li",{key:e.key},i.a.createElement("button",{className:C()("mdl-chip",{"mdl-chip--active":e===t,"mdl-chip--contact":e.ids}),onClick:()=>r(e)},e.ids&&i.a.createElement("span",{className:"mdl-chip__contact"},e.ids.length),i.a.createElement("span",{className:"mdl-chip__text"},e.label)))))))))}});var ht=Object(_.a)((function(e){return{category:Ve(e),current:Xe(e),recent:Ke(e),sections:rt(e),activeItem:ot(e)}}),(function(e){return{selectItem:t=>e(ct(t)),removeTerm:(t,n)=>e(Object(at.p)(t,n)),removeCategory:()=>e(Object(at.r)(null))}}))(dt);const pt=i.a.createClass({displayName:"SearchDropdown",propTypes:{isOpen:i.a.PropTypes.bool,close:i.a.PropTypes.func},render(){const{isOpen:e,close:t}=this.props;return i.a.createElement(Z.a,{className:"wgsa-search-dropdown-container"},e?i.a.createElement("div",{className:"wgsa-search-dropdown"},i.a.createElement("button",{onClick:t,className:"mdl-button mdl-button--icon"},i.a.createElement("i",{className:"material-icons"},"close")),i.a.createElement(ht,null)):null)}});var ft=Object(_.a)((function(e){return{isOpen:Ze(e)}}),(function(e){return{close:()=>e(Object(at.u)())}}))(pt),mt=n(64);var gt=Object(_.a)((function(e){const t=Fe(e);return{totalAmount:t.total,filteredAmount:t.count,active:t.active}}),(function(e){return{clear:()=>e(Object(mt.g)())}}))(({active:e,filteredAmount:t,totalAmount:n,clear:r,children:o})=>i.a.createElement("span",{className:"wgsa-filter-status",onClick:e=>e.stopPropagation()},i.a.createElement("span",null,t," of ",n),o,i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:r,title:"Clear filter",disabled:!e},i.a.createElement("i",{className:"material-icons"},"backspace"))));const vt=i.a.createClass({displayName:"Search",propTypes:{filteredAmount:i.a.PropTypes.number,totalAmount:i.a.PropTypes.number,filterColumnName:i.a.PropTypes.string,handleChange:i.a.PropTypes.func},componentDidUpdate(e){const{search:t}=this.props;e.search.category===t.category&&e.search.intersections===t.intersections&&e.search.currentIntersection===t.currentIntersection&&e.search.advanced===t.advanced||this.refs.input.focus()},handleChange(e){this.props.handleChange(e.target.value)},handleClick(){this.refs.input.focus()},handleKeyboard(e){const{text:t,category:n}=this.props.search;switch(e.keyCode){case 37:this.props.moveCursor(-1);break;case 39:this.props.moveCursor(1);break;case 38:this.props.moveIntersection(-1);break;case 40:this.props.moveIntersection(1);break;case 8:n&&0===t.length&&this.props.removeCategory();break;case 13:this.props.selectItemAtCursor();break;case 27:e.stopPropagation(),this.props.toggleMode()}},render(){const{toggleMode:e,toggleExactMatch:t,search:n}=this.props,{text:r,advanced:o,exact:a}=n;return i.a.createElement("div",{className:"wgsa-search-box-container"},i.a.createElement("div",{className:C()("wgsa-search-box",{"wgsa-search-box--active":o}),onClick:this.handleClick},i.a.createElement("i",{className:"wgsa-search-box__icon material-icons"},"search"),i.a.createElement("button",{className:C()("mdl-button mdl-button--icon",{active:o}),onClick:e,title:"Toggle advanced search"},i.a.createElement("i",{className:"material-icons"},"add_box")),i.a.createElement("button",{className:C()("mdl-button mdl-button--icon",{active:a}),onClick:t,title:"Toggle exact match"},i.a.createElement("i",{className:"material-icons"},"explicit")),i.a.createElement("input",{ref:"input",className:"wgsa-search-box__input",placeholder:this.props.placeholder,onChange:this.handleChange,onKeyDown:this.handleKeyboard,value:r}),i.a.createElement(gt,null)),i.a.createElement(ft,null))}});var yt=Object(_.a)((function(e){return{search:Ge(e),placeholder:it(e)}}),(function(e){return{handleChange:t=>e(function(e){return(t,n)=>{const r=n(),o=Ge(r),{advanced:i,exact:a}=o;if(i)t(Object(at.m)(e));else{const n=ut(r,e,a);t(Object(at.k)(n))}}}(t)),openDropdown:t=>e(Object(at.l)(t)),removeCategory:()=>e(Object(at.r)(null)),selectItemAtCursor:()=>e((e,t)=>{const n=ot(t());n&&e(ct(n))}),moveCursor:t=>e(Object(at.n)(t)),moveIntersection:t=>e(Object(at.o)(t)),toggleMode:()=>e(Object(at.u)()),toggleExactMatch:()=>e((e,t)=>{const n=t(),r=Ge(n),{text:o,exact:i}=r,a=!!o.length&&ut(n,o,!i);e(Object(at.t)(a))})}}))(vt),bt=(n(1007),n(158)),_t=n(101),wt=n(91),Ct=(n(1009),i.a.createClass({displayName:"DropArea",propTypes:{onFiles:i.a.PropTypes.func.isRequired},getInitialState:()=>({indicatorVisible:!1}),handleDrop(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!1}),e.dataTransfer&&e.dataTransfer.files.length>0&&this.props.onFiles(e.dataTransfer.files)},showDropIndicator(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!0})},hideDropIndicator(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!1})},handleClick(){this.refs.fileInput.click()},handleFileInputChange(e){const{files:t}=e.target;t&&t.length>0&&(this.props.onFiles(t),e.target.value=null)},render(){return i.a.createElement("form",{className:C()("pw-drop-area-form",this.props.className,{"is-indicating":this.state.indicatorVisible}),onDragOver:this.showDropIndicator,onDragLeave:this.hideDropIndicator,onDrop:this.handleDrop,onClick:this.handleClick},i.a.createElement(Z.a,null,this.state.indicatorVisible?i.a.createElement("p",{key:"drop"},i.a.createElement("strong",null,"Drop to upload")):i.a.cloneElement(this.props.children,{key:"instructions"})),i.a.createElement("input",{type:"file",multiple:"multiple",accept:".csv",ref:"fileInput",onChange:this.handleFileInputChange}))}}));const St=window.URL||window.webkitURL;function Et(e){const t=new Blob([e],{type:"text/csv;charset=utf-8"});return St.createObjectURL(t)}var xt=i.a.createClass({displayName:"DownloadButton",getInitialState:()=>({link:null}),componentWillReceiveProps(e){this.props.genomeIds!==e.genomeIds&&this.setState({link:null})},componentDidUpdate(e,t){!t.link&&this.state.link&&this.link.click()},onClick(){this.props.generateFile().then(e=>{this.setState({link:Et(e)})})},render(){const{filename:e,title:t,children:n,className:r}=this.props;return this.state.link?i.a.createElement("a",{ref:e=>{this.link=e},href:this.state.link,target:"_blank",rel:"noopener",download:e,title:t,className:r},n):i.a.createElement("button",{onClick:this.onClick,title:t,className:r},n)}}),kt=n(303),Ot=n.n(kt),Tt=n(313),Mt=n.n(Tt);const Pt=/(\.csv)$/i;function Lt(e){const t={};for(const[n,r]of Object.entries(e))n.length&&"string"==typeof r&&(t[n.toLowerCase().trim()]=r.trim().replace(/^=*/,""));return t}function Nt(e){const t=Ot.a.parse(e,{header:!0,dynamicTyping:!1,skipEmptyLines:!0});return t.errors.length>0&&(console.error("[Pathogenwatch] Errors during CSV to JSON conversion:"),console.dir(t.errors)),t.data=t.data.map(Lt),t}function At(e,t=e.filename){const{displayname:n,id:r,name:o,...i}=e,a=n||o||r||t,{year:s,month:l,day:c,latitude:u,longitude:d,pmid:h,...p}=i,f={};for(const[e,t]of Object.entries(p))t.length&&"filename"!==e&&(f[e]=t);const m={name:a,userDefined:f};return s&&(m.year=parseInt(s,10)),l&&(m.month=parseInt(l,10)),c&&(m.day=parseInt(c,10)),u&&(m.latitude=parseFloat(u)),d&&(m.longitude=parseFloat(d)),h&&(m.pmid=h),Mt()(m),m}var It={parseCsvToJson:Nt,isValid:function({date:e}){const t=(new Date).getFullYear();if(!e)return!0;const{day:n,month:r,year:o}=e;return!(n&&(n<1||n>31||!r||!o))&&(!(r&&(r<1||r>12||!o))&&(!o||!(o<1900||o>t)))}},Rt=n(144),Dt=n(254);const jt=Object($.createSelector)(e=>e.viewer.highlight,e=>e.ids),zt=Object($.createSelector)(jt,Array.from),Ft=Object($.createSelector)(jt,e=>e.size>0);var Bt=function(e,{trimQuotes:t=!0}={}){const n=function(e){const t=[],n=[e];for(;n.length;){const e=n.pop();Array.isArray(e.children)&&n.push(...e.children),t.push(e)}return t.reverse()}(e),r=function(e){const t=[],n=[e];for(;n.length;){const e=n.shift();t.push(e),Array.isArray(e.children)&&n.unshift(...e.children)}return t}(e);if(n.every(e=>0===(e.branchLength||e.branch_length||0))){e.branchLength=0;for(let e=0;e<r.length;e++){const t=r[e];if(t.children)for(const e of t.children)e.branchLength=t.branchLength+1}}for(let e=0;e<n.length;e++){const r=n[e];if(r.postIndex=e,r.isLeaf=!Array.isArray(r.children),r.branchLength=Math.abs(r.branchLength||r.branch_length||0),delete r.branch_length,r.isLeaf&&"string"==typeof r.name&&(r.id=t?r.name.trim().replace(/^['"]|['"]$/g,""):r.name,delete r.name),r.totalNodes=1,r.totalLeaves=1,r.totalLeafLength=r.branchLength,!r.isLeaf){r.totalNodes=1,r.totalLeaves=0;let e=0;for(const t of r.children)r.totalNodes+=t.totalNodes,r.totalLeaves+=t.totalLeaves,t.totalLeafLength>e&&(e=t.totalLeafLength),t.parent=r;r.totalLeafLength=r.branchLength+e,r.longestLeaf=e}}const o={},i=[];for(let e=0;e<r.length;e++){const t=r[e];t.preIndex=e,t.id||(t.id=e.toString()),o[t.id]=t,t.distanceFromRoot=(t.parent?t.parent.distanceFromRoot:0)+t.branchLength,t.isLeaf&&i.push(t),t.visibleLeaves=t.totalLeaves}return{nodeById:o,rootNode:e,leafNodes:i,postorderTraversal:n,preorderTraversal:r}};const Wt=n(662);var Ht=function(e){let t=e;"string"==typeof e&&(t={type:"newick",data:e});const{type:n,data:r,...o}=t;let i=null;if("newick"===n||void 0===n)i=Wt.parse_newick(r);else{if("biojs"!==n)throw new Error(`Source type is not supported: ${n}`);i=r}return Bt(i,o)};function Ut(e,t,n){const r=[];for(const o of n.children){const n=e.splice(t,o.totalNodes);r.push(n)}for(const n of r)e.splice(t,0,...n)}var Gt=function(e,t,n){const{preorderTraversal:r,postorderTraversal:o}=t;Ut(r,r.indexOf(n)+1,n);for(let e=0;e<r.length;e++)r[e].preIndex=e;Ut(o,o.indexOf(n)-n.totalNodes+1,n);for(let e=0;e<o.length;e++)o[e].postIndex=e;n.children.reverse()},Vt=n(73),Yt=n(16),qt=n(21);const Zt=Object($.createSelector)(me.a,e=>Be?Be(e):[],X.b,(e,t,n)=>{const r={};for(const o of Object.keys(e)){const i=t.includes(o);r[o]={fillStyle:e[o].colour,fontStyle:n[o].__isCollection||n[o].reference?"bold":null,label:e[o].label,labelFillStyle:n[o].__isCollection?Yt.b.COLOURS.PURPLE:null,shape:i?e[o].shape:"none",strokeStyle:e[o].colour}}return r}),$t=({status:e,size:t,populationSize:n,progress:r},o)=>{if("PENDING"===e)return`${o}: Pending`;if("IN PROGRESS"===e)return`${o}: ${r}%`;if("ERROR"===e)return`${o}: Error, awaiting retry`;if("FAILED"===e)return`${o}: Failed`;if("READY"===e){const e=t-n;return n>0?`${o} (${e}) [${n}]`:e>0?`${o} (${e})`:o}},Kt=Object($.createSelector)(Vt.d,Vt.c,e=>Object(Vt.d)(e)[qt.b].leafIds,ce.b,(e,t,n,r)=>{const o={};for(const i of n){const n=r[i];t.includes(i)?o[i]={fillStyle:Yt.b.COLOURS.PURPLE_LIGHT,fontStyle:"bold",label:$t(e[i],n),labelFillStyle:Yt.b.COLOURS.PURPLE}:o[i]={fillStyle:Yt.b.COLOURS.GREY,label:n}}return o});var Xt=n(10),Qt=n(110);const Jt=Object($.createSelector)(ce.e,zt,X.b,(e,t,n)=>{if(e===qt.b){const e=new Set;for(const r of t)n[r].analysis&&e.add(n[r].analysis.core.fp.reference);return Array.from(e)}return t}),en=Object($.createSelector)(ce.e,ce.b,e=>Object(K.a)(e).uuid,(e,t,n)=>{const r=e in Qt.a?Qt.a[e].toLowerCase():t[e];return`pathogenwatch-${Xt.b.nickname}-${n}${r?`-${r}`:""}-tree`}),tn=Object($.createSelector)(en,e=>({image:`${e}.png`,leafLabels:`${e}-labels.txt`,newick:`${e}.nwk`})),nn={digits:0,fontSize:13,position:{left:8,bottom:16}},rn={shape:"triangle"},on=Object($.createSelector)(Vt.e,ce.g,e=>Object(ce.e)(e)===qt.b?Kt(e):Zt(e),Jt,({name:e,newick:t},{phylocanvas:n},r,o)=>({...n,leafNodeStyle:e===qt.b?rn:n.leafNodeStyle,renderLeafLabels:e===qt.b||n.renderLeafLabels,scalebar:nn,selectedIds:o,source:n.source||t,styles:r})),an=(e,t=[])=>{if(!e)return[];for(const n of t){const t=e.nodeById[n];Gt(0,e,t)}const n=[];for(const t of e.preorderTraversal)t.isLeaf&&n.push(t.id);return n},sn=e=>{const t=Object(ce.a)(e);return qt.a in t?t[qt.a].phylocanvas:{}},ln=Object($.createSelector)(e=>sn(e).source,e=>(Object(Vt.d)(e)[qt.a]||{}).newick,(e,t)=>e||t?Ht(e||t):null),cn=Object($.createSelector)(ln,e=>sn(e).rotatedIds,(e,t)=>an(e,t)),un=Object($.createSelector)(e=>Object(ce.g)(e).phylocanvas.source,e=>e?Ht(e):null),dn=Object($.createSelector)(ce.e,cn,un,e=>Object(ce.g)(e).phylocanvas.rotatedIds,(e,t,n,r)=>Qt.b.has(e)?t.length?t:null:an(n,r)),hn=Object($.createSelector)(jt,Be,(e,t)=>Array.from(e.size?e:t)),pn=Object($.createSelector)(X.b,hn,e=>{if(!Object(K.g)(e))return dn(e)},(e,t,n)=>{if(!n||!n.length)return t.map(t=>e[t]);const r=[];for(const o of n)t.includes(o)&&r.push(e[o]);return r}),fn=Object($.createSelector)(pn,e=>e.filter(e=>"me"===e.owner));var mn=Object(_.a)((function(e){return{numberOfRows:Object(Dt.b)(e),genomes:fn(e)}}),(function(e){return{addMetadata:t=>e(Object(Rt.c)(t)),clearMetadata:()=>e(Object(Rt.d)())}}),(function({numberOfRows:e,genomes:t},n){return{numberOfRows:e,...n,generateCSV:()=>Promise.resolve("name\n".concat(t.map(e=>e.name).join("\n")))}}))((function({addMetadata:e,numberOfRows:t,clearMetadata:n,generateCSV:r}){const[o,a]=i.a.useState(!1),[s,l]=i.a.useState(null);return i.a.createElement(_t.a,{align:"right",button:i.a.createElement(wt.a,{title:"Private metadata"},i.a.createElement("i",{className:"material-icons"},"note_add")),caret:!0,className:"pw-viewer-add-metadata-menu",open:o,toggle:()=>{o||l(null),a(!o)},toggleOnClick:!1},i.a.createElement("header",null,i.a.createElement("h3",null,"Private Metadata"),i.a.createElement(Z.a,{out:!0},o&&t>0&&i.a.createElement("button",{key:"clear",className:"wgsa-link-button secondary",onClick:n},i.a.createElement("i",{className:"material-icons wgsa-button-icon"},"remove_circle_outline"),"Clear ",t," added rows"))),i.a.createElement("p",null,"Drag and drop a file in ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Comma-separated_values",target:"_blank",rel:"noopener"},"CSV format")," to add private metadata to this view. These data stay on your computer and are ",i.a.createElement("strong",null,"not saved anywhere else"),", so please retain your files."),i.a.createElement("p",null,"The ",i.a.createElement("strong",null,"name")," column is used to match rows to genome records.",i.a.createElement("br",null),i.a.createElement(xt,{className:"wgsa-link-button",filename:"genomes.csv",generateFile:r},"Download names of your uploaded genomes in this view")),i.a.createElement("p",null,"We recommend you include the following columns:",i.a.createElement("br",null),i.a.createElement("strong",null,"latitude"),", ",i.a.createElement("strong",null,"longitude"),", ",i.a.createElement("strong",null,"year"),", ",i.a.createElement("strong",null,"month"),", ",i.a.createElement("strong",null,"day")),i.a.createElement("p",null,"When providing a date, month and day are optional. Coordinates should be provided in decimal degrees. Extra columns will be included in the metadata table."),i.a.createElement(Ct,{className:"pw-viewer-add-metadata-form",onFiles:function(t){const n=Array.from(t)[0];Pt.test(n.name)?Object(bt.readAsText)(n).then(Nt).then(({data:t,errors:n})=>{if(n.length>0){const[e]=n;l(e)}else e(t.map(e=>{const t=At(e);return{...t,position:{latitude:t.latitude,longitude:t.longitude}}})),a(!1)}):l({message:"File extension must end with .csv"})}},s?i.a.createElement("p",{key:"error"},!isNaN(s.row)&&i.a.createElement(i.a.Fragment,null,"There is a problem on row ",s.row+1,":",i.a.createElement("br",null)),i.a.createElement("strong",null,s.message)):i.a.createElement("p",{key:"instruction"},"Drag and drop or click to add")))})),gn=(n(1011),n(203)),vn=n.n(gn),yn=n(259),bn=n.n(yn),_n=n(96),wn=(n(1013),n(219));const Cn=e=>Object(K.a)(e).access,Sn=e=>Object(K.a)(e).access_status;var En=Object(_.a)((function(e,{level:t}){return{active:Cn(e)===t}}),(function(e,{level:t}){return{onClick:()=>e(Object(wn.b)(t))}}))(({onClick:e,icon:t,active:n,title:r,description:o})=>i.a.createElement("button",{className:C()({active:n}),title:`Set collection to "${r}"`,onClick:e,disabled:n},i.a.createElement("i",{className:"material-icons"},t),i.a.createElement("div",null,i.a.createElement("strong",null,r),i.a.createElement("br",null),o)));var xn=Object(_.a)((function(e){return{status:Sn(e)}}))(({status:e})=>{if(!e||"LOADING"===e)return null;let t;return"ERROR"===e&&(t=i.a.createElement("p",null,i.a.createElement("i",{className:"material-icons"},"error_outline")," Failed, please try again")),"OK"===e&&(t=i.a.createElement("p",null,i.a.createElement("i",{className:"material-icons"},"check_circle")," Saved")),i.a.createElement(Z.a,{className:"wgsa-collection-access-status"},t)}),kn=()=>i.a.createElement("section",{className:"wgsa-collection-access"},i.a.createElement("h4",null,"Access level"),i.a.createElement(xn,null),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement(En,{level:"private",icon:"lock",title:"Private",description:"available to you only."})),i.a.createElement("li",null,i.a.createElement(En,{level:"shared",icon:"link",title:"Shared",description:"available to anyone with the link, no sign-in required."})))),On=n(205),Tn=n(204),Mn=(n(1015),n(1017),n(180)),Pn=n.n(Mn),Ln=n(493),Nn=n.n(Ln);const An=({className:e,id:t,onChange:n,checked:r,children:o,label:a=o})=>i.a.createElement(Pn.a,{id:t,className:C()("libmr-Checkbox",e)},i.a.createElement(Nn.a,{onChange:n,checked:r}),i.a.createElement("label",null,a));An.propTypes={checked:d.a.bool,children:d.a.node,className:d.a.string,id:d.a.string,label:d.a.node,onChange:d.a.func};var In=An,Rn=n(97),Dn=n(72);const jn=({status:e})=>{switch(e){case Rn.a.SAVING:return"saving data...";case Rn.a.ERRORED:return"sorry, something went wrong.";default:return"page will refresh once saved."}};var zn=({status:e,checkStatus:t,onSave:n})=>{const r=Object(Dn.d)();i.a.useEffect(()=>{r&&t()},[]);const[o,a]=i.a.useState(e===Rn.a.SAVED);if(i.a.useEffect(()=>{o||e!==Rn.a.SAVED||a(!0)},[e]),!r)return i.a.createElement("div",{className:"wgsa-save-for-offline unsupported"},i.a.createElement("h4",null,"Offline mode"),i.a.createElement("p",null,"Unsupported by your browser."));return i.a.createElement("div",{className:"wgsa-save-for-offline supported"},i.a.createElement("h4",null,"Offline mode"),i.a.createElement(In,{id:"save-for-offline",key:"checkbox",checked:o,onChange:()=>{o||(a(!0),n())}},e===Rn.a.SAVED?i.a.createElement("span",null,i.a.createElement("strong",null,"Saved for offline use"),i.a.createElement("br",null),i.a.createElement("a",{href:"/offline",target:"_blank",rel:"noopener"},"manage offline collections")):i.a.createElement("span",null,i.a.createElement("strong",null,"Save for offline use"),i.a.createElement("br",null),i.a.createElement(jn,{status:e}))))};const Fn=e=>Object(K.f)(e).offline.status;var Bn=n(225);var Wn=Object(_.a)((function(e){return{status:Fn(e)}}),(function(e){return{checkStatus:()=>e(Object(Bn.b)()),onSave:()=>e(Object(Bn.c)())}}))(zn),Hn=n(260);var Un=Object(_.a)((function(e){const{aboutCollectionOpen:t}=Object(K.f)(e);return{isOpen:t,metadata:Object(K.b)(e),organism:Xt.b.current.formattedName}}),null,(function(e,{dispatch:t}){return{...e,onButtonClick:()=>t(Object(Hn.b)(!e.isOpen))}}))(({organism:e,metadata:t,isOpen:n,onButtonClick:r})=>i.a.createElement(_t.a,{align:"right",button:i.a.createElement(wt.a,{title:"About collection"},i.a.createElement("i",{className:"material-icons"},"info")),caret:!0,className:"wgsa-about-collection-dropdown",open:n,toggle:r,toggleOnClick:!1},i.a.createElement(On.a,{className:"wgsa-about-collection-dropdown__title",level:"3"},t.title||"About Collection"),i.a.createElement("p",{className:"wgsa-card-metadata-inliner"},i.a.createElement(_n.a,{title:"Organism",icon:"bug_report"},e),i.a.createElement(_n.a,{tooltip:t.dateCreated.toLocaleDateString(),icon:"access_time"},bn()(t.dateCreated,new Date)," ago")),t.description?i.a.createElement(vn.a,{source:t.description}):i.a.createElement("p",null,"(no description)"),t.pmid&&i.a.createElement("p",{className:"pw-append-icon"},i.a.createElement(Tn.a,{pmid:t.pmid},"View Publication"),i.a.createElement("i",{className:"material-icons"},"launch")),"me"===t.owner&&i.a.createElement("hr",null),"me"===t.owner&&i.a.createElement(kn,{access:t.access}),i.a.createElement("hr",null),i.a.createElement(Wn,null))),Gn=(n(1020),n(1022),n(17)),Vn=n.n(Gn);const Yn=e=>i.a.createElement(_t.a,Vn()({},e,{className:C()("libmr-DropdownMenu",e.className)}));Yn.propTypes={..._t.a.propTypes};var qn=Yn,Zn=Object(_t.b)(qn),$n=n(6);Object($.createSelector)(X.b,hn,(e,t)=>t.reduce((t,n)=>{const{reference:r,__isCollection:o}=e[n];return r?(t.reference++,t):o?(t.collection++,t):(t.public++,t)},{reference:0,collection:0,public:0}));const Kn=Object($.createSelector)(K.a,e=>Object($n.c)(`/download/collection/${e.uuid}`));var Xn=n(69);const Qn=({link:e,filename:t,title:n,genomeIds:r,children:o})=>i.a.createElement("form",{action:`${e}?filename=${t}`,method:"POST"},i.a.createElement("button",{type:"submit",download:t,title:n},o),r&&i.a.createElement("input",{type:"hidden",name:"ids",value:r})),Jn=({collection:e,genomeIds:t,prefix:n})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Qn,{link:`${n}/speciator`,filename:Object(Xn.a)(e,"species-prediction.csv"),genomeIds:t},"Species prediction"),Xt.b.uiOptions.kleborate&&i.a.createElement(Qn,{link:`${n}/kleborate`,filename:Object(Xn.a)(e,"kleborate.csv"),genomeIds:t},"Kleborate"),Xt.b.uiOptions.vista&&i.a.createElement(Qn,{link:`${n}/vista`,filename:Object(Xn.a)(e,"vista.csv"),genomeIds:t},"Virulence"));Jn.propTypes={collection:i.a.PropTypes.object,genomeIds:i.a.PropTypes.array,prefix:i.a.PropTypes.string};var er=Object(_.a)((function(e){return{collection:Object(K.a)(e),genomeIds:hn(e),prefix:Kn(e)}}))(Jn),tr=n(81);var nr=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>Object(tr.b)("network-png","pathogenwatch-clustering")},"Network (.png)"),i.a.createElement("button",{onClick:()=>Object(tr.b)("network-svg","pathogenwatch-clustering")},"Network (.svg)")),rr=n(90),or=n(85),ir=n(46);const ar={columnKey:"__name",valueGetter:({name:e})=>e},sr={columnKey:"__latitude",valueGetter:({position:e})=>e&&e.latitude?e.latitude:""},lr={columnKey:"__longitude",valueGetter:({position:e})=>e&&e.longitude?e.longitude:""},cr={columnKey:"__mlst",valueGetter:({analysis:e})=>e.mlst?e.mlst.st:""},ur={columnKey:"__mlst_profile",valueGetter({analysis:e}){if(!e.mlst)return null;const{code:t,alleles:n}=e.mlst;return t||Object(or.a)(n)}},dr={[ar.columnKey]:ar,[sr.columnKey]:sr,[lr.columnKey]:lr,...rr.a,[cr.columnKey]:cr,[ur.columnKey]:ur},hr={metadata:ge.c,typing:ge.c,stats:ge.c,antibiotics:(e,{analysis:{paarsnp:t}})=>t&&Object(ir.g)(t,e)?1:0,snps:(e,t)=>Object(ir.f)(t,"snp",e)?1:0,genes:(e,t)=>Object(ir.f)(t,"paar",e)?1:0,kleborateAMR:(e,{analysis:{kleborate:t}})=>Object(ir.j)(t,e.replace("kleborate_",""))?1:0,kleborateAMRGenotypes:(e,{analysis:{kleborate:t}})=>Object(ir.i)(t,e.replace("kleborateAMRGenotypes_","").split("_")[0],e.replace("kleborateAMRGenotypes_","").split("_").slice(1).join("_"))?1:0};function pr(e,t,n){const r=function(e,t){return e.map(({key:e})=>{if(e in dr)return dr[e].valueGetter;const n=hr[t];return t=>n(e,t)})}(t,e);return Ot.a.unparse({fields:t.map(e=>e.label),data:n.map(e=>r.map(t=>t(e)))})}function fr(e,t){return t.group?t.columns.reduce(fr,e):t.columnKey in e||t.hidden||!t.valueGetter?e:(e[t.columnKey]=t,e)}function mr(e,t=[]){return function({genomes:n,genomeIds:r,tables:o}){let i=o[e].columns.reduce(fr,{});i=Object.keys(i).map(e=>({key:e,label:i[e].displayName||Object(ge.a)(i[e])})).concat(t);const a=r.map(e=>n[e]);return Promise.resolve(pr(e,i,a))}}const gr=mr(We.c.metadata,[{key:"__latitude",label:"LATITUDE"},{key:"__longitude",label:"LONGITUDE"}]),vr=mr(We.c.typing),yr=mr(We.c.stats),br=mr(We.c.antibiotics),_r=mr(We.c.snps),wr=mr(We.c.genes),Cr=mr(We.c.kleborateAMR),Sr=mr(We.c.kleborateAMRGenotypes),Er=(mr(We.c.vista),e=>{const{collection:t,genomes:n,genomeIds:r,tables:o}=e;return i.a.createElement(i.a.Fragment,null,e.hasMetadataTable&&i.a.createElement(xt,{filename:Object(Xn.a)(t,"metadata.csv"),genomeIds:r,generateFile:()=>gr({genomes:n,genomeIds:r,tables:o})},"Metadata table"),e.hasTypingTable&&i.a.createElement(xt,{filename:Object(Xn.a)(t,"typing.csv"),genomeIds:r,generateFile:()=>vr({genomes:n,genomeIds:r,tables:o})},"Typing table"),i.a.createElement(xt,{filename:Object(Xn.a)(t,"stats.csv"),genomeIds:r,generateFile:()=>yr({genomes:n,genomeIds:r,tables:o})},"Stats table"),e.hasAMRTables&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement(xt,{filename:Object(Xn.a)(t,"amr-profile.csv"),genomeIds:r,generateFile:()=>br({genomes:n,genomeIds:r,tables:o})},"AMR profile"),i.a.createElement(xt,{filename:Object(Xn.a)(t,"amr-snps.csv"),genomeIds:r,generateFile:()=>_r({genomes:n,genomeIds:r,tables:o})},"AMR SNPs"),i.a.createElement(xt,{filename:Object(Xn.a)(t,"amr-genes.csv"),genomeIds:r,generateFile:()=>wr({genomes:n,genomeIds:r,tables:o})},"AMR genes")),e.hasKleborateTables&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement(xt,{filename:Object(Xn.a)(t,"amr-profile.csv"),genomeIds:r,generateFile:()=>Cr({genomes:n,genomeIds:r,tables:o})},"AMR profile"),i.a.createElement(xt,{filename:Object(Xn.a)(t,"amr-genotypes.csv"),genomeIds:r,generateFile:()=>Sr({genomes:n,genomeIds:r,tables:o})},"AMR Genotypes")))});Er.propTypes={collection:i.a.PropTypes.object,genomes:i.a.PropTypes.object,genomeIds:i.a.PropTypes.array,hasMetadataTable:i.a.PropTypes.bool,hasTypingTable:i.a.PropTypes.bool,tables:i.a.PropTypes.object};var xr=Object(_.a)((function(e){return{collection:Object(K.a)(e),genomes:Object(X.b)(e),genomeIds:hn(e),hasMetadataTable:Object(X.f)(e),hasTypingTable:Object(fe.k)(e),hasAMRTables:Object(X.d)(e),hasKleborateTables:Object(X.e)(e),tables:Object(fe.h)(e)}}))(Er);const kr=({collection:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>Object(tr.b)("timeline-png",Object(Xn.a)(e,"timeline"))},"Timeline (.png)"));kr.propTypes={collection:i.a.PropTypes.object,genomeIds:i.a.PropTypes.array,prefix:i.a.PropTypes.string,tree:i.a.PropTypes.string};var Or=Object(_.a)((function(e){return{collection:Object(K.a)(e)}}))(kr);const Tr=({link:e,filename:t,title:n,genomeIds:r,tree:o,children:a})=>i.a.createElement("form",{action:`${e}?filename=${t}`,method:"POST"},i.a.createElement("button",{type:"submit",download:t,title:n,disabled:o===qt.b},a),r&&i.a.createElement("input",{type:"hidden",name:"ids",value:r}),!Qt.b.has(o)&&i.a.createElement("input",{type:"hidden",name:"subtree",value:o})),Mr=({link:e,filename:t,title:n,children:r})=>i.a.createElement("a",{href:`${e}?filename=${t}`,target:"_blank",rel:"noopener",download:t,title:n},r),Pr=({collection:e,genomeIds:t,path:n,filename:r,tree:o})=>o?i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>Object(tr.b)("tree-nwk",r)},"Tree (.nwk)"),i.a.createElement("button",{onClick:()=>Object(tr.b)("tree-png",r)},"Tree (.png)"),i.a.createElement("button",{onClick:()=>Object(tr.b)("tree-svg",r)},"Tree (.svg)"),i.a.createElement("hr",null),i.a.createElement(Tr,{link:`${n}/core-allele-distribution`,filename:Object(Xn.a)(e,"core-allele-distribution.csv"),genomeIds:t,tree:o},"Core allele distribution"),i.a.createElement(Tr,{link:`${n}/score-matrix`,filename:Object(Xn.a)(e,"score-matrix.csv"),genomeIds:t,tree:o},"Score matrix"),i.a.createElement(Tr,{link:`${n}/difference-matrix`,filename:Object(Xn.a)(e,"difference-matrix.csv"),genomeIds:t,tree:o},"Difference matrix"),i.a.createElement(Mr,{link:`${n}/variance-summary`,filename:Object(Xn.a)(e,"variance-summary.csv")},"Variance summary")):null;Pr.propTypes={collection:i.a.PropTypes.object,genomeIds:i.a.PropTypes.array,prefix:i.a.PropTypes.string,tree:i.a.PropTypes.string};var Lr=Object(_.a)((function(e){return{collection:Object(K.a)(e),filename:en(e),genomeIds:hn(e),path:Kn(e),tree:Object(ce.e)(e)}}))(Pr);const Nr=({viewHasTrees:e,viewHasNetwork:t,viewHasTimeline:n})=>{const[r,o]=i.a.useState(!1);return i.a.createElement(Zn,{align:"right",button:i.a.createElement(wt.a,{title:"Downloads"},i.a.createElement("i",{className:"material-icons",style:{marginTop:"1px"}},"file_download")),className:"pw-downloads-menu",open:r,toggle:()=>{o(!r)},toggleOnClick:!1},i.a.createElement(er,null),i.a.createElement("hr",null),i.a.createElement(xr,null),(e||t)&&i.a.createElement("hr",null),e&&i.a.createElement(i.a.Fragment,null,n&&i.a.createElement(Or,null),i.a.createElement(Lr,null)),t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(nr,null),n&&i.a.createElement(Or,null)))};Nr.propTypes={viewHasTrees:i.a.PropTypes.bool,viewHasNetwork:i.a.PropTypes.bool,viewHasTimeline:i.a.PropTypes.bool};var Ar=Object(_.a)((function(e){return{viewHasTrees:Object(Vt.f)(e),viewHasNetwork:Object(K.g)(e),viewHasTimeline:xe(e)}}))(Nr);var Ir=Object(_.a)((function(e){return{clusterView:Object(K.g)(e)}}))(({clusterView:e})=>i.a.createElement("span",{className:"mdl-layout-spacer mdl-layout-spacer--flex"},i.a.createElement(yt,null),i.a.createElement("nav",{className:"wgsa-header-collection-options mdl-navigation",onClick:e=>e.stopPropagation()},i.a.createElement(Ar,null),i.a.createElement(mn,null),!e&&i.a.createElement(Un,null)),i.a.createElement("style",null,".libmr-RelativePortal > div {\n          z-index: 3;\n        }")));function Rr(e){return e===We.a.READY?"mdl-layout__header--primary mdl-shadow--3dp":null}var Dr=Object(_.a)(e=>({status:Object(K.a)(e).status}))(({status:e})=>i.a.createElement(Y,{className:Rr(e)},function(e){switch(e){case We.a.READY:return i.a.createElement(Ir,null);default:return i.a.createElement(H,null)}}(e))),jr=(n(1025),n(1027),n(134)),zr=n.n(jr),Fr=n(421);class Br extends i.a.PureComponent{render(){const{children:e,className:t,split:n,style:r,size:o,eleRef:a}=this.props,s=["Pane",n,t],l=Object.assign({},r||{},{flex:1,position:"relative",outline:"none"});return void 0!==o&&("vertical"===n?l.width=o:(l.height=o,l.display="flex"),l.flex="none"),i.a.createElement("div",{ref:a,className:s.join(" "),style:l},e)}}Br.propTypes={className:d.a.string.isRequired,children:d.a.node.isRequired,size:d.a.oneOfType([d.a.string,d.a.number]),split:d.a.oneOf(["vertical","horizontal"]),style:zr.a,eleRef:d.a.func},Br.defaultProps={};var Wr=Br;class Hr extends i.a.Component{render(){const{className:e,onClick:t,onDoubleClick:n,onMouseDown:r,onTouchEnd:o,onTouchStart:a,resizerClassName:s,split:l,style:c}=this.props,u=[s,l,e];return i.a.createElement("span",{role:"presentation",className:u.join(" "),style:c,onMouseDown:e=>r(e),onTouchStart:e=>{e.preventDefault(),a(e)},onTouchEnd:e=>{e.preventDefault(),o(e)},onClick:e=>{t&&(e.preventDefault(),t(e))},onDoubleClick:e=>{n&&(e.preventDefault(),n(e))}})}}Hr.propTypes={className:d.a.string.isRequired,onClick:d.a.func,onDoubleClick:d.a.func,onMouseDown:d.a.func.isRequired,onTouchStart:d.a.func.isRequired,onTouchEnd:d.a.func.isRequired,split:d.a.oneOf(["vertical","horizontal"]),style:zr.a,resizerClassName:d.a.string.isRequired},Hr.defaultProps={resizerClassName:"Resizer"};var Ur=Hr;function Gr(e,t){if(e.selection)e.selection.empty();else try{t.getSelection().removeAllRanges()}catch(e){}}function Vr(e,t,n,r){if("number"==typeof r){const e="number"==typeof t?t:0,o="number"==typeof n&&n>=0?n:1/0;return Math.max(e,Math.min(o,r))}return void 0!==e?e:t}class Yr extends i.a.Component{constructor(e){super(e),this.onMouseDown=this.onMouseDown.bind(this),this.onTouchStart=this.onTouchStart.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onTouchMove=this.onTouchMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this);const{size:t,defaultSize:n,minSize:r,maxSize:o,primary:i}=e,a=void 0!==t?t:Vr(n,r,o,null);this.state={active:!1,resized:!1,pane1Size:"first"===i?a:void 0,pane2Size:"second"===i?a:void 0,instanceProps:{size:t}}}componentDidMount(){document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("touchmove",this.onTouchMove),this.setState(Yr.getSizeUpdate(this.props,this.state))}static getDerivedStateFromProps(e,t){return Yr.getSizeUpdate(e,t)}componentWillUnmount(){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove)}onMouseDown(e){const t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchStart(t)}onTouchStart(e){const{allowResize:t,onDragStarted:n,split:r}=this.props;if(t){Gr(document,window);const t="vertical"===r?e.touches[0].clientX:e.touches[0].clientY;"function"==typeof n&&n(),this.setState({active:!0,position:t})}}onMouseMove(e){const t=Object.assign({},e,{touches:[{clientX:e.clientX,clientY:e.clientY}]});this.onTouchMove(t)}onTouchMove(e){const{allowResize:t,maxSize:n,minSize:r,onChange:o,split:i,step:a}=this.props,{active:s,position:l}=this.state;if(t&&s){Gr(document,window);const t="first"===this.props.primary,s=t?this.pane1:this.pane2,c=t?this.pane2:this.pane1;if(s){const u=s,d=c;if(u.getBoundingClientRect){const s=u.getBoundingClientRect().width,c=u.getBoundingClientRect().height,h="vertical"===i?s:c;let p=l-("vertical"===i?e.touches[0].clientX:e.touches[0].clientY);if(a){if(Math.abs(p)<a)return;p=~~(p/a)*a}let f=t?p:-p;parseInt(window.getComputedStyle(u).order)>parseInt(window.getComputedStyle(d).order)&&(f=-f);let m=n;if(void 0!==n&&n<=0){const e=this.splitPane;m="vertical"===i?e.getBoundingClientRect().width+n:e.getBoundingClientRect().height+n}let g=h-f;const v=l-p;g<r?g=r:void 0!==n&&g>m?g=m:this.setState({position:v,resized:!0}),o&&o(g),this.setState({draggedSize:g,[t?"pane1Size":"pane2Size"]:g})}}}}onMouseUp(){const{allowResize:e,onDragFinished:t}=this.props,{active:n,draggedSize:r}=this.state;e&&n&&("function"==typeof t&&t(r),this.setState({active:!1}))}static getSizeUpdate(e,t){const n={},{instanceProps:r}=t;if(r.size===e.size&&void 0!==e.size)return{};const o=void 0!==e.size?e.size:Vr(e.defaultSize,e.minSize,e.maxSize,t.draggedSize);void 0!==e.size&&(n.draggedSize=o);const i="first"===e.primary;return n[i?"pane1Size":"pane2Size"]=o,n[i?"pane2Size":"pane1Size"]=void 0,n.instanceProps={size:e.size},n}render(){const{allowResize:e,children:t,className:n,onResizerClick:r,onResizerDoubleClick:o,paneClassName:a,pane1ClassName:s,pane2ClassName:l,paneStyle:c,pane1Style:u,pane2Style:d,resizerClassName:h,resizerStyle:p,split:f,style:m}=this.props,{pane1Size:g,pane2Size:v}=this.state,y=e?"":"disabled",b=h?`${h} Resizer`:h,_=function(e){return i.a.Children.toArray(e).filter(e=>e)}(t),w={display:"flex",flex:1,height:"100%",position:"absolute",outline:"none",overflow:"hidden",MozUserSelect:"text",WebkitUserSelect:"text",msUserSelect:"text",userSelect:"text",...m};"vertical"===f?Object.assign(w,{flexDirection:"row",left:0,right:0}):Object.assign(w,{bottom:0,flexDirection:"column",minHeight:"100%",top:0,width:"100%"});const C=["SplitPane",n,f,y],S={...c,...u},E={...c,...d},x=["Pane1",a,s].join(" "),k=["Pane2",a,l].join(" ");return i.a.createElement("div",{className:C.join(" "),ref:e=>{this.splitPane=e},style:w},i.a.createElement(Wr,{className:x,key:"pane1",eleRef:e=>{this.pane1=e},size:g,split:f,style:S},_[0]),i.a.createElement(Ur,{className:y,onClick:r,onDoubleClick:o,onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onTouchEnd:this.onMouseUp,key:"resizer",resizerClassName:b,split:f,style:p||{}}),i.a.createElement(Wr,{className:k,key:"pane2",eleRef:e=>{this.pane2=e},size:v,split:f,style:E},_[1]))}}Yr.propTypes={allowResize:d.a.bool,children:d.a.arrayOf(d.a.node).isRequired,className:d.a.string,primary:d.a.oneOf(["first","second"]),minSize:d.a.oneOfType([d.a.string,d.a.number]),maxSize:d.a.oneOfType([d.a.string,d.a.number]),defaultSize:d.a.oneOfType([d.a.string,d.a.number]),size:d.a.oneOfType([d.a.string,d.a.number]),split:d.a.oneOf(["vertical","horizontal"]),onDragStarted:d.a.func,onDragFinished:d.a.func,onChange:d.a.func,onResizerClick:d.a.func,onResizerDoubleClick:d.a.func,style:zr.a,resizerStyle:zr.a,paneClassName:d.a.string,pane1ClassName:d.a.string,pane2ClassName:d.a.string,paneStyle:zr.a,pane1Style:zr.a,pane2Style:zr.a,resizerClassName:d.a.string,step:d.a.number},Yr.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical",paneClassName:"",pane1ClassName:"",pane2ClassName:""},Object(Fr.a)(Yr);var qr=Yr,Zr=(n(1029),n(209)),$r=n.n(Zr),Kr=n(35),Xr=n.n(Kr),Qr=n(7),Jr=n.n(Qr),eo=n(12),to=n.n(eo),no=n(8),ro=n.n(no),oo=n(11),io=n.n(oo),ao=n(294),so=n.n(ao),lo=n(5),co=n.n(lo);function uo(e){var t,n,r="";if(e)if("object"==typeof e)if(e.push)for(t=0;t<e.length;t++)e[t]&&(n=uo(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(n=uo(t))&&(r&&(r+=" "),r+=n);else"boolean"==typeof e||e.call||(r&&(r+=" "),r+=e);return r}var ho=function(){for(var e,t=0,n="";t<arguments.length;)(e=uo(arguments[t++]))&&(n&&(n+=" "),n+=e);return n};function po(e){var t=e.cellCount,n=e.cellSize,r=e.computeMetadataCallback,o=e.computeMetadataCallbackProps,i=e.nextCellsCount,a=e.nextCellSize,s=e.nextScrollToIndex,l=e.scrollToIndex,c=e.updateScrollOffsetForScrollToIndex;t===i&&("number"!=typeof n&&"number"!=typeof a||n===a)||(r(o),l>=0&&l===s&&c())}var fo=n(61),mo=n.n(fo),go=function(){function e(t){var n=t.cellCount,r=t.cellSizeGetter,o=t.estimatedCellSize;Jr()(this,e),this._cellSizeAndPositionData={},this._lastMeasuredIndex=-1,this._lastBatchedIndex=-1,this._cellSizeGetter=r,this._cellCount=n,this._estimatedCellSize=o}return to()(e,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(e){var t=e.cellCount,n=e.estimatedCellSize,r=e.cellSizeGetter;this._cellCount=t,this._estimatedCellSize=n,this._cellSizeGetter=r}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(e){if(e<0||e>=this._cellCount)throw Error("Requested index "+e+" is outside of range 0.."+this._cellCount);if(e>this._lastMeasuredIndex)for(var t=this.getSizeAndPositionOfLastMeasuredCell(),n=t.offset+t.size,r=this._lastMeasuredIndex+1;r<=e;r++){var o=this._cellSizeGetter({index:r});if(void 0===o||isNaN(o))throw Error("Invalid size returned for cell "+r+" of value "+o);null===o?(this._cellSizeAndPositionData[r]={offset:n,size:0},this._lastBatchedIndex=e):(this._cellSizeAndPositionData[r]={offset:n,size:o},n+=o,this._lastMeasuredIndex=e)}return this._cellSizeAndPositionData[e]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var e=this.getSizeAndPositionOfLastMeasuredCell();return e.offset+e.size+(this._cellCount-this._lastMeasuredIndex-1)*this._estimatedCellSize}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;if(r<=0)return 0;var a=this.getSizeAndPositionOfCell(i),s=a.offset,l=s-r+a.size,c=void 0;switch(n){case"start":c=s;break;case"end":c=l;break;case"center":c=s-(r-a.size)/2;break;default:c=Math.max(l,Math.min(s,o))}var u=this.getTotalSize();return Math.max(0,Math.min(u-r,c))}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;if(0===this.getTotalSize())return{};var r=n+t,o=this._findNearestCell(n),i=this.getSizeAndPositionOfCell(o);n=i.offset+i.size;for(var a=o;n<r&&a<this._cellCount-1;)a++,n+=this.getSizeAndPositionOfCell(a).size;return{start:o,stop:a}}},{key:"resetCell",value:function(e){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,e-1)}},{key:"_binarySearch",value:function(e,t,n){for(;t<=e;){var r=t+Math.floor((e-t)/2),o=this.getSizeAndPositionOfCell(r).offset;if(o===n)return r;o<n?t=r+1:o>n&&(e=r-1)}return t>0?t-1:0}},{key:"_exponentialSearch",value:function(e,t){for(var n=1;e<this._cellCount&&this.getSizeAndPositionOfCell(e).offset<t;)e+=n,n*=2;return this._binarySearch(Math.min(e,this._cellCount-1),Math.floor(e/2),t)}},{key:"_findNearestCell",value:function(e){if(isNaN(e))throw Error("Invalid offset "+e+" specified");e=Math.max(0,e);var t=this.getSizeAndPositionOfLastMeasuredCell(),n=Math.max(0,this._lastMeasuredIndex);return t.offset>=e?this._binarySearch(n,0,e):this._exponentialSearch(n,e)}}]),e}(),vo=function(){return"undefined"!=typeof window&&window.chrome?16777100:15e5},yo=function(){function e(t){var n=t.maxScrollSize,r=void 0===n?vo():n,o=mo()(t,["maxScrollSize"]);Jr()(this,e),this._cellSizeAndPositionManager=new go(o),this._maxScrollSize=r}return to()(e,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(e){this._cellSizeAndPositionManager.configure(e)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize(),i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(o-r))}},{key:"getSizeAndPositionOfCell",value:function(e){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(e)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(e){var t=e.align,n=void 0===t?"auto":t,r=e.containerSize,o=e.currentOffset,i=e.targetIndex;o=this._safeOffsetToOffset({containerSize:r,offset:o});var a=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:n,containerSize:r,currentOffset:o,targetIndex:i});return this._offsetToSafeOffset({containerSize:r,offset:a})}},{key:"getVisibleCellRange",value:function(e){var t=e.containerSize,n=e.offset;return n=this._safeOffsetToOffset({containerSize:t,offset:n}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:t,offset:n})}},{key:"resetCell",value:function(e){this._cellSizeAndPositionManager.resetCell(e)}},{key:"_getOffsetPercentage",value:function(e){var t=e.containerSize,n=e.offset,r=e.totalSize;return r<=t?0:n/(r-t)}},{key:"_offsetToSafeOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:r});return Math.round(i*(o-t))}},{key:"_safeOffsetToOffset",value:function(e){var t=e.containerSize,n=e.offset,r=this._cellSizeAndPositionManager.getTotalSize(),o=this.getTotalSize();if(r===o)return n;var i=this._getOffsetPercentage({containerSize:t,offset:n,totalSize:o});return Math.round(i*(r-t))}}]),e}(),bo=n(145),_o=n.n(bo);function wo(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t={};return function(n){var r=n.callback,o=n.indices,i=_o()(o),a=!e||i.every((function(e){var t=o[e];return Array.isArray(t)?t.length>0:t>=0})),s=i.length!==_o()(t).length||i.some((function(e){var n=t[e],r=o[e];return Array.isArray(r)?n.join(",")!==r.join(","):n!==r}));t=o,a&&s&&r(o)}}function Co(e){var t=e.cellSize,n=e.cellSizeAndPositionManager,r=e.previousCellsCount,o=e.previousCellSize,i=e.previousScrollToAlignment,a=e.previousScrollToIndex,s=e.previousSize,l=e.scrollOffset,c=e.scrollToAlignment,u=e.scrollToIndex,d=e.size,h=e.sizeJustIncreasedFromZero,p=e.updateScrollIndexCallback,f=n.getCellCount(),m=u>=0&&u<f;m&&(d!==s||h||!o||"number"==typeof t&&t!==o||c!==i||u!==a)?p(u):!m&&f>0&&(d<s||f<r)&&l>n.getTotalSize()-d&&p(f-1)}var So,Eo=!("undefined"==typeof window||!window.document||!window.document.createElement);function xo(e){if((!So&&0!==So||e)&&Eo){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),So=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return So}var ko=n(494),Oo=n.n(ko),To=void 0,Mo=(To="undefined"!=typeof window?window:"undefined"!=typeof self?self:{}).requestAnimationFrame||To.webkitRequestAnimationFrame||To.mozRequestAnimationFrame||To.oRequestAnimationFrame||To.msRequestAnimationFrame||function(e){return To.setTimeout(e,1e3/60)},Po=To.cancelAnimationFrame||To.webkitCancelAnimationFrame||To.mozCancelAnimationFrame||To.oCancelAnimationFrame||To.msCancelAnimationFrame||function(e){To.clearTimeout(e)},Lo=Mo,No=Po,Ao=function(e){return No(e.id)},Io=function(e,t){var n=void 0;Oo.a.resolve().then((function(){n=Date.now()}));var r={id:Lo((function o(){Date.now()-n>=t?e.call():r.id=Lo(o)}))};return r},Ro="observed",Do="requested",jo=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Xr()(t)).call(this,e));n._onGridRenderedMemoizer=wo(),n._onScrollMemoizer=wo(!1),n._deferredInvalidateColumnIndex=null,n._deferredInvalidateRowIndex=null,n._recomputeScrollLeftFlag=!1,n._recomputeScrollTopFlag=!1,n._horizontalScrollBarSize=0,n._verticalScrollBarSize=0,n._scrollbarPresenceChanged=!1,n._renderedColumnStartIndex=0,n._renderedColumnStopIndex=0,n._renderedRowStartIndex=0,n._renderedRowStopIndex=0,n._styleCache={},n._cellCache={},n._debounceScrollEndedCallback=function(){n._disablePointerEventsTimeoutId=null,n.setState({isScrolling:!1,needToResetStyleCache:!1})},n._invokeOnGridRenderedHelper=function(){var e=n.props.onSectionRendered;n._onGridRenderedMemoizer({callback:e,indices:{columnOverscanStartIndex:n._columnStartIndex,columnOverscanStopIndex:n._columnStopIndex,columnStartIndex:n._renderedColumnStartIndex,columnStopIndex:n._renderedColumnStopIndex,rowOverscanStartIndex:n._rowStartIndex,rowOverscanStopIndex:n._rowStopIndex,rowStartIndex:n._renderedRowStartIndex,rowStopIndex:n._renderedRowStopIndex}})},n._setScrollingContainerRef=function(e){n._scrollingContainer=e},n._onScroll=function(e){e.target===n._scrollingContainer&&n.handleScrollEvent(e.target)};var r=new yo({cellCount:e.columnCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.columnWidth)(n)},estimatedCellSize:t._getEstimatedColumnSize(e)}),o=new yo({cellCount:e.rowCount,cellSizeGetter:function(n){return t._wrapSizeGetter(e.rowHeight)(n)},estimatedCellSize:t._getEstimatedRowSize(e)});return n.state={instanceProps:{columnSizeAndPositionManager:r,rowSizeAndPositionManager:o,prevColumnWidth:e.columnWidth,prevRowHeight:e.rowHeight,prevColumnCount:e.columnCount,prevRowCount:e.rowCount,prevIsScrolling:!0===e.isScrolling,prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:1,scrollDirectionVertical:1,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},e.scrollToRow>0&&(n._initialScrollTop=n._getCalculatedScrollTop(e,n.state)),e.scrollToColumn>0&&(n._initialScrollLeft=n._getCalculatedScrollLeft(e,n.state)),n}return io()(t,e),to()(t,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.alignment,n=void 0===t?this.props.scrollToAlignment:t,r=e.columnIndex,o=void 0===r?this.props.scrollToColumn:r,i=e.rowIndex,a=void 0===i?this.props.scrollToRow:i,s=co()({},this.props,{scrollToAlignment:n,scrollToColumn:o,scrollToRow:a});return{scrollLeft:this._getCalculatedScrollLeft(s),scrollTop:this._getCalculatedScrollTop(s)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var t=e.scrollLeft,n=void 0===t?0:t,r=e.scrollTop,o=void 0===r?0:r;if(!(o<0)){this._debounceScrollEnded();var i=this.props,a=i.autoHeight,s=i.autoWidth,l=i.height,c=i.width,u=this.state.instanceProps,d=u.scrollbarSize,h=u.rowSizeAndPositionManager.getTotalSize(),p=u.columnSizeAndPositionManager.getTotalSize(),f=Math.min(Math.max(0,p-c+d),n),m=Math.min(Math.max(0,h-l+d),o);if(this.state.scrollLeft!==f||this.state.scrollTop!==m){var g={isScrolling:!0,scrollDirectionHorizontal:f!==this.state.scrollLeft?f>this.state.scrollLeft?1:-1:this.state.scrollDirectionHorizontal,scrollDirectionVertical:m!==this.state.scrollTop?m>this.state.scrollTop?1:-1:this.state.scrollDirectionVertical,scrollPositionChangeReason:Ro};a||(g.scrollTop=m),s||(g.scrollLeft=f),g.needToResetStyleCache=!1,this.setState(g)}this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:m,totalColumnsWidth:p,totalRowsHeight:h})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,t):t,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,n):n}},{key:"measureAllCells",value:function(){var e=this.props,t=e.columnCount,n=e.rowCount,r=this.state.instanceProps;r.columnSizeAndPositionManager.getSizeAndPositionOfCell(t-1),r.rowSizeAndPositionManager.getSizeAndPositionOfCell(n-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.scrollToColumn,s=i.scrollToRow,l=this.state.instanceProps;l.columnSizeAndPositionManager.resetCell(n),l.rowSizeAndPositionManager.resetCell(o),this._recomputeScrollLeftFlag=a>=0&&(1===this.state.scrollDirectionHorizontal?n<=a:n>=a),this._recomputeScrollTopFlag=s>=0&&(1===this.state.scrollDirectionVertical?o<=s:o>=s),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var t=e.columnIndex,n=e.rowIndex,r=this.props.columnCount,o=this.props;r>1&&void 0!==t&&this._updateScrollLeftForScrollToColumn(co()({},o,{scrollToColumn:t})),void 0!==n&&this._updateScrollTopForScrollToRow(co()({},o,{scrollToRow:n}))}},{key:"componentDidMount",value:function(){var e=this.props,n=e.getScrollbarSize,r=e.height,o=e.scrollLeft,i=e.scrollToColumn,a=e.scrollTop,s=e.scrollToRow,l=e.width,c=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),c.scrollbarSizeMeasured||this.setState((function(e){var t=co()({},e,{needToResetStyleCache:!1});return t.instanceProps.scrollbarSize=n(),t.instanceProps.scrollbarSizeMeasured=!0,t})),"number"==typeof o&&o>=0||"number"==typeof a&&a>=0){var u=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:o,scrollTop:a});u&&(u.needToResetStyleCache=!1,this.setState(u))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var d=r>0&&l>0;i>=0&&d&&this._updateScrollLeftForScrollToColumn(),s>=0&&d&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:o||0,scrollTop:a||0,totalColumnsWidth:c.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:c.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.props,o=r.autoHeight,i=r.autoWidth,a=r.columnCount,s=r.height,l=r.rowCount,c=r.scrollToAlignment,u=r.scrollToColumn,d=r.scrollToRow,h=r.width,p=this.state,f=p.scrollLeft,m=p.scrollPositionChangeReason,g=p.scrollTop,v=p.instanceProps;this._handleInvalidatedGridSize();var y=a>0&&0===e.columnCount||l>0&&0===e.rowCount;m===Do&&(!i&&f>=0&&(f!==this._scrollingContainer.scrollLeft||y)&&(this._scrollingContainer.scrollLeft=f),!o&&g>=0&&(g!==this._scrollingContainer.scrollTop||y)&&(this._scrollingContainer.scrollTop=g));var b=(0===e.width||0===e.height)&&s>0&&h>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Co({cellSizeAndPositionManager:v.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:f,scrollToAlignment:c,scrollToIndex:u,size:h,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollLeftForScrollToColumn(n.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Co({cellSizeAndPositionManager:v.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:g,scrollToAlignment:c,scrollToIndex:d,size:s,sizeJustIncreasedFromZero:b,updateScrollIndexCallback:function(){return n._updateScrollTopForScrollToRow(n.props)}}),this._invokeOnGridRenderedHelper(),f!==t.scrollLeft||g!==t.scrollTop){var _=v.rowSizeAndPositionManager.getTotalSize(),w=v.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:f,scrollTop:g,totalColumnsWidth:w,totalRowsHeight:_})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Ao(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoContainerWidth,n=e.autoHeight,r=e.autoWidth,i=e.className,a=e.containerProps,s=e.containerRole,l=e.containerStyle,c=e.height,u=e.id,d=e.noContentRenderer,h=e.role,p=e.style,f=e.tabIndex,m=e.width,g=this.state,v=g.instanceProps,y=g.needToResetStyleCache,b=this._isScrolling(),_={boxSizing:"border-box",direction:"ltr",height:n?"auto":c,position:"relative",width:r?"auto":m,WebkitOverflowScrolling:"touch",willChange:"transform"};y&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var w=v.columnSizeAndPositionManager.getTotalSize(),C=v.rowSizeAndPositionManager.getTotalSize(),S=C>c?v.scrollbarSize:0,E=w>m?v.scrollbarSize:0;E===this._horizontalScrollBarSize&&S===this._verticalScrollBarSize||(this._horizontalScrollBarSize=E,this._verticalScrollBarSize=S,this._scrollbarPresenceChanged=!0),_.overflowX=w+S<=m?"hidden":"auto",_.overflowY=C+E<=c?"hidden":"auto";var x=this._childrenToDisplay,k=0===x.length&&c>0&&m>0;return o.createElement("div",co()({ref:this._setScrollingContainerRef},a,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:ho("ReactVirtualized__Grid",i),id:u,onScroll:this._onScroll,role:h,style:co()({},_,p),tabIndex:f}),x.length>0&&o.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:s,style:co()({width:t?"auto":w,height:C,maxWidth:w,maxHeight:C,overflow:"hidden",pointerEvents:b?"none":"",position:"relative"},l)},x),k&&d())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=e.cellRenderer,r=e.cellRangeRenderer,o=e.columnCount,i=e.deferredMeasurementCache,a=e.height,s=e.overscanColumnCount,l=e.overscanIndicesGetter,c=e.overscanRowCount,u=e.rowCount,d=e.width,h=e.isScrollingOptOut,p=t.scrollDirectionHorizontal,f=t.scrollDirectionVertical,m=t.instanceProps,g=this._initialScrollTop>0?this._initialScrollTop:t.scrollTop,v=this._initialScrollLeft>0?this._initialScrollLeft:t.scrollLeft,y=this._isScrolling(e,t);if(this._childrenToDisplay=[],a>0&&d>0){var b=m.columnSizeAndPositionManager.getVisibleCellRange({containerSize:d,offset:v}),_=m.rowSizeAndPositionManager.getVisibleCellRange({containerSize:a,offset:g}),w=m.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:d,offset:v}),C=m.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:a,offset:g});this._renderedColumnStartIndex=b.start,this._renderedColumnStopIndex=b.stop,this._renderedRowStartIndex=_.start,this._renderedRowStopIndex=_.stop;var S=l({direction:"horizontal",cellCount:o,overscanCellsCount:s,scrollDirection:p,startIndex:"number"==typeof b.start?b.start:0,stopIndex:"number"==typeof b.stop?b.stop:-1}),E=l({direction:"vertical",cellCount:u,overscanCellsCount:c,scrollDirection:f,startIndex:"number"==typeof _.start?_.start:0,stopIndex:"number"==typeof _.stop?_.stop:-1}),x=S.overscanStartIndex,k=S.overscanStopIndex,O=E.overscanStartIndex,T=E.overscanStopIndex;if(i){if(!i.hasFixedHeight())for(var M=O;M<=T;M++)if(!i.has(M,0)){x=0,k=o-1;break}if(!i.hasFixedWidth())for(var P=x;P<=k;P++)if(!i.has(0,P)){O=0,T=u-1;break}}this._childrenToDisplay=r({cellCache:this._cellCache,cellRenderer:n,columnSizeAndPositionManager:m.columnSizeAndPositionManager,columnStartIndex:x,columnStopIndex:k,deferredMeasurementCache:i,horizontalOffsetAdjustment:w,isScrolling:y,isScrollingOptOut:h,parent:this,rowSizeAndPositionManager:m.rowSizeAndPositionManager,rowStartIndex:O,rowStopIndex:T,scrollLeft:v,scrollTop:g,styleCache:this._styleCache,verticalOffsetAdjustment:C,visibleColumnIndices:b,visibleRowIndices:_}),this._columnStartIndex=x,this._columnStopIndex=k,this._rowStartIndex=O,this._rowStopIndex=T}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Ao(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=Io(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex&&"number"==typeof this._deferredInvalidateRowIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalColumnsWidth,i=e.totalRowsHeight;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:i,scrollLeft:n,scrollTop:r,scrollWidth:o})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?Boolean(e.isScrolling):Boolean(t.isScrolling)}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var n=e.scrollLeft,r=e.scrollTop,o=t._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:n,scrollTop:r});o&&(o.needToResetStyleCache=!1,this.setState(o))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollLeft(e,n)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollLeftForScrollToColumnStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return t._getCalculatedScrollTop(e,n)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,t=this._cellCache,n=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var r=this._rowStartIndex;r<=this._rowStopIndex;r++)for(var o=this._columnStartIndex;o<=this._columnStopIndex;o++){var i=r+"-"+o;this._styleCache[i]=e[i],n&&(this._cellCache[i]=t[i])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,r=t._getScrollTopForScrollToRowStateUpdate(e,n);r&&(r.needToResetStyleCache=!1,this.setState(r))}}],[{key:"getDerivedStateFromProps",value:function(e,n){var r={};0===e.columnCount&&0!==n.scrollLeft||0===e.rowCount&&0!==n.scrollTop?(r.scrollLeft=0,r.scrollTop=0):(e.scrollLeft!==n.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==n.scrollTop&&e.scrollToRow<0)&&so()(r,t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var o=n.instanceProps;r.needToResetStyleCache=!1,e.columnWidth===o.prevColumnWidth&&e.rowHeight===o.prevRowHeight||(r.needToResetStyleCache=!0),o.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:t._getEstimatedColumnSize(e),cellSizeGetter:t._wrapSizeGetter(e.columnWidth)}),o.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:t._getEstimatedRowSize(e),cellSizeGetter:t._wrapSizeGetter(e.rowHeight)}),0!==o.prevColumnCount&&0!==o.prevRowCount||(o.prevColumnCount=0,o.prevRowCount=0),e.autoHeight&&!1===e.isScrolling&&!0===o.prevIsScrolling&&so()(r,{isScrolling:!1});var i=void 0,a=void 0;return po({cellCount:o.prevColumnCount,cellSize:"number"==typeof o.prevColumnWidth?o.prevColumnWidth:null,computeMetadataCallback:function(){return o.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:"number"==typeof e.columnWidth?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:o.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){i=t._getScrollLeftForScrollToColumnStateUpdate(e,n)}}),po({cellCount:o.prevRowCount,cellSize:"number"==typeof o.prevRowHeight?o.prevRowHeight:null,computeMetadataCallback:function(){return o.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:"number"==typeof e.rowHeight?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:o.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){a=t._getScrollTopForScrollToRowStateUpdate(e,n)}}),o.prevColumnCount=e.columnCount,o.prevColumnWidth=e.columnWidth,o.prevIsScrolling=!0===e.isScrolling,o.prevRowCount=e.rowCount,o.prevRowHeight=e.rowHeight,o.prevScrollToColumn=e.scrollToColumn,o.prevScrollToRow=e.scrollToRow,o.scrollbarSize=e.getScrollbarSize(),void 0===o.scrollbarSize?(o.scrollbarSizeMeasured=!1,o.scrollbarSize=0):o.scrollbarSizeMeasured=!0,r.instanceProps=o,co()({},r,i,a)}},{key:"_getEstimatedColumnSize",value:function(e){return"number"==typeof e.columnWidth?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return"number"==typeof e.rowHeight?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var t=e.prevState,n=e.scrollLeft,r=e.scrollTop,o={scrollPositionChangeReason:Do};return"number"==typeof n&&n>=0&&(o.scrollDirectionHorizontal=n>t.scrollLeft?1:-1,o.scrollLeft=n),"number"==typeof r&&r>=0&&(o.scrollDirectionVertical=r>t.scrollTop?1:-1,o.scrollTop=r),"number"==typeof n&&n>=0&&n!==t.scrollLeft||"number"==typeof r&&r>=0&&r!==t.scrollTop?o:null}},{key:"_wrapSizeGetter",value:function(e){return"function"==typeof e?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,t){var n=e.columnCount,r=e.height,o=e.scrollToAlignment,i=e.scrollToColumn,a=e.width,s=t.scrollLeft,l=t.instanceProps;if(n>0){var c=n-1,u=i<0?c:Math.min(c,i),d=l.rowSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>r?l.scrollbarSize:0;return l.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:a-h,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,n){var r=n.scrollLeft,o=t._getCalculatedScrollLeft(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:o,scrollTop:-1}):null}},{key:"_getCalculatedScrollTop",value:function(e,t){var n=e.height,r=e.rowCount,o=e.scrollToAlignment,i=e.scrollToRow,a=e.width,s=t.scrollTop,l=t.instanceProps;if(r>0){var c=r-1,u=i<0?c:Math.min(c,i),d=l.columnSizeAndPositionManager.getTotalSize(),h=l.scrollbarSizeMeasured&&d>a?l.scrollbarSize:0;return l.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:o,containerSize:n-h,currentOffset:s,targetIndex:u})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,n){var r=n.scrollTop,o=t._getCalculatedScrollTop(e,n);return"number"==typeof o&&o>=0&&r!==o?t._getScrollToPositionStateUpdate({prevState:n,scrollLeft:-1,scrollTop:o}):null}}]),t}(o.PureComponent);jo.defaultProps={"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:function(e){for(var t=e.cellCache,n=e.cellRenderer,r=e.columnSizeAndPositionManager,o=e.columnStartIndex,i=e.columnStopIndex,a=e.deferredMeasurementCache,s=e.horizontalOffsetAdjustment,l=e.isScrolling,c=e.isScrollingOptOut,u=e.parent,d=e.rowSizeAndPositionManager,h=e.rowStartIndex,p=e.rowStopIndex,f=e.styleCache,m=e.verticalOffsetAdjustment,g=e.visibleColumnIndices,v=e.visibleRowIndices,y=[],b=r.areOffsetsAdjusted()||d.areOffsetsAdjusted(),_=!l&&!b,w=h;w<=p;w++)for(var C=d.getSizeAndPositionOfCell(w),S=o;S<=i;S++){var E=r.getSizeAndPositionOfCell(S),x=S>=g.start&&S<=g.stop&&w>=v.start&&w<=v.stop,k=w+"-"+S,O=void 0;_&&f[k]?O=f[k]:a&&!a.has(w,S)?O={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(O={height:C.size,left:E.offset+s,position:"absolute",top:C.offset+m,width:E.size},f[k]=O);var T={columnIndex:S,isScrolling:l,isVisible:x,key:k,parent:u,rowIndex:w,style:O},M=void 0;!c&&!l||s||m?M=n(T):(t[k]||(t[k]=n(T)),M=t[k]),null!=M&&!1!==M&&y.push(M)}return y},containerRole:"rowgroup",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:xo,noContentRenderer:function(){return null},onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:function(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return 1===r?{overscanStartIndex:Math.max(0,o),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i)}},overscanRowCount:10,role:"grid",scrollingResetTimeInterval:150,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1},jo.propTypes=null,Object(Fr.a)(jo);var zo=jo;function Fo(e){var t=e.cellCount,n=e.overscanCellsCount,r=e.scrollDirection,o=e.startIndex,i=e.stopIndex;return n=Math.max(1,n),1===r?{overscanStartIndex:Math.max(0,o-1),overscanStopIndex:Math.min(t-1,i+n)}:{overscanStartIndex:Math.max(0,o-n),overscanStopIndex:Math.min(t-1,i+1)}}var Bo=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r.state={scrollToColumn:0,scrollToRow:0},r._columnStartIndex=0,r._columnStopIndex=0,r._rowStartIndex=0,r._rowStopIndex=0,r._onKeyDown=function(e){var t=r.props,n=t.columnCount,o=t.disabled,i=t.mode,a=t.rowCount;if(!o){var s=r._getScrollState(),l=s.scrollToColumn,c=s.scrollToRow,u=r._getScrollState(),d=u.scrollToColumn,h=u.scrollToRow;switch(e.key){case"ArrowDown":h="cells"===i?Math.min(h+1,a-1):Math.min(r._rowStopIndex+1,a-1);break;case"ArrowLeft":d="cells"===i?Math.max(d-1,0):Math.max(r._columnStartIndex-1,0);break;case"ArrowRight":d="cells"===i?Math.min(d+1,n-1):Math.min(r._columnStopIndex+1,n-1);break;case"ArrowUp":h="cells"===i?Math.max(h-1,0):Math.max(r._rowStartIndex-1,0)}d===l&&h===c||(e.preventDefault(),r._updateScrollState({scrollToColumn:d,scrollToRow:h}))}},r._onSectionRendered=function(e){var t=e.columnStartIndex,n=e.columnStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;r._columnStartIndex=t,r._columnStopIndex=n,r._rowStartIndex=o,r._rowStopIndex=i},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"setScrollIndexes",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow;this.setState({scrollToRow:n,scrollToColumn:t})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=this._getScrollState(),i=r.scrollToColumn,a=r.scrollToRow;return o.createElement("div",{className:t,onKeyDown:this._onKeyDown},n({onSectionRendered:this._onSectionRendered,scrollToColumn:i,scrollToRow:a}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var t=e.scrollToColumn,n=e.scrollToRow,r=this.props,o=r.isControlled,i=r.onScrollToChange;"function"==typeof i&&i({scrollToColumn:t,scrollToRow:n}),o||this.setState({scrollToColumn:t,scrollToRow:n})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isControlled?null:e.scrollToColumn!==t.scrollToColumn||e.scrollToRow!==t.scrollToRow?{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow}:null}}]),t}(o.PureComponent);Bo.defaultProps={disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0},Bo.propTypes=null,Object(Fr.a)(Bo);var Wo=n(305),Ho=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r.state={height:r.props.defaultHeight||0,width:r.props.defaultWidth||0},r._onResize=function(){var e=r.props,t=e.disableHeight,n=e.disableWidth,o=e.onResize;if(r._parentNode){var i=r._parentNode.offsetHeight||0,a=r._parentNode.offsetWidth||0,s=(r._window||window).getComputedStyle(r._parentNode)||{},l=parseInt(s.paddingLeft,10)||0,c=parseInt(s.paddingRight,10)||0,u=parseInt(s.paddingTop,10)||0,d=parseInt(s.paddingBottom,10)||0,h=i-u-d,p=a-l-c;(!t&&r.state.height!==h||!n&&r.state.width!==p)&&(r.setState({height:i-u-d,width:a-l-c}),o({height:i,width:a}))}},r._setRef=function(e){r._autoSizer=e},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Object(Wo.a)(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.disableHeight,i=e.disableWidth,a=e.style,s=this.state,l=s.height,c=s.width,u={overflow:"visible"},d={};return r||(u.height=0,d.height=l),i||(u.width=0,d.width=c),o.createElement("div",{className:n,ref:this._setRef,style:co()({},u,a)},t(d))}}]),t}(o.PureComponent);Ho.defaultProps={onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}},Ho.propTypes=null;var Uo=Ho,Go=n(19),Vo=n.n(Go),Yo=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r._measure=function(){var e=r.props,t=e.cache,n=e.columnIndex,o=void 0===n?0:n,i=e.parent,a=e.rowIndex,s=void 0===a?r.props.index||0:a,l=r._getCellMeasurements(),c=l.height,u=l.width;c===t.getHeight(s,o)&&u===t.getWidth(s,o)||(t.set(s,o,u,c),i&&"function"==typeof i.recomputeGridSize&&i.recomputeGridSize({columnIndex:o,rowIndex:s}))},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e?e({measure:this._measure}):e}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,t=Object(Go.findDOMNode)(this);if(t&&t.ownerDocument&&t.ownerDocument.defaultView&&t instanceof t.ownerDocument.defaultView.HTMLElement){var n=t.style.width,r=t.style.height;e.hasFixedWidth()||(t.style.width="auto"),e.hasFixedHeight()||(t.style.height="auto");var o=Math.ceil(t.offsetHeight),i=Math.ceil(t.offsetWidth);return n&&(t.style.width=n),r&&(t.style.height=r),{height:o,width:i}}return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,t=e.cache,n=e.columnIndex,r=void 0===n?0:n,o=e.parent,i=e.rowIndex,a=void 0===i?this.props.index||0:i;if(!t.has(a,r)){var s=this._getCellMeasurements(),l=s.height,c=s.width;t.set(a,r,c,l),o&&"function"==typeof o.invalidateCellSizeAfterRender&&o.invalidateCellSizeAfterRender({columnIndex:r,rowIndex:a})}}}]),t}(o.PureComponent);Yo.__internalCellMeasurerFlag=!1,Yo.propTypes=null;!function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr()(this,e),this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._columnCount=0,this._rowCount=0,this.columnWidth=function(e){var n=e.index,r=t._keyMapper(0,n);return t._columnWidthCache.hasOwnProperty(r)?t._columnWidthCache[r]:t._defaultWidth},this.rowHeight=function(e){var n=e.index,r=t._keyMapper(n,0);return t._rowHeightCache.hasOwnProperty(r)?t._rowHeightCache[r]:t._defaultHeight};var r=n.defaultHeight,o=n.defaultWidth,i=n.fixedHeight,a=n.fixedWidth,s=n.keyMapper,l=n.minHeight,c=n.minWidth;this._hasFixedHeight=!0===i,this._hasFixedWidth=!0===a,this._minHeight=l||0,this._minWidth=c||0,this._keyMapper=s||qo,this._defaultHeight=Math.max(this._minHeight,"number"==typeof r?r:30),this._defaultWidth=Math.max(this._minWidth,"number"==typeof o?o:100)}to()(e,[{key:"clear",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);delete this._cellHeightCache[n],delete this._cellWidthCache[n],this._updateCachedColumnAndRowSizes(e,t)}},{key:"clearAll",value:function(){this._cellHeightCache={},this._cellWidthCache={},this._columnWidthCache={},this._rowHeightCache={},this._rowCount=0,this._columnCount=0}},{key:"hasFixedHeight",value:function(){return this._hasFixedHeight}},{key:"hasFixedWidth",value:function(){return this._hasFixedWidth}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedHeight)return this._defaultHeight;var n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)?Math.max(this._minHeight,this._cellHeightCache[n]):this._defaultHeight}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this._hasFixedWidth)return this._defaultWidth;var n=this._keyMapper(e,t);return this._cellWidthCache.hasOwnProperty(n)?Math.max(this._minWidth,this._cellWidthCache[n]):this._defaultWidth}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._keyMapper(e,t);return this._cellHeightCache.hasOwnProperty(n)}},{key:"set",value:function(e,t,n,r){var o=this._keyMapper(e,t);t>=this._columnCount&&(this._columnCount=t+1),e>=this._rowCount&&(this._rowCount=e+1),this._cellHeightCache[o]=r,this._cellWidthCache[o]=n,this._updateCachedColumnAndRowSizes(e,t)}},{key:"_updateCachedColumnAndRowSizes",value:function(e,t){if(!this._hasFixedWidth){for(var n=0,r=0;r<this._rowCount;r++)n=Math.max(n,this.getWidth(r,t));var o=this._keyMapper(0,t);this._columnWidthCache[o]=n}if(!this._hasFixedHeight){for(var i=0,a=0;a<this._columnCount;a++)i=Math.max(i,this.getHeight(e,a));var s=this._keyMapper(e,0);this._rowHeightCache[s]=i}}},{key:"defaultHeight",get:function(){return this._defaultHeight}},{key:"defaultWidth",get:function(){return this._defaultWidth}}])}();function qo(e,t){return e+"-"+t}var Zo="observed",$o="requested",Ko=function(e){function t(){var e;Jr()(this,t);for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var i=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(r)));return i.state={isScrolling:!1,scrollLeft:0,scrollTop:0},i._calculateSizeAndPositionDataOnNextUpdate=!1,i._onSectionRenderedMemoizer=wo(),i._onScrollMemoizer=wo(!1),i._invokeOnSectionRenderedHelper=function(){var e=i.props,t=e.cellLayoutManager,n=e.onSectionRendered;i._onSectionRenderedMemoizer({callback:n,indices:{indices:t.getLastRenderedIndices()}})},i._setScrollingContainerRef=function(e){i._scrollingContainer=e},i._updateScrollPositionForScrollToCell=function(){var e=i.props,t=e.cellLayoutManager,n=e.height,r=e.scrollToAlignment,o=e.scrollToCell,a=e.width,s=i.state,l=s.scrollLeft,c=s.scrollTop;if(o>=0){var u=t.getScrollPositionForCell({align:r,cellIndex:o,height:n,scrollLeft:l,scrollTop:c,width:a});u.scrollLeft===l&&u.scrollTop===c||i._setScrollPosition(u)}},i._onScroll=function(e){if(e.target===i._scrollingContainer){i._enablePointerEventsAfterDelay();var t=i.props,n=t.cellLayoutManager,r=t.height,o=t.isScrollingChange,a=t.width,s=i._scrollbarSize,l=n.getTotalSize(),c=l.height,u=l.width,d=Math.max(0,Math.min(u-a+s,e.target.scrollLeft)),h=Math.max(0,Math.min(c-r+s,e.target.scrollTop));if(i.state.scrollLeft!==d||i.state.scrollTop!==h){var p=e.cancelable?Zo:$o;i.state.isScrolling||o(!0),i.setState({isScrolling:!0,scrollLeft:d,scrollPositionChangeReason:p,scrollTop:h})}i._invokeOnScrollMemoizer({scrollLeft:d,scrollTop:h,totalWidth:u,totalHeight:c})}},i._scrollbarSize=xo(),void 0===i._scrollbarSize?(i._scrollbarSizeMeasured=!1,i._scrollbarSize=0):i._scrollbarSizeMeasured=!0,i}return io()(t,e),to()(t,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,t=e.cellLayoutManager,n=e.scrollLeft,r=e.scrollToCell,o=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=xo(),this._scrollbarSizeMeasured=!0,this.setState({})),r>=0?this._updateScrollPositionForScrollToCell():(n>=0||o>=0)&&this._setScrollPosition({scrollLeft:n,scrollTop:o}),this._invokeOnSectionRenderedHelper();var i=t.getTotalSize(),a=i.height,s=i.width;this._invokeOnScrollMemoizer({scrollLeft:n||0,scrollTop:o||0,totalHeight:a,totalWidth:s})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.height,o=n.scrollToAlignment,i=n.scrollToCell,a=n.width,s=this.state,l=s.scrollLeft,c=s.scrollPositionChangeReason,u=s.scrollTop;c===$o&&(l>=0&&l!==t.scrollLeft&&l!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=l),u>=0&&u!==t.scrollTop&&u!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=u)),r===e.height&&o===e.scrollToAlignment&&i===e.scrollToCell&&a===e.width||this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,t=e.autoHeight,n=e.cellCount,r=e.cellLayoutManager,i=e.className,a=e.height,s=e.horizontalOverscanSize,l=e.id,c=e.noContentRenderer,u=e.style,d=e.verticalOverscanSize,h=e.width,p=this.state,f=p.isScrolling,m=p.scrollLeft,g=p.scrollTop;(this._lastRenderedCellCount!==n||this._lastRenderedCellLayoutManager!==r||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=n,this._lastRenderedCellLayoutManager=r,this._calculateSizeAndPositionDataOnNextUpdate=!1,r.calculateSizeAndPositionData());var v=r.getTotalSize(),y=v.height,b=v.width,_=Math.max(0,m-s),w=Math.max(0,g-d),C=Math.min(b,m+h+s),S=Math.min(y,g+a+d),E=a>0&&h>0?r.cellRenderers({height:S-w,isScrolling:f,width:C-_,x:_,y:w}):[],x={boxSizing:"border-box",direction:"ltr",height:t?"auto":a,position:"relative",WebkitOverflowScrolling:"touch",width:h,willChange:"transform"},k=y>a?this._scrollbarSize:0,O=b>h?this._scrollbarSize:0;return x.overflowX=b+k<=h?"hidden":"auto",x.overflowY=y+O<=a?"hidden":"auto",o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:ho("ReactVirtualized__Collection",i),id:l,onScroll:this._onScroll,role:"grid",style:co()({},x,u),tabIndex:0},n>0&&o.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:y,maxHeight:y,maxWidth:b,overflow:"hidden",pointerEvents:f?"none":"",width:b}},E),0===n&&c())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout((function(){(0,e.props.isScrollingChange)(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})}),150)}},{key:"_invokeOnScrollMemoizer",value:function(e){var t=this,n=e.scrollLeft,r=e.scrollTop,o=e.totalHeight,i=e.totalWidth;this._onScrollMemoizer({callback:function(e){var n=e.scrollLeft,r=e.scrollTop,a=t.props,s=a.height;(0,a.onScroll)({clientHeight:s,clientWidth:a.width,scrollHeight:o,scrollLeft:n,scrollTop:r,scrollWidth:i})},indices:{scrollLeft:n,scrollTop:r}})}},{key:"_setScrollPosition",value:function(e){var t=e.scrollLeft,n=e.scrollTop,r={scrollPositionChangeReason:$o};t>=0&&(r.scrollLeft=t),n>=0&&(r.scrollTop=n),(t>=0&&t!==this.state.scrollLeft||n>=0&&n!==this.state.scrollTop)&&this.setState(r)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 0!==e.cellCount||0===t.scrollLeft&&0===t.scrollTop?e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop?e.scrollTop:t.scrollTop}:null:{scrollLeft:0,scrollTop:0}}}]),t}(o.PureComponent);Ko.defaultProps={"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0},Ko.propTypes={},Object(Fr.a)(Ko);var Xo=Ko,Qo=function(){function e(t){var n=t.height,r=t.width,o=t.x,i=t.y;Jr()(this,e),this.height=n,this.width=r,this.x=o,this.y=i,this._indexMap={},this._indices=[]}return to()(e,[{key:"addCellIndex",value:function(e){var t=e.index;this._indexMap[t]||(this._indexMap[t]=!0,this._indices.push(t))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return this.x+","+this.y+" "+this.width+"x"+this.height}}]),e}(),Jo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;Jr()(this,e),this._sectionSize=t,this._cellMetadata=[],this._sections={}}return to()(e,[{key:"getCellIndices",value:function(e){var t=e.height,n=e.width,r=e.x,o=e.y,i={};return this.getSections({height:t,width:n,x:r,y:o}).forEach((function(e){return e.getCellIndices().forEach((function(e){i[e]=e}))})),_o()(i).map((function(e){return i[e]}))}},{key:"getCellMetadata",value:function(e){var t=e.index;return this._cellMetadata[t]}},{key:"getSections",value:function(e){for(var t=e.height,n=e.width,r=e.x,o=e.y,i=Math.floor(r/this._sectionSize),a=Math.floor((r+n-1)/this._sectionSize),s=Math.floor(o/this._sectionSize),l=Math.floor((o+t-1)/this._sectionSize),c=[],u=i;u<=a;u++)for(var d=s;d<=l;d++){var h=u+"."+d;this._sections[h]||(this._sections[h]=new Qo({height:this._sectionSize,width:this._sectionSize,x:u*this._sectionSize,y:d*this._sectionSize})),c.push(this._sections[h])}return c}},{key:"getTotalSectionCount",value:function(){return _o()(this._sections).length}},{key:"toString",value:function(){var e=this;return _o()(this._sections).map((function(t){return e._sections[t].toString()}))}},{key:"registerCell",value:function(e){var t=e.cellMetadatum,n=e.index;this._cellMetadata[n]=t,this.getSections(t).forEach((function(e){return e.addCellIndex({index:n})}))}}]),e}();function ei(e){var t=e.align,n=void 0===t?"auto":t,r=e.cellOffset,o=e.cellSize,i=e.containerSize,a=e.currentOffset,s=r,l=s-i+o;switch(n){case"start":return s;case"end":return l;case"center":return s-(i-o)/2;default:return Math.max(l,Math.min(s,a))}}var ti=function(e){function t(e,n){Jr()(this,t);var r=ro()(this,(t.__proto__||Xr()(t)).call(this,e,n));return r._cellMetadata=[],r._lastRenderedCellIndices=[],r._cellCache=[],r._isScrollingChange=r._isScrollingChange.bind(r),r._setCollectionViewRef=r._setCollectionViewRef.bind(r),r}return io()(t,e),to()(t,[{key:"forceUpdate",value:function(){void 0!==this._collectionView&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=mo()(this.props,[]);return o.createElement(Xo,co()({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,t=function(e){for(var t=e.cellCount,n=e.cellSizeAndPositionGetter,r=e.sectionSize,o=[],i=new Jo(r),a=0,s=0,l=0;l<t;l++){var c=n({index:l});if(null==c.height||isNaN(c.height)||null==c.width||isNaN(c.width)||null==c.x||isNaN(c.x)||null==c.y||isNaN(c.y))throw Error("Invalid metadata returned for cell "+l+":\n        x:"+c.x+", y:"+c.y+", width:"+c.width+", height:"+c.height);a=Math.max(a,c.y+c.height),s=Math.max(s,c.x+c.width),o[l]=c,i.registerCell({cellMetadatum:c,index:l})}return{cellMetadata:o,height:a,sectionManager:i,width:s}}({cellCount:e.cellCount,cellSizeAndPositionGetter:e.cellSizeAndPositionGetter,sectionSize:e.sectionSize});this._cellMetadata=t.cellMetadata,this._sectionManager=t.sectionManager,this._height=t.height,this._width=t.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var t=e.align,n=e.cellIndex,r=e.height,o=e.scrollLeft,i=e.scrollTop,a=e.width,s=this.props.cellCount;if(n>=0&&n<s){var l=this._cellMetadata[n];o=ei({align:t,cellOffset:l.x,cellSize:l.width,containerSize:a,currentOffset:o,targetIndex:n}),i=ei({align:t,cellOffset:l.y,cellSize:l.height,containerSize:r,currentOffset:i,targetIndex:n})}return{scrollLeft:o,scrollTop:i}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var t=this,n=e.height,r=e.isScrolling,o=e.width,i=e.x,a=e.y,s=this.props,l=s.cellGroupRenderer,c=s.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:n,width:o,x:i,y:a}),l({cellCache:this._cellCache,cellRenderer:c,cellSizeAndPositionGetter:function(e){var n=e.index;return t._sectionManager.getCellMetadata({index:n})},indices:this._lastRenderedCellIndices,isScrolling:r})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}]),t}(o.PureComponent);ti.defaultProps={"aria-label":"grid",cellGroupRenderer:function(e){var t=e.cellCache,n=e.cellRenderer,r=e.cellSizeAndPositionGetter,o=e.indices,i=e.isScrolling;return o.map((function(e){var o=r({index:e}),a={index:e,isScrolling:i,key:e,style:{height:o.height,left:o.x,position:"absolute",top:o.y,width:o.width}};return i?(e in t||(t[e]=n(a)),t[e]):n(a)})).filter((function(e){return!!e}))}};ti.propTypes={};var ni=function(e){function t(e,n){Jr()(this,t);var r=ro()(this,(t.__proto__||Xr()(t)).call(this,e,n));return r._registerChild=r._registerChild.bind(r),r}return io()(t,e),to()(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.columnMaxWidth,r=t.columnMinWidth,o=t.columnCount,i=t.width;n===e.columnMaxWidth&&r===e.columnMinWidth&&o===e.columnCount&&i===e.width||this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.columnMaxWidth,r=e.columnMinWidth,o=e.columnCount,i=e.width,a=r||1,s=n?Math.min(n,i):i,l=i/o;return l=Math.max(a,l),l=Math.min(s,l),l=Math.floor(l),t({adjustedWidth:Math.min(i,l*o),columnWidth:l,getColumnWidth:function(){return l},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&"function"!=typeof e.recomputeGridSize)throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}]),t}(o.PureComponent);ni.propTypes={};var ri=n(127),oi=n.n(ri),ii=function(e){function t(e,n){Jr()(this,t);var r=ro()(this,(t.__proto__||Xr()(t)).call(this,e,n));return r._loadMoreRowsMemoizer=wo(),r._onRowsRendered=r._onRowsRendered.bind(r),r._registerChild=r._registerChild.bind(r),r}return io()(t,e),to()(t,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=wo(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){return(0,this.props.children)({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var t=this,n=this.props.loadMoreRows;e.forEach((function(e){var r=n(e);r&&r.then((function(){var n,r,o,i,a;n={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:e.startIndex,stopIndex:e.stopIndex},r=n.lastRenderedStartIndex,o=n.lastRenderedStopIndex,i=n.startIndex,a=n.stopIndex,i>o||a<r||t._registeredChild&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n="function"==typeof e.recomputeGridSize?e.recomputeGridSize:e.recomputeRowHeights;n?n.call(e,t):e.forceUpdate()}(t._registeredChild,t._lastRenderedStartIndex)}))}))}},{key:"_onRowsRendered",value:function(e){var t=e.startIndex,n=e.stopIndex;this._lastRenderedStartIndex=t,this._lastRenderedStopIndex=n,this._doStuff(t,n)}},{key:"_doStuff",value:function(e,t){var n,r=this,o=this.props,i=o.isRowLoaded,a=o.minimumBatchSize,s=o.rowCount,l=o.threshold,c=function(e){for(var t=e.isRowLoaded,n=e.minimumBatchSize,r=e.rowCount,o=e.startIndex,i=e.stopIndex,a=[],s=null,l=null,c=o;c<=i;c++){t({index:c})?null!==l&&(a.push({startIndex:s,stopIndex:l}),s=l=null):(l=c,null===s&&(s=c))}if(null!==l){for(var u=Math.min(Math.max(l,s+n-1),r-1),d=l+1;d<=u&&!t({index:d});d++)l=d;a.push({startIndex:s,stopIndex:l})}if(a.length)for(var h=a[0];h.stopIndex-h.startIndex+1<n&&h.startIndex>0;){var p=h.startIndex-1;if(t({index:p}))break;h.startIndex=p}return a}({isRowLoaded:i,minimumBatchSize:a,rowCount:s,startIndex:Math.max(0,e-l),stopIndex:Math.min(s-1,t+l)}),u=(n=[]).concat.apply(n,oi()(c.map((function(e){return[e.startIndex,e.stopIndex]}))));this._loadMoreRowsMemoizer({callback:function(){r._loadUnloadedRanges(c)},indices:{squashedUnloadedRanges:u}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}]),t}(o.PureComponent);ii.defaultProps={minimumBatchSize:10,rowCount:0,threshold:15};var ai=ii;ii.propTypes={};var si=n(371),li=n.n(si),ci=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r._cellRenderer=function(e){var t=e.parent,n=e.rowIndex,o=e.style,i=e.isScrolling,a=e.isVisible,s=e.key,l=r.props.rowRenderer;return li()(o,"width").writable&&(o.width="100%"),l({index:n,style:o,isScrolling:i,isVisible:a,key:s,parent:t})},r._setRef=function(e){r.Grid=e},r._onScroll=function(e){var t=e.clientHeight,n=e.scrollHeight,o=e.scrollTop;(0,r.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:o})},r._onSectionRendered=function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,o=e.rowStartIndex,i=e.rowStopIndex;(0,r.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:o,stopIndex:i})},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n,columnIndex:0}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noRowsRenderer,r=e.scrollToIndex,i=e.width,a=ho("ReactVirtualized__List",t);return o.createElement(zo,co()({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:a,columnWidth:i,columnCount:1,noContentRenderer:n,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:r}))}}]),t}(o.PureComponent);ci.defaultProps={autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Fo,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}},ci.propTypes=null;var ui=ci,di=n(25),hi=n.n(di),pi=n(495),fi=n.n(pi);var mi={ge:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>=0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>=r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},gt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=n+1;t<=n;){var a=t+n>>>1;o(e[a],r)>0?(i=a,n=a-1):t=a+1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=n+1;t<=n;){var i=t+n>>>1;e[i]>r?(o=i,n=i-1):t=i+1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},lt:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},le:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(var i=t-1;t<=n;){var a=t+n>>>1;o(e[a],r)<=0?(i=a,t=a+1):n=a-1}return i}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(var o=t-1;t<=n;){var i=t+n>>>1;e[i]<=r?(o=i,t=i+1):n=i-1}return o}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)},eq:function(e,t,n,r,o){return"function"==typeof n?function(e,t,n,r,o){for(;t<=n;){var i=t+n>>>1,a=o(e[i],r);if(0===a)return i;a<=0?t=i+1:n=i-1}return-1}(e,void 0===r?0:0|r,void 0===o?e.length-1:0|o,t,n):function(e,t,n,r){for(;t<=n;){var o=t+n>>>1,i=e[o];if(i===r)return o;i<=r?t=o+1:n=o-1}return-1}(e,void 0===n?0:0|n,void 0===r?e.length-1:0|r,t)}};function gi(e,t,n,r,o){this.mid=e,this.left=t,this.right=n,this.leftPoints=r,this.rightPoints=o,this.count=(t?t.count:0)+(n?n.count:0)+r.length}var vi=gi.prototype;function yi(e,t){e.mid=t.mid,e.left=t.left,e.right=t.right,e.leftPoints=t.leftPoints,e.rightPoints=t.rightPoints,e.count=t.count}function bi(e,t){var n=Ti(t);e.mid=n.mid,e.left=n.left,e.right=n.right,e.leftPoints=n.leftPoints,e.rightPoints=n.rightPoints,e.count=n.count}function _i(e,t){var n=e.intervals([]);n.push(t),bi(e,n)}function wi(e,t){var n=e.intervals([]),r=n.indexOf(t);return r<0?0:(n.splice(r,1),bi(e,n),1)}function Ci(e,t,n){for(var r=0;r<e.length&&e[r][0]<=t;++r){var o=n(e[r]);if(o)return o}}function Si(e,t,n){for(var r=e.length-1;r>=0&&e[r][1]>=t;--r){var o=n(e[r]);if(o)return o}}function Ei(e,t){for(var n=0;n<e.length;++n){var r=t(e[n]);if(r)return r}}function xi(e,t){return e-t}function ki(e,t){var n=e[0]-t[0];return n||e[1]-t[1]}function Oi(e,t){var n=e[1]-t[1];return n||e[0]-t[0]}function Ti(e){if(0===e.length)return null;for(var t=[],n=0;n<e.length;++n)t.push(e[n][0],e[n][1]);t.sort(xi);var r=t[t.length>>1],o=[],i=[],a=[];for(n=0;n<e.length;++n){var s=e[n];s[1]<r?o.push(s):r<s[0]?i.push(s):a.push(s)}var l=a,c=a.slice();return l.sort(ki),c.sort(Oi),new gi(r,Ti(o),Ti(i),l,c)}function Mi(e){this.root=e}vi.intervals=function(e){return e.push.apply(e,this.leftPoints),this.left&&this.left.intervals(e),this.right&&this.right.intervals(e),e},vi.insert=function(e){var t=this.count-this.leftPoints.length;if(this.count+=1,e[1]<this.mid)this.left?4*(this.left.count+1)>3*(t+1)?_i(this,e):this.left.insert(e):this.left=Ti([e]);else if(e[0]>this.mid)this.right?4*(this.right.count+1)>3*(t+1)?_i(this,e):this.right.insert(e):this.right=Ti([e]);else{var n=mi.ge(this.leftPoints,e,ki),r=mi.ge(this.rightPoints,e,Oi);this.leftPoints.splice(n,0,e),this.rightPoints.splice(r,0,e)}},vi.remove=function(e){var t=this.count-this.leftPoints;if(e[1]<this.mid)return this.left?4*(this.right?this.right.count:0)>3*(t-1)?wi(this,e):2===(i=this.left.remove(e))?(this.left=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(e[0]>this.mid)return this.right?4*(this.left?this.left.count:0)>3*(t-1)?wi(this,e):2===(i=this.right.remove(e))?(this.right=null,this.count-=1,1):(1===i&&(this.count-=1),i):0;if(1===this.count)return this.leftPoints[0]===e?2:0;if(1===this.leftPoints.length&&this.leftPoints[0]===e){if(this.left&&this.right){for(var n=this,r=this.left;r.right;)n=r,r=r.right;if(n===this)r.right=this.right;else{var o=this.left,i=this.right;n.count-=r.count,n.right=r.left,r.left=o,r.right=i}yi(this,r),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?yi(this,this.left):yi(this,this.right);return 1}for(o=mi.ge(this.leftPoints,e,ki);o<this.leftPoints.length&&this.leftPoints[o][0]===e[0];++o)if(this.leftPoints[o]===e){this.count-=1,this.leftPoints.splice(o,1);for(i=mi.ge(this.rightPoints,e,Oi);i<this.rightPoints.length&&this.rightPoints[i][1]===e[1];++i)if(this.rightPoints[i]===e)return this.rightPoints.splice(i,1),1}return 0},vi.queryPoint=function(e,t){if(e<this.mid){if(this.left)if(n=this.left.queryPoint(e,t))return n;return Ci(this.leftPoints,e,t)}if(e>this.mid){var n;if(this.right)if(n=this.right.queryPoint(e,t))return n;return Si(this.rightPoints,e,t)}return Ei(this.leftPoints,t)},vi.queryInterval=function(e,t,n){var r;if(e<this.mid&&this.left&&(r=this.left.queryInterval(e,t,n)))return r;if(t>this.mid&&this.right&&(r=this.right.queryInterval(e,t,n)))return r;return t<this.mid?Ci(this.leftPoints,t,n):e>this.mid?Si(this.rightPoints,e,n):Ei(this.leftPoints,n)};var Pi=Mi.prototype;Pi.insert=function(e){this.root?this.root.insert(e):this.root=new gi(e[0],null,null,[e],[e])},Pi.remove=function(e){if(this.root){var t=this.root.remove(e);return 2===t&&(this.root=null),0!==t}return!1},Pi.queryPoint=function(e,t){if(this.root)return this.root.queryPoint(e,t)},Pi.queryInterval=function(e,t,n){if(e<=t&&this.root)return this.root.queryInterval(e,t,n)},Object.defineProperty(Pi,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(Pi,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});var Li=function(){function e(){var t;Jr()(this,e),this._columnSizeMap={},this._intervalTree=t&&0!==t.length?new Mi(Ti(t)):new Mi(null),this._leftMap={}}return to()(e,[{key:"estimateTotalHeight",value:function(e,t,n){var r=e-this.count;return this.tallestColumnSize+Math.ceil(r/t)*n}},{key:"range",value:function(e,t,n){var r=this;this._intervalTree.queryInterval(e,e+t,(function(e){var t=fi()(e,3),o=t[0],i=(t[1],t[2]);return n(i,r._leftMap[i],o)}))}},{key:"setPosition",value:function(e,t,n,r){this._intervalTree.insert([n,n+r,e]),this._leftMap[e]=t;var o=this._columnSizeMap,i=o[t];o[t]=void 0===i?n+r:Math.max(i,n+r)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=0===t?r:Math.min(t,r)}return t}},{key:"tallestColumnSize",get:function(){var e=this._columnSizeMap,t=0;for(var n in e){var r=e[n];t=Math.max(t,r)}return t}}]),e}(),Ni=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r.state={isScrolling:!1,scrollTop:0},r._invalidateOnUpdateStartIndex=null,r._invalidateOnUpdateStopIndex=null,r._positionCache=new Li,r._startIndex=null,r._startIndexMemoized=null,r._stopIndex=null,r._stopIndexMemoized=null,r._debounceResetIsScrollingCallback=function(){r.setState({isScrolling:!1})},r._setScrollingContainerRef=function(e){r._scrollingContainer=e},r._onScroll=function(e){var t=r.props.height,n=e.currentTarget.scrollTop,o=Math.min(Math.max(0,r._getEstimatedTotalHeight()-t),n);n===o&&(r._debounceResetIsScrolling(),r.state.scrollTop!==o&&r.setState({isScrolling:!0,scrollTop:o}))},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"clearCellPositions",value:function(){this._positionCache=new Li,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.rowIndex;null===this._invalidateOnUpdateStartIndex?(this._invalidateOnUpdateStartIndex=t,this._invalidateOnUpdateStopIndex=t):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,t),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,t))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Li,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,t){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Ao(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,t=this.props,n=t.autoHeight,r=t.cellCount,i=t.cellMeasurerCache,a=t.cellRenderer,s=t.className,l=t.height,c=t.id,u=t.keyMapper,d=t.overscanByPixels,h=t.role,p=t.style,f=t.tabIndex,m=t.width,g=t.rowDirection,v=this.state,y=v.isScrolling,b=v.scrollTop,_=[],w=this._getEstimatedTotalHeight(),C=this._positionCache.shortestColumnSize,S=this._positionCache.count,E=0,x=void 0;if(this._positionCache.range(Math.max(0,b-d),l+2*d,(function(t,n,r){var o;void 0===x?(E=t,x=t):(E=Math.min(E,t),x=Math.max(x,t)),_.push(a({index:t,isScrolling:y,key:u(t),parent:e,style:(o={height:i.getHeight(t)},hi()(o,"ltr"===g?"left":"right",n),hi()(o,"position","absolute"),hi()(o,"top",r),hi()(o,"width",i.getWidth(t)),o)}))})),C<b+l+d&&S<r)for(var k=Math.min(r-S,Math.ceil((b+l+d-C)/i.defaultHeight*m/i.defaultWidth)),O=S;O<S+k;O++)x=O,_.push(a({index:O,isScrolling:y,key:u(O),parent:this,style:{width:i.getWidth(O)}}));return this._startIndex=E,this._stopIndex=x,o.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:ho("ReactVirtualized__Masonry",s),id:c,onScroll:this._onScroll,role:h,style:co()({boxSizing:"border-box",direction:"ltr",height:n?"auto":l,overflowX:"hidden",overflowY:w<l?"hidden":"auto",position:"relative",width:m,WebkitOverflowScrolling:"touch",willChange:"transform"},p),tabIndex:f},o.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:w,maxWidth:"100%",maxHeight:w,overflow:"hidden",pointerEvents:y?"none":"",position:"relative"}},_))}},{key:"_checkInvalidateOnUpdate",value:function(){if("number"==typeof this._invalidateOnUpdateStartIndex){var e=this._invalidateOnUpdateStartIndex,t=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,t),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Ao(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=Io(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,t=e.cellCount,n=e.cellMeasurerCache,r=e.width,o=Math.max(1,Math.floor(r/n.defaultWidth));return this._positionCache.estimateTotalHeight(t,o,n.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,t=e.height,n=e.onScroll,r=this.state.scrollTop;this._onScrollMemoized!==r&&(n({clientHeight:t,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:r}),this._onScrollMemoized=r)}},{key:"_invokeOnCellsRenderedCallback",value:function(){this._startIndexMemoized===this._startIndex&&this._stopIndexMemoized===this._stopIndex||((0,this.props.onCellsRendered)({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex)}},{key:"_populatePositionCache",value:function(e,t){for(var n=this.props,r=n.cellMeasurerCache,o=n.cellPositioner,i=e;i<=t;i++){var a=o(i),s=a.left,l=a.top;this._positionCache.setPosition(i,s,l,r.getHeight(i))}}}],[{key:"getDerivedStateFromProps",value:function(e,t){return void 0!==e.scrollTop&&t.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}]),t}(o.PureComponent);function Ai(){}Ni.defaultProps={autoHeight:!1,keyMapper:function(e){return e},onCellsRendered:Ai,onScroll:Ai,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:150,style:{},tabIndex:0,rowDirection:"ltr"},Ni.propTypes=null;Object(Fr.a)(Ni);var Ii=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Jr()(this,e),this.columnWidth=function(e){var n=e.index;t._cellMeasurerCache.columnWidth({index:n+t._columnIndexOffset})},this.rowHeight=function(e){var n=e.index;t._cellMeasurerCache.rowHeight({index:n+t._rowIndexOffset})};var r=n.cellMeasurerCache,o=n.columnIndexOffset,i=void 0===o?0:o,a=n.rowIndexOffset,s=void 0===a?0:a;this._cellMeasurerCache=r,this._columnIndexOffset=i,this._rowIndexOffset=s}return to()(e,[{key:"clear",value:function(e,t){this._cellMeasurerCache.clear(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getHeight(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"getWidth",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.getWidth(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"has",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._cellMeasurerCache.has(e+this._rowIndexOffset,t+this._columnIndexOffset)}},{key:"set",value:function(e,t,n,r){this._cellMeasurerCache.set(e+this._rowIndexOffset,t+this._columnIndexOffset,n,r)}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}}]),e}(),Ri=function(e){function t(e,n){Jr()(this,t);var r=ro()(this,(t.__proto__||Xr()(t)).call(this,e,n));Di.call(r);var o=e.deferredMeasurementCache,i=e.fixedColumnCount,a=e.fixedRowCount;return r._maybeCalculateCachedStyles(!0),o&&(r._deferredMeasurementCacheBottomLeftGrid=a>0?new Ii({cellMeasurerCache:o,columnIndexOffset:0,rowIndexOffset:a}):o,r._deferredMeasurementCacheBottomRightGrid=i>0||a>0?new Ii({cellMeasurerCache:o,columnIndexOffset:i,rowIndexOffset:a}):o,r._deferredMeasurementCacheTopRightGrid=i>0?new Ii({cellMeasurerCache:o,columnIndexOffset:i,rowIndexOffset:0}):o),r}return io()(t,e),to()(t,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this._deferredInvalidateColumnIndex="number"==typeof this._deferredInvalidateColumnIndex?Math.min(this._deferredInvalidateColumnIndex,n):n,this._deferredInvalidateRowIndex="number"==typeof this._deferredInvalidateRowIndex?Math.min(this._deferredInvalidateRowIndex,o):o}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r,i=this.props,a=i.fixedColumnCount,s=i.fixedRowCount,l=Math.max(0,n-a),c=Math.max(0,o-s);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:c}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:l,rowIndex:c}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:n,rowIndex:o}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:l,rowIndex:o}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.scrollLeft,n=e.scrollTop;if(t>0||n>0){var r={};t>0&&(r.scrollLeft=t),n>0&&(r.scrollTop=n),this.setState(r)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,t=e.onScroll,n=e.onSectionRendered,r=(e.onScrollbarPresenceChange,e.scrollLeft,e.scrollToColumn),i=(e.scrollTop,e.scrollToRow),a=mo()(e,["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"]);if(this._prepareForRender(),0===this.props.width||0===this.props.height)return null;var s=this.state,l=s.scrollLeft,c=s.scrollTop;return o.createElement("div",{style:this._containerOuterStyle},o.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(a),this._renderTopRightGrid(co()({},a,{onScroll:t,scrollLeft:l}))),o.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(co()({},a,{onScroll:t,scrollTop:c})),this._renderBottomRightGrid(co()({},a,{onScroll:t,onSectionRendered:n,scrollLeft:l,scrollToColumn:r,scrollToRow:i,scrollTop:c}))))}},{key:"_getBottomGridHeight",value:function(e){return e.height-this._getTopGridHeight(e)}},{key:"_getLeftGridWidth",value:function(e){var t=e.fixedColumnCount,n=e.columnWidth;if(null==this._leftGridWidth)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._leftGridWidth=r}else this._leftGridWidth=n*t;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){return e.width-this._getLeftGridWidth(e)}},{key:"_getTopGridHeight",value:function(e){var t=e.fixedRowCount,n=e.rowHeight;if(null==this._topGridHeight)if("function"==typeof n){for(var r=0,o=0;o<t;o++)r+=n({index:o});this._topGridHeight=r}else this._topGridHeight=n*t;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if("number"==typeof this._deferredInvalidateColumnIndex){var e=this._deferredInvalidateColumnIndex,t=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:t}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var t=this.props,n=t.columnWidth,r=t.enableFixedColumnScroll,o=t.enableFixedRowScroll,i=t.height,a=t.fixedColumnCount,s=t.fixedRowCount,l=t.rowHeight,c=t.style,u=t.styleBottomLeftGrid,d=t.styleBottomRightGrid,h=t.styleTopLeftGrid,p=t.styleTopRightGrid,f=t.width,m=e||i!==this._lastRenderedHeight||f!==this._lastRenderedWidth,g=e||n!==this._lastRenderedColumnWidth||a!==this._lastRenderedFixedColumnCount,v=e||s!==this._lastRenderedFixedRowCount||l!==this._lastRenderedRowHeight;(e||m||c!==this._lastRenderedStyle)&&(this._containerOuterStyle=co()({height:i,overflow:"visible",width:f},c)),(e||m||v)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:f},this._containerBottomStyle={height:i-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:f}),(e||u!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=co()({left:0,overflowX:"hidden",overflowY:r?"auto":"hidden",position:"absolute"},u)),(e||g||d!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=co()({left:this._getLeftGridWidth(this.props),position:"absolute"},d)),(e||h!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=co()({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},h)),(e||g||p!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=co()({left:this._getLeftGridWidth(this.props),overflowX:o?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},p)),this._lastRenderedColumnWidth=n,this._lastRenderedFixedColumnCount=a,this._lastRenderedFixedRowCount=s,this._lastRenderedHeight=i,this._lastRenderedRowHeight=l,this._lastRenderedStyle=c,this._lastRenderedStyleBottomLeftGrid=u,this._lastRenderedStyleBottomRightGrid=d,this._lastRenderedStyleTopLeftGrid=h,this._lastRenderedStyleTopRightGrid=p,this._lastRenderedWidth=f}},{key:"_prepareForRender",value:function(){this._lastRenderedColumnWidth===this.props.columnWidth&&this._lastRenderedFixedColumnCount===this.props.fixedColumnCount||(this._leftGridWidth=null),this._lastRenderedFixedRowCount===this.props.fixedRowCount&&this._lastRenderedRowHeight===this.props.rowHeight||(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var t=e.enableFixedColumnScroll,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,a=e.hideBottomLeftGridScrollbar,s=this.state.showVerticalScrollbar;if(!n)return null;var l=s?1:0,c=this._getBottomGridHeight(e),u=this._getLeftGridWidth(e),d=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,h=a?u+d:u,p=o.createElement(zo,co()({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:n,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:c,onScroll:t?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,i-r)+l,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:h}));return a?o.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:co()({},this._bottomLeftGridStyle,{height:c,width:u,overflowY:"hidden"})},p):p}},{key:"_renderBottomRightGrid",value:function(e){var t=e.columnCount,n=e.fixedColumnCount,r=e.fixedRowCount,i=e.rowCount,a=e.scrollToColumn,s=e.scrollToRow;return o.createElement(zo,co()({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,t-n),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,i-r),rowHeight:this._rowHeightBottomGrid,scrollToColumn:a-n,scrollToRow:s-r,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var t=e.fixedColumnCount,n=e.fixedRowCount;return t&&n?o.createElement(zo,co()({},e,{className:this.props.classNameTopLeftGrid,columnCount:t,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:n,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)})):null}},{key:"_renderTopRightGrid",value:function(e){var t=e.columnCount,n=e.enableFixedRowScroll,r=e.fixedColumnCount,i=e.fixedRowCount,a=e.scrollLeft,s=e.hideTopRightGridScrollbar,l=this.state,c=l.showHorizontalScrollbar,u=l.scrollbarSize;if(!i)return null;var d=c?1:0,h=this._getTopGridHeight(e),p=this._getRightGridWidth(e),f=c?u:0,m=h,g=this._topRightGridStyle;s&&(m=h+f,g=co()({},this._topRightGridStyle,{left:0}));var v=o.createElement(zo,co()({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,t-r)+d,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:m,onScroll:n?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:i,scrollLeft:a,style:g,tabIndex:null,width:p}));return s?o.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:co()({},this._topRightGridStyle,{height:h,width:p,overflowX:"hidden"})},v):v}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.scrollLeft!==t.scrollLeft||e.scrollTop!==t.scrollTop?{scrollLeft:null!=e.scrollLeft&&e.scrollLeft>=0?e.scrollLeft:t.scrollLeft,scrollTop:null!=e.scrollTop&&e.scrollTop>=0?e.scrollTop:t.scrollTop}:null}}]),t}(o.PureComponent);Ri.defaultProps={classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1};var Di=function(){var e=this;this.state={scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1},this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this._bottomLeftGridRef=function(t){e._bottomLeftGrid=t},this._bottomRightGridRef=function(t){e._bottomRightGrid=t},this._cellRendererBottomLeftGrid=function(t){var n=t.rowIndex,r=mo()(t,["rowIndex"]),i=e.props,a=i.cellRenderer,s=i.fixedRowCount;return n===i.rowCount-s?o.createElement("div",{key:r.key,style:co()({},r.style,{height:20})}):a(co()({},r,{parent:e,rowIndex:n+s}))},this._cellRendererBottomRightGrid=function(t){var n=t.columnIndex,r=t.rowIndex,o=mo()(t,["columnIndex","rowIndex"]),i=e.props,a=i.cellRenderer,s=i.fixedColumnCount,l=i.fixedRowCount;return a(co()({},o,{columnIndex:n+s,parent:e,rowIndex:r+l}))},this._cellRendererTopRightGrid=function(t){var n=t.columnIndex,r=mo()(t,["columnIndex"]),i=e.props,a=i.cellRenderer,s=i.columnCount,l=i.fixedColumnCount;return n===s-l?o.createElement("div",{key:r.key,style:co()({},r.style,{width:20})}):a(co()({},r,{columnIndex:n+l,parent:e}))},this._columnWidthRightGrid=function(t){var n=t.index,r=e.props,o=r.columnCount,i=r.fixedColumnCount,a=r.columnWidth,s=e.state,l=s.scrollbarSize;return s.showHorizontalScrollbar&&n===o-i?l:"function"==typeof a?a({index:n+i}):a},this._onScroll=function(t){var n=t.scrollLeft,r=t.scrollTop;e.setState({scrollLeft:n,scrollTop:r});var o=e.props.onScroll;o&&o(t)},this._onScrollbarPresenceChange=function(t){var n=t.horizontal,r=t.size,o=t.vertical,i=e.state,a=i.showHorizontalScrollbar,s=i.showVerticalScrollbar;if(n!==a||o!==s){e.setState({scrollbarSize:r,showHorizontalScrollbar:n,showVerticalScrollbar:o});var l=e.props.onScrollbarPresenceChange;"function"==typeof l&&l({horizontal:n,size:r,vertical:o})}},this._onScrollLeft=function(t){var n=t.scrollLeft;e._onScroll({scrollLeft:n,scrollTop:e.state.scrollTop})},this._onScrollTop=function(t){var n=t.scrollTop;e._onScroll({scrollTop:n,scrollLeft:e.state.scrollLeft})},this._rowHeightBottomGrid=function(t){var n=t.index,r=e.props,o=r.fixedRowCount,i=r.rowCount,a=r.rowHeight,s=e.state,l=s.scrollbarSize;return s.showVerticalScrollbar&&n===i-o?l:"function"==typeof a?a({index:n+o}):a},this._topLeftGridRef=function(t){e._topLeftGrid=t},this._topRightGridRef=function(t){e._topRightGrid=t}};Ri.propTypes={},Object(Fr.a)(Ri);var ji=function(e){function t(e,n){Jr()(this,t);var r=ro()(this,(t.__proto__||Xr()(t)).call(this,e,n));return r.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},r._onScroll=r._onScroll.bind(r),r}return io()(t,e),to()(t,[{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.clientHeight,r=t.clientWidth,o=t.scrollHeight,i=t.scrollLeft,a=t.scrollTop,s=t.scrollWidth;return e({clientHeight:n,clientWidth:r,onScroll:this._onScroll,scrollHeight:o,scrollLeft:i,scrollTop:a,scrollWidth:s})}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.clientWidth,r=e.scrollHeight,o=e.scrollLeft,i=e.scrollTop,a=e.scrollWidth;this.setState({clientHeight:t,clientWidth:n,scrollHeight:r,scrollLeft:o,scrollTop:i,scrollWidth:a})}}]),t}(o.PureComponent);ji.propTypes={};function zi(e){var t=e.className,n=e.columns,r=e.style;return o.createElement("div",{className:t,role:"row",style:r},n)}zi.propTypes=null;var Fi={ASC:"ASC",DESC:"DESC"};function Bi(e){var t=e.sortDirection,n=ho("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":t===Fi.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":t===Fi.DESC});return o.createElement("svg",{className:n,width:18,height:18,viewBox:"0 0 24 24"},t===Fi.ASC?o.createElement("path",{d:"M7 14l5-5 5 5z"}):o.createElement("path",{d:"M7 10l5 5 5-5z"}),o.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}function Wi(e){var t=e.dataKey,n=e.label,r=e.sortBy,i=e.sortDirection,a=r===t,s=[o.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:"string"==typeof n?n:null},n)];return a&&s.push(o.createElement(Bi,{key:"SortIndicator",sortDirection:i})),s}function Hi(e){var t=e.className,n=e.columns,r=e.index,i=e.key,a=e.onRowClick,s=e.onRowDoubleClick,l=e.onRowMouseOut,c=e.onRowMouseOver,u=e.onRowRightClick,d=e.rowData,h=e.style,p={"aria-rowindex":r+1};return(a||s||l||c||u)&&(p["aria-label"]="row",p.tabIndex=0,a&&(p.onClick=function(e){return a({event:e,index:r,rowData:d})}),s&&(p.onDoubleClick=function(e){return s({event:e,index:r,rowData:d})}),l&&(p.onMouseOut=function(e){return l({event:e,index:r,rowData:d})}),c&&(p.onMouseOver=function(e){return c({event:e,index:r,rowData:d})}),u&&(p.onContextMenu=function(e){return u({event:e,index:r,rowData:d})})),o.createElement("div",co()({},p,{className:t,key:i,role:"row",style:h}),n)}Bi.propTypes={},Wi.propTypes=null,Hi.propTypes=null;var Ui=function(e){function t(){return Jr()(this,t),ro()(this,(t.__proto__||Xr()(t)).apply(this,arguments))}return io()(t,e),t}(o.Component);Ui.defaultProps={cellDataGetter:function(e){var t=e.dataKey,n=e.rowData;return"function"==typeof n.get?n.get(t):n[t]},cellRenderer:function(e){var t=e.cellData;return null==t?"":String(t)},defaultSortDirection:Fi.ASC,flexGrow:0,flexShrink:1,headerRenderer:Wi,style:{}};Ui.propTypes={};var Gi=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Xr()(t)).call(this,e));return n.state={scrollbarWidth:0},n._createColumn=n._createColumn.bind(n),n._createRow=n._createRow.bind(n),n._onScroll=n._onScroll.bind(n),n._onSectionRendered=n._onSectionRendered.bind(n),n._setRef=n._setRef.bind(n),n}return io()(t,e),to()(t,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var t=e.alignment,n=e.index;return this.Grid?this.Grid.getOffsetForCell({alignment:t,rowIndex:n}).scrollTop:0}},{key:"invalidateCellSizeAfterRender",value:function(e){var t=e.columnIndex,n=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:n,columnIndex:t})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.columnIndex,n=void 0===t?0:t,r=e.rowIndex,o=void 0===r?0:r;this.Grid&&this.Grid.recomputeGridSize({rowIndex:o,columnIndex:n})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.Grid){var e=Object(Go.findDOMNode)(this.Grid),t=e.clientWidth||0;return(e.offsetWidth||0)-t}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.className,i=t.disableHeader,a=t.gridClassName,s=t.gridStyle,l=t.headerHeight,c=t.headerRowRenderer,u=t.height,d=t.id,h=t.noRowsRenderer,p=t.rowClassName,f=t.rowStyle,m=t.scrollToIndex,g=t.style,v=t.width,y=this.state.scrollbarWidth,b=i?u:u-l,_="function"==typeof p?p({index:-1}):p,w="function"==typeof f?f({index:-1}):f;return this._cachedColumnStyles=[],o.Children.toArray(n).forEach((function(t,n){var r=e._getFlexStyleForColumn(t,t.props.style);e._cachedColumnStyles[n]=co()({overflow:"hidden"},r)})),o.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":o.Children.toArray(n).length,"aria-rowcount":this.props.rowCount,className:ho("ReactVirtualized__Table",r),id:d,role:"grid",style:g},!i&&c({className:ho("ReactVirtualized__Table__headerRow",_),columns:this._getHeaderColumns(),style:co()({height:l,overflow:"hidden",paddingRight:y,width:v},w)}),o.createElement(zo,co()({},this.props,{"aria-readonly":null,autoContainerWidth:!0,className:ho("ReactVirtualized__Table__Grid",a),cellRenderer:this._createRow,columnWidth:v,columnCount:1,height:b,id:void 0,noContentRenderer:h,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:y,scrollToRow:m,style:co()({},s,{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var t=e.column,n=e.columnIndex,r=e.isScrolling,i=e.parent,a=e.rowData,s=e.rowIndex,l=this.props.onColumnClick,c=t.props,u=c.cellDataGetter,d=c.cellRenderer,h=c.className,p=c.columnData,f=c.dataKey,m=c.id,g=d({cellData:u({columnData:p,dataKey:f,rowData:a}),columnData:p,columnIndex:n,dataKey:f,isScrolling:r,parent:i,rowData:a,rowIndex:s}),v=this._cachedColumnStyles[n],y="string"==typeof g?g:null;return o.createElement("div",{"aria-colindex":n+1,"aria-describedby":m,className:ho("ReactVirtualized__Table__rowColumn",h),key:"Row"+s+"-Col"+n,onClick:function(e){l&&l({columnData:p,dataKey:f,event:e})},role:"gridcell",style:v,title:y},g)}},{key:"_createHeader",value:function(e){var t=e.column,n=e.index,r=this.props,i=r.headerClassName,a=r.headerStyle,s=r.onHeaderClick,l=r.sort,c=r.sortBy,u=r.sortDirection,d=t.props,h=d.columnData,p=d.dataKey,f=d.defaultSortDirection,m=d.disableSort,g=d.headerRenderer,v=d.id,y=d.label,b=!m&&l,_=ho("ReactVirtualized__Table__headerColumn",i,t.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:b}),w=this._getFlexStyleForColumn(t,co()({},a,t.props.headerStyle)),C=g({columnData:h,dataKey:p,disableSort:m,label:y,sortBy:c,sortDirection:u}),S=void 0,E=void 0,x=void 0,k=void 0,O=void 0;if(b||s){var T=c!==p?f:u===Fi.DESC?Fi.ASC:Fi.DESC,M=function(e){b&&l({defaultSortDirection:f,event:e,sortBy:p,sortDirection:T}),s&&s({columnData:h,dataKey:p,event:e})};O=t.props["aria-label"]||y||p,k="none",x=0,S=M,E=function(e){"Enter"!==e.key&&" "!==e.key||M(e)}}return c===p&&(k=u===Fi.ASC?"ascending":"descending"),o.createElement("div",{"aria-label":O,"aria-sort":k,className:_,id:v,key:"Header-Col"+n,onClick:S,onKeyDown:E,role:"columnheader",style:w,tabIndex:x},C)}},{key:"_createRow",value:function(e){var t=this,n=e.rowIndex,r=e.isScrolling,i=e.key,a=e.parent,s=e.style,l=this.props,c=l.children,u=l.onRowClick,d=l.onRowDoubleClick,h=l.onRowRightClick,p=l.onRowMouseOver,f=l.onRowMouseOut,m=l.rowClassName,g=l.rowGetter,v=l.rowRenderer,y=l.rowStyle,b=this.state.scrollbarWidth,_="function"==typeof m?m({index:n}):m,w="function"==typeof y?y({index:n}):y,C=g({index:n}),S=o.Children.toArray(c).map((function(e,o){return t._createColumn({column:e,columnIndex:o,isScrolling:r,parent:a,rowData:C,rowIndex:n,scrollbarWidth:b})})),E=ho("ReactVirtualized__Table__row",_),x=co()({},s,{height:this._getRowHeight(n),overflow:"hidden",paddingRight:b},w);return v({className:E,columns:S,index:n,isScrolling:r,key:i,onRowClick:u,onRowDoubleClick:d,onRowRightClick:h,onRowMouseOver:p,onRowMouseOut:f,rowData:C,style:x})}},{key:"_getFlexStyleForColumn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props.flexGrow+" "+e.props.flexShrink+" "+e.props.width+"px",r=co()({},t,{flex:n,msFlex:n,WebkitFlex:n});return e.props.maxWidth&&(r.maxWidth=e.props.maxWidth),e.props.minWidth&&(r.minWidth=e.props.minWidth),r}},{key:"_getHeaderColumns",value:function(){var e=this,t=this.props,n=t.children;return(t.disableHeader?[]:o.Children.toArray(n)).map((function(t,n){return e._createHeader({column:t,index:n})}))}},{key:"_getRowHeight",value:function(e){var t=this.props.rowHeight;return"function"==typeof t?t({index:e}):t}},{key:"_onScroll",value:function(e){var t=e.clientHeight,n=e.scrollHeight,r=e.scrollTop;(0,this.props.onScroll)({clientHeight:t,scrollHeight:n,scrollTop:r})}},{key:"_onSectionRendered",value:function(e){var t=e.rowOverscanStartIndex,n=e.rowOverscanStopIndex,r=e.rowStartIndex,o=e.rowStopIndex;(0,this.props.onRowsRendered)({overscanStartIndex:t,overscanStopIndex:n,startIndex:r,stopIndex:o})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}]),t}(o.PureComponent);Gi.defaultProps={disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Fo,overscanRowCount:10,rowRenderer:Hi,headerRowRenderer:zi,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}};Gi.propTypes={};var Vi=[],Yi=null,qi=null;function Zi(){qi&&(qi=null,document.body&&null!=Yi&&(document.body.style.pointerEvents=Yi),Yi=null)}function $i(){Zi(),Vi.forEach((function(e){return e.__resetIsScrolling()}))}function Ki(e){e.currentTarget===window&&null==Yi&&document.body&&(Yi=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),function(){qi&&Ao(qi);var e=0;Vi.forEach((function(t){e=Math.max(e,t.props.scrollingResetTimeInterval)})),qi=Io($i,e)}(),Vi.forEach((function(t){t.props.scrollElement===e.currentTarget&&t.__handleWindowScrollEvent()}))}function Xi(e,t){Vi.some((function(e){return e.props.scrollElement===t}))||t.addEventListener("scroll",Ki),Vi.push(e)}function Qi(e,t){(Vi=Vi.filter((function(t){return t!==e}))).length||(t.removeEventListener("scroll",Ki),qi&&(Ao(qi),Zi()))}var Ji=function(e){return e===window},ea=function(e){return e.getBoundingClientRect()};function ta(e,t){if(e){if(Ji(e)){var n=window,r=n.innerHeight,o=n.innerWidth;return{height:"number"==typeof r?r:0,width:"number"==typeof o?o:0}}return ea(e)}return{height:t.serverHeight,width:t.serverWidth}}function na(e,t){if(Ji(t)&&document.documentElement){var n=document.documentElement,r=ea(e),o=ea(n);return{top:r.top-o.top,left:r.left-o.left}}var i=ra(t),a=ea(e),s=ea(t);return{top:a.top+i.top-s.top,left:a.left+i.left-s.left}}function ra(e){return Ji(e)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:e.scrollTop,left:e.scrollLeft}}var oa=function(){return"undefined"!=typeof window?window:void 0},ia=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Xr()(t)).call.apply(e,[this].concat(a))),r._window=oa(),r._isMounted=!1,r._positionFromTop=0,r._positionFromLeft=0,r.state=co()({},ta(r.props.scrollElement,r.props),{isScrolling:!1,scrollLeft:0,scrollTop:0}),r._registerChild=function(e){!e||e instanceof Element||console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=e,r.updatePosition()},r._onChildScroll=function(e){var t=e.scrollTop;if(r.state.scrollTop!==t){var n=r.props.scrollElement;n&&("function"==typeof n.scrollTo?n.scrollTo(0,t+r._positionFromTop):n.scrollTop=t+r._positionFromTop)}},r._registerResizeListener=function(e){e===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(e,r._onResize)},r._unregisterResizeListener=function(e){e===window?window.removeEventListener("resize",r._onResize,!1):e&&r._detectElementResize.removeResizeListener(e,r._onResize)},r._onResize=function(){r.updatePosition()},r.__handleWindowScrollEvent=function(){if(r._isMounted){var e=r.props.onScroll,t=r.props.scrollElement;if(t){var n=ra(t),o=Math.max(0,n.left-r._positionFromLeft),i=Math.max(0,n.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:o,scrollTop:i}),e({scrollLeft:o,scrollTop:i})}}},r.__resetIsScrolling=function(){r.setState({isScrolling:!1})},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.scrollElement,t=this.props.onResize,n=this.state,r=n.height,o=n.width,i=this._child||Go.findDOMNode(this);if(i instanceof Element&&e){var a=na(i,e);this._positionFromTop=a.top,this._positionFromLeft=a.left}var s=ta(e,this.props);r===s.height&&o===s.width||(this.setState({height:s.height,width:s.width}),t({height:s.height,width:s.width}))}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Object(Wo.a)(),this.updatePosition(e),e&&(Xi(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.scrollElement,r=e.scrollElement;r!==n&&null!=r&&null!=n&&(this.updatePosition(n),Qi(this,r),Xi(this,n),this._unregisterResizeListener(r),this._registerResizeListener(n))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Qi(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.isScrolling,r=t.scrollTop,o=t.scrollLeft,i=t.height,a=t.width;return e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:i,isScrolling:n,scrollLeft:o,scrollTop:r,width:a})}}]),t}(o.PureComponent);ia.defaultProps={onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:150,scrollElement:oa(),serverHeight:0,serverWidth:0},ia.propTypes=null;class aa extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={height:0,width:0},t}renderComponent(e,t){const{width:n,height:r}=this.state;return r&&n?i.a.createElement(e,{width:n,height:r,...t}):null}render(){const{children:e,component:t=e,minWidth:n,minHeight:r,...o}=this.props;return i.a.createElement(Uo,Vn()({},o,{onResize:$r()(({width:e,height:t})=>this.setState({width:Math.max(n,e),height:Math.max(r,t)}),64)}),()=>this.renderComponent(t,o))}}aa.displayName="AutoSizer",aa.propTypes={children:d.a.elementType,component:d.a.elementType,minHeight:d.a.number,minWidth:d.a.number},aa.defaultProps={minHeight:160,minWidth:240};n(1031);const sa=({entries:e,current:t,onTravel:n})=>i.a.createElement("ul",{className:"libmr-History"},e.map((e,r)=>i.a.createElement("li",{key:r,tabIndex:"0",onClick:()=>n(r),className:r===t?"is-selected":null},i.a.createElement("img",{src:e}))));sa.propTypes={current:d.a.number,entries:d.a.arrayOf(d.a.string).isRequired,onTravel:d.a.func.isRequired};var la=sa,ca=(n(1033),n(82)),ua=n(99),da=(n(1035),n(23)),ha=n.n(da),pa=d.a.oneOfType([d.a.arrayOf(d.a.number),d.a.shape({lat:d.a.number,lng:d.a.number}),d.a.shape({lat:d.a.number,lon:d.a.number})]),fa=d.a.arrayOf(pa),ma=d.a.oneOfType([d.a.instanceOf(da.LatLngBounds),fa]),ga=d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]),va=d.a.oneOf(["topleft","topright","bottomleft","bottomright"]),ya=d.a.object,ba=d.a.shape({addLayer:d.a.func.isRequired,removeLayer:d.a.func.isRequired}),_a=d.a.instanceOf(da.Map),wa=d.a.shape({center:pa,zoom:d.a.number});var Ca=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n};var Sa=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}();var Ea=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},xa=n(106),ka=n(77);var Oa=function(e){return Object(ka.a)(e)&&"[object Arguments]"==Object(xa.a)(e)},Ta=Object.prototype,Ma=Ta.hasOwnProperty,Pa=Ta.propertyIsEnumerable,La=Oa(function(){return arguments}())?Oa:function(e){return Object(ka.a)(e)&&Ma.call(e,"callee")&&!Pa.call(e,"callee")},Na=Array.isArray,Aa=n(182),Ia=/^(?:0|[1-9]\d*)$/;var Ra=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ia.test(e))&&e>-1&&e%1==0&&e<t};var Da=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ja={};ja["[object Float32Array]"]=ja["[object Float64Array]"]=ja["[object Int8Array]"]=ja["[object Int16Array]"]=ja["[object Int32Array]"]=ja["[object Uint8Array]"]=ja["[object Uint8ClampedArray]"]=ja["[object Uint16Array]"]=ja["[object Uint32Array]"]=!0,ja["[object Arguments]"]=ja["[object Array]"]=ja["[object ArrayBuffer]"]=ja["[object Boolean]"]=ja["[object DataView]"]=ja["[object Date]"]=ja["[object Error]"]=ja["[object Function]"]=ja["[object Map]"]=ja["[object Number]"]=ja["[object Object]"]=ja["[object RegExp]"]=ja["[object Set]"]=ja["[object String]"]=ja["[object WeakMap]"]=!1;var za=function(e){return Object(ka.a)(e)&&Da(e.length)&&!!ja[Object(xa.a)(e)]};var Fa=function(e){return function(t){return e(t)}},Ba=n(146),Wa=Ba.a&&Ba.a.isTypedArray,Ha=Wa?Fa(Wa):za,Ua=Object.prototype.hasOwnProperty;var Ga=function(e,t){var n=Na(e),r=!n&&La(e),o=!n&&!r&&Object(Aa.a)(e),i=!n&&!r&&!o&&Ha(e),a=n||r||o||i,s=a?Ea(e.length,String):[],l=s.length;for(var c in e)!t&&!Ua.call(e,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ra(c,l))||s.push(c);return s},Va=Object.prototype;var Ya=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Va)},qa=n(293),Za=Object(qa.a)(Object.keys,Object),$a=Object.prototype.hasOwnProperty;var Ka=function(e){if(!Ya(e))return Za(e);var t=[];for(var n in Object(e))$a.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Xa=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Qa=function(e){if(!Xa(e))return!1;var t=Object(xa.a)(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};var Ja=function(e){return null!=e&&Da(e.length)&&!Qa(e)};var es=function(e){return Ja(e)?Ga(e):Ka(e)};var ts=function(e,t){return function(n,r){if(null==n)return n;if(!Ja(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Object(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}((function(e,t){return e&&Sa(e,t,es)}));var ns=function(){this.__data__=[],this.size=0};var rs=function(e,t){return e===t||e!=e&&t!=t};var os=function(e,t){for(var n=e.length;n--;)if(rs(e[n][0],t))return n;return-1},is=Array.prototype.splice;var as=function(e){var t=this.__data__,n=os(t,e);return!(n<0)&&(n==t.length-1?t.pop():is.call(t,n,1),--this.size,!0)};var ss=function(e){var t=this.__data__,n=os(t,e);return n<0?void 0:t[n][1]};var ls=function(e){return os(this.__data__,e)>-1};var cs=function(e,t){var n=this.__data__,r=os(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function us(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}us.prototype.clear=ns,us.prototype.delete=as,us.prototype.get=ss,us.prototype.has=ls,us.prototype.set=cs;var ds=us;var hs=function(){this.__data__=new ds,this.size=0};var ps=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var fs=function(e){return this.__data__.get(e)};var ms,gs=function(e){return this.__data__.has(e)},vs=n(67),ys=vs.a["__core-js_shared__"],bs=(ms=/[^.]+$/.exec(ys&&ys.keys&&ys.keys.IE_PROTO||""))?"Symbol(src)_1."+ms:"";var _s=function(e){return!!bs&&bs in e},ws=Function.prototype.toString;var Cs=function(e){if(null!=e){try{return ws.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ss=/^\[object .+?Constructor\]$/,Es=Function.prototype,xs=Object.prototype,ks=Es.toString,Os=xs.hasOwnProperty,Ts=RegExp("^"+ks.call(Os).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ms=function(e){return!(!Xa(e)||_s(e))&&(Qa(e)?Ts:Ss).test(Cs(e))};var Ps=function(e,t){return null==e?void 0:e[t]};var Ls=function(e,t){var n=Ps(e,t);return Ms(n)?n:void 0},Ns=Ls(vs.a,"Map"),As=Ls(Object,"create");var Is=function(){this.__data__=As?As(null):{},this.size=0};var Rs=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Ds=Object.prototype.hasOwnProperty;var js=function(e){var t=this.__data__;if(As){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ds.call(t,e)?t[e]:void 0},zs=Object.prototype.hasOwnProperty;var Fs=function(e){var t=this.__data__;return As?void 0!==t[e]:zs.call(t,e)};var Bs=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=As&&void 0===t?"__lodash_hash_undefined__":t,this};function Ws(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ws.prototype.clear=Is,Ws.prototype.delete=Rs,Ws.prototype.get=js,Ws.prototype.has=Fs,Ws.prototype.set=Bs;var Hs=Ws;var Us=function(){this.size=0,this.__data__={hash:new Hs,map:new(Ns||ds),string:new Hs}};var Gs=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Vs=function(e,t){var n=e.__data__;return Gs(t)?n["string"==typeof t?"string":"hash"]:n.map};var Ys=function(e){var t=Vs(this,e).delete(e);return this.size-=t?1:0,t};var qs=function(e){return Vs(this,e).get(e)};var Zs=function(e){return Vs(this,e).has(e)};var $s=function(e,t){var n=Vs(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ks(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ks.prototype.clear=Us,Ks.prototype.delete=Ys,Ks.prototype.get=qs,Ks.prototype.has=Zs,Ks.prototype.set=$s;var Xs=Ks;var Qs=function(e,t){var n=this.__data__;if(n instanceof ds){var r=n.__data__;if(!Ns||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xs(r)}return n.set(e,t),this.size=n.size,this};function Js(e){var t=this.__data__=new ds(e);this.size=t.size}Js.prototype.clear=hs,Js.prototype.delete=ps,Js.prototype.get=fs,Js.prototype.has=gs,Js.prototype.set=Qs;var el=Js;var tl=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};var nl=function(e){return this.__data__.has(e)};function rl(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xs;++t<n;)this.add(e[t])}rl.prototype.add=rl.prototype.push=tl,rl.prototype.has=nl;var ol=rl;var il=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var al=function(e,t){return e.has(t)};var sl=function(e,t,n,r,o,i){var a=1&n,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=i.get(e);if(c&&i.get(t))return c==t;var u=-1,d=!0,h=2&n?new ol:void 0;for(i.set(e,t),i.set(t,e);++u<s;){var p=e[u],f=t[u];if(r)var m=a?r(f,p,u,t,e,i):r(p,f,u,e,t,i);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!il(t,(function(e,t){if(!al(h,t)&&(p===e||o(p,e,n,r,i)))return h.push(t)}))){d=!1;break}}else if(p!==f&&!o(p,f,n,r,i)){d=!1;break}}return i.delete(e),i.delete(t),d},ll=n(76),cl=vs.a.Uint8Array;var ul=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};var dl=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n},hl=ll.a?ll.a.prototype:void 0,pl=hl?hl.valueOf:void 0;var fl=function(e,t,n,r,o,i,a){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new cl(e),new cl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rs(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=ul;case"[object Set]":var l=1&r;if(s||(s=dl),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=sl(s(e),s(t),r,o,i,a);return a.delete(e),u;case"[object Symbol]":if(pl)return pl.call(e)==pl.call(t)}return!1};var ml=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};var gl=function(e,t,n){var r=t(e);return Na(e)?r:ml(r,n(e))};var vl=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i};var yl=function(){return[]},bl=Object.prototype.propertyIsEnumerable,_l=Object.getOwnPropertySymbols,wl=_l?function(e){return null==e?[]:(e=Object(e),vl(_l(e),(function(t){return bl.call(e,t)})))}:yl;var Cl=function(e){return gl(e,es,wl)},Sl=Object.prototype.hasOwnProperty;var El=function(e,t,n,r,o,i){var a=1&n,s=Cl(e),l=s.length;if(l!=Cl(t).length&&!a)return!1;for(var c=l;c--;){var u=s[c];if(!(a?u in t:Sl.call(t,u)))return!1}var d=i.get(e);if(d&&i.get(t))return d==t;var h=!0;i.set(e,t),i.set(t,e);for(var p=a;++c<l;){var f=e[u=s[c]],m=t[u];if(r)var g=a?r(m,f,u,t,e,i):r(f,m,u,e,t,i);if(!(void 0===g?f===m||o(f,m,n,r,i):g)){h=!1;break}p||(p="constructor"==u)}if(h&&!p){var v=e.constructor,y=t.constructor;v!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(h=!1)}return i.delete(e),i.delete(t),h},xl=Ls(vs.a,"DataView"),kl=Ls(vs.a,"Promise"),Ol=Ls(vs.a,"Set"),Tl=Ls(vs.a,"WeakMap"),Ml=Cs(xl),Pl=Cs(Ns),Ll=Cs(kl),Nl=Cs(Ol),Al=Cs(Tl),Il=xa.a;(xl&&"[object DataView]"!=Il(new xl(new ArrayBuffer(1)))||Ns&&"[object Map]"!=Il(new Ns)||kl&&"[object Promise]"!=Il(kl.resolve())||Ol&&"[object Set]"!=Il(new Ol)||Tl&&"[object WeakMap]"!=Il(new Tl))&&(Il=function(e){var t=Object(xa.a)(e),n="[object Object]"==t?e.constructor:void 0,r=n?Cs(n):"";if(r)switch(r){case Ml:return"[object DataView]";case Pl:return"[object Map]";case Ll:return"[object Promise]";case Nl:return"[object Set]";case Al:return"[object WeakMap]"}return t});var Rl=Il,Dl=Object.prototype.hasOwnProperty;var jl=function(e,t,n,r,o,i){var a=Na(e),s=Na(t),l=a?"[object Array]":Rl(e),c=s?"[object Array]":Rl(t),u="[object Object]"==(l="[object Arguments]"==l?"[object Object]":l),d="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),h=l==c;if(h&&Object(Aa.a)(e)){if(!Object(Aa.a)(t))return!1;a=!0,u=!1}if(h&&!u)return i||(i=new el),a||Ha(e)?sl(e,t,n,r,o,i):fl(e,t,l,n,r,o,i);if(!(1&n)){var p=u&&Dl.call(e,"__wrapped__"),f=d&&Dl.call(t,"__wrapped__");if(p||f){var m=p?e.value():e,g=f?t.value():t;return i||(i=new el),o(m,g,n,r,i)}}return!!h&&(i||(i=new el),El(e,t,n,r,o,i))};var zl=function e(t,n,r,o,i){return t===n||(null==t||null==n||!Object(ka.a)(t)&&!Object(ka.a)(n)?t!=t&&n!=n:jl(t,n,r,o,e,i))};var Fl=function(e,t,n,r){var o=n.length,i=o,a=!r;if(null==e)return!i;for(e=Object(e);o--;){var s=n[o];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++o<i;){var l=(s=n[o])[0],c=e[l],u=s[1];if(a&&s[2]){if(void 0===c&&!(l in e))return!1}else{var d=new el;if(r)var h=r(c,u,l,e,t,d);if(!(void 0===h?zl(u,c,3,r,d):h))return!1}}return!0};var Bl=function(e){return e==e&&!Xa(e)};var Wl=function(e){for(var t=es(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,Bl(o)]}return t};var Hl=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var Ul=function(e){var t=Wl(e);return 1==t.length&&t[0][2]?Hl(t[0][0],t[0][1]):function(n){return n===e||Fl(n,e,t)}};var Gl=function(e){return"symbol"==typeof e||Object(ka.a)(e)&&"[object Symbol]"==Object(xa.a)(e)},Vl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Yl=/^\w*$/;var ql=function(e,t){if(Na(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Gl(e))||(Yl.test(e)||!Vl.test(e)||null!=t&&e in Object(t))};function Zl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(Zl.Cache||Xs),n}Zl.Cache=Xs;var $l=Zl;var Kl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xl=/\\(\\)?/g,Ql=function(e){var t=$l(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Kl,(function(e,n,r,o){t.push(r?o.replace(Xl,"$1"):n||e)})),t}));var Jl=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o},ec=ll.a?ll.a.prototype:void 0,tc=ec?ec.toString:void 0;var nc=function e(t){if("string"==typeof t)return t;if(Na(t))return Jl(t,e)+"";if(Gl(t))return tc?tc.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};var rc=function(e){return null==e?"":nc(e)};var oc=function(e,t){return Na(e)?e:ql(e,t)?[e]:Ql(rc(e))};var ic=function(e){if("string"==typeof e||Gl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var ac=function(e,t){for(var n=0,r=(t=oc(t,e)).length;null!=e&&n<r;)e=e[ic(t[n++])];return n&&n==r?e:void 0};var sc=function(e,t,n){var r=null==e?void 0:ac(e,t);return void 0===r?n:r};var lc=function(e,t){return null!=e&&t in Object(e)};var cc=function(e,t,n){for(var r=-1,o=(t=oc(t,e)).length,i=!1;++r<o;){var a=ic(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&Da(o)&&Ra(a,o)&&(Na(e)||La(e))};var uc=function(e,t){return null!=e&&cc(e,t,lc)};var dc=function(e,t){return ql(e)&&Bl(t)?Hl(ic(e),t):function(n){var r=sc(n,e);return void 0===r&&r===t?uc(n,e):zl(t,r,3)}};var hc=function(e){return e};var pc=function(e){return function(t){return null==t?void 0:t[e]}};var fc=function(e){return function(t){return ac(t,e)}};var mc=function(e){return ql(e)?pc(ic(e)):fc(e)};var gc=function(e){return"function"==typeof e?e:null==e?hc:"object"==typeof e?Na(e)?dc(e[0],e[1]):Ul(e):mc(e)};var vc=function(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n};var yc=function(e,t,n){var r=Na(e)?Ca:vc,o=arguments.length<3;return r(e,gc(t,4),n,o,ts)};var bc=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};var _c=function(e){return"function"==typeof e?e:hc};var wc=function(e,t){return(Na(e)?bc:ts)(e,_c(t))},Cc=function(){try{var e=Ls(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var Sc=function(e,t,n){"__proto__"==t&&Cc?Cc(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},Ec=Object.prototype.hasOwnProperty;var xc=function(e,t,n){var r=e[t];Ec.call(e,t)&&rs(r,n)&&(void 0!==n||t in e)||Sc(e,t,n)};var kc=function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,a=t.length;++i<a;){var s=t[i],l=r?r(n[s],e[s],s,n,e):void 0;void 0===l&&(l=e[s]),o?Sc(n,s,l):xc(n,s,l)}return n};var Oc=function(e,t){return e&&kc(t,es(t),e)};var Tc=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},Mc=Object.prototype.hasOwnProperty;var Pc=function(e){if(!Xa(e))return Tc(e);var t=Ya(e),n=[];for(var r in e)("constructor"!=r||!t&&Mc.call(e,r))&&n.push(r);return n};var Lc=function(e){return Ja(e)?Ga(e,!0):Pc(e)};var Nc=function(e,t){return e&&kc(t,Lc(t),e)},Ac=n(499);var Ic=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Rc=function(e,t){return kc(e,wl(e),t)},Dc=n(208),jc=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)ml(t,wl(e)),e=Object(Dc.a)(e);return t}:yl;var zc=function(e,t){return kc(e,jc(e),t)};var Fc=function(e){return gl(e,Lc,jc)},Bc=Object.prototype.hasOwnProperty;var Wc=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Bc.call(e,"index")&&(n.index=e.index,n.input=e.input),n};var Hc=function(e){var t=new e.constructor(e.byteLength);return new cl(t).set(new cl(e)),t};var Uc=function(e,t){var n=t?Hc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Gc=/\w*$/;var Vc=function(e){var t=new e.constructor(e.source,Gc.exec(e));return t.lastIndex=e.lastIndex,t},Yc=ll.a?ll.a.prototype:void 0,qc=Yc?Yc.valueOf:void 0;var Zc=function(e){return qc?Object(qc.call(e)):{}};var $c=function(e,t){var n=t?Hc(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Kc=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Hc(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Uc(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return $c(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Vc(e);case"[object Set]":return new r;case"[object Symbol]":return Zc(e)}},Xc=Object.create,Qc=function(){function e(){}return function(t){if(!Xa(t))return{};if(Xc)return Xc(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();var Jc=function(e){return"function"!=typeof e.constructor||Ya(e)?{}:Qc(Object(Dc.a)(e))};var eu=function(e){return Object(ka.a)(e)&&"[object Map]"==Rl(e)},tu=Ba.a&&Ba.a.isMap,nu=tu?Fa(tu):eu;var ru=function(e){return Object(ka.a)(e)&&"[object Set]"==Rl(e)},ou=Ba.a&&Ba.a.isSet,iu=ou?Fa(ou):ru,au={};au["[object Arguments]"]=au["[object Array]"]=au["[object ArrayBuffer]"]=au["[object DataView]"]=au["[object Boolean]"]=au["[object Date]"]=au["[object Float32Array]"]=au["[object Float64Array]"]=au["[object Int8Array]"]=au["[object Int16Array]"]=au["[object Int32Array]"]=au["[object Map]"]=au["[object Number]"]=au["[object Object]"]=au["[object RegExp]"]=au["[object Set]"]=au["[object String]"]=au["[object Symbol]"]=au["[object Uint8Array]"]=au["[object Uint8ClampedArray]"]=au["[object Uint16Array]"]=au["[object Uint32Array]"]=!0,au["[object Error]"]=au["[object Function]"]=au["[object WeakMap]"]=!1;var su=function e(t,n,r,o,i,a){var s,l=1&n,c=2&n,u=4&n;if(r&&(s=i?r(t,o,i,a):r(t)),void 0!==s)return s;if(!Xa(t))return t;var d=Na(t);if(d){if(s=Wc(t),!l)return Ic(t,s)}else{var h=Rl(t),p="[object Function]"==h||"[object GeneratorFunction]"==h;if(Object(Aa.a)(t))return Object(Ac.a)(t,l);if("[object Object]"==h||"[object Arguments]"==h||p&&!i){if(s=c||p?{}:Jc(t),!l)return c?zc(t,Nc(s,t)):Rc(t,Oc(s,t))}else{if(!au[h])return i?t:{};s=Kc(t,h,l)}}a||(a=new el);var f=a.get(t);if(f)return f;if(a.set(t,s),iu(t))return t.forEach((function(o){s.add(e(o,n,r,o,t,a))})),s;if(nu(t))return t.forEach((function(o,i){s.set(i,e(o,n,r,i,t,a))})),s;var m=u?c?Fc:Cl:c?keysIn:es,g=d?void 0:m(t);return bc(g||t,(function(o,i){g&&(o=t[i=o]),xc(s,i,e(o,n,r,i,t,a))})),s};var lu=function(e){return su(e,4)},cu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function uu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var du=/^on(.+)$/i,hu=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o._leafletEvents={},o}return uu(t,e),t.prototype.componentWillMount=function(){this._leafletEvents=this.extractLeafletEvents(this.props)},t.prototype.componentDidMount=function(){this.bindLeafletEvents(this._leafletEvents)},t.prototype.componentWillReceiveProps=function(e){var t=this.extractLeafletEvents(e);this._leafletEvents=this.bindLeafletEvents(t,this._leafletEvents)},t.prototype.componentWillUnmount=function(){var e=this.leafletElement;e&&wc(this._leafletEvents,(function(t,n){e.off(n,t)}))},t.prototype.extractLeafletEvents=function(e){return yc(es(e),(function(t,n){if(du.test(n)){var r=n.replace(du,(function(e,t){return t.toLowerCase()}));null!=e[n]&&(t[r]=e[n])}return t}),{})},t.prototype.bindLeafletEvents=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.leafletElement;if(null==n||null==n.on)return{};var r=lu(t);return wc(t,(function(t,o){e[o]&&t===e[o]||(delete r[o],n.off(o,t))})),wc(e,(function(e,o){t[o]&&e===t[o]||(r[o]=e,n.on(o,e))})),r},t.prototype.fireLeafletEvent=function(e,t){var n=this.leafletElement;n&&n.fire(e,t)},t.prototype.getOptions=function(e){var t=null==e.pane?this.context.pane:e.pane;return t?cu({},e,{pane:t}):e},t}(o.Component),pu=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function fu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mu(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function gu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var vu=function(e){function t(){return fu(this,t),mu(this,e.apply(this,arguments))}return gu(t,e),t.prototype.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},t.prototype.updateLeafletElement=function(e,t){},t.prototype.componentWillMount=function(){e.prototype.componentWillMount.call(this),this.leafletElement=this.createLeafletElement(this.props)},t.prototype.componentDidMount=function(){e.prototype.componentDidMount.call(this),this.layerContainer.addLayer(this.leafletElement)},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.layerContainer.removeLayer(this.leafletElement)},t.prototype.render=function(){var e=this.props.children;return o.Children.count(e)>1?i.a.createElement("div",{style:{display:"none"}},e):null==e?null:e},pu(t,[{key:"layerContainer",get:function(){return this.context.layerContainer||this.context.map}}]),t}(hu);vu.propTypes={children:ga},vu.contextTypes={layerContainer:ba,map:_a,pane:d.a.string};var yu=vu;function bu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function wu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var Cu=function(e){function t(){return bu(this,t),_u(this,e.apply(this,arguments))}return wu(t,e),t.prototype.getChildContext=function(){return{popupContainer:this.leafletElement}},t.prototype.createLeafletElement=function(e){return new da.Marker(e.position,this.getOptions(e))},t.prototype.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setLatLng(t.position),t.icon!==e.icon&&this.leafletElement.setIcon(t.icon),t.zIndexOffset!==e.zIndexOffset&&this.leafletElement.setZIndexOffset(t.zIndexOffset),t.opacity!==e.opacity&&this.leafletElement.setOpacity(t.opacity),t.draggable!==e.draggable&&(!0===t.draggable?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable())},t}(yu);Cu.propTypes={children:ga,draggable:d.a.bool,icon:d.a.instanceOf(da.Icon),opacity:d.a.number,position:pa.isRequired,zIndexOffset:d.a.number},Cu.childContextTypes={popupContainer:ya};var Su=Cu;var Eu=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var xu=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i};var ku=function(e,t){return t.length<2?e:ac(e,xu(t,0,-1))};var Ou=function(e,t){return t=oc(t,e),null==(e=ku(e,t))||delete e[ic(Eu(t))]},Tu=n(207);var Mu=function(e){return Object(Tu.a)(e)?void 0:e},Pu=ll.a?ll.a.isConcatSpreadable:void 0;var Lu=function(e){return Na(e)||La(e)||!!(Pu&&e&&e[Pu])};var Nu=function e(t,n,r,o,i){var a=-1,s=t.length;for(r||(r=Lu),i||(i=[]);++a<s;){var l=t[a];n>0&&r(l)?n>1?e(l,n-1,r,o,i):ml(i,l):o||(i[i.length]=l)}return i};var Au=function(e){return(null==e?0:e.length)?Nu(e,1):[]};var Iu=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Ru=Math.max;var Du=function(e,t,n){return t=Ru(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=Ru(r.length-t,0),a=Array(i);++o<i;)a[o]=r[t+o];o=-1;for(var s=Array(t+1);++o<t;)s[o]=r[o];return s[t]=n(a),Iu(e,this,s)}};var ju=function(e){return function(){return e}},zu=Cc?function(e,t){return Cc(e,"toString",{configurable:!0,enumerable:!1,value:ju(t),writable:!0})}:hc,Fu=Date.now;var Bu=function(e){var t=0,n=0;return function(){var r=Fu(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(zu);var Wu=function(e){return Bu(Du(e,void 0,Au),e+"")}((function(e,t){var n={};if(null==e)return n;var r=!1;t=Jl(t,(function(t){return t=oc(t,e),r||(r=t.length>1),t})),kc(e,Fc(e),n),r&&(n=su(n,7,Mu));for(var o=t.length;o--;)Ou(n,t[o]);return n}));var Hu=function(e){return void 0===e},Uu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.split(" ").filter(Boolean)};function Gu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var Vu=["children","className","id","style","useFlyTo","whenReady"],Yu=function(e){return Array.isArray(e)?[e[0],e[1]]:[e.lat,e.lon?e.lon:e.lng]},qu=function(e){function t(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return o.viewport={center:void 0,zoom:void 0},o._updating=!1,o.onViewportChange=function(){var e=o.leafletElement.getCenter();o.viewport={center:e?[e.lat,e.lng]:void 0,zoom:o.leafletElement.getZoom()},o.props.onViewportChange&&!o._updating&&o.props.onViewportChange(o.viewport)},o.onViewportChanged=function(){o.props.onViewportChanged&&!o._updating&&o.props.onViewportChanged(o.viewport)},o.bindContainer=function(e){o.container=e},o.className=n.className,o}return Gu(t,e),t.prototype.getChildContext=function(){return{layerContainer:this.leafletElement,map:this.leafletElement}},t.prototype.createLeafletElement=function(e){var t=e.viewport,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["viewport"]);return t&&(t.center&&(n.center=t.center),"number"==typeof t.zoom&&(n.zoom=t.zoom)),new da.Map(this.container,n)},t.prototype.updateLeafletElement=function(e,t){this._updating=!0;var n,r,o,i=t.animate,a=t.bounds,s=t.boundsOptions,l=t.boxZoom,c=t.center,u=t.className,d=t.doubleClickZoom,h=t.dragging,p=t.keyboard,f=t.maxBounds,m=t.scrollWheelZoom,g=t.tap,v=t.touchZoom,y=t.useFlyTo,b=t.viewport,_=t.zoom;if(n=this.container,r=e.className,o=u,null!=n&&o!==r&&(null!=r&&r.length>0&&wc(Uu(r),(function(e){da.DomUtil.removeClass(n,e)})),null!=o&&o.length>0&&wc(Uu(o),(function(e){da.DomUtil.addClass(n,e)}))),b&&b!==e.viewport){var w=b.center?b.center:c,C=null==b.zoom?_:b.zoom;!0===y?this.leafletElement.flyTo(w,C,{animate:i}):this.leafletElement.setView(w,C,{animate:i})}else c&&this.shouldUpdateCenter(c,e.center)?!0===y?this.leafletElement.flyTo(c,_,{animate:i}):this.leafletElement.setView(c,_,{animate:i}):"number"==typeof _&&_!==e.zoom&&(null==e.zoom?this.leafletElement.setView(c,_):this.leafletElement.setZoom(_));f&&this.shouldUpdateBounds(f,e.maxBounds)&&this.leafletElement.setMaxBounds(f),a&&(this.shouldUpdateBounds(a,e.bounds)||s!==e.boundsOptions)&&(!0===y?this.leafletElement.flyToBounds(a,s):this.leafletElement.fitBounds(a,s)),l!==e.boxZoom&&(!0===l?this.leafletElement.boxZoom.enable():this.leafletElement.boxZoom.disable()),d!==e.doubleClickZoom&&(!0===d?this.leafletElement.doubleClickZoom.enable():this.leafletElement.doubleClickZoom.disable()),h!==e.dragging&&(!0===h?this.leafletElement.dragging.enable():this.leafletElement.dragging.disable()),p!==e.keyboard&&(!0===p?this.leafletElement.keyboard.enable():this.leafletElement.keyboard.disable()),m!==e.scrollWheelZoom&&(!0===m||"string"==typeof m?(this.leafletElement.options.scrollWheelZoom=m,this.leafletElement.scrollWheelZoom.enable()):this.leafletElement.scrollWheelZoom.disable()),g!==e.tap&&(!0===g?this.leafletElement.tap.enable():this.leafletElement.tap.disable()),v!==e.touchZoom&&(!0===v||"string"==typeof v?(this.leafletElement.options.touchZoom=v,this.leafletElement.touchZoom.enable()):this.leafletElement.touchZoom.disable()),this._updating=!1},t.prototype.componentDidMount=function(){var t=Wu(this.props,Vu);this.leafletElement=this.createLeafletElement(t),this.leafletElement.on("move",this.onViewportChange),this.leafletElement.on("moveend",this.onViewportChanged),Hu(t.bounds)||this.leafletElement.fitBounds(t.bounds,t.boundsOptions),this.props.whenReady&&this.leafletElement.whenReady(this.props.whenReady),e.prototype.componentDidMount.call(this),this.forceUpdate()},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){e.prototype.componentWillUnmount.call(this),this.leafletElement.off("move",this.onViewportChange),this.leafletElement.off("moveend",this.onViewportChanged),!0===this.props.preferCanvas?(this.leafletElement._initEvents(!0),this.leafletElement._stop()):this.leafletElement.remove()},t.prototype.shouldUpdateCenter=function(e,t){return!t||(e=Yu(e),t=Yu(t),e[0]!==t[0]||e[1]!==t[1])},t.prototype.shouldUpdateBounds=function(e,t){return!t||!Object(da.latLngBounds)(e).equals(Object(da.latLngBounds)(t))},t.prototype.render=function(){var e=this.leafletElement?this.props.children:null;return i.a.createElement("div",{className:this.className,id:this.props.id,ref:this.bindContainer,style:this.props.style},e)},t}(hu);qu.propTypes={animate:d.a.bool,bounds:ma,boundsOptions:d.a.object,center:pa,children:ga,className:d.a.string,id:d.a.string,maxBounds:ma,maxZoom:d.a.number,minZoom:d.a.number,style:d.a.object,useFlyTo:d.a.bool,viewport:wa,whenReady:d.a.func,zoom:d.a.number},qu.childContextTypes={layerContainer:ba,map:_a};var Zu=qu;function $u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ku(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Xu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var Qu=function(e){function t(){return $u(this,t),Ku(this,e.apply(this,arguments))}return Xu(t,e),t.prototype.createLeafletElement=function(e){return new da.GridLayer(this.getOptions(e))},t.prototype.updateLeafletElement=function(e,t){var n=t.opacity,r=t.zIndex;n!==e.opacity&&this.leafletElement.setOpacity(n),r!==e.zIndex&&this.leafletElement.setZIndex(r)},t.prototype.render=function(){return null},t}(yu);function Ju(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ed(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function td(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}Qu.propTypes={children:ga,opacity:d.a.number,zIndex:d.a.number};var nd=function(e){function t(){return Ju(this,t),ed(this,e.apply(this,arguments))}return td(t,e),t.prototype.createLeafletElement=function(e){return new da.TileLayer(e.url,this.getOptions(e))},t.prototype.updateLeafletElement=function(t,n){e.prototype.updateLeafletElement.call(this,t,n),n.url!==t.url&&this.leafletElement.setUrl(n.url)},t}(Qu);nd.propTypes={children:ga,opacity:d.a.number,url:d.a.string.isRequired,zIndex:d.a.number};var rd=nd;function od(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function id(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ad(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var sd=function(e){function t(){return od(this,t),id(this,e.apply(this,arguments))}return ad(t,e),t.prototype.createLeafletElement=function(e){throw new Error("createLeafletElement() must be implemented")},t.prototype.updateLeafletElement=function(e,t){t.position!==e.position&&this.leafletElement.setPosition(t.position)},t.prototype.componentWillMount=function(){this.leafletElement=this.createLeafletElement(this.props)},t.prototype.componentDidMount=function(){this.leafletElement.addTo(this.context.map)},t.prototype.componentDidUpdate=function(e){this.updateLeafletElement(e,this.props)},t.prototype.componentWillUnmount=function(){this.leafletElement.remove()},t.prototype.render=function(){return null},t}(o.Component);function ld(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cd(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function ud(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}sd.propTypes={position:va},sd.contextTypes={map:_a};var dd=function(e){function t(){return ld(this,t),cd(this,e.apply(this,arguments))}return ud(t,e),t.prototype.createLeafletElement=function(e){return new da.Control.Zoom(e)},t}(sd);dd.propTypes={position:va,zoomInText:d.a.string,zoomInTitle:d.a.string,zoomOutText:d.a.string,zoomOutTitle:d.a.string};var hd=dd,pd=n(333),fd=n.n(pd),md=n(496),gd=n.n(md),vd=n(377),yd=n.n(vd),bd=n(378),_d=n.n(bd),wd=n(497),Cd=n.n(wd),Sd=n(379),Ed=n.n(Sd);function xd(e){return!Cd()(e)&&!e}function kd(e){return!xd(e)}function Od(e){return xd(e.lng)||xd(e.lat)}class Td extends yu{constructor(e,t){super(e,t),this.map=void 0!==e.map?e.map:t.map,this.markers={}}createLeafletElement(){return null}componentWillReceiveProps(){}componentDidMount(){this.leafletElement=Vo.a.findDOMNode(this.container),this.map.getPanes().overlayPane.appendChild(this.leafletElement),this.props.fitBoundsOnLoad&&this.fitBounds(),this.attachEvents(),this.updatePosition()}componentWillUnmount(){const e=this.map.getPanes();"overlayPane"in e&&e.overlayPane.removeChild(this.leafletElement)}fitBounds(){const e=this.props.markers,t=Ed()(fd()(e,this.props.longitudeExtractor),kd),n=Ed()(fd()(e,this.props.latitudeExtractor),kd),r={lng:_d()(t),lat:_d()(n)},o={lng:yd()(t),lat:yd()(n)};Od(r)||Od(o)||this.map.fitBounds(ha.a.latLngBounds(ha.a.latLng(o),ha.a.latLng(r)))}markersOrPositionExtractorsChanged(e){return this.props.markers!==e.markers||this.props.longitudeExtractor!==e.longitudeExtractor||this.props.latitudeExtractor!==e.latitudeExtractor}componentDidUpdate(e){this.map.invalidateSize(),this.props.fitBoundsOnUpdate&&this.markersOrPositionExtractorsChanged(e)&&this.fitBounds(),this.updatePosition()}attachEvents(){this.map.on("zoomend",this.updatePosition.bind(this)),this.map.on("viewreset",this.updatePosition.bind(this))}getLocationForMarker(e){return{lat:this.props.latitudeExtractor(e),lng:this.props.longitudeExtractor(e)}}updatePosition(){gd()(this.props.markers,(e,t)=>{const n=this.getLocationForMarker(e);if(Od(n))return;const r=this.markers[this.getMarkerRefName(t)];if(!r||!r.ref)throw new Error("Missing reference: Please add a reference to your Marker element, by adding 'ref={(c) => this.ref = c}' to your marker's root tag");const o=Vo.a.findDOMNode(r.ref);if(!o)return;const i=this.map.latLngToLayerPoint(ha.a.latLng(n));ha.a.DomUtil.setPosition(o,i)})}render(){return i.a.createElement("div",{ref:e=>{this.container=e},className:"leaflet-objects-pane leaflet-marker-pane leaflet-zoom-hide react-leaflet-marker-layer"},this.renderMarkers())}renderMarkers(){const e={position:"absolute"},t=this.props.markerComponent;return fd()(this.props.markers,(n,r)=>Od(this.getLocationForMarker(n))?null:i.a.createElement(t,Vn()({},this.props.propsForMarkers,{key:r,style:e,map:this.map,ref:e=>{this.markers[this.getMarkerRefName(r)]=e},marker:n})))}getMarkerRefName(e){return`marker-${e}`}}Td.prototype.createLeafletElement=()=>{},Td.propTypes={markers:d.a.array,longitudeExtractor:d.a.func.isRequired,latitudeExtractor:d.a.func.isRequired,markerComponent:d.a.func.isRequired,propsForMarkers:d.a.object,fitBoundsOnLoad:d.a.bool,fitBoundsOnUpdate:d.a.bool};n(670);var Md=ha.a.divIcon({className:"material-icons",html:"place",iconSize:[40,40],iconAnchor:[20,37],popupAnchor:[0,-32]});const Pd={};class Ld extends yu{componentWillMount(){super.componentWillMount()}componentDidMount(){super.componentDidMount(),this.addMarkers(this.props.markers)}shouldComponentUpdate(e){return e.markers!==this.props.markers}componentDidUpdate(){this.addMarkers(this.props.markers)}createLeafletElement(){return this.leafletElement=ha.a.markerClusterGroup(this.props.options),this.leafletElement}addMarkers(e){const t=this.leafletElement.getLayers();for(const e of t)e.options.layerId===Pd&&this.leafletElement.removeLayer(e);if(!Array.isArray(e)||0===e.length)return;const n=[];for(const{id:t,latitude:r,longitude:o,name:i,icon:a=Md}of e)r&&o&&n.push(ha.a.marker([r,o],{id:t,icon:a,title:i,layerId:Pd}).on("click",this.props.onMarkerClick));this.leafletElement.addLayers(n)}render(){return null}}Ld.propTypes={map:i.a.PropTypes.object,markers:i.a.PropTypes.array,onMarkerClick:i.a.PropTypes.func,options:i.a.PropTypes.object},Ld.defaultProps={markers:[],options:{}};var Nd=Ld;n(671);const Ad={width:"30px",height:"30px",margin:"-2px 0 0 -4px",backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgdmlld0JveD0iMCAwIDU2LjcgNTYuNyIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTYuNyA1Ni43IiB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnIGlkPSJQb2x5X3Rvb2xfZm91ciI+DQoJPHBvbHlsaW5lIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAxMDEwMSIgc3Ryb2tlLXdpZHRoPSIxLjQiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgcG9pbnRzPSIzNC45LDE2LjIgMTMuNCwxMy41IDIxLjUsNDMuMiANCgkJNDIuOSwzNy44IDQ4LjMsMjAuNCAJIi8+DQoJPGVsbGlwc2UgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjMDEwMTAxIiBzdHJva2Utd2lkdGg9IjAuOCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBjeD0iMTMuNCIgY3k9IjEzLjUiIHJ4PSI1LjQiIHJ5PSI1LjQiLz4NCgk8ZWxsaXBzZSBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiMwMTAxMDEiIHN0cm9rZS13aWR0aD0iMC44IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGN4PSIzNC45IiBjeT0iMTYuMiIgcng9IjUuNCIgcnk9IjUuNCIvPg0KCTxlbGxpcHNlIGZpbGw9IiNGRkZGRkYiIHN0cm9rZT0iIzAxMDEwMSIgc3Ryb2tlLXdpZHRoPSIwLjgiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgY3g9IjIxLjUiIGN5PSI0My4yIiByeD0iNS40IiByeT0iNS40Ii8+DQoJPGVsbGlwc2UgZmlsbD0iI0ZGRkZGRiIgc3Ryb2tlPSIjMDEwMTAxIiBzdHJva2Utd2lkdGg9IjAuOCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBjeD0iNDIuOSIgY3k9IjM3LjgiIHJ4PSI1LjQiIHJ5PSI1LjQiLz4NCgk8cmVjdCBmaWxsPSJub25lIiB3aWR0aD0iNTYuNCIgaGVpZ2h0PSI1Ni43Ii8+DQo8L2c+DQo8L3N2Zz4=')",backgroundRepeat:"no-repeat"};var Id=i.a.createClass({displayName:"LeafletMapLasso",propTypes:{className:i.a.PropTypes.string,activeClassName:i.a.PropTypes.string,initialPath:i.a.PropTypes.array,onPathChange:i.a.PropTypes.func},contextTypes:{map:i.a.PropTypes.instanceOf(ha.a.Map)},getDefaultProps:()=>({activeClassName:"is-active"}),getInitialState(){return{isActive:null!==(this.props.initialPath||null)}},componentDidMount(){this.lasso=L.featureGroup.lassoSelect({finishedTooltip:"Click outside the region to cancel the filter.",polyline:{color:"#673c90"},initialPath:this.props.initialPath}).addTo(this.context.map),this.context.map.lasso=this.lasso,this.lasso.on("pathchange",()=>{const{onPathChange:e}=this.props;e&&e(this.lasso.getPath())})},componentWillReceiveProps(e){this.props.initialPath&&!e.initialPath&&this.setState({isActive:!1})},componentDidUpdate(e,t){const{initialPath:n}=this.props;null===n&&this.lasso.reset(),t.isActive!==this.state.isActive&&(this.state.isActive?this.lasso.enable():(this.lasso.disable(),this.lasso.reset()))},onLassoToggleButtonClick(e){e.stopPropagation(),this.setState({isActive:!this.state.isActive})},render(){const{className:e,activeClassName:t}=this.props,{isActive:n}=this.state;return i.a.createElement("button",{className:C()("leaflet-map-lasso-button",e,{[t]:n}),title:n?"Disable map region filter":"Activate map region filter",onClick:this.onLassoToggleButtonClick},i.a.createElement("i",{className:"material-icons mr-lasso-icon",style:Ad}))}});var Rd=i.a.createClass({displayName:"LeafletMap",propTypes:{height:i.a.PropTypes.number,width:i.a.PropTypes.number,className:i.a.PropTypes.string,markerIds:i.a.PropTypes.array,markers:i.a.PropTypes.arrayOf(i.a.PropTypes.object),markerComponent:i.a.PropTypes.func,markerSize:i.a.PropTypes.number,cluster:i.a.PropTypes.bool,clusterOptions:i.a.PropTypes.object,center:r.latlng,zoom:i.a.PropTypes.number,highlightedColour:i.a.PropTypes.string,lassoPath:i.a.PropTypes.array,mapboxStyle:i.a.PropTypes.string,mapboxKey:i.a.PropTypes.string,buttonClassname:i.a.PropTypes.string,onBoundsChange:i.a.PropTypes.func,onLassoPathChange:i.a.PropTypes.func,refitOnMarkerChange:i.a.PropTypes.bool},getDefaultProps:()=>({cluster:!1,markers:[],markerIds:[],refitOnMarkerChange:!0}),componentDidMount(){this.refitMapBounds()},componentDidUpdate(e){0===e.markers.length&&this.props.markers.length?this.refitMapBounds():this.props.refitOnMarkerChange&&e.markerIds!==this.props.markerIds&&this.refitMapBounds()},componentWillUnmount(){const{onBoundsChange:e}=this.props;if(e&&this.map){e({center:this.map.getCenter(),zoom:this.map.getZoom()})}},onClusterMarkerClick({target:e,event:t}){this.props.onMarkerClick&&this.props.onMarkerClick(e.options,t)},onMarkerLayerClick({marker:e,event:t}){this.props.onMarkerClick&&this.props.onMarkerClick(e,t)},onClick(e){this.props.onClick&&this.props.onClick(e,this.map)},getBounds(){const{markers:e}=this.props;if(!e||0===e.length)return ha.a.latLngBounds([-85,-180],[85,180]);let t=-1e3,n=-1e3,r=1e3,o=1e3;for(const i of e){if(!(i.position||i.latitude&&i.longitude))continue;const e=i.latitude||i.position[0],a=i.longitude||i.position[1];e>t&&(t=e),e<r&&(r=e),a>n&&(n=a),a<o&&(o=a)}const i=ha.a.latLng([r,o]),a=ha.a.latLng([t,n]);return ha.a.latLngBounds(i,a)},refitMapBounds(e){e?this.leafletMap.leafletElement.panTo(e):this.leafletMap.leafletElement.fitBounds(this.getBounds())},renderMarkers(){const{markers:e,cluster:t,markerComponent:n,highlightedColour:r,markerProps:o={}}=this.props;return t?i.a.createElement(Nd,{markers:e||[],onMarkerClick:this.onClusterMarkerClick,options:this.props.clusterOptions}):n?i.a.createElement(Td,{markers:e||[],latitudeExtractor:({position:e})=>e[0],longitudeExtractor:({position:e})=>e[1],markerComponent:n,propsForMarkers:{...o,onClick:this.onMarkerLayerClick,highlightedColour:r}}):e?e.map(({position:e,title:t,icon:n=Md},r)=>i.a.createElement(Su,{key:r,position:e,title:t,icon:n})):null},renderDefaultMarkers(){return this.props.markers?this.props.markers.map(({position:e},t)=>i.a.createElement(Su,{key:e.join("-"),position:e})):null},render(){const{center:e,zoom:t,mapboxStyle:n,mapboxKey:r}=this.props;return i.a.createElement("div",{className:C()("cgps-leaflet-map",`cgps-leaflet-map--marker-size-${this.props.markerSize}`,this.props.className)},i.a.createElement(Zu,{onClick:this.onClick,animate:!1,center:e,zoom:t,zoomControl:!1,boundsOptions:{animate:!1},onMoveend:({target:e})=>{this.map=e},ref:e=>{this.leafletMap=e},style:{width:"100%",height:"100%"}},i.a.createElement(rd,{attribution:"\n  Map data &copy;\n  <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors,\n  <a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>,\n  Imagery © <a href='http://mapbox.com'>Mapbox</a>\n",url:`https://api.mapbox.com/styles/v1/mapbox/${n}/tiles/{z}/{x}/{y}?access_token=${r}`}),this.renderMarkers(),i.a.createElement("div",{className:"cgps-leaflet-map-controls"},this.props.controls,i.a.createElement(Id,{className:this.props.buttonClassname,initialPath:this.props.lassoPath,onPathChange:this.props.onLassoPathChange})),i.a.createElement(hd,{position:"bottomright"})),this.props.children)}}),Dd=n(15);const jd="mdl-button mdl-button--icon wgsa-pane-button wgsa-pane-button--dark";var zd=Object(_.a)((function(e,t){return{bounds:Object(ua.a)(e,t),lassoPath:t.lassoPath}}),(function(e,{stateKey:t,onLassoPathChange:n}){return{onBoundsChange:n=>e(ca.storeBounds(t,n)),onLassoPathChange:n||(n=>e(ca.changeLassoPath(t,n)))}}))(e=>i.a.createElement(Rd,{center:e.bounds.center,className:e.className,cluster:e.cluster,clusterOptions:e.clusterOptions,controls:e.controls,highlightedColour:Yt.b.COLOURS.PURPLE,buttonClassname:jd,lassoPath:e.lassoPath,markers:e.markers,markerIds:e.markerIds,markerComponent:e.markerComponent,markerProps:e.markerProps,markerSize:e.markerSize,mapboxKey:Dd.a.mapboxKey,mapboxStyle:"light-v9",onBoundsChange:e.onBoundsChange,onClick:e.onClick,onGroupMarkersChange:e.onGroupMarkersChange,onLassoPathChange:e.onLassoPathChange,onMarkerClick:e.onMarkerClick,zoom:e.bounds.zoom},e.children));var Fd=({colour:e="black"})=>i.a.createElement("svg",{viewBox:"0 0 100 100",style:{width:"200%",transform:"translate(-25%, -25%)"}},i.a.createElement("circle",{cx:"50",cy:"50",r:42,fill:"none",stroke:e,strokeWidth:8}));const{PropTypes:Bd}=i.a,Wd=2*Math.PI;class Hd extends i.a.Component{render(){const{borderWidth:e=7.5,borderColour:t="#555",donutFill:n="#fff"}=this.props;return i.a.createElement("svg",{viewBox:"0 0 100 100",className:this.props.className},i.a.createElement("g",{transform:"rotate(-90 50 50)"},function({slices:e,onSliceClick:t}){const n=e.reduce((e,{value:t})=>e+t,0);let r=0,o=49,a=0;return e.map((e,s)=>{const{colour:l,value:c}=e;if(c===n)return i.a.createElement("circle",{r:49,cx:50,cy:50,fill:l,key:s,"data-count":c,onClick:n=>t&&t(e,n)});if(0===c)return null;const u=c/n,d=u<=.5?0:1;r+=u*Wd;const h=49*Math.cos(r),p=49*Math.sin(r),f=["M 50,50",`l ${o},${-a}`,"a49,49","0",`${d},0`,`${h-o},${-(p-a)}`,"z"].join(" ");return o=h,a=p,i.a.createElement("path",{d:f,fill:l,key:s,"data-count":c,onClick:n=>{t&&t(e,n)}})})}(this.props)),e>0&&i.a.createElement("circle",{cx:50,cy:50,r:50-e/2,fill:"none",strokeWidth:e,stroke:t}),this.props.donut&&i.a.createElement("circle",{cx:50,cy:50,r:(50-e)/2,fill:n,strokeWidth:e,stroke:t}),"}",i.a.createElement("text",{x:"50",y:"50"}))}}Hd.propTypes={className:i.a.PropTypes.string,borderWidth:i.a.PropTypes.number,borderColour:i.a.PropTypes.string,donut:i.a.PropTypes.bool,slices:i.a.PropTypes.arrayOf(i.a.PropTypes.shape({colour:i.a.PropTypes.string.isRequired,value:i.a.PropTypes.number.isRequired})).isRequired,onSliceClick:i.a.PropTypes.func};var Ud=i.a.createClass({displayName:"LeafletPieChartMarker",shouldComponentUpdate(e){const{marker:t}=this.props;if(t.id.length!==e.marker.id.length)return!0;for(const n of t.id)if(-1===e.marker.id.indexOf(n))return!0;if(t.highlighted!==e.marker.highlighted)return!0;if(t.slices.size!==e.marker.slices.size)return!0;const n=t.slices.entries(),r=e.marker.slices.entries();for(let e=0;e<t.slices.size;e++){const[e,t]=n.next().value,[o,i]=r.next().value;if(e!==o||t!==i)return!0}return!1},render(){const{marker:e,style:t,onClick:n,highlightedColour:r}=this.props,o=Array.from(e.slices.entries()).map(([e,t])=>({colour:e,value:t}));return i.a.createElement("div",{ref:e=>{this.ref=e},style:t,className:C()("leaflet-marker-icon",{highlighted:e.highlighted}),onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),n({event:t,marker:e})}},e.highlighted&&i.a.createElement(Fd,{colour:r}),i.a.createElement(Hd,{slices:o,borderColour:this.props.borderColour,borderWidth:this.props.botderWidth}))}}),Gd=i.a.createClass({displayName:"LeafletMarkerControls",propTypes:{className:i.a.PropTypes.string,activeClassName:i.a.PropTypes.string,markerSize:i.a.PropTypes.number,onMarkerSizeChange:i.a.PropTypes.func,onViewByCountryChange:i.a.PropTypes.func},getDefaultProps:()=>({activeClassName:"is-active"}),getInitialState:()=>({isActive:!1}),componentDidUpdate(){if(this.state.isActive){const{slider:e,countrySwitch:t}=this.refs;componentHandler.upgradeElements([e,t])}},render(){const{className:e,activeClassName:t,markerSize:n,onMarkerSizeChange:r,onViewByCountryChange:o}=this.props,{isActive:a}=this.state;return i.a.createElement("div",{onClick:e=>e.stopPropagation()},i.a.createElement("button",{key:"button",className:C()("leaflet-marker-controls-button",e,{[t]:a}),title:a?"Hide map controls":"Show map controls",onClick:()=>this.setState({isActive:!a})},i.a.createElement("i",{className:"material-icons"},"tune")),i.a.createElement("div",{className:C()("wgsa-pane-controls wgsa-pane-controls--top",{"wgsa-pane-controls--visible":a})},i.a.createElement("div",{className:"wgsa-pane-controls__row wgsa-pane-overlay"},i.a.createElement("div",{className:"wgsa-pane-slider"},i.a.createElement("label",null,"Marker Size",i.a.createElement("input",{ref:"slider",type:"range",onChange:e=>r(parseInt(e.target.value,10)),min:"1",max:"10",step:"1",value:n,className:"mdl-slider mdl-js-slider",tabIndex:"0"}))),i.a.createElement("label",{ref:"countrySwitch",className:"mdl-icon-toggle mdl-js-icon-toggle mdl-js-ripple-effect",htmlFor:"group-markers-switch",title:"View by Country"},i.a.createElement("input",{type:"checkbox",id:"group-markers-switch",className:"mdl-icon-toggle__input",onChange:e=>o(e.target.checked)}),i.a.createElement("i",{className:"mdl-icon-toggle__label material-icons"},"flag")))))}}),Vd=n(316),Yd=n(155);const qd=Object($.createSelector)(X.a,ua.b,(e,t)=>e.reduce((e,{uuid:n,position:r={}})=>r.latitude&&r.longitude&&Object(Vd.contains)(t,{lat:r.latitude,lng:r.longitude})?e.concat(n):e,[])),Zd=({position:e={}})=>{const{latitude:t,longitude:n}=e;return t&&n?[t,n]:null},$d=({country:e})=>e?Object(Yd.a)(e):null,Kd=Object($.createSelector)(ua.d,e=>e?$d:Zd),Xd=Object($.createSelector)(Kd,X.b,Be,jt,me.a,(e,t,n=[],r,o)=>{if(!n||0===n.length)return[];const i=new Map;for(const a of n){const n=t[a],s=e(n);if(s){const e=o[n.id].colour,t=s.join("_"),l=i.get(t)||{position:s,id:[],slices:new Map,highlighted:!1};l.id.push(a),l.title=l.id.length,l.slices.set(e,(l.slices.get(e)||0)+1),l.highlighted=l.highlighted||r.has(a),i.set(t,l)}}return Array.from(i.values())}),Qd=Be;function Jd(e,t){return(n,r)=>{if(n(ca.changeLassoPath(e,t)),t){const t=qd(r(),{stateKey:e});n(Object(mt.f)(t,Pe.a.MAP))}else n(Object(mt.h)(Pe.a.MAP))}}var eh=n(71);var th=Object(_.a)((function(e){return{markerIds:Qd(e,{stateKey:"COLLECTION"}),markerSize:Object(ua.c)(e,{stateKey:"COLLECTION"}),lassoPath:Object(ua.b)(e,{stateKey:"COLLECTION"}),markers:Xd(e,{stateKey:"COLLECTION"}),hasHighlight:Ft(e)}}),(function(e){return{dispatch:e,onLassoPathChange:t=>e(Jd("COLLECTION",t)),onMarkerClick:({id:t,highlighted:n},r)=>{r.stopPropagation(),r.metaKey||r.ctrlKey?e(n?Object(eh.e)(t):Object(eh.f)(t,!0)):e(Object(eh.f)(t))},onMarkerSizeChange:t=>e(Object(ca.markerSizeChanged)("COLLECTION",t)),onViewByCountryChange:t=>e(Object(ca.viewByCountry)("COLLECTION",t))}}),(function(e,{dispatch:t,...n},r){return{...r,...e,...n,onClick:({originalEvent:n})=>{var r;(r=n.target).ownerSVGElement&&r.ownerSVGElement.parentNode&&r.ownerSVGElement.parentNode.classList.contains("leaflet-marker-icon")||(e.hasHighlight?t(Object(eh.d)()):e.lassoPath&&t(Jd("COLLECTION",void 0)))}}}))(e=>i.a.createElement(zd,{className:"wgsa-collection-viewer-map",stateKey:"COLLECTION",lassoPath:e.lassoPath,markers:e.markers,markerIds:e.markerIds,markerComponent:Ud,markerSize:e.markerSize,onClick:e.onClick,onLassoPathChange:e.onLassoPathChange,onMarkerClick:e.onMarkerClick,controls:i.a.createElement(Gd,{className:jd,activeClassName:"wgsa-pane-button--active",markerSize:e.markerSize,onMarkerSizeChange:e.onMarkerSizeChange,onViewByCountryChange:e.onViewByCountryChange})},e.children)),nh=(n(1037),function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");return"function"!=typeof t.componentWillReceiveProps?e:i.a.Profiler?(t.UNSAFE_componentWillReceiveProps=t.componentWillReceiveProps,delete t.componentWillReceiveProps,e):e});function rh(e){var t=[];return i.a.Children.forEach(e,(function(e){t.push(e)})),t}function oh(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function ih(e,t,n){var r=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}})),r}var ah=n(178),sh=n.n(ah),lh={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},ch={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},uh=[],dh=[];function hh(e,t,n){e.addEventListener(t,n,!1)}function ph(e,t,n){e.removeEventListener(t,n,!1)}"undefined"!=typeof window&&"undefined"!=typeof document&&function(){var e=document.createElement("div").style;function t(t,n){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];for(var i in o)if(i in e){n.push(o[i]);break}}}"AnimationEvent"in window||(delete lh.animationstart.animation,delete ch.animationend.animation),"TransitionEvent"in window||(delete lh.transitionstart.transition,delete ch.transitionend.transition),t(lh,uh),t(ch,dh)}();var fh={startEvents:uh,addStartEventListener:function(e,t){0!==uh.length?uh.forEach((function(n){hh(e,n,t)})):window.setTimeout(t,0)},removeStartEventListener:function(e,t){0!==uh.length&&uh.forEach((function(n){ph(e,n,t)}))},endEvents:dh,addEndEventListener:function(e,t){0!==dh.length?dh.forEach((function(n){hh(e,n,t)})):window.setTimeout(t,0)},removeEndEventListener:function(e,t){0!==dh.length&&dh.forEach((function(n){ph(e,n,t)}))}},mh=n(500),gh=n.n(mh),vh=0!==fh.endEvents.length,yh=["Webkit","Moz","O","ms"],bh=["-webkit-","-moz-","-o-","ms-",""];function _h(e,t){for(var n=window.getComputedStyle(e,null),r="",o=0;o<bh.length&&!(r=n.getPropertyValue(bh[o]+t));o++);return r}function wh(e){if(vh){var t=parseFloat(_h(e,"transition-delay"))||0,n=parseFloat(_h(e,"transition-duration"))||0,r=parseFloat(_h(e,"animation-delay"))||0,o=parseFloat(_h(e,"animation-duration"))||0,i=Math.max(n+t,o+r);e.rcEndAnimTimeout=setTimeout((function(){e.rcEndAnimTimeout=null,e.rcEndListener&&e.rcEndListener()}),1e3*i+200)}}function Ch(e){e.rcEndAnimTimeout&&(clearTimeout(e.rcEndAnimTimeout),e.rcEndAnimTimeout=null)}var Sh=function(e,t,n){var r="object"===(void 0===t?"undefined":sh()(t)),o=r?t.name:t,i=r?t.active:t+"-active",a=n,s=void 0,l=void 0,c=gh()(e);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(a=n.end,s=n.start,l=n.active),e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Ch(e),c.remove(o),c.remove(i),fh.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,a&&a())},fh.addEndEventListener(e,e.rcEndListener),s&&s(),c.add(o),e.rcAnimTimeout=setTimeout((function(){e.rcAnimTimeout=null,c.add(i),l&&setTimeout(l,0),wh(e)}),30),{stop:function(){e.rcEndListener&&e.rcEndListener()}}};Sh.style=function(e,t,n){e.rcEndListener&&e.rcEndListener(),e.rcEndListener=function(t){t&&t.target!==e||(e.rcAnimTimeout&&(clearTimeout(e.rcAnimTimeout),e.rcAnimTimeout=null),Ch(e),fh.removeEndEventListener(e,e.rcEndListener),e.rcEndListener=null,n&&n())},fh.addEndEventListener(e,e.rcEndListener),e.rcAnimTimeout=setTimeout((function(){for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);e.rcAnimTimeout=null,wh(e)}),0)},Sh.setTransition=function(e,t,n){var r=t,o=n;void 0===n&&(o=r,r=""),r=r||"",yh.forEach((function(t){e.style[t+"Transition"+r]=o}))},Sh.isCssAnimationSupported=vh;var Eh=Sh,xh={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},kh={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},Oh=function(e){function t(){return Jr()(this,t),ro()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return io()(t,e),to()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){xh.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){xh.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){xh.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=Vo.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,t()};if((vh||!o.animation[e])&&i&&o[kh[e]]){var l=a?i[e]:i+"-"+e,c=l+"-active";a&&i[e+"Active"]&&(c=i[e+"Active"]),this.stopper=Eh(r,{name:l,active:c},s)}else this.stopper=o.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(i.a.Component);Oh.propTypes={children:d.a.any,animation:d.a.any,transitionName:d.a.any};var Th=Oh,Mh="rc_animate_"+Date.now();function Ph(e){var t=e.children;return i.a.isValidElement(t)&&!t.key?i.a.cloneElement(t,{key:Mh}):t}function Lh(){}var Nh=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Ah.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:rh(Ph(e))},n.childrenRefs={},n}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=rh(Ph(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var o,a,s,l,c=r.showProp,u=this.currentlyAnimatingKeys,d=r.exclusive?rh(Ph(r)):this.state.children,h=[];c?(d.forEach((function(e){var t=e&&oh(n,e.key),r=void 0;(r=t&&t.props[c]||!e.props[c]?t:i.a.cloneElement(t||e,hi()({},c,!0)))&&h.push(r)})),n.forEach((function(e){e&&oh(d,e.key)||h.push(e)}))):(o=n,a=[],s={},l=[],d.forEach((function(e){e&&oh(o,e.key)?l.length&&(s[e.key]=l,l=[]):l.push(e)})),o.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(s,e.key)&&(a=a.concat(s[e.key])),a.push(e)})),h=a=a.concat(l)),this.setState({children:h}),n.forEach((function(e){var n=e&&e.key;if(!e||!u[n]){var r=e&&oh(d,n);if(c){var o=e.props[c];if(r)!ih(d,n,c)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}})),d.forEach((function(e){var r=e&&e.key;if(!e||!u[r]){var o=e&&oh(n,r);if(c){var i=e.props[c];if(o)!ih(n,r,c)&&i&&t.keysToLeave.push(r);else i&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?ih(e,t,n):oh(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return i.a.createElement(Th,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var o=t.component;if(o){var a=t;return"string"==typeof o&&(a=co()({className:t.className,style:t.style},t.componentProps)),i.a.createElement(o,a,r)}return r[0]||null}}]),t}(i.a.Component);Nh.isAnimate=!0,Nh.propTypes={className:d.a.string,style:d.a.object,component:d.a.any,componentProps:d.a.object,animation:d.a.object,transitionName:d.a.oneOfType([d.a.string,d.a.object]),transitionEnter:d.a.bool,transitionAppear:d.a.bool,exclusive:d.a.bool,transitionLeave:d.a.bool,onEnd:d.a.func,onEnter:d.a.func,onLeave:d.a.func,onAppear:d.a.func,showProp:d.a.string,children:d.a.node},Nh.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:Lh,onEnter:Lh,onLeave:Lh,onAppear:Lh};var Ah=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=rh(Ph(r));e.isValidChildByKey(o,t)?"appear"===n?xh.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):xh.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,i,a,s=rh(Ph(n));if(e.isValidChildByKey(s,t))e.performEnter(t);else{var l=function(){xh.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=s,i=n.showProp,(a=r.length===o.length)&&r.forEach((function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n?a=!1:e.key!==n.key?a=!1:i&&e.props[i]!==n.props[i]&&(a=!1))})),a?l():e.setState({children:s},l)}}}},Ih=nh(Nh),Rh=n(68);const Dh={icon:d.a.node,component:d.a.elementType,title:d.a.string},jh=({children:e,className:t,navStyle:n,panes:r,style:o})=>{const[a,s]=i.a.useState(null),[l,c]=i.a.useState(!1),u=null!==a;return i.a.createElement("div",{className:C()("libmr-SidePane",{active:u,open:l},t),style:o},i.a.createElement("div",{className:"libmr-SidePane-main"},e),i.a.createElement(Ih,{transitionName:"libmr-SidePane",onEnd:()=>c(u)},u&&i.a.createElement("aside",{key:"aside",className:"libmr-SidePane-aside"},i.a.createElement(wt.a,{className:"libmr-SidePane-close",onClick:()=>s(null),title:"Close"},i.a.createElement("i",{className:"material-icons"},"close")),i.a.createElement("div",{className:"libmr-SidePane-contents"},r[a].title&&i.a.createElement("h3",{className:"libmr-SidePane-title"},r[a].title),i.a.createElement("div",{className:"libmr-SidePane-contents-overflow"},i.a.createElement(r[a].component))))),i.a.createElement("nav",{className:"libmr-SidePane-nav",style:n},r.map(({icon:e},t)=>i.a.createElement(Rh.a,{key:t,active:a===t,onClick:()=>s(a===t?null:t)},e))))};jh.propTypes={children:d.a.node,className:d.a.string,navStyle:d.a.object,panes:d.a.arrayOf(d.a.shape(Dh)),style:d.a.object};var zh=jh,Fh=(n(1039),({active:e,text:t,contact:n,contactStyle:r,className:o,onClick:a})=>i.a.createElement("button",{title:name,className:C()(o,"mdl-chip mdl-chip--contact",{"mdl-chip--active":e}),onClick:e=>a(e)},n&&i.a.createElement("span",{className:"mdl-chip__contact",style:r},n),i.a.createElement("span",{className:"mdl-chip__text"},t)));Object($.createSelector)(pn,me.a,(e,t)=>e.map(e=>({genome:e,colour:t[e.id].colour})));const Bh=Object($.createSelector)(pn,me.a,(e,t)=>Array.from(e.reduce((e,n)=>{if(n.id in t){const r=t[n.id].colour,o=e.get(r)||[];return o.push(n),e.set(r,o)}return e},new Map).entries())),Wh=e=>(e=>Object(K.f)(e).summary)(e).isExpanded;var Hh=n(262);function Uh(e){return e.map(([e,t])=>({colour:e,value:t.length,genomes:t}))}var Gh=Object(_.a)((function(e){return{summary:Bh(e),isExpanded:Wh(e)}}),(function(e){return{onClick:t=>e(Object(Hh.b)(t)),onSliceClick:t=>e(Object(mt.f)(t))}}))(({summary:e,isExpanded:t,onClick:n,onSliceClick:r})=>i.a.createElement("div",{title:t?"":"Summary",className:C()("wgsa-collection-viewer-summary mdl-shadow--2dp",{"wgsa-collection-viewer-summary--expanded":t}),onClick:e=>{e.stopPropagation(),t||n(!0)}},t&&i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:e=>{e.stopPropagation(),n(!1)},title:"Close summary"},i.a.createElement("i",{className:"material-icons"},"clear")),i.a.createElement(Hd,{className:"wgsa-summary-chart",slices:Uh(e),borderWidth:1.5,onSliceClick:(e,n)=>{t&&(n.preventDefault(),n.stopPropagation(),r(e.genomes.map(e=>e.uuid)))}}),i.a.createElement("div",{className:"wgsa-summary-list"},e.map(([e,t],n)=>Object(ir.d)(e)&&i.a.createElement(Fh,{key:n,className:C()("wgsa-summary-list__chip",{"mdl-chip--inverse":e===ir.k}),text:Object(ir.d)(e),contact:t.length,contactStyle:{background:e},onClick:e=>{e.preventDefault(),e.stopPropagation(),r(t.map(e=>e.uuid))}}))))),Vh=(n(1041),n(1043),n(1045),n(244));function Yh(e,t,...n){return(e+(t?` ${e}--selected `:" ")+n.join(" ")).trim()}function qh(e,t){const{group:n,headerClasses:r}=e;return Yh("wgsa-table-header",t,r,n?"wgsa-table-header--group":null)}const Zh=Yh.bind(null,"wgsa-table-cell"),$h=({valueGetter:e,display:t=e},n)=>t(n);function Kh(e){return e.group?e.system||e.columns.some(e=>e.valueGetter&&!e.hidden):!e.hidden}var Xh=i.a.createClass({displayName:"FixedTable",propTypes:{height:i.a.PropTypes.number,width:i.a.PropTypes.number,tableProps:i.a.PropTypes.object,columns:i.a.PropTypes.array,data:i.a.PropTypes.array,calculatedColumnWidths:i.a.PropTypes.array,getDefaultHeaderContent:i.a.PropTypes.func,rowClickHandler:i.a.PropTypes.func,activeColumns:i.a.PropTypes.object},handleRowClick(e,t){e.stopPropagation(),this.props.rowClickHandler(this.props.data[t])},isSelected(e){if(e.system)return!1;const t=(e.group?e.columns:[e]).filter(e=>Kh(e)&&e.valueGetter);return!!t.length&&t.every(e=>this.props.activeColumns.has(e))},renderHeader(e,t){const{getHeaderContent:n}=e,r=this.isSelected(e);return i.a.createElement(Vh.Cell,Vn()({},t,{className:qh(e,r)}),n?n(e):this.props.getDefaultHeaderContent(e))},renderCell(e,{rowIndex:t,width:n,height:r}){const{cellClasses:o,getCellContents:a=$h}=e,s=this.isSelected(e);return i.a.createElement(Vh.Cell,Vn()({width:n,height:r},{className:Zh(s,o)}),a(e,this.props.data[t]))},renderColumns(e){return e.filter(Kh).map(e=>e.group?i.a.createElement(Vh.ColumnGroup,{key:e.columnKey,fixed:e.fixed,header:t=>this.renderHeader(e,t)},this.renderColumns(e.columns)):i.a.createElement(Vh.Column,Vn()({key:e.columnKey,header:t=>this.renderHeader(e,t),cell:t=>this.renderCell(e,t),width:e.fixedWidth||e.width||96,flexGrow:0},e)))},render(){const{data:e,columns:t,height:n,width:r,tableProps:o}=this.props;return i.a.createElement(Vh.Table,Vn()({rowsCount:e.length,rowHeight:28,headerHeight:28+(t.length&&t[0].group?0:24),groupHeaderHeight:24,height:n,width:r,className:"wgsa-table",rowClassNameGetter:()=>"wgsa-table-row",onRowClick:this.handleRowClick},o),this.renderColumns(t))}}),Qh=n(115);const Jh=Object($.createSelector)(e=>Object(fe.i)(e).columns,pn,K.a,fe.c,(e,t,n,r)=>e.map(e=>function e(t,n){if(t.isSelected=n.activeColumns.has(t),t.group){for(let r=0;r<t.columns.length;r++)t.columns[r]=e(t.columns[r],n);return t}return t.addState?t.addState(n):n.genomes.length?Object(Qh.a)(t,n):t}(e,{genomes:t,collection:n,activeColumns:r})));const ep=e=>e.preventDefault(),tp=i.a.createClass({displayName:"Table",propTypes:{height:i.a.PropTypes.number,width:i.a.PropTypes.number,tableProps:i.a.PropTypes.object,data:i.a.PropTypes.array,columns:i.a.PropTypes.array,handleHeaderClick:i.a.PropTypes.func,dispatch:i.a.PropTypes.func,filter:i.a.PropTypes.object},componentDidMount(){componentHandler.upgradeDom()},shouldComponentUpdate(e){const{data:t,columns:n,filter:r,width:o,height:i}=this.props;return t!==e.data||n!==e.columns||r!==e.filter||o!==e.width||i!==e.height},componentDidUpdate(){componentHandler.upgradeDom()},render(){return i.a.createElement("section",{onClick:this.props.onClick,onWheel:ep,onTouchMove:ep},i.a.createElement(Z.a,null,i.a.createElement(Xh,Vn()({key:this.props.tableName},this.props,{rowClickHandler:this.props.onRowClick,getDefaultHeaderContent:this.props.getDefaultHeaderContent}))),0===this.props.data.length&&i.a.createElement("p",{style:{width:this.props.width},className:"wgsa-text-overlay wgsa-hipster-style"},"No matching results."))}}),np=({column:e,onClick:t})=>i.a.createElement("button",{title:e.headerTitle,className:"wgsa-selectable-column-heading",onClick:n=>t(n,e)},Object(ge.a)(e));var rp=Object(_.a)((function(e){const t=Object(fe.i)(e),{activeColumn:n,activeColumns:r,...o}=t;return{...o,activeColumns:n?new Set([n]):r,collection:Object(K.a)(e),columns:Jh(e),data:pn(e),fixedGroupWidth:Object(fe.f)(e),tableName:Object(fe.j)(e)}}),null,(function(e,{dispatch:t},n){const{data:r,columns:o,activeColumns:a,tableName:s}=e;return Object(ge.d)(o,n.width,e.fixedGroupWidth),{...n,activeColumns:a,data:r,tableName:s,columns:o,onRowClick:e=>{return t((n=e,(e,t)=>{const r=t(),o=jt(r);1===o.size&&o.has(n.uuid)?e(Object(eh.d)()):e(Object(eh.f)([n.uuid]))}));var n},getDefaultHeaderContent:n=>i.a.createElement(np,{column:n,onClick:(n,r)=>{if(n.stopPropagation(),r.noAction)return;const o=r.onHeaderClick||e.onHeaderClick;t(o(n,r))}})}}))(tp),op=n(215);const ip=Object($.createSelector)(xe,e=>Object(K.f)(e).timeline.visible,fe.j,(e,t,n)=>!e||null!==t&&!0!==t?n:"timeline"),ap=Object($.createSelector)(ip,fe.l,(e,t)=>"timeline"!==e&&t);var sp=n(44);var lp=Object(_.a)((function(e){return{visible:ap(e),active:Object(fe.g)(e).multi}}),(function(e){return{toggle:()=>e(Object(sp.h)())}}))(({visible:e,active:t,toggle:n})=>e?i.a.createElement(Rh.a,{active:t,className:"pw-multi-button",onClick:()=>n(),title:"Toggle multiple resistance"},"MDR"):null),cp=n(263);const up={[We.c.metadata]:"list",[We.c.typing]:"list",[We.c.stats]:"list",[We.c.antibiotics]:"local_pharmacy",[We.c.snps]:"local_pharmacy",[We.c.genes]:"local_pharmacy",[We.c.kleborateAMR]:"local_pharmacy",[We.c.kleborateAMRGenotypes]:"local_pharmacy",[We.c.vista]:"local_pharmacy",[We.c.timeline]:"access_time"},dp=Object(_.a)(e=>{const t=Object(X.e)(e);return{amr:Object(X.d)(e)&&!t,kleborate:t,kleborateAMRGenotypes:t,vista:Object(X.g)(e),metadata:Object(X.f)(e),timeline:xe(e),typing:Object(fe.k)(e),visibleView:ip(e)}},e=>({showTable:t=>e(Object(sp.g)(t)),_showTimeline:t=>e(Object(cp.b)(t))}))(({visibleView:e,showTable:t,_showTimeline:n,metadata:r,timeline:o,typing:a,kleborate:s,vista:l,amr:c})=>i.a.createElement(Zn,{direction:"up",button:i.a.createElement(op.a,{direction:"up"},i.a.createElement("i",{className:"material-icons"},up[e]),We.b[e])},r&&i.a.createElement("button",{onClick:()=>t(We.c.metadata)},"Metadata"),a&&i.a.createElement("button",{onClick:()=>t(We.c.typing)},"Typing"),i.a.createElement("button",{onClick:()=>t(We.c.stats)},"Stats"),(c||s)&&i.a.createElement("hr",null),c&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>t(We.c.antibiotics)},"Antibiotics"),i.a.createElement("button",{onClick:()=>t(We.c.snps)},"SNPs"),i.a.createElement("button",{onClick:()=>t(We.c.genes)},"Genes")),s&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:()=>t(We.c.kleborateAMR)},"Antibiotics"),i.a.createElement("button",{onClick:()=>t(We.c.kleborateAMRGenotypes)},"AMR Genotypes")),l&&i.a.createElement("hr",null),l&&i.a.createElement("button",{onClick:()=>t(We.c.vista)},"Virulence"),o&&i.a.createElement(i.a.Fragment,null,i.a.createElement("hr",null),i.a.createElement("button",{onClick:n},"Timeline")))),hp=()=>i.a.createElement("div",{className:"wgsa-table-switcher",onClick:e=>e.stopPropagation()},i.a.createElement(dp,null),i.a.createElement(lp,null));hp.displayName="TableSwitcher";var pp=hp,fp=(n(1047),n(74)),mp=n.n(fp),gp=(n(846),n(847),n(216)),vp=n(107);mp.a.defaults.timeline=mp.a.defaults.scatter;const yp={};mp.a.controllers.timeline=mp.a.controllers.scatter.extend({dataElementType:mp.a.elements.Point.extend({draw(){const e=this._view;if(e.skip)return;const t=this._chart.ctx,n=e.radius,r=this._chart.config.data.datasets[this._datasetIndex],o=r.data[this._index].id,i=r.styles[o]||yp,a=r.highlightedIds.has(o);Object(gp.a)(t,e.x,e.y,n,i.shape,i.colour,a&&vp.b.primaryColour)}})});const bp={day:1,week:7,month:30,quarter:90,year:365};class _p extends i.a.Component{componentDidMount(){this.createChart(),this.props.addExportCallback&&this.props.addExportCallback("timeline-png",()=>this.domRef.toDataURL())}componentDidUpdate(e){const t=e.width!==this.props.width||e.height!==this.props.height,n=e.bounds!==this.props.bounds||e.chartData!==this.props.chartData||e.unit!==this.props.unit,r=e.highlightedIds!==this.props.highlightedIds||e.nodeSize!==this.props.nodeSize||e.styles!==this.props.styles;t&&this.resizeChart(),(n||r)&&this.updateChart(n),(t||n)&&this.resetChartRanges(),this.props.viewport!==e.viewport&&this.props.viewport&&this.restoreViewport(),this.chart.update()}componentWillUnmount(){this.props.removeExportCallback&&this.props.removeExportCallback("timeline-png"),this.destroyChart()}getYTicks(e=0){const t=2*this.props.nodeSize+2;return{min:e,max:(this.props.height-40)/t+e}}getPanZoomRanges(e){const t={pan:{},zoom:{}},n=2*this.props.nodeSize+2;t.pan.rangeMin={x:e.min.toDate(),y:0},t.pan.rangeMax={x:e.max.toDate(),y:this.props.maxStackSize+1};const r=(this.props.width-40)/n,o=(this.props.height-40)/n;return t.zoom.rangeMin={x:r*bp[this.props.unit]*864e5,y:o},t.zoom.rangeMax={x:this.props.bounds.max.diff(this.props.bounds.min),y:this.props.maxStackSize},t}getChartBounds(){const e=Math.max(1,this.props.bounds.max.diff(this.props.bounds.min,"days")),t=Math.ceil((this.props.nodeSize+2)*e/(this.props.width-40));return{min:de()(this.props.bounds.min).subtract(t,"day"),max:de()(this.props.bounds.max).add(t,"day")}}createDatasets(){return{labels:[],datasets:[{label:"Dataset",pointRadius:this.props.nodeSize/2,pointHoverRadius:this.props.nodeSize/2+1,data:this.props.chartData,highlightedIds:this.props.highlightedIds,styles:this.props.styles}]}}createChart(){const e=this.domRef.getContext("2d");this.domRef.height=this.props.height,this.domRef.width=this.props.width;const t=this.getChartBounds(),n=this.getPanZoomRanges(t),{viewport:r}=this.props;this.chart=new mp.a(e,{type:"timeline",data:this.createDatasets(),options:{animation:!1,layout:{padding:{left:0,right:0,top:-24,bottom:0}},legend:{display:!1},maintainAspectRatio:!1,onClick:(e,[t])=>{const n=e.metaKey||e.ctrlKey;if(t){const e=t._chart.config.data.datasets[t._datasetIndex].data[t._index];this.props.setHighlightedIds([e.id],n)}else this.props.highlightedIds.size&&!n&&this.props.setHighlightedIds()},pan:{enabled:!0,mode:"xy",rangeMin:n.pan.rangeMin,rangeMax:n.pan.rangeMax,onPan:()=>this.saveViewport()},responsive:!1,responsiveAnimationDuration:0,scales:{xAxes:[{position:"bottom",time:{unit:this.props.unit,min:r?r.minx:t.min,max:r?r.maxx:t.max},ticks:{maxRotation:0,autoSkip:!0,autoSkipPadding:16},type:"time"}],yAxes:[{display:!1,ticks:r?{min:r.miny,max:r.maxy}:this.getYTicks()}]},title:{display:!0,text:""},tooltips:{displayColors:!1,callbacks:{title:(e,t)=>e.map(e=>t.datasets[e.datasetIndex].data[e.index].x.toLocaleDateString()).join(", "),label:(e,t)=>{const n=t.datasets[e.datasetIndex].data[e.index];return this.props.getTooltip(n)}}},zoom:{enabled:!0,drag:!1,mode:"xy",rangeMin:n.zoom.rangeMin,rangeMax:n.zoom.rangeMax,onZoom:()=>this.saveViewport()}}}),window.cgps_microreact_timelineChart=this.chart}updateChart(e){if(e){const e=this.getChartBounds();this.chart.scales["x-axis-1"].options.time.min=e.min,this.chart.scales["x-axis-1"].options.time.max=e.max,this.chart.scales["x-axis-1"].options.time.unit=this.props.unit;const t=2*this.props.nodeSize+2,n=(this.chart.chartArea.bottom-this.chart.chartArea.top)/t;this.chart.scales["y-axis-1"].options.ticks.min=0,this.chart.scales["y-axis-1"].options.ticks.max=n}this.chart.config.data=this.createDatasets(),this.chart.clear()}resizeChart(){const e=this.chart.scales["y-axis-1"].options.ticks.min||0;this.chart.resize(),Object.assign(this.chart.scales["y-axis-1"].options.ticks,this.getYTicks(e))}resetChartRanges(){const e=this.getChartBounds(),t=this.getPanZoomRanges(e);Object.assign(this.chart.config.options.pan,t.pan),Object.assign(this.chart.config.options.zoom,t.zoom)}destroyChart(){this.chart&&(this.chart.destroy(),this.chart=null)}saveViewport(){this.props.onViewportChange({minx:this.chart.scales["x-axis-1"].options.time.min.valueOf(),maxx:this.chart.scales["x-axis-1"].options.time.max.valueOf(),miny:this.chart.scales["y-axis-1"].options.ticks.min,maxy:this.chart.scales["y-axis-1"].options.ticks.max})}restoreViewport(){this.chart.scales["x-axis-1"].options.time.min=this.props.viewport.minx,this.chart.scales["x-axis-1"].options.time.max=this.props.viewport.maxx,this.chart.scales["y-axis-1"].options.ticks.min=this.props.viewport.miny,this.chart.scales["y-axis-1"].options.ticks.max=this.props.viewport.maxy}render(){const{width:e,height:t}=this.props;return i.a.createElement("div",{className:"libmr-Timeline-plot",style:{width:e,height:t}},i.a.createElement("canvas",{ref:e=>{this.domRef=e}}))}}_p.displayName="TimelineChart",_p.propTypes={addExportCallback:d.a.func,bounds:d.a.shape({min:d.a.instanceOf(de.a).isRequired,max:d.a.instanceOf(de.a).isRequired}),chartData:d.a.arrayOf(d.a.shape({x:d.a.instanceOf(Date).isRequired,y:d.a.number.isRequired,id:d.a.string.isRequired})).isRequired,getTooltip:d.a.func.isRequired,height:d.a.number.isRequired,highlightedIds:d.a.instanceOf(Set).isRequired,maxStackSize:d.a.number.isRequired,nodeSize:d.a.number.isRequired,onViewportChange:d.a.func.isRequired,removeExportCallback:d.a.func,setHighlightedIds:d.a.func.isRequired,styles:d.a.object.isRequired,unit:d.a.string.isRequired,width:d.a.number.isRequired,viewport:d.a.shape({minx:d.a.number.isRequired,maxx:d.a.number.isRequired,miny:d.a.number.isRequired,maxy:d.a.number.isRequired})};var wp=n(166),Cp=(n(1049),n(1051),n(501));const Sp=e=>i.a.createElement(Pn.a,{id:e.id,className:"libmr-RadioButton"},i.a.createElement(Cp.Radio,{onChange:e.onChange,checked:e.checked}),i.a.createElement("label",null,e.label));Sp.propTypes={checked:d.a.bool,id:d.a.string,label:d.a.string,onChange:d.a.func};var Ep=Sp;const xp=e=>i.a.createElement("div",{className:C()("libmr-RadioSelect",e.className)},i.a.createElement("ul",null,e.items.map(t=>i.a.createElement("li",{key:t.value},i.a.createElement(Ep,{id:t.value,onChange:e.onChange?()=>e.onChange(t.value):null,label:t.label,checked:e.value===t.value||t.selected||!1}))),e.children));xp.propTypes={children:d.a.node,className:d.a.string,items:d.a.arrayOf(d.a.shape({label:d.a.string,value:d.a.string,selected:d.a.bool})),onChange:d.a.func,value:d.a.string};var kp=xp,Op=n(165),Tp=n(36);const Mp={year:"Year",quarter:"Quarter",month:"Month",week:"Week",day:"Day"},Pp={1:"1 second",3:"3 seconds",10:"10 seconds",20:"20 seconds",30:"30 seconds",60:"60 seconds"},Lp=Object.keys(Mp).map(e=>({value:e,label:Mp[e]}));class Np extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={isPlaying:!1,isMovingWindow:!1},t}componentDidUpdate(e,t){t.isPlaying!==this.state.isPlaying&&(this.state.isPlaying?this.startTimelinePlay():this.stopTimelinePlay())}componentWillUnmount(){this.stopTimelinePlay()}moveBounds(e,t){const n=this.props.bounds.min+e,r=this.props.bounds.max+t;return n>=0&&r<=this.props.timelineMax&&this.props.onBoundsChange({min:n,max:r}),r>=this.props.timelineMax}togglePlayTimeline(e){this.setState({isPlaying:!this.state.isPlaying,isMovingWindow:e.metaKey||e.ctrlKey})}startTimelinePlay(){this.timerTick(!0)}stopTimelinePlay(){this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=null}timerTick(e=!1){const t=this.moveBounds(this.state.isMovingWindow?1:0,1),n=1e3*parseInt(this.props.speed,10);t?e?(this.props.onBoundsChange({min:0,max:1}),this.timeoutID=setTimeout(()=>this.timerTick(),n)):this.setState({isPlaying:!1}):this.timeoutID=setTimeout(()=>this.timerTick(),n)}render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(Rh.a,{title:"Reset zoom",onClick:()=>this.props.onBoundsChange({min:this.props.bounds.min,max:this.props.bounds.max})},i.a.createElement("i",{className:"material-icons"},"zoom_out_map")),i.a.createElement("div",{className:"libmr-Panel-control-group"},i.a.createElement(Rh.a,{title:"Skip to end",onClick:()=>this.props.onBoundsChange({min:this.props.timelineMax-(this.props.bounds.max-this.props.bounds.min),max:this.props.timelineMax})},i.a.createElement("i",{className:"material-icons"},"skip_next")),i.a.createElement(Rh.a,{title:"Fast-forward",onClick:()=>this.moveBounds(1,1)},i.a.createElement("i",{className:"material-icons"},"fast_forward")),i.a.createElement(Rh.a,{active:this.state.isPlaying,onClick:e=>this.togglePlayTimeline(e),title:this.state.isPlaying?"Pause":"Play timeline. Hold Ctrl/Cmd + click for moving window."},i.a.createElement("i",{className:"material-icons"},this.state.isPlaying?"pause":"play_arrow")),i.a.createElement(Rh.a,{title:"Rewind",onClick:()=>this.moveBounds(-1,-1)},i.a.createElement("i",{className:"material-icons"},"fast_rewind")),i.a.createElement(Rh.a,{title:"Back to start",onClick:()=>this.props.onBoundsChange({min:0,max:this.props.bounds.max-this.props.bounds.min})},i.a.createElement("i",{className:"material-icons"},"skip_previous"))),i.a.createElement("div",{className:"libmr-Panel-control-group"},i.a.createElement(Op.a,{active:!1,align:"right",size:"narrow",summary:i.a.createElement("strong",null,Pp[this.props.speed]),title:"Speed"},i.a.createElement(kp,{items:Object.keys(Pp).map(e=>({value:e,label:`1 ${this.props.unit}/${Pp[e]}`})),onChange:this.props.onSpeedChange,value:this.props.speed})),i.a.createElement(Op.a,{active:!1,align:"right",size:"narrow",summary:i.a.createElement("strong",null,Mp[this.props.unit]),title:"Group by"},i.a.createElement(kp,{items:Lp,onChange:this.props.onUnitChange,value:this.props.unit})),i.a.createElement(Op.a,{align:"right",title:"Nodes"},i.a.createElement(wp.a,{label:"Node size",onChange:this.props.onNodeSizeChange,min:this.props.minNodeSize,max:this.props.maxNodeSize,unit:"px",value:this.props.nodeSize}))))}}Np.displayName="TimelineControls",Np.propTypes={bounds:d.a.shape({min:d.a.number.isRequired,max:d.a.number.isRequired}).isRequired,maxNodeSize:d.a.number,minNodeSize:d.a.number,nodeSize:d.a.number.isRequired,onBoundsChange:d.a.func.isRequired,onNodeSizeChange:d.a.func.isRequired,onSpeedChange:d.a.func.isRequired,onUnitChange:d.a.func.isRequired,speed:d.a.string.isRequired,timelineMax:d.a.number.isRequired,unit:d.a.string.isRequired},Np.defaultProps={maxNodeSize:Tp.a.MAX_NODE_SIZE,minNodeSize:Tp.a.MIN_NODE_SIZE,nodeSize:Tp.a.NODE_SIZE};n(1054);var Ap=n(503),Ip=function(e,t){return(Ip=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var Rp=function(){return(Rp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};var Dp=n(857),jp={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0},zp=function(e){function t(t){var n=e.call(this,t)||this;return n.resizing=!1,n.resizingPosition={x:0,y:0},n.refDraggable=function(e){e&&(n.draggable=e)},n.refResizable=function(e){e&&(n.resizable=e)},n.state={original:{x:0,y:0},bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}return function(e,t){function n(){this.constructor=e}Ip(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.componentDidMount=function(){var e=this.getOffsetFromParent(),t=e.left,n=e.top,r=this.getDraggablePosition(),o=r.x,i=r.y;this.draggable.setState({x:o-t,y:i-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:void 0===this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:void 0===this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){if(this.props.onDragStart&&this.props.onDragStart(e,t),this.props.bounds){var n,r=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)n=r;else{if("body"===this.props.bounds){var i=r.getBoundingClientRect(),a=i.left,s=i.top,l=document.body.getBoundingClientRect(),c=-(a-r.offsetLeft*o-l.left)/o,u=-(s-r.offsetTop*o-l.top)/o,d=(document.body.offsetWidth-this.resizable.size.width*o)/o+c,h=(document.body.offsetHeight-this.resizable.size.height*o)/o+u;return this.setState({bounds:{top:u,right:d,bottom:h,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=r.getBoundingClientRect(),f=p.left,m=p.top,g=-(f-r.offsetLeft*o)/o,v=-(m-r.offsetTop*o)/o;d=(window.innerWidth-this.resizable.size.width*o)/o+g,h=(window.innerHeight-this.resizable.size.height*o)/o+v;return this.setState({bounds:{top:v,right:d,bottom:h,left:g}})}n=document.querySelector(this.props.bounds)}if(n instanceof HTMLElement&&r instanceof HTMLElement){var y=n.getBoundingClientRect(),b=y.left,_=y.top,w=r.getBoundingClientRect(),C=(b-w.left)/o,S=_-w.top;if(this.resizable){var E=this.getOffsetFromParent();this.setState({bounds:{top:S-E.top,right:C+(n.offsetWidth-this.resizable.size.width)-E.left/o,bottom:S+(n.offsetHeight-this.resizable.size.height)-E.top,left:C-E.left/o}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.getOffsetFromParent();this.props.onDrag(e,Rp(Rp({},t),{x:t.x-n.left,y:t.y-n.top}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.getOffsetFromParent(),r=n.left,o=n.top;return this.props.onDragStop(e,Rp(Rp({},t),{x:t.x+r,y:t.y+o}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.resizing=!0;var r=this.props.scale,o=this.getOffsetFromParent(),i=this.getDraggablePosition();if(this.resizingPosition={x:i.x+o.left,y:i.y+o.top},this.setState({original:i}),this.props.bounds){var a=this.getParent(),s=void 0;s="parent"===this.props.bounds?a:"body"===this.props.bounds?document.body:"window"===this.props.bounds?window:document.querySelector(this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var c=this.getMaxSizesFromProps(),u=c.maxWidth,d=c.maxHeight,h=this.getParentSize();if(u&&"string"==typeof u)if(u.endsWith("%")){var p=Number(u.replace("%",""))/100;u=h.width*p}else u.endsWith("px")&&(u=Number(u.replace("px","")));if(d&&"string"==typeof d)if(d.endsWith("%")){p=Number(d.replace("%",""))/100;d=h.width*p}else d.endsWith("px")&&(d=Number(d.replace("px","")));var f=l.getBoundingClientRect(),m=f.left,g=f.top,v="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),y=v.left,b=v.top,_=this.getOffsetWidth(s),w=this.getOffsetHeight(s),C=t.toLowerCase().endsWith("left"),S=t.toLowerCase().endsWith("right"),E=t.startsWith("top"),x=t.startsWith("bottom");if(C&&this.resizable){var k=(m-y)/r+this.resizable.size.width;this.setState({maxWidth:k>Number(u)?u:k})}if(S||this.props.lockAspectRatio&&!C){k=_+(y-m)/r;this.setState({maxWidth:k>Number(u)?u:k})}if(E&&this.resizable){k=(g-b)/r+this.resizable.size.height;this.setState({maxHeight:k>Number(d)?d:k})}if(x||this.props.lockAspectRatio&&!E){k=w+(b-g)/r;this.setState({maxHeight:k>Number(d)?d:k})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,r){var o,i,a=this.getOffsetFromParent();/left/i.test(t)&&(o=this.state.original.x-r.width,this.draggable.setState({x:o}),o+=a.left),/top/i.test(t)&&(i=this.state.original.y-r.height,this.draggable.setState({y:i}),i+=a.top),void 0===o&&(o=this.getDraggablePosition().x+a.left),void 0===i&&(i=this.getDraggablePosition().y+a.top),this.resizingPosition={x:o,y:i},this.props.onResize&&this.props.onResize(e,t,n,r,{x:o,y:i})},t.prototype.onResizeStop=function(e,t,n,r){this.resizing=!1;var o=this.getMaxSizesFromProps(),i=o.maxWidth,a=o.maxHeight;this.setState({maxWidth:i,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,r,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.getOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition();return{left:a.left-o-s.x*e,top:a.top-i-s.y*e}},t.prototype.render=function(){var e=this.props,t=e.disableDragging,n=e.style,r=e.dragHandleClassName,i=e.position,a=e.onMouseDown,s=e.onMouseUp,l=e.dragAxis,c=e.dragGrid,u=e.bounds,d=e.enableUserSelectHack,h=e.cancel,p=e.children,f=(e.onResizeStart,e.onResize,e.onResizeStop,e.onDragStart,e.onDrag,e.onDragStop,e.resizeHandleStyles),m=e.resizeHandleClasses,g=e.resizeHandleComponent,v=e.enableResizing,y=e.resizeGrid,b=e.resizeHandleWrapperClass,_=e.resizeHandleWrapperStyle,w=e.scale,C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(e,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale"]),S=this.props.default?Rp({},this.props.default):void 0;delete C.default;var E,x=t||r?{cursor:"auto"}:{cursor:"move"},k=Rp(Rp(Rp({},jp),x),n),O=this.getOffsetFromParent(),T=O.left,M=O.top;i&&(E={x:i.x-T,y:i.y-M});var P=this.resizing?void 0:E;return Object(o.createElement)(Dp,{ref:this.refDraggable,handle:r?"."+r:void 0,defaultPosition:S,onMouseDown:a,onMouseUp:s,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:l,disabled:t,grid:c,bounds:u?this.state.bounds:void 0,position:P,enableUserSelectHack:d,cancel:h,scale:w},Object(o.createElement)(Ap.Resizable,Rp({},C,{ref:this.refResizable,defaultSize:S,size:this.props.size,enable:v,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:k,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.resizing?this.state.maxHeight:this.props.maxHeight,grid:y,handleWrapperClass:b,handleWrapperStyle:_,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:f,handleClasses:m,handleComponent:g,scale:this.props.scale}),p))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}},t}(o.PureComponent);function Fp(e){let t=0,n=Number.MAX_VALUE;for(const r of e)r.y>t&&(t=r.y),r.y<n&&(n=r.y);const r=.1*(t-n);return{min:n>r?n-r:0,max:t+r}}class Bp extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={isDragging:!1,bounds:null},t}componentDidMount(){this.createChart(),this.debouncedChangeBounds=$r()(e=>{this.state.isDragging&&this.props.onBoundsChange(e)},Tp.a.DELAY)}componentDidUpdate(e){e.width===this.props.width&&e.height===this.props.height||this.resizeChart(),e.chartData!==this.props.chartData&&this.updateChart()}componentWillUnmount(){this.chart.destroy()}createDatasets(){return{labels:this.props.chartData.map(e=>e.label),datasets:[{data:this.props.chartData,get backgroundColor(){return vp.b.primaryColourAlphaMedium},lineTension:0,label:"Histogram"}]}}createChart(){this.domRef.height=this.props.height,this.domRef.width=this.props.width;const e=this.domRef.getContext("2d");this.chart=new mp.a(e,{type:"line",data:this.createDatasets(),options:{animation:!1,layout:{padding:{left:0,right:0,top:-40,bottom:0}},legend:{display:!1},maintainAspectRatio:!1,responsive:!1,scales:{xAxes:[{display:!1}],yAxes:[{display:!1,ticks:Fp(this.props.chartData)}]},title:{display:!0,text:""},tooltips:{callbacks:{title:e=>`${e.map(e=>this.props.chartData[e.index].label).join(" ")}: ${e.length} point${1===e.length?"":"s"}`,label:()=>""},displayColors:!1,yAlign:"bottom"}}})}updateChart(){this.chart.config.data=this.createDatasets();const e=Fp(this.props.chartData);this.chart.config.options.scales.yAxes[0].ticks.min=e.min,this.chart.config.options.scales.yAxes[0].ticks.max=e.max,this.chart.clear(),this.chart.update()}resizeChart(){this.chart.resize()}destroyChart(){this.chart.destroy(),this.chart=null}sliderPositionToBounds(e,t){const n=this.props.chartData.length-1;return{min:e*n/this.props.width,max:(e+t)*n/this.props.width}}render(){const e=this.state.bounds||this.props.bounds,t=this.props.width/Math.max(1,this.props.chartData.length-1),n=e.min*t,r=Math.max(1,e.max-e.min)*t,o=r<128,a=n>this.props.width-64+7,s=n+r<71;return i.a.createElement("div",{className:"libmr-AreaChart",style:{width:this.props.width,height:this.props.height}},i.a.createElement("canvas",{ref:e=>{this.domRef=e}}),i.a.createElement(zp,{bounds:"parent",minWidth:24,position:{x:n,y:0},size:{width:r,height:this.props.height},onDragStart:()=>this.setState({isDragging:!0}),onDrag:(e,t)=>{const n=this.sliderPositionToBounds(t.x>0?t.x:0,r);this.setState({bounds:n}),this.debouncedChangeBounds(n)},onDragStop:(e,t)=>{this.setState({isDragging:!1,bounds:null});const n=this.sliderPositionToBounds(t.x>0?t.x:0,r);this.props.onBoundsChange(n)},onResizeStart:()=>this.setState({isDragging:!0}),onResize:(e,t,n,r,o)=>{const i=this.sliderPositionToBounds(o.x>0?o.x:0,n.offsetWidth);this.setState({bounds:i}),this.debouncedChangeBounds(i)},onResizeStop:(e,t,n,r,o)=>{this.setState({isDragging:!1,bounds:null});const i=this.sliderPositionToBounds(o.x>0?o.x:0,n.offsetWidth);this.props.onBoundsChange(i)},className:C()("libmr-AreaChart-slider",{"has-labels":this.props.showLabels||this.state.isDragging,stacked:o,"stacked-left":a,"stacked-right":s}),enableResizing:{top:!1,right:!0,bottom:!1,left:!0,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},dragAxis:"x",resizeHandleClasses:{left:"libmr-AreaChart-resize-handler",right:"libmr-AreaChart-resize-handler"},resizeHandleStyles:{left:{top:-1,bottom:-1,height:"auto"},right:{top:-1,bottom:-1,height:"auto"}}},i.a.createElement("label",{className:"libmr-AreaChart-label-min"},this.props.formatLabel(this.props.chartData[Math.ceil(e.min)].x)),i.a.createElement("label",{className:"libmr-AreaChart-label-max"},this.props.formatLabel(this.props.chartData[Math.floor(e.max)].x))))}}Bp.displayName="AreaChart",Bp.propTypes={bounds:d.a.shape({min:d.a.number.isRequired,max:d.a.number.isRequired}).isRequired,chartData:d.a.arrayOf(d.a.shape({x:d.a.oneOfType([d.a.instanceOf(Date),d.a.number]).isRequired,y:d.a.number.isRequired,label:d.a.string.isRequired})).isRequired,formatLabel:d.a.func,height:d.a.number.isRequired,onBoundsChange:d.a.func.isRequired,showLabels:d.a.bool,width:d.a.number.isRequired},Bp.defaultProps={formatLabel:e=>e};var Wp=n(181);const Hp=({width:e,height:t,...n})=>{const[r,o]=i.a.useState(!1),a=i.a.useMemo(()=>function(e){if(e.length){let t=e[0].y;for(const{y:n}of e)t=n>t?n:t;return t}return 0}(n.chartData),[n.chartData]);return i.a.createElement(Wp.a,{className:"libmr-Timeline",controlsVisible:r,onControlsVisibleChange:o,secondaryControls:i.a.createElement(Np,{bounds:n.bounds,nodeSize:n.nodeSize,onBoundsChange:n.onBoundsChange,onNodeSizeChange:n.onNodeSizeChange,onSpeedChange:n.onSpeedChange,onUnitChange:n.onUnitChange,speed:n.speed,timelineMax:n.histogram.length-1,unit:n.unit}),style:{width:e,height:t},zoomControls:!1},i.a.createElement(_p,{addExportCallback:n.addExportCallback,bounds:n.momentBounds,chartData:n.chartData,getTooltip:n.getTooltip,height:t-56,highlightedIds:n.highlightedIds,maxStackSize:a,nodeSize:n.nodeSize,onViewportChange:n.onViewportChange,removeExportCallback:n.removeExportCallback,setHighlightedIds:n.setHighlightedIds,styles:n.styles,unit:n.unit,viewport:n.viewport,width:e-16}),i.a.createElement(Bp,{bounds:n.bounds,chartData:n.histogram,formatLabel:ve,height:48,onBoundsChange:n.onBoundsChange,width:e-16,showLabels:r}),n.children)};Hp.displayName="Timeline",Hp.propTypes={addExportCallback:d.a.func,bounds:d.a.shape({min:d.a.number.isRequired,max:d.a.number.isRequired}),chartData:d.a.arrayOf(d.a.shape({x:d.a.instanceOf(Date).isRequired,y:d.a.number.isRequired,id:d.a.string.isRequired})).isRequired,children:d.a.node,getTooltip:d.a.func,height:d.a.number.isRequired,highlightedIds:d.a.instanceOf(Set).isRequired,histogram:d.a.arrayOf(d.a.shape({x:d.a.instanceOf(Date).isRequired,y:d.a.number.isRequired,label:d.a.string.isRequired})).isRequired,maxNodeSize:d.a.number,minNodeSize:d.a.number,momentBounds:d.a.shape({min:d.a.instanceOf(de.a).isRequired,max:d.a.instanceOf(de.a).isRequired}).isRequired,nodeSize:d.a.number.isRequired,onBoundsChange:d.a.func.isRequired,onNodeSizeChange:d.a.func.isRequired,onSpeedChange:d.a.func.isRequired,onUnitChange:d.a.func.isRequired,onViewportChange:d.a.func.isRequired,removeExportCallback:d.a.func,setHighlightedIds:d.a.func.isRequired,speed:Np.propTypes.speed,styles:d.a.object.isRequired,unit:Np.propTypes.unit,viewport:d.a.shape({minx:d.a.number.isRequired,maxx:d.a.number.isRequired,miny:d.a.number.isRequired,maxy:d.a.number.isRequired}).isRequired,width:d.a.number.isRequired},Hp.defaultProps={getTooltip:e=>e.id};var Up=Hp;const Gp=e=>{const t=(e=>{const{points:t,unit:n}=e,r=i.a.useMemo(()=>ye(t),[t]),o=i.a.useMemo(()=>be(t,n),[t,n]),a=i.a.useMemo(()=>e.bounds||_e(o),[e.bounds,o]),s=i.a.useMemo(()=>we(a,o),[a,o]);return{bounds:a,chartData:r,histogram:o,momentBounds:s}})(e);return i.a.createElement(Up,Vn()({},e,t))};Gp.propTypes={points:d.a.arrayOf(d.a.shape({date:d.a.instanceOf(Date).isRequired,id:d.a.string.isRequired})).isRequired,styles:d.a.object.isRequired};var Vp=n(118);const Yp=Object($.createSelector)(Ee,Be,(e,t)=>{const n=[];for(const r of e)t.includes(r.id)&&n.push(r);return n}),qp=Object($.createSelector)(Yp,ye);var Zp=Object(_.a)((function(e){const t=Ce(e);return{hasTimeline:xe(e),bounds:Oe(e),chartData:qp(e),getTooltip:Se(e),highlightedIds:jt(e),histogram:ke(e),momentBounds:Te(e),nodeSize:t.nodeSize,speed:t.speed,styles:Object(me.a)(e),unit:t.unit,viewport:t.viewport}}),(function(e){return{onBoundsChange:t=>e(Vp.f(t)),onNodeSizeChange:t=>e(Vp.g(t)),onSpeedChange:t=>e(Vp.h(t)),onUnitChange:t=>e(Vp.i(t)),onViewportChange:t=>e(Vp.j(t)),setHighlightedIds:(t,n)=>e(Object(eh.f)(t,n))}}))(e=>e.hasTimeline?i.a.createElement(Up,Vn()({addExportCallback:tr.a,removeExportCallback:tr.c},e)):null),$p=(n(1056),n(1058),n(1060),n(1062),n(102)),Kp=n.n($p),Xp=n(504),Qp=n.n(Xp),Jp=n(505),ef=n.n(Jp),tf=n(506),nf=n.n(tf),rf=n(507),of=n.n(rf),af=n(508),sf=n.n(af);function lf(){return(lf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var cf=i.a.createElement("path",{d:"M3 15.813V6v9.813zM14 19v-6 6zM9 9V3v6zM9 3h8-8zM9 9h8-8zM3 6h5-5zM3 15.813h11H3zM14 13h6-6zM14 19h6-6z"}),uf=i.a.createElement("path",{d:"M3 15.813v1H2v-1h1zM3 6H2V5h1v1zm11 13v1h-1v-1h1zm0-6h-1v-1h1v1zM9 9v1H8V9h1zm0-6H8V2h1v1zM2 15.813V6h2v9.813H2zM13 19v-6h2v6h-2zM8 9V3h2v6H8zm1-7h8v2H9V2zm0 6h8v2H9V8zM3 5h5v2H3V5zm0 9.813h11v2H3v-2zM14 12h6v2h-6v-2zm0 6h6v2h-6v-2z",fill:"#FFF"});var df=e=>i.a.createElement("svg",lf({width:"1em",height:"1em",viewBox:"0 0 22 22"},e),cf,uf);function hf(){return(hf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var pf=i.a.createElement("path",{d:"M14.53 7.462l-.707-.707-.707.707.707.707.707-.707zm-8.485 2.829l.98.196.203-1.014-1.02-.169-.163.987zm-4.95-.707L.1 9.474l.994.11zm2.828 8.485l.707-.707-.015-.016-.017-.015-.675.738zm6.364-6.364l3.536 3.535 1.414-1.414-3.536-3.535-1.414 1.414zm4.95 3.535c1.008-1.007 1.556-2.064 1.765-3.107.207-1.036.065-1.989-.198-2.777a7.143 7.143 0 00-.963-1.867 7.13 7.13 0 00-.583-.712 2.323 2.323 0 00-.013-.014l-.005-.004-.001-.002-.001-.001-.708.706-.708.707-.001-.002h-.001l.001.001.017.018a5.142 5.142 0 01.375.465c.238.333.514.796.694 1.337.179.537.258 1.131.134 1.753-.123.614-.458 1.325-1.218 2.085l1.414 1.414zm-1.414-1.414c-.76.76-1.472 1.095-2.086 1.218-.621.125-1.215.046-1.752-.133a5.148 5.148 0 01-1.337-.694 5.157 5.157 0 01-.466-.375l-.017-.017-.002-.002v.001l.002.001-.706.708-.707.708.001.001.002.002.005.005.013.013.043.04a7.111 7.111 0 00.669.542c.44.315 1.083.702 1.867.964.789.263 1.742.405 2.778.198 1.043-.21 2.1-.758 3.107-1.766l-1.414-1.414zm1.414-5.657l3.535-3.535-1.414-1.414-3.535 3.535 1.414 1.414zm2.828-4.242a96.673 96.673 0 01-.626.78v-.001l-.002-.002v.001l.016.013.083.075c.076.07.19.182.33.336.279.307.652.778 1.007 1.41.706 1.254 1.352 3.162 1.028 5.749l1.985.248c.384-3.07-.384-5.404-1.27-6.978a9.814 9.814 0 00-1.268-1.772 7.484 7.484 0 00-.591-.585 3.164 3.164 0 00-.063-.052l-.002-.002h-.001l-.626.78zm0 0l.707-.708-.002-.002a2.277 2.277 0 00-.06-.057 11.74 11.74 0 00-.701-.606c-.47-.376-1.15-.864-1.986-1.318-1.658-.9-4.038-1.719-6.668-1.112l.45 1.949c1.967-.454 3.83.142 5.264.92a11.717 11.717 0 012.15 1.51 5.87 5.87 0 01.136.128l.005.004h-.001l.706-.708zm-9.9 9.9c-.897-.898-1.41-1.99-1.14-3.34l-1.961-.392c-.437 2.185.464 3.922 1.688 5.145l1.414-1.414zm-2.12-3.536l.163-.987h-.003l-.007-.002-.03-.004-.112-.019A142.258 142.258 0 004.29 9c-1.045-.159-2.31-.34-3.105-.412l-.18 1.991c.724.066 1.933.239 2.984.399a170.72 170.72 0 011.744.275l.11.018.029.005h.007l.001.001.165-.986zm-3.956-.597c.153-1.376.773-2.639 1.39-3.586a11.308 11.308 0 011.071-1.39 4.7 4.7 0 01.08-.083c0-.002.002-.002.002-.003l-.001.001-.708-.706-.707-.707-.002.002a2.275 2.275 0 00-.039.04 10.443 10.443 0 00-.409.457c-.258.306-.604.748-.962 1.297C1.096 6.1.302 7.667.101 9.473l1.988.221zM.1 9.474c-.325 2.92.448 5.244 1.304 6.834.427.794.876 1.406 1.222 1.825a8.644 8.644 0 00.6.655.842.842 0 01.018.016l.002.001v.001l.676-.737.676-.738v.001H4.6l.001.002-.002-.002-.017-.017a6.654 6.654 0 01-.414-.456 9.257 9.257 0 01-1.002-1.499c-.707-1.313-1.348-3.232-1.077-5.666L.1 9.474zm3.115 9.302c4.28 4.28 11.277 4.28 15.557 0l-1.415-1.414c-3.498 3.498-9.23 3.498-12.728 0l-1.414 1.414z"});var ff=e=>i.a.createElement("svg",hf({width:"1em",height:"1em",viewBox:"0 0 22 22"},e),pf);function mf(){return(mf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var gf=i.a.createElement("path",{d:"M11.536 1.267l1.5 5.417 1.928-.534-1.5-5.417-1.928.534zm2.955 6.02l6.5-3.666-.982-1.742-6.5 3.667.982 1.742zm-1.369-1.35l-3 5.5 1.756.959 3-5.5-1.756-.958zm-1.826 5.024l-10-3.099-.592 1.91 10 3.1.592-1.91zm-1.174 1.434l2.5 4.584 1.756-.958-2.5-4.583-1.756.957zm2.464 3.699l-2 4.5 1.828.812 2-4.5-1.828-.812zm.622 1.362l6 1.834.584-1.913-6-1.833-.584 1.912z"});var vf=e=>i.a.createElement("svg",mf({width:"1em",height:"1em",viewBox:"0 0 22 22"},e),gf);function yf(){return(yf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var bf=i.a.createElement("path",{d:"M1 11l-.447.894v-1.788L1 11zm2.25-1.125l-.447-.894.447.894zm4.5-2.25l-.447-.894.447.894zM10 6.5l.447.894L10 6.5zm4.5-2.25l-.447-.894.447.894zm2.25-1.125l-.447-.894.447.894zm-15.303 6.98l18 9-.894 1.79-18-9 .894-1.79zm-.894 0l2.25-1.124.894 1.788-2.25 1.125-.894-1.788zm2.25-1.124l4.5-2.25.894 1.788-4.5 2.25-.894-1.788zm4.5-2.25l2.25-1.125.894 1.788-2.25 1.125-.894-1.788zm2.25-1.125l4.5-2.25.894 1.788-4.5 2.25-.894-1.788zm4.5-2.25l2.25-1.125.894 1.788-2.25 1.125-.894-1.788zm2.25-1.125l2.25-1.125.894 1.788-2.25 1.125-.894-1.788z"}),_f=i.a.createElement("path",{d:"M5.553 13.106l6-3 .894 1.788-6 3-.894-1.788zm6-3l7-3.5.894 1.788-7 3.5-.894-1.788zm.894 0l7 3.5-.894 1.788-7-3.5.894-1.788z"});var wf=e=>i.a.createElement("svg",yf({width:"1em",height:"1em",viewBox:"0 0 22 22"},e),bf,_f);function Cf(){return(Cf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Sf=i.a.createElement("path",{d:"M6.188 3H16 6.187zM3 14h6-6zM13 9h6-6zM19 9v8-8zM13 9v8-8zM16 3v5-5zM6.188 3v11V3zM9 14v6-6zM3 14v6-6z",fill:"#C4C4C4"}),Ef=i.a.createElement("path",{d:"M6.188 3h-1V2h1v1zM16 3V2h1v1h-1zM3 14H2v-1h1v1zm6 0v-1h1v1H9zm4-5h-1V8h1v1zm6 0V8h1v1h-1zM6.187 2H16v2H6.187V2zM3 13h6v2H3v-2zm10-5h6v2h-6V8zm7 1v8h-2V9h2zm-6 0v8h-2V9h2zm3-6v5h-2V3h2zM7.187 3v11h-2V3h2zM10 14v6H8v-6h2zm-6 0v6H2v-6h2z",fill:"#FFF"});const xf={rc:df,cr:ff,rd:vf,dg:wf,hr:e=>i.a.createElement("svg",Cf({width:"1em",height:"1em",viewBox:"0 0 22 22"},e),Sf,Ef)},kf={rc:"Rectangular",cr:"Circular",rd:"Radial",dg:"Diagonal",hr:"Hierarchical"},Of=e=>{const t=e.treeType.toLowerCase(),n=t===e.selectedTreeType,r=xf[t];return i.a.createElement(Rh.a,{active:n,title:kf[e.treeType],onClick:()=>e.handleClick(e.treeType.toLowerCase())},i.a.createElement(r,null))};Of.displayName="TreeTypeButton",Of.propTypes={treeType:d.a.string.isRequired,selectedTreeType:d.a.string.isRequired,handleClick:d.a.func.isRequired};var Tf=Of,Mf=n(289);const Pf={Degrees0:0,Degrees45:.25*Math.PI,Degrees90:.5*Math.PI,Degrees180:Math.PI,Degrees270:1.5*Math.PI,Degrees360:2*Math.PI},Lf=[];var Nf={alignLabels:!1,branchScale:null,collapsedIds:Lf,fillStyle:"#222",fontFamily:"serif",fontSize:16,fontWeight:"normal",haloRadius:12,haloStyle:"#3C7383",haloWidth:4,highlightedId:null,highlightedStyle:"#3C7383",internalNodeStyle:{shape:"none"},labelThreshold:8,leafNodeStyle:{shape:"circle"},lineWidth:1,nodeSize:14,nodesPowRatio:.5,padding:32,renderInternalLabels:!1,renderLabels:!0,renderLeafLabels:!0,rootId:null,rotatedIds:Lf,selectableInternalNodes:!0,selectableLeafNodes:!0,selectedIds:Lf,showLabels:!1,showNodes:!0,stepScale:8,strokeStyle:"#222",styleLeafLabels:!1,styleNodeLines:!1,styles:{},type:"rc",zoomFactor:3};const Af=e=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Mf.a,{active:e.lasso,onClick:()=>e.onLassoChange(!e.lasso)}),i.a.createElement("div",{className:"libmr-Panel-control-group"},i.a.createElement(Tf,{treeType:"hr",selectedTreeType:e.type,handleClick:e.onTypeChange}),i.a.createElement(Tf,{treeType:"dg",selectedTreeType:e.type,handleClick:e.onTypeChange}),i.a.createElement(Tf,{treeType:"rd",selectedTreeType:e.type,handleClick:e.onTypeChange}),i.a.createElement(Tf,{treeType:"cr",selectedTreeType:e.type,handleClick:e.onTypeChange}),i.a.createElement(Tf,{treeType:"rc",selectedTreeType:e.type,handleClick:e.onTypeChange})));Af.displayName="TreeControls",Af.propTypes={lasso:d.a.bool.isRequired,type:d.a.string.isRequired,onLassoChange:d.a.func.isRequired,onTypeChange:d.a.func.isRequired},Af.defaultProps={type:Nf.type};var If=Af,Rf=n(120);const Df=e=>i.a.createElement(Op.a,{className:"scrollable-content",title:"Nodes & labels"},i.a.createElement(wp.a,{id:"tree-nodeSize",label:"Node size",onChange:e.onNodeSizeChange,min:e.minNodeSize,max:e.maxNodeSize,value:e.nodeSize,unit:"px"}),i.a.createElement(wp.a,{id:"tree-fontSize",label:"Label size",onChange:e.onFontSizeChange,min:e.minFontSize,max:e.maxFontSize,value:e.fontSize,unit:"px"}),i.a.createElement("hr",null),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Show leaf nodes",id:"tree-styleLeafNodes",isChecked:e.styleLeafNodes,onChange:t=>e.onStyleLeafNodesChange(t)}),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Show leaf borders",id:"tree-renderLeafBorders",isChecked:e.renderLeafBorders,onChange:t=>e.onRenderLeafBordersChange(t)}),i.a.createElement("hr",null),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Show leaf labels",id:"tree-renderLeafLabels",isChecked:e.renderLeafLabels,onChange:t=>e.onRenderLeafLabelsChange(t)}),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Align leaf labels",id:"tree-alignLabels",isChecked:e.alignLabels,onChange:t=>e.onAlignLabelsChange(t)}),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Colour leaf labels",id:"tree-styleLeafLabels",isChecked:e.styleLeafLabels,onChange:t=>e.onStyleLeafLabelsChange(t)}),i.a.createElement("hr",null),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Show internal nodes",id:"tree-styleInternalNodes",isChecked:e.styleInternalNodes,onChange:t=>e.onStyleInternalNodesChange(t)}),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Show internal labels",id:"tree-renderInternalLabels",isChecked:e.renderInternalLabels,onChange:t=>e.onRenderInternalLabelsChange(t)}),i.a.createElement(Rf.a,{className:"mr-toggle-switch",label:"Colour internal edges",id:"tree-styleNodeLines",isChecked:e.styleNodeLines,onChange:t=>e.onStyleNodeLinesChange(t)}));Df.propTypes={alignLabels:d.a.bool,fontSize:d.a.number.isRequired,maxFontSize:d.a.number.isRequired,maxNodeSize:d.a.number.isRequired,minFontSize:d.a.number.isRequired,minNodeSize:d.a.number.isRequired,nodeSize:d.a.number.isRequired,onAlignLabelsChange:d.a.func.isRequired,onFontSizeChange:d.a.func.isRequired,onNodeSizeChange:d.a.func.isRequired,onRenderInternalLabelsChange:d.a.func.isRequired,onRenderLeafBordersChange:d.a.func.isRequired,onRenderLeafLabelsChange:d.a.func.isRequired,onStyleInternalNodesChange:d.a.func.isRequired,onStyleLeafLabelsChange:d.a.func.isRequired,onStyleLeafNodesChange:d.a.func.isRequired,onStyleNodeLinesChange:d.a.func.isRequired,renderInternalLabels:d.a.bool,renderLeafBorders:d.a.bool,renderLeafLabels:d.a.bool,styleInternalNodes:d.a.bool,styleLeafLabels:d.a.bool,styleLeafNodes:d.a.bool,styleNodeLines:d.a.bool},Df.defaultProps={fontSize:Tp.a.FONT_SIZE,maxFontSize:Tp.a.MAX_FONT_SIZE,maxNodeSize:Tp.a.MAX_NODE_SIZE,minFontSize:Tp.a.MIN_FONT_SIZE,minNodeSize:Tp.a.MIN_NODE_SIZE,nodeSize:Tp.a.NODE_SIZE};var jf=Df,zf=n(291);const Ff={x:["fullscreen","swap_horiz","swap_vert"],y:["fullscreen","swap_vert","swap_horiz"]};class Bf extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={mode:0},this.toggleMode=()=>{this.setState({mode:2===this.state.mode?0:this.state.mode+1})},t}render(){const e=[this.props.onZoomIn,this.props.onHorizZoomIn,this.props.onVertZoomIn],t=[this.props.onZoomOut,this.props.onHorizZoomOut,this.props.onVertZoomOut],{mainAxis:n="x"}=this.props;return i.a.createElement(zf.a,{className:this.props.className,onZoomIn:e[this.state.mode],onZoomOut:t[this.state.mode]},i.a.createElement("div",{className:"libmr-ZoomControls-button",title:"Toogle zoom mode",onClick:this.toggleMode},i.a.createElement("i",{className:"libmr-ZoomControls-icon material-icons"},Ff[n][this.state.mode])))}}Bf.displayName="TreeZoomControls",Bf.propTypes={className:d.a.string,mainAxis:d.a.string,onZoomIn:d.a.func.isRequired,onZoomOut:d.a.func.isRequired,onHorizZoomIn:d.a.func.isRequired,onHorizZoomOut:d.a.func.isRequired,onVertZoomIn:d.a.func.isRequired,onVertZoomOut:d.a.func.isRequired};var Wf={rd:{alignableLabels:!1,branchScalingAxis:"xy",drawLine:function(e,t,n){e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath()},getBranchScale:function(e){const t=function(e){return Math.min(e.ctx.canvas.width,e.ctx.canvas.height)}(e)/2,n=e.getVirtualTree(),r=n.rootNode.totalLeafLength-n.rootNode.branchLength;return r>0?t/r:r<0?t*r:0},getNodeAtPoint:function(e,t,n,r){const{rootNode:o,postorderTraversal:i}=e.layout();for(let e=o.postIndex-o.totalNodes+1;e<=o.postIndex;e++){const o=i[e];if(o.parent&&(o.x>o.parent.x?t<o.x&&t>o.parent.x:t<o.parent.x&&t>o.x))if(isNaN(o.slope)){if(o.y>o.parent.y?n<o.y&&n>o.parent.y:n<o.parent.y&&n>o.y)return o}else if(n>o.slope*t+o.intercept-r&&n<o.slope*t+o.intercept+r)return o}return null},layoutNodes:function(e,t){let n=0;const{rootNode:r}=t;for(let e=r.postIndex-r.totalNodes+1;e<=r.postIndex;e++){const o=t.postorderTraversal[e];if(o.isLeaf)o.angle=n*(Pf.Degrees360/r.visibleLeaves);else{let e=0;for(const t of o.children)e+=t.angle*t.totalLeaves;o.angle=e/o.totalLeaves}(o.isLeaf&&!o.isHidden||o.isCollapsed&&!o.isHidden)&&(n+=1)}for(let n=r.preIndex;n<r.preIndex+r.totalNodes;n++){const o=t.preorderTraversal[n],i=o.branchLength*e.state.branchScale;o.x=(o!==r?o.parent.x:0)+i*Math.cos(o.angle),o.y=(o!==r?o.parent.y:0)+i*Math.sin(o.angle),o!==r&&(o.slope=(o.parent.y-o.y)/(o.parent.x-o.x),o.intercept=o.y-o.slope*o.x)}}},rc:{alignableLabels:!0,branchScalingAxis:"x",drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},getBranchScale:function(e,t=e.state.stepScale){const n=e.getVirtualTree(),r=n.rootNode.totalLeaves*t,o=e.ctx.canvas.width/e.ctx.canvas.height*r,i=n.rootNode.totalLeafLength-n.rootNode.branchLength;return 0===i&&e.error(501),o/i},getNodeAtPoint:function(e,t,n,r){const{rootNode:o,postorderTraversal:i}=e.layout();for(let e=o.postIndex-o.totalNodes+1;e<=o.postIndex;e++){const o=i[e];if(o.parent&&(t<o.x+r&&t>o.parent.x-r&&n<o.y+r&&n>o.y-r||t<o.parent.x+r&&t>o.parent.x-r&&(n<o.parent.y?n>o.y-r:n<o.y+r)))return o}return null},mainAxis:"x",layoutNodes:function(e,t){let n=0;const{rootNode:r}=t;for(let o=r.postIndex-r.totalNodes+1;o<=r.postIndex;o++){const r=t.postorderTraversal[o];if(r.angle=Pf.Degrees0,r.x=r.distanceFromRoot*e.state.branchScale,r.isLeaf)r.y=n*e.state.stepScale;else if(r.isCollapsed)r.y=n*e.state.stepScale;else{const e=r.children[0].y,t=r.children[r.children.length-1].y;r.y=(t+e)/2}(r.isLeaf&&!r.isHidden||r.isCollapsed&&!r.isHidden)&&(n+=1)}},stepScalingAxis:"y"},cr:{alignableLabels:!0,branchScalingAxis:"xy",drawLine:function(e,t,n){const{rootNode:r}=t,o=n.parent.distanceFromRoot-r.distanceFromRoot;if(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(o*e.state.branchScale*Math.cos(n.angle),o*e.state.branchScale*Math.sin(n.angle)),e.ctx.stroke(),e.ctx.closePath(),n.children&&n.children.length&&!n.isCollapsed){const t=n.children[0].angle,o=n.children[n.children.length-1].angle,i=Math.abs(n.distanceFromRoot-r.distanceFromRoot);e.ctx.beginPath(),e.ctx.arc(0,0,i*e.state.branchScale,t,o,o<t),e.ctx.stroke(),e.ctx.closePath()}},getBranchScale:function(e){const t=function(e){return Math.min(e.ctx.canvas.width,e.ctx.canvas.height)}(e)/2,{rootNode:n}=e.getVirtualTree();return n.totalLeafLength>0?t/n.totalLeafLength:n.totalLeafLength<0?t*n.totalLeafLength:0},getNodeAtPoint:function(e,t,n,r){const{rootNode:o,postorderTraversal:i}=e.layout();for(let a=o.postIndex-o.totalNodes+1;a<=o.postIndex;a++){const s=i[a];if(!s.parent)continue;const l=s.parent.distanceFromRoot-o.distanceFromRoot,c=l*e.state.branchScale*Math.cos(s.angle);if(s.x>c?t<s.x&&t>c:t<c&&t>s.x)if(isNaN(s.slope)){const t=l*e.state.branchScale*Math.sin(s.angle);if(s.y>t?n<s.y&&n>t:n<t&&n>s.y)return s}else if(n>s.slope*t+s.intercept-r&&n<s.slope*t+s.intercept+r)return s}return null},layoutNodes:function(e,t){let n=0;const{rootNode:r}=t;for(let o=r.postIndex-r.totalNodes+1;o<=r.postIndex;o++){const r=t.postorderTraversal[o];if(r.isLeaf)r.angle=n*(Pf.Degrees360/t.rootNode.visibleLeaves);else{const e=r.children[0].angle,t=r.children[r.children.length-1].angle;r.angle=(t+e)/2}const i=(r.distanceFromRoot-t.rootNode.distanceFromRoot)*e.state.branchScale;r.x=i*Math.cos(r.angle),r.y=i*Math.sin(r.angle),(r.isLeaf&&!r.isHidden||r.isCollapsed&&!r.isHidden)&&(n+=1),r.parent&&(r.slope=Math.tan(r.angle),r.intercept=r.y-r.slope*r.x)}}},dg:{alignableLabels:!1,getBranchScale:function(e){const{rootNode:t}=e.getVirtualTree(),n=e.ctx.canvas.width-2*e.state.padding;return t.totalLeafLength>0?n/t.totalLeafLength:t.totalLeafLength<0?n*t.totalLeafLength:0},getNodeAtPoint:function(e,t,n,r){const{rootNode:o,postorderTraversal:i}=e.getVirtualTree();for(let e=o.postIndex-o.totalNodes+1;e<=o.postIndex;e++){const o=i[e];if(o&&o.parent&&t<o.x&&t>o.parent.x&&n>o.slope*t+o.intercept-r&&n<o.slope*t+o.intercept+r)return o}return null},drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},layoutNodes:function(e,t){let n=0;const{rootNode:r}=t;for(let o=r.postIndex-r.totalNodes+1;o<=r.postIndex;o++){const r=t.postorderTraversal[o];if(r.angle=Pf.Degrees0,r.x=(t.rootNode.visibleLeaves-r.visibleLeaves)*e.state.stepScale/2,r.isLeaf)r.y=n*e.state.stepScale;else if(r.isCollapsed)r.y=n*e.state.stepScale;else{const t=r.children[0].y,n=(r.visibleLeaves-r.children[0].visibleLeaves)*e.state.stepScale;r.y=t+n/2}r.isLeaf&&n++}for(let e=r.preIndex;e<r.preIndex+r.totalNodes;e++){const n=t.preorderTraversal[e];n.parent&&(n.slope=(n.parent.y-n.y)/(n.parent.x-n.x),n.intercept=n.y-n.slope*n.x)}},mainAxis:"x",stepScalingAxis:"y"},hr:{alignableLabels:!0,drawLine:function(e,t,n){n!==t.rootNode&&(e.ctx.beginPath(),e.ctx.moveTo(n.x,n.y),e.ctx.lineTo(n.x,n.parent.y),e.ctx.lineTo(n.parent.x,n.parent.y),e.ctx.stroke(),e.ctx.closePath())},branchScalingAxis:"y",getBranchScale:function(e,t=e.state.stepScale){const n=e.getVirtualTree(),r=n.rootNode.totalLeaves*t,o=e.ctx.canvas.height/e.ctx.canvas.width*r,i=n.rootNode.totalLeafLength-n.rootNode.branchLength;return 0===i&&e.error(501),o/i},getNodeAtPoint:function(e,t,n,r){const{rootNode:o,preorderTraversal:i}=e.layout();for(let e=o.preIndex;e<o.preIndex+o.totalNodes;e++){const o=i[e];if(o.parent&&(t<o.x+r&&t>o.x-r&&n<o.y+r&&n>o.parent.y-r||n<o.parent.y+r&&n>o.parent.y-r&&(t<o.parent.x?t>o.x-r:t<o.x+r)))return o}return null},mainAxis:"y",layoutNodes:function(e,t){let n=0;const{rootNode:r}=t;for(let o=r.postIndex-r.totalNodes+1;o<=r.postIndex;o++){const r=t.postorderTraversal[o];if(r.angle=Pf.Degrees90,r.y=r.distanceFromRoot*e.state.branchScale,r.isLeaf)r.x=-1*n*e.state.stepScale;else if(r.isCollapsed)r.x=n*e.state.stepScale;else{const e=r.children[0].x,t=r.children[r.children.length-1].x;r.x=(t+e)/2}(r.isLeaf&&!r.isHidden||r.isCollapsed&&!r.isHidden)&&(n+=1)}},stepScalingAxis:"x"}},Hf=function(e){const t=e.getBounds(!1),n=e.getDrawingArea(),r=t.maxX-t.minX,o=t.maxY-t.minY,i=Math.max(.333*n.width,n.right-n.left-e.state.nodeSize),a=Math.max(.333*n.height,n.bottom-n.top-e.state.nodeSize),s=i/r,l=a/o,c=Math.min(s,l),u=e.state.padding+Math.max(e.state.nodeSize,e.state.fontSize)/2;let d=-1*t.minX*c,h=-1*t.minY*c;s>l?(d+=u+(i-r*c)/2,h+=u):s<l?(d+=u,h+=u+(a-o*c)/2):(d+=u,h+=u),void 0===Wf[e.state.type].mainAxis&&(d+=(n.width-i)/2-u,h+=(n.height-a)/2-u);const{minScale:p,maxScale:f}=function(e){return{minScale:e/2,maxScale:Math.max(e,16)}}(c);return{offsetX:d,offsetY:h,scale:c,minScale:p,maxScale:f}},Uf=function(e){return{branchScale:Wf[e.state.type].getBranchScale(e,Nf.stepScale)}},Gf=function(e){return{stepScale:Nf.stepScale}},Vf=function(e){return e.chain(Gf,Uf,Hf)},Yf=function(e,t){return e.chain(()=>({rootId:t}),Vf)},qf=n(290),Zf=n(240),$f=n(169),Kf=function(e){return(t,n)=>{t.lasso=Object(qf.a)(t.ctx.canvas,t.ctx.canvas,{isActive:e.props.lasso,path:e.props.path,onPathChange:n=>{if(null===n&&e.props.highlightedIds.length)return;let r=null;if(n){r=[];const e=t.layout();for(const o of e.leafNodes)t.lasso.isPointInside(o,n)&&r.push(o.id)}e.props.onFilterChange(r,n)},onRedrawRequested:()=>t.render(),translateToCanvas:e=>e.map(e=>Kp.a.utils.unmapPoint(t,e.x,e.y)),translateFromCanvas:(e,n)=>Kp.a.utils.mapPoint(t,e,n)});const r=()=>{setTimeout(()=>e.props.onAddHistoryEntry(t.ctx.canvas.toDataURL()),0)};t.drawNodeShape=function({state:e,ctx:t},n,r,o,i=o/2){n.isLeaf?e.styleLeafNodes&&Object(gp.a)(t,0,0,i,r,t.fillStyle,null,e.renderLeafBorders?t.lineWidth:0):(n.isCollapsed&&e.styleLeafNodes||e.styleInternalNodes)&&n.piechartSlices&&function(e,t,n,r,o={},i=null,a=Tp.a.NODE_BORDER_WIDTH,s=Tp.a.NODE_BORDER_STYLE){let l=0;for(const i of Object.keys(o)){e.fillStyle=i,e.beginPath(),e.moveTo(t,n);const a=l+2*Math.PI*o[i];e.arc(t,n,r,l,a,!1),e.fill(),e.closePath(),l=a}a>0&&(e.beginPath(),e.arc(t,n,r,$f.a.Degrees0,$f.a.Degrees360),e.strokeStyle=s,e.strokeWidth=a,e.stroke(),e.closePath()),i&&Object(Zf.a)(e,t,n,r,i)}(t,0,0,i,n.piechartSlices,null,e.renderLeafBorders?t.lineWidth:0)}.bind(null,t),n("collapseNode",(e,t)=>{e(...t),r()}),n("layout",(e,n)=>{const r=e(...n);if(t._.piechart=t._.piechart||{},(!0===t.state.styleInternalNodes||t.state.collapsedIds.length)&&t._.piechart.styles!==t.state.styles){const e={fillStyle:t.state.fillStyle,...t.state.leafNodeStyle};for(const n of r.postorderTraversal)if(n.isLeaf){const e=t.state.styles?t.state.styles[n.id]:void 0;n.strokeStyle=(e?e.strokeStyle:void 0)||t.state.strokeStyle}else{const r={};for(const o of n.children)if(o.isLeaf){const n=t.state.styles[o.id]||e;r[n.fillStyle]=(r[n.fillStyle]||0)+1}else for(const e of Object.keys(o.piechartSlices))r[e]=(r[e]||0)+o.piechartSlices[e];n.piechartSlices=r}for(const e of r.postorderTraversal)if(!e.isLeaf)for(const t of Object.keys(e.piechartSlices))e.piechartSlices[t]=e.piechartSlices[t]/e.totalLeaves;t._.piechart.styles=t.state.styles}return r}),n("mergeState",(n,[r])=>{n(),t.state={...t.state,...r,size:{width:e.props.width,height:e.props.height},highlightedStyle:vp.b.primaryColour,haloStyle:vp.b.primaryColour,metadata:{...t.state.metadata,...r.metadata},scalebar:{...t.state.scalebar,...r.metadata}}}),n("postRender",(e,n)=>{e(...n),t.lasso.isActive&&(t.ctx.save(),t.ctx.scale(t.pixelRatio,t.pixelRatio),t.lasso.draw(),t.ctx.restore(),t.lasso.updateCanvas())}),n("rerootNode",(e,t)=>{e(...t),r()}),t.selectNode=(n,r)=>{if(t._.selectedNodeId=null,n&&n.isLeaf)e.props.setHighlightedIds([n.id],r);else{if(e.props.path)return void(e.props.highlightedIds.length&&e.props.setHighlightedIds());n&&!n.isHidden?(t._.selectedNodeId=n.id,e.props.onFilterChange(t.getLeafIds(n))):r||(e.props.highlightedIds.length?e.props.setHighlightedIds():e.props.onFilterChange(null))}},t.setRoot=e=>{t._.selectedNodeId=null;let n=null;null!==e&&(n=t.getNodeById(e)),t.setState({...Yf(t,n?n.id:null),ids:t.getLeafIds(e)}),r()},e.props.onPhylocanvasStateChange&&n("setState",(t,[n])=>{t(),e.props.onPhylocanvasStateChange(n)}),n("setTreeType",(e,t)=>{e(...t),r()}),t.isUninitialised=()=>null===t.state.branchScale,e.props.onRedrawOriginalTree&&n("setSource",(n,r)=>{r[0]===t.nodes.originalSource?e.props.onRedrawOriginalTree():n(...r)})}};d.a.shape({index:d.a.number.isRequired,field:d.a.string.isRequired,label:d.a.string.isRequired}),d.a.shape({index:d.a.number.isRequired,image:d.a.string.isRequired});const Xf=d.a.shape({x:d.a.number.isRequired,y:d.a.number.isRequired}),Qf=(d.a.oneOfType([d.a.arrayOf(d.a.number.isRequired),d.a.shape({lat:d.a.number.isRequired,lng:d.a.number.isRequired})]),()=>{});class Jf extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={controlsVisible:!1},t}componentDidMount(){let e=this.props.phylocanvasState;e.viewPort&&!e.size&&(e={...e,...Kp.a.utils.restoreViewport(e.viewPort,e.padding,this.props.width,this.props.height)}),this.tree=Kp.a.createTree(this.canvasRef,e,[Qp.a,nf.a,of.a,sf.a,Kf(this),ef.a]),this.onInitialise();const{addExportCallback:t}=this.props;t&&(t("tree-png",()=>this.tree.exportPNG()),t("tree-svg",()=>this.tree.exportSerialisedSVG()),t("tree-nwk",()=>this.tree.getNewick()))}componentDidUpdate(e){e.width===this.props.width&&e.height===this.props.height||this.resizeTree(),e.lasso!==this.props.lasso&&this.tree.lasso.setActive(this.props.lasso),e.path!==this.props.path&&this.tree.lasso.setPath(this.props.path),e.filenames!==this.props.filenames&&(this.tree.contextMenu.filenames=this.props.filenames);let t=!1;if(e.phylocanvasState!==this.props.phylocanvasState&&(this.tree.mergeState(this.props.phylocanvasState),this.tree.isUninitialised())){const{source:e}=this.props.phylocanvasState;this.tree.setSource(e),t=!0}this.tree.render(),t&&this.onInitialise()}componentWillUnmount(){this.tree.lasso&&this.tree.lasso.destroy(),this.tree&&this.tree.destroy();const{removeExportCallback:e}=this.props;e&&(e("tree-png"),e("tree-svg"))}onInitialise(){this.props.onPhylocanvasInitialise&&setTimeout(()=>this.props.onPhylocanvasInitialise(this.tree.ctx.canvas.toDataURL()),0)}getMainAxis(){if(this.tree){const e=Kp.a.types[this.tree.state.type];return e?e.mainAxis:void 0}}resizeTree(){this.tree.resize(this.props.width,this.props.height)}toggleStyleInternalNodes(e){this.tree.setState({styleInternalNodes:e,internalNodeStyle:{shape:e?"circle":"none"}})}render(){const{width:e,height:t,phylocanvasState:n}=this.props,{controlsVisible:r}=this.state;return i.a.createElement(Wp.a,{controlsVisible:r,onControlsVisibleChange:()=>this.setState({controlsVisible:!r}),primaryControls:i.a.createElement("div",{className:"libmr-ControlsMenu-group"},i.a.createElement(jf,{alignLabels:n.alignLabels,fontSize:n.fontSize,maxFontSize:this.props.maxFontSize,maxNodeSize:this.props.maxNodeSize,minFontSize:this.props.minFontSize,minNodeSize:this.props.minNodeSize,nodeSize:n.nodeSize,onAlignLabelsChange:e=>this.tree.setState({alignLabels:e}),onFontSizeChange:e=>this.tree.setState({fontSize:e}),onNodeSizeChange:e=>this.tree.setState({nodeSize:e}),onRenderInternalLabelsChange:e=>this.tree.setState({renderInternalLabels:e}),onRenderLeafBordersChange:e=>this.tree.setState({renderLeafBorders:e}),onRenderLeafLabelsChange:e=>this.tree.setState({renderLeafLabels:e}),onStyleInternalNodesChange:e=>this.toggleStyleInternalNodes(e),onStyleLeafLabelsChange:e=>this.tree.setState({styleLeafLabels:e}),onStyleLeafNodesChange:e=>this.tree.setState({styleLeafNodes:e}),onStyleNodeLinesChange:e=>this.tree.setState({styleNodeLines:e}),renderInternalLabels:n.renderInternalLabels,renderLeafBorders:n.renderLeafBorders,renderLeafLabels:n.renderLeafLabels,styleInternalNodes:n.styleInternalNodes,styleLeafLabels:n.styleLeafLabels,styleLeafNodes:n.styleLeafNodes,styleNodeLines:n.styleNodeLines,theme:this.props.theme}),this.props.primaryControls),secondaryControls:i.a.createElement(If,{lasso:this.props.lasso,onLassoChange:this.props.onLassoChange,onTypeChange:e=>this.tree.setTreeType(e),type:n.type}),style:{width:e,height:t,...this.props.style},theme:this.props.theme,zoomControls:i.a.createElement(Bf,{mainAxis:this.getMainAxis(),onZoomIn:()=>this.tree.transform(0,0,1),onZoomOut:()=>this.tree.transform(0,0,-1),onHorizZoomIn:()=>this.tree.changeBranchScale(1),onHorizZoomOut:()=>this.tree.changeBranchScale(-1),onVertZoomIn:()=>this.tree.changeStepScale(1),onVertZoomOut:()=>this.tree.changeStepScale(-1),theme:this.props.theme})},i.a.createElement("div",{className:"libmr-Tree",style:{width:e,height:t}},i.a.Children.map(this.props.children,e=>i.a.isValidElement(e)?i.a.cloneElement(e,{controlsVisible:r}):e),i.a.createElement("canvas",{ref:e=>{this.canvasRef=e},width:e,height:t})))}}Jf.displayName="Tree",Jf.propTypes={...Wp.a.panelProps,addExportCallback:d.a.func,filenames:d.a.object,height:d.a.number.isRequired,highlightedIds:d.a.array,lasso:d.a.bool,newickString:d.a.string,onAddHistoryEntry:d.a.func,onFilterChange:d.a.func,onLassoChange:d.a.func,onPhylocanvasInitialise:d.a.func,onPhylocanvasStateChange:d.a.func,onRedrawOriginalTree:d.a.func,path:d.a.arrayOf(Xf),phylocanvasState:d.a.object,removeExportCallback:d.a.func,setHighlightedIds:d.a.func,width:d.a.number.isRequired},Jf.defaultProps={highlightedIds:[],lasso:!1,onAddHistoryEntry:Qf,onControlsVisibleChange:Qf,onFilterChange:Qf,onLassoChange:Qf,onPhylocanvasInitialise:Qf,onPhylocanvasStateChange:Qf,onZoomModeChange:Qf,setHighlightedIds:Qf};var em=n(48),tm=n(86),nm=n(30),rm=n(264);function om(e){return(t,n)=>{const r=Object(K.a)(n());return t(tm.d(e,Object(rm.b)(r.uuid,e)))}}const im={message:"Subtree currently unavailable, please try again later."};function am(e){return(t,n)=>{const r=n(),o=Object(Vt.d)(r)[e];o&&"READY"===o.status&&(o.newick?t(tm.f(e)):t(om(e)).then(()=>t(tm.f(e))).catch(()=>t(Object(S.c)(im))))}}var sm=Object(_.a)((function(e){return{singleTree:Object(K.e)(e),visibleTree:Object(ce.h)(e),subtrees:Object(Vt.b)(e)}}),(function(e){return{displayTree:t=>e(am(t))}}))(({singleTree:e,displayTree:t,subtrees:n,visibleTree:r})=>e===qt.a?null:i.a.createElement("header",{className:"wgsa-tree-header"},i.a.createElement(Zn,{button:i.a.createElement(op.a,null,r)},!e&&i.a.createElement("button",{onClick:()=>t(qt.a)},"Collection"),(!e||e===qt.b)&&i.a.createElement("button",{onClick:()=>t(qt.b)},"Population"),i.a.createElement("hr",null),n.map(([e,n])=>i.a.createElement("button",{onClick:()=>t(e)},n))))),lm=n(116);const cm=e=>({type:"LIBMR PHYLOCANVAS STATE",payload:e}),um=e=>({type:"LIBMR TREE LASSO",payload:{lasso:e}}),dm=(e,t)=>({type:"LIBMR TREE FILTER",payload:{ids:e,path:t}});const hm=({controlsVisible:e=!1,loading:t})=>i.a.createElement(Z.a,{in:!0},!e&&i.a.createElement(sm,{key:"header"}),t?i.a.createElement("div",{className:"wgsa-loading-overlay",key:"loading"},i.a.createElement(em.a,null)):null);var pm=Object(_.a)((function(e){const{lasso:t,path:n}=Object(ce.g)(e);return{lasso:t,path:n,filenames:tn(e),highlightedIds:Jt(e),loading:Object(ce.i)(e),phylocanvasState:on(e)}}),(function(e,{stateKey:t}){return{onAddHistoryEntry:n=>e({stateKey:t,...Object(lm.d)(n)}),onFilterChange:(n,r)=>t!==qt.b&&e({stateKey:t,...dm(n,r)}),onLassoChange:n=>e({stateKey:t,...um(n)}),onPhylocanvasInitialise:n=>e({stateKey:t,...Object(lm.d)(n)}),onPhylocanvasStateChange:n=>e({stateKey:t,...cm(n)}),setHighlightedIds:(n,r)=>e(((e,t,n)=>r=>{e===qt.b?1===t.length&&r(am(t[0])):r(Object(eh.f)(t,n))})(t,n,r))}}))(e=>0===e.width||0===e.height?null:i.a.createElement(Jf,Vn()({},e,{addExportCallback:tr.a,removeExportCallback:tr.c}),i.a.createElement(hm,{loading:e.loading}))),fm=n(238),mm=n(239);const gm=i.a.createClass({displayName:"Progress",renderQueuePosition(){const{position:e}=this.props;return 0===e?"Awaiting progress":e?`Queue position: ${e}`:"Awaiting position"},renderStatus(){const{status:e,progress:t}=this.props;return"PENDING"===e?i.a.createElement("div",{className:"wgsa-tree-progress mdl-shadow--2dp"},i.a.createElement("p",null,"Tree pending"),i.a.createElement("p",{className:"wgsa-muted wgsa-blink"},this.renderQueuePosition()),i.a.createElement(fm.a,{interval:10,fn:this.props.fetchPosition})):"IN PROGRESS"===e?i.a.createElement("div",{className:"wgsa-tree-progress mdl-shadow--2dp"},i.a.createElement(mm.a,{radius:"40",strokeWidth:"8",percentage:t||0}),i.a.createElement("p",{className:"wgsa-blink"},"Tree in progress")):"ERROR"===e?i.a.createElement("div",{className:"wgsa-tree-progress mdl-shadow--2dp"},i.a.createElement("p",{className:"danger"},"Error building tree"),i.a.createElement("p",{className:"wgsa-blink"},"Awaiting retry")):"FAILED"===e?i.a.createElement("div",{className:"wgsa-tree-progress mdl-shadow--2dp"},i.a.createElement("p",null,"😞"),i.a.createElement("p",{className:"danger"},"Failed to build tree")):"READY"===e?i.a.createElement("div",{className:"wgsa-tree-progress mdl-shadow--2dp"},i.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",onClick:this.props.showTree},"View Tree")):null},render(){return i.a.createElement(Z.a,{out:!0},i.a.cloneElement(this.renderStatus(),{key:this.props.status}))}});var vm=Object(_.a)((function(e){const{status:t,progress:n,position:r}=Object(Vt.d)(e)[qt.a];return{status:t,progress:n,position:r}}),(function(e,{date:t}){return{fetchPosition:()=>e(Object(tm.e)(qt.a,t)),showTree:()=>e(Object(tm.f)(qt.a))}}))(gm),ym=n(287),bm=n(277),_m=function(e){var t=e.className,n=e.included,r=e.vertical,o=e.offset,a=e.length,s=e.minimumTrackStyle,l={visibility:n?"visible":"hidden"};r?(l.bottom=o+"%",l.height=a+"%"):(l.left=o+"%",l.width=a+"%");var c=co()({},l,s);return i.a.createElement("div",{className:t,style:c})},wm=n(261),Cm=n.n(wm),Sm=n(372),Em=n.n(Sm);function xm(e,t,n,r){var o=Vo.a.unstable_batchedUpdates?function(e){Vo.a.unstable_batchedUpdates(n,e)}:n;return Em()(e,t,o,r)}var km=n(47),Om=n.n(km),Tm=function(e){var t=e.prefixCls,n=e.vertical,r=e.marks,o=e.dots,a=e.step,s=e.included,l=e.lowerBound,c=e.upperBound,u=e.max,d=e.min,h=u-d,p=function(e,t,n,r,o,i){Om()(!n||r>0,"`Slider[step]` should be a positive number in order to make Slider[dots] work.");var a=Object.keys(t).map(parseFloat);if(n)for(var s=o;s<=i;s+=r)a.indexOf(s)>=0||a.push(s);return a}(0,r,o,a,d,u).map((function(e){var r,o=Math.abs(e-d)/h*100+"%",a=n?{bottom:o}:{left:o},u=!s&&e===c||s&&e<=c&&e>=l,p=C()((r={},hi()(r,t+"-dot",!0),hi()(r,t+"-dot-active",u),r));return i.a.createElement("span",{className:p,style:a,key:e})}));return i.a.createElement("div",{className:t+"-step"},p)},Mm=function(e){var t=e.className,n=e.vertical,r=e.marks,o=e.included,a=e.upperBound,s=e.lowerBound,l=e.max,c=e.min,u=Object.keys(r),d=.9*(100/(u.length-1)),h=l-c,p=u.map(parseFloat).sort((function(e,t){return e-t})).map((function(e){var l,u=!o&&e===a||o&&e<=a&&e>=s,p=C()((l={},hi()(l,t+"-text",!0),hi()(l,t+"-text-active",u),l)),f=n?{marginBottom:"-50%",bottom:(e-c)/h*100+"%"}:{width:d+"%",marginLeft:-d/2+"%",left:(e-c)/h*100+"%"},m=r[e],g="object"===(void 0===m?"undefined":sh()(m))&&!i.a.isValidElement(m),v=g?m.label:m,y=g?co()({},f,m.style):f;return i.a.createElement("span",{className:p,style:y,key:e},v)}));return i.a.createElement("div",{className:t},p)},Pm=function(e){function t(){return Jr()(this,t),ro()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return io()(t,e),to()(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.vertical,r=e.offset,o=e.handleStyle,a=mo()(e,["className","vertical","offset","handleStyle"]),s=n?{bottom:r+"%"}:{left:r+"%"},l=co()({},s,o);return i.a.createElement("div",co()({},a,{className:t,style:l}))}}]),t}(i.a.Component),Lm=Pm;function Nm(e,t){return Object.keys(t).some((function(n){return e.target===Object(Go.findDOMNode)(t[n])}))}function Am(e,t){var n=t.min,r=t.max;return e<n||e>r}function Im(e){return e.touches.length>1||"touchend"===e.type.toLowerCase()&&e.touches.length>0}function Rm(e,t){return e?t.clientY:t.pageX}function Dm(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function jm(e,t){var n=t.getBoundingClientRect();return e?n.top+.5*n.height:n.left+.5*n.width}function zm(e,t){var n=t.max,r=t.min;return e<=r?r:e>=n?n:e}function Fm(e,t){var n=t.step,r=function(e,t){var n=t.marks,r=t.step,o=t.min,i=Object.keys(n).map(parseFloat);if(null!==r){var a=Math.round((e-o)/r)*r+o;i.push(a)}var s=i.map((function(t){return Math.abs(e-t)}));return i[s.indexOf(Math.min.apply(Math,oi()(s)))]}(e,t);return null===n?r:parseFloat(r.toFixed(function(e){var t=e.toString(),n=0;return t.indexOf(".")>=0&&(n=t.length-t.indexOf(".")-1),n}(n)))}function Bm(e){e.stopPropagation(),e.preventDefault()}function Wm(){}function Hm(e){var t,n;return n=t=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onMouseDown=function(e){if(0===e.button){var t=n.props.vertical,r=Rm(t,e);if(Nm(e,n.handlesRefs)){var o=jm(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.onStart(r),n.addDocumentMouseEvents(),Bm(e)}},n.onTouchStart=function(e){if(!Im(e)){var t=n.props.vertical,r=Dm(t,e);if(Nm(e,n.handlesRefs)){var o=jm(t,e.target);n.dragOffset=r-o,r=o}else n.dragOffset=0;n.onStart(r),n.addDocumentTouchEvents(),Bm(e)}},n.onMouseMove=function(e){if(n.sliderRef){var t=Rm(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.onTouchMove=function(e){if(!Im(e)&&n.sliderRef){var t=Dm(n.props.vertical,e);n.onMove(e,t-n.dragOffset)}else n.onEnd()},n.saveSlider=function(e){n.sliderRef=e},n.handlesRefs={},n}return io()(t,e),to()(t,[{key:"componentWillUnmount",value:function(){Cm()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this)&&Cm()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillUnmount",this).call(this),this.removeDocumentEvents()}},{key:"addDocumentTouchEvents",value:function(){this.onTouchMoveListener=xm(document,"touchmove",this.onTouchMove),this.onTouchUpListener=xm(document,"touchend",this.onEnd)}},{key:"addDocumentMouseEvents",value:function(){this.onMouseMoveListener=xm(document,"mousemove",this.onMouseMove),this.onMouseUpListener=xm(document,"mouseup",this.onEnd)}},{key:"removeDocumentEvents",value:function(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()}},{key:"getSliderStart",value:function(){var e=this.sliderRef.getBoundingClientRect();return this.props.vertical?e.top:e.left}},{key:"getSliderLength",value:function(){var e=this.sliderRef;return e?this.props.vertical?e.clientHeight:e.clientWidth:0}},{key:"calcValue",value:function(e){var t=this.props,n=t.vertical,r=t.min,o=t.max,i=Math.abs(Math.max(e,0)/this.getSliderLength());return n?(1-i)*(o-r)+r:i*(o-r)+r}},{key:"calcValueByPos",value:function(e){var t=e-this.getSliderStart();return this.trimAlignValue(this.calcValue(t))}},{key:"calcOffset",value:function(e){var t=this.props,n=t.min;return 100*((e-n)/(t.max-n))}},{key:"saveHandle",value:function(e,t){this.handlesRefs[e]=t}},{key:"render",value:function(){var e,n=this.props,r=n.prefixCls,o=n.className,a=n.marks,s=n.dots,l=n.step,c=n.included,u=n.disabled,d=n.vertical,h=n.min,p=n.max,f=n.children,m=n.maximumTrackStyle,g=n.style,v=Cm()(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"render",this).call(this),y=v.tracks,b=v.handles,_=C()((e={},hi()(e,r,!0),hi()(e,r+"-with-marks",Object.keys(a).length),hi()(e,r+"-disabled",u),hi()(e,r+"-vertical",d),hi()(e,o,o),e));return i.a.createElement("div",{ref:this.saveSlider,className:_,onTouchStart:u?Wm:this.onTouchStart,onMouseDown:u?Wm:this.onMouseDown,style:g},i.a.createElement("div",{className:r+"-rail",style:m}),y,i.a.createElement(Tm,{prefixCls:r,vertical:d,marks:a,dots:s,step:l,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:h}),b,i.a.createElement(Mm,{className:r+"-mark",vertical:d,marks:a,included:c,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:p,min:h}),f)}}]),t}(e),t.displayName="ComponentEnhancer("+e.displayName+")",t.propTypes=co()({},e.propTypes,{min:d.a.number,max:d.a.number,step:d.a.number,marks:d.a.object,included:d.a.bool,className:d.a.string,prefixCls:d.a.string,disabled:d.a.bool,children:d.a.any,onBeforeChange:d.a.func,onChange:d.a.func,onAfterChange:d.a.func,handle:d.a.func,dots:d.a.bool,vertical:d.a.bool,style:d.a.object,minimumTrackStyle:d.a.object,maximumTrackStyle:d.a.object,handleStyle:d.a.object}),t.defaultProps=co()({},e.defaultProps,{prefixCls:"rc-slider",className:"",min:0,max:100,step:1,marks:{},handle:function(e){var t=e.index,n=mo()(e,["index"]);return delete n.dragging,delete n.value,i.a.createElement(Lm,co()({},n,{key:t}))},onBeforeChange:Wm,onChange:Wm,onAfterChange:Wm,included:!0,disabled:!1,dots:!1,vertical:!1,minimumTrackStyle:{},maximumTrackStyle:{},handleStyle:{}}),n}Pm.propTypes={className:d.a.string,vertical:d.a.bool,offset:d.a.number,handleStyle:d.a.object};var Um=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({dragging:!1}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=void 0!==e.defaultValue?e.defaultValue:e.min,o=void 0!==e.value?e.value:r;return n.state={value:n.trimAlignValue(o),dragging:!1},n}return io()(t,e),to()(t,[{key:"componentWillReceiveProps",value:function(e){if("value"in e||"min"in e||"max"in e){var t=this.state.value,n=void 0!==e.value?e.value:t,r=this.trimAlignValue(n,e);r!==t&&(this.setState({value:r}),Am(n,e)&&this.props.onChange(r))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)&&this.setState(e);var n=e.value;t.onChange(n)}},{key:"onStart",value:function(e){this.setState({dragging:!0});var t=this.props,n=this.getValue();t.onBeforeChange(n);var r=this.calcValueByPos(e);this.startValue=r,this.startPosition=e,r!==n&&this.onChange({value:r})}},{key:"onMove",value:function(e,t){Bm(e);var n=this.state,r=this.calcValueByPos(t);r!==n.value&&this.onChange({value:r})}},{key:"getValue",value:function(){return this.state.value}},{key:"getLowerBound",value:function(){return this.props.min}},{key:"getUpperBound",value:function(){return this.state.value}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=co()({},this.props,t),r=zm(e,n);return Fm(r,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.prefixCls,r=t.vertical,o=t.included,a=t.disabled,s=t.minimumTrackStyle,l=t.handleStyle,c=t.handle,u=this.state,d=u.value,h=u.dragging,p=this.calcOffset(d),f=c({className:n+"-handle",vertical:r,offset:p,value:d,dragging:h,disabled:a,handleStyle:l,ref:function(t){return e.saveHandle(0,t)}});return{tracks:i.a.createElement(_m,{className:n+"-track",vertical:r,included:o,offset:0,length:p,minimumTrackStyle:s}),handles:f}}}]),t}(i.a.Component);Um.displayName="Slider",Um.propTypes={defaultValue:d.a.number,value:d.a.number,disabled:d.a.bool},Um.defaultProps={};var Gm=Hm(Um),Vm=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onEnd=function(){n.setState({handle:null}),n.removeDocumentEvents(),n.props.onAfterChange(n.getValue())};var r=e.count,o=e.min,i=e.max,a=Array.apply(null,Array(r+1)).map((function(){return o})),s="defaultValue"in e?e.defaultValue:a,l=(void 0!==e.value?e.value:s).map((function(e){return n.trimAlignValue(e)})),c=l[0]===i?0:l.length-1;return n.state={handle:null,recent:c,bounds:l},n}return io()(t,e),to()(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;if("value"in e||"min"in e||"max"in e){var n=this.state.bounds,r=(e.value||n).map((function(n){return t.trimAlignValue(n,e)}));r.length===n.length&&r.every((function(e,t){return e===n[t]}))||(this.setState({bounds:r}),n.some((function(t){return Am(t,e)}))&&this.props.onChange(r))}}},{key:"onChange",value:function(e){var t=this.props;!("value"in t)?this.setState(e):void 0!==e.handle&&this.setState({handle:e.handle});var n=co()({},this.state,e).bounds;t.onChange(n)}},{key:"onStart",value:function(e){var t=this.props,n=this.state,r=this.getValue();t.onBeforeChange(r);var o=this.calcValueByPos(e);this.startValue=o,this.startPosition=e;var i=this.getClosestBound(o),a=this.getBoundNeedMoving(o,i);if(this.setState({handle:a,recent:a}),o!==r[a]){var s=[].concat(oi()(n.bounds));s[a]=o,this.onChange({bounds:s})}}},{key:"onMove",value:function(e,t){Bm(e);var n=this.props,r=this.state,o=this.calcValueByPos(t);if(o!==r.bounds[r.handle]){var i=[].concat(oi()(r.bounds));i[r.handle]=o;var a=r.handle;if(!1!==n.pushable){var s=r.bounds[a];this.pushSurroundingHandles(i,a,s)}else n.allowCross&&(i.sort((function(e,t){return e-t})),a=i.indexOf(o));this.onChange({handle:a,bounds:i})}}},{key:"getValue",value:function(){return this.state.bounds}},{key:"getClosestBound",value:function(e){for(var t=this.state.bounds,n=0,r=1;r<t.length-1;++r)e>t[r]&&(n=r);return Math.abs(t[n+1]-e)<Math.abs(t[n]-e)&&(n+=1),n}},{key:"getBoundNeedMoving",value:function(e,t){var n=this.state,r=n.bounds,o=n.recent,i=t,a=r[t+1]===r[t];return a&&(i=o),a&&e!==r[t+1]&&(i=e<r[t+1]?t:t+1),i}},{key:"getLowerBound",value:function(){return this.state.bounds[0]}},{key:"getUpperBound",value:function(){var e=this.state.bounds;return e[e.length-1]}},{key:"getPoints",value:function(){var e=this.props,t=e.marks,n=e.step,r=e.min,o=e.max,i=this._getPointsCache;if(!i||i.marks!==t||i.step!==n){var a=co()({},t);if(null!==n)for(var s=r;s<=o;s+=n)a[s]=s;var l=Object.keys(a).map(parseFloat);l.sort((function(e,t){return e-t})),this._getPointsCache={marks:t,step:n,points:l}}return this._getPointsCache.points}},{key:"pushSurroundingHandles",value:function(e,t,n){var r=this.props.pushable,o=e[t],i=0;if(e[t+1]-o<r&&(i=1),o-e[t-1]<r&&(i=-1),0!==i){var a=t+i,s=i*(e[a]-o);this.pushHandle(e,a,i,r-s)||(e[t]=n)}}},{key:"pushHandle",value:function(e,t,n,r){for(var o=e[t],i=e[t];n*(i-o)<r;){if(!this.pushHandleOnePoint(e,t,n))return e[t]=o,!1;i=e[t]}return!0}},{key:"pushHandleOnePoint",value:function(e,t,n){var r=this.getPoints(),o=r.indexOf(e[t])+n;if(o>=r.length||o<0)return!1;var i=t+n,a=r[o],s=this.props.pushable,l=n*(e[i]-a);return!!this.pushHandle(e,i,n,s-l)&&(e[t]=a,!0)}},{key:"trimAlignValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=co()({},this.props,t),r=zm(e,n),o=this.ensureValueNotConflict(r,n);return Fm(o,n)}},{key:"ensureValueNotConflict",value:function(e,t){var n=t.allowCross,r=this.state||{},o=r.handle,i=r.bounds;if(!n&&null!=o){if(o>0&&e<=i[o-1])return i[o-1];if(o<i.length-1&&e>=i[o+1])return i[o+1]}return e}},{key:"render",value:function(){var e=this,t=this.state,n=t.handle,r=t.bounds,o=this.props,a=o.prefixCls,s=o.vertical,l=o.included,c=o.disabled,u=o.handle,d=r.map((function(t){return e.calcOffset(t)})),h=a+"-handle",p=r.map((function(t,r){var o;return u({className:C()((o={},hi()(o,h,!0),hi()(o,h+"-"+(r+1),!0),o)),vertical:s,offset:d[r],value:t,dragging:n===r,index:r,disabled:c,ref:function(t){return e.saveHandle(r,t)}})}));return{tracks:r.slice(0,-1).map((function(e,t){var n,r=t+1,o=C()((n={},hi()(n,a+"-track",!0),hi()(n,a+"-track-"+r,!0),n));return i.a.createElement(_m,{className:o,vertical:s,included:l,offset:d[r-1],length:d[r]-d[r-1],key:r})})),handles:p}}}]),t}(i.a.Component);Vm.displayName="Range",Vm.propTypes={defaultValue:d.a.arrayOf(d.a.number),value:d.a.arrayOf(d.a.number),count:d.a.number,pushable:d.a.oneOfType([d.a.bool,d.a.number]),allowCross:d.a.bool,disabled:d.a.bool},Vm.defaultProps={count:1,allowCross:!0,pushable:!1};var Ym=Hm(Vm);function qm(e,t){for(var n=t;n;){if(n===e)return!0;n=n.parentNode}return!1}var Zm=function(e){function t(){var e,n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.removeContainer=function(){r.container&&(Vo.a.unmountComponentAtNode(r.container),r.container.parentNode.removeChild(r.container),r.container=null)},r.renderComponent=function(e,t){var n=r.props,o=n.visible,i=n.getComponent,a=n.forceRender,s=n.getContainer,l=n.parent;(o||l._component||a)&&(r.container||(r.container=s()),Vo.a.unstable_renderSubtreeIntoContainer(l,i(e),r.container,(function(){t&&t.call(this)})))},o=n,ro()(r,o)}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentDidUpdate",value:function(){this.props.autoMount&&this.renderComponent()}},{key:"componentWillUnmount",value:function(){this.props.autoDestroy&&this.removeContainer()}},{key:"render",value:function(){return this.props.children({renderComponent:this.renderComponent,removeContainer:this.removeContainer})}}]),t}(i.a.Component);Zm.propTypes={autoMount:d.a.bool,autoDestroy:d.a.bool,visible:d.a.bool,forceRender:d.a.bool,parent:d.a.any,getComponent:d.a.func.isRequired,getContainer:d.a.func.isRequired,children:d.a.func.isRequired},Zm.defaultProps={autoMount:!0,autoDestroy:!0,forceRender:!1};var $m=Zm,Km=function(e){function t(){return Jr()(this,t),ro()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){this.createContainer()}},{key:"componentDidUpdate",value:function(e){var t=this.props.didUpdate;t&&t(e)}},{key:"componentWillUnmount",value:function(){this.removeContainer()}},{key:"createContainer",value:function(){this._container=this.props.getContainer(),this.forceUpdate()}},{key:"removeContainer",value:function(){this._container&&this._container.parentNode.removeChild(this._container)}},{key:"render",value:function(){return this._container?Vo.a.createPortal(this.props.children,this._container):null}}]),t}(i.a.Component);Km.propTypes={getContainer:d.a.func.isRequired,children:d.a.node.isRequired,didUpdate:d.a.func};var Xm=Km;function Qm(e,t,n){return n?e[0]===t[0]:e[0]===t[0]&&e[1]===t[1]}function Jm(e,t){this[e]=t}var eg=void 0,tg={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function ng(){if(void 0!==eg)return eg;eg="";var e=document.createElement("p").style;for(var t in tg)t+"Transform"in e&&(eg=t);return eg}function rg(){return ng()?ng()+"TransitionProperty":"transitionProperty"}function og(){return ng()?ng()+"Transform":"transform"}function ig(e,t){var n=rg();n&&(e.style[n]=t,"transitionProperty"!==n&&(e.style.transitionProperty=t))}function ag(e,t){var n=og();n&&(e.style[n]=t,"transform"!==n&&(e.style.transform=t))}var sg=/matrix\((.*)\)/,lg=/matrix3d\((.*)\)/;var cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug=void 0;function dg(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t}function hg(e,t,n){var r=n;if("object"!==(void 0===t?"undefined":cg(t)))return void 0!==r?("number"==typeof r&&(r+="px"),void(e.style[t]=r)):ug(e,t);for(var o in t)t.hasOwnProperty(o)&&hg(e,o,t[o])}function pg(e,t){var n=e["page"+(t?"Y":"X")+"Offset"],r="scroll"+(t?"Top":"Left");if("number"!=typeof n){var o=e.document;"number"!=typeof(n=o.documentElement[r])&&(n=o.body[r])}return n}function fg(e){return pg(e)}function mg(e){return pg(e,!0)}function gg(e){var t=function(e){var t,n=void 0,r=void 0,o=e.ownerDocument,i=o.body,a=o&&o.documentElement;return n=(t=e.getBoundingClientRect()).left,r=t.top,{left:n-=a.clientLeft||i.clientLeft||0,top:r-=a.clientTop||i.clientTop||0}}(e),n=e.ownerDocument,r=n.defaultView||n.parentWindow;return t.left+=fg(r),t.top+=mg(r),t}function vg(e){return null!=e&&e==e.window}function yg(e){return vg(e)?e.document:9===e.nodeType?e:e.ownerDocument}var bg=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),_g=/^(top|right|bottom|left)$/;function wg(e,t){return"left"===e?t.useCssRight?"right":e:t.useCssBottom?"bottom":e}function Cg(e){return"left"===e?"right":"right"===e?"left":"top"===e?"bottom":"bottom"===e?"top":void 0}function Sg(e,t,n){"static"===hg(e,"position")&&(e.style.position="relative");var r=-999,o=-999,i=wg("left",n),a=wg("top",n),s=Cg(i),l=Cg(a);"left"!==i&&(r=999),"top"!==a&&(o=999);var c,u="",d=gg(e);("left"in t||"top"in t)&&(u=(c=e).style.transitionProperty||c.style[rg()]||"",ig(e,"none")),"left"in t&&(e.style[s]="",e.style[i]=r+"px"),"top"in t&&(e.style[l]="",e.style[a]=o+"px"),dg(e);var h=gg(e),p={};for(var f in t)if(t.hasOwnProperty(f)){var m=wg(f,n),g="left"===f?r:o,v=d[f]-h[f];p[m]=m===f?g+v:g-v}hg(e,p),dg(e),("left"in t||"top"in t)&&ig(e,u);var y={};for(var b in t)if(t.hasOwnProperty(b)){var _=wg(b,n),w=t[b]-d[b];y[_]=b===_?p[_]+w:p[_]-w}hg(e,y)}function Eg(e,t){var n=gg(e),r=function(e){var t=window.getComputedStyle(e,null),n=t.getPropertyValue("transform")||t.getPropertyValue(og());if(n&&"none"!==n){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}(e),o={x:r.x,y:r.y};"left"in t&&(o.x=r.x+t.left-n.left),"top"in t&&(o.y=r.y+t.top-n.top),function(e,t){var n=window.getComputedStyle(e,null),r=n.getPropertyValue("transform")||n.getPropertyValue(og());if(r&&"none"!==r){var o=void 0,i=r.match(sg);if(i)(o=(i=i[1]).split(",").map((function(e){return parseFloat(e,10)})))[4]=t.x,o[5]=t.y,ag(e,"matrix("+o.join(",")+")");else(o=r.match(lg)[1].split(",").map((function(e){return parseFloat(e,10)})))[12]=t.x,o[13]=t.y,ag(e,"matrix3d("+o.join(",")+")")}else ag(e,"translateX("+t.x+"px) translateY("+t.y+"px) translateZ(0)")}(e,o)}function xg(e,t){for(var n=0;n<e.length;n++)t(e[n])}function kg(e){return"border-box"===ug(e,"boxSizing")}"undefined"!=typeof window&&(ug=window.getComputedStyle?function(e,t,n){var r=n,o="",i=yg(e);return(r=r||i.defaultView.getComputedStyle(e,null))&&(o=r.getPropertyValue(t)||r[t]),o}:function(e,t){var n=e.currentStyle&&e.currentStyle[t];if(bg.test(n)&&!_g.test(t)){var r=e.style,o=r.left,i=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,r.left="fontSize"===t?"1em":n||0,n=r.pixelLeft+"px",r.left=o,e.runtimeStyle.left=i}return""===n?"auto":n});var Og=["margin","border","padding"];function Tg(e,t,n){var r={},o=e.style,i=void 0;for(i in t)t.hasOwnProperty(i)&&(r[i]=o[i],o[i]=t[i]);for(i in n.call(e),t)t.hasOwnProperty(i)&&(o[i]=r[i])}function Mg(e,t,n){var r=0,o=void 0,i=void 0,a=void 0;for(i=0;i<t.length;i++)if(o=t[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===o?""+o+n[a]+"Width":o+n[a],r+=parseFloat(ug(e,s))||0}return r}var Pg={};function Lg(e,t,n){var r=n;if(vg(e))return"width"===t?Pg.viewportWidth(e):Pg.viewportHeight(e);if(9===e.nodeType)return"width"===t?Pg.docWidth(e):Pg.docHeight(e);var o="width"===t?["Left","Right"]:["Top","Bottom"],i="width"===t?e.getBoundingClientRect().width:e.getBoundingClientRect().height,a=(ug(e),kg(e)),s=0;(null==i||i<=0)&&(i=void 0,(null==(s=ug(e,t))||Number(s)<0)&&(s=e.style[t]||0),s=parseFloat(s)||0),void 0===r&&(r=a?1:-1);var l=void 0!==i||a,c=i||s;return-1===r?l?c-Mg(e,["border","padding"],o):s:l?1===r?c:c+(2===r?-Mg(e,["border"],o):Mg(e,["margin"],o)):s+Mg(e,Og.slice(r),o)}xg(["Width","Height"],(function(e){Pg["doc"+e]=function(t){var n=t.document;return Math.max(n.documentElement["scroll"+e],n.body["scroll"+e],Pg["viewport"+e](n))},Pg["viewport"+e]=function(t){var n="client"+e,r=t.document,o=r.body,i=r.documentElement[n];return"CSS1Compat"===r.compatMode&&i||o&&o[n]||i}}));var Ng={position:"absolute",visibility:"hidden",display:"block"};function Ag(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=void 0,o=t[0];return 0!==o.offsetWidth?r=Lg.apply(void 0,t):Tg(o,Ng,(function(){r=Lg.apply(void 0,t)})),r}function Ig(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}xg(["width","height"],(function(e){var t=e.charAt(0).toUpperCase()+e.slice(1);Pg["outer"+t]=function(t,n){return t&&Ag(t,e,n?0:1)};var n="width"===e?["Left","Right"]:["Top","Bottom"];Pg[e]=function(t,r){var o=r;if(void 0===o)return t&&Ag(t,e,-1);if(t){ug(t);return kg(t)&&(o+=Mg(t,["padding","border"],n)),hg(t,e,o)}}}));var Rg={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var t=e.ownerDocument||e;return t.defaultView||t.parentWindow},getDocument:yg,offset:function(e,t,n){if(void 0===t)return gg(e);!function(e,t,n){if(n.ignoreShake){var r=gg(e),o=r.left.toFixed(0),i=r.top.toFixed(0),a=t.left.toFixed(0),s=t.top.toFixed(0);if(o===a&&i===s)return}n.useCssRight||n.useCssBottom?Sg(e,t,n):n.useCssTransform&&og()in document.body.style?Eg(e,t):Sg(e,t,n)}(e,t,n||{})},isWindow:vg,each:xg,css:hg,clone:function(e){var t=void 0,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);if(e.overflow)for(t in e)e.hasOwnProperty(t)&&(n.overflow[t]=e.overflow[t]);return n},mix:Ig,getWindowScrollLeft:function(e){return fg(e)},getWindowScrollTop:function(e){return mg(e)},merge:function(){for(var e={},t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var o=0;o<n.length;o++)Rg.mix(e,n[o]);return e},viewportWidth:0,viewportHeight:0};Ig(Rg,Pg);var Dg=Rg;var jg=function(e){if(Dg.isWindow(e)||9===e.nodeType)return null;var t=Dg.getDocument(e).body,n=void 0,r=Dg.css(e,"position");if(!("fixed"===r||"absolute"===r))return"html"===e.nodeName.toLowerCase()?null:e.parentNode;for(n=e.parentNode;n&&n!==t;n=n.parentNode)if("static"!==(r=Dg.css(n,"position")))return n;return null};var zg=function(e){for(var t={left:0,right:1/0,top:0,bottom:1/0},n=jg(e),r=Dg.getDocument(e),o=r.defaultView||r.parentWindow,i=r.body,a=r.documentElement;n;){if(-1!==navigator.userAgent.indexOf("MSIE")&&0===n.clientWidth||n===i||n===a||"visible"===Dg.css(n,"overflow")){if(n===i||n===a)break}else{var s=Dg.offset(n);s.left+=n.clientLeft,s.top+=n.clientTop,t.top=Math.max(t.top,s.top),t.right=Math.min(t.right,s.left+n.clientWidth),t.bottom=Math.min(t.bottom,s.top+n.clientHeight),t.left=Math.max(t.left,s.left)}n=jg(n)}var l=null;Dg.isWindow(e)||9===e.nodeType||(l=e.style.position,"absolute"===Dg.css(e,"position")&&(e.style.position="fixed"));var c=Dg.getWindowScrollLeft(o),u=Dg.getWindowScrollTop(o),d=Dg.viewportWidth(o),h=Dg.viewportHeight(o),p=a.scrollWidth,f=a.scrollHeight;if(e.style&&(e.style.position=l),function(e){if(Dg.isWindow(e)||9===e.nodeType)return!1;var t=Dg.getDocument(e).body,n=null;for(n=e.parentNode;n&&n!==t;n=n.parentNode){if("fixed"===Dg.css(n,"position"))return!0}return!1}(e))t.left=Math.max(t.left,c),t.top=Math.max(t.top,u),t.right=Math.min(t.right,c+d),t.bottom=Math.min(t.bottom,u+h);else{var m=Math.max(p,c+d);t.right=Math.min(t.right,m);var g=Math.max(f,u+h);t.bottom=Math.min(t.bottom,g)}return t.top>=0&&t.left>=0&&t.bottom>t.top&&t.right>t.left?t:null};var Fg=function(e,t,n,r){var o=Dg.clone(e),i={width:t.width,height:t.height};return r.adjustX&&o.left<n.left&&(o.left=n.left),r.resizeWidth&&o.left>=n.left&&o.left+i.width>n.right&&(i.width-=o.left+i.width-n.right),r.adjustX&&o.left+i.width>n.right&&(o.left=Math.max(n.right-i.width,n.left)),r.adjustY&&o.top<n.top&&(o.top=n.top),r.resizeHeight&&o.top>=n.top&&o.top+i.height>n.bottom&&(i.height-=o.top+i.height-n.bottom),r.adjustY&&o.top+i.height>n.bottom&&(o.top=Math.max(n.bottom-i.height,n.top)),Dg.mix(o,i)};var Bg=function(e){var t=void 0,n=void 0,r=void 0;if(Dg.isWindow(e)||9===e.nodeType){var o=Dg.getWindow(e);t={left:Dg.getWindowScrollLeft(o),top:Dg.getWindowScrollTop(o)},n=Dg.viewportWidth(o),r=Dg.viewportHeight(o)}else t=Dg.offset(e),n=Dg.outerWidth(e),r=Dg.outerHeight(e);return t.width=n,t.height=r,t};var Wg=function(e,t){var n=t.charAt(0),r=t.charAt(1),o=e.width,i=e.height,a=e.left,s=e.top;return"c"===n?s+=i/2:"b"===n&&(s+=i),"c"===r?a+=o/2:"r"===r&&(a+=o),{left:a,top:s}};var Hg=function(e,t,n,r,o){var i=Wg(t,n[1]),a=Wg(e,n[0]),s=[a.left-i.left,a.top-i.top];return{left:e.left-s[0]+r[0]-o[0],top:e.top-s[1]+r[1]-o[1]}};function Ug(e,t,n){return e.left<n.left||e.left+t.width>n.right}function Gg(e,t,n){return e.top<n.top||e.top+t.height>n.bottom}function Vg(e,t,n){var r=[];return Dg.each(e,(function(e){r.push(e.replace(t,(function(e){return n[e]})))})),r}function Yg(e,t){return e[t]=-e[t],e}function qg(e,t){return(/%$/.test(e)?parseInt(e.substring(0,e.length-1),10)/100*t:parseInt(e,10))||0}function Zg(e,t){e[0]=qg(e[0],t.width),e[1]=qg(e[1],t.height)}var $g=function(e,t,n,r){var o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||e;i=[].concat(i),a=[].concat(a),s=s||{};var c={},u=0,d=zg(l),h=Bg(l);Zg(i,h),Zg(a,t);var p=Hg(h,t,o,i,a),f=Dg.merge(h,p);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&Ug(p,h,d)){var m=Vg(o,/[lr]/gi,{l:"r",r:"l"}),g=Yg(i,0),v=Yg(a,0);(function(e,t,n){return e.left>n.right||e.left+t.width<n.left})(Hg(h,t,m,g,v),h,d)||(u=1,o=m,i=g,a=v)}if(s.adjustY&&Gg(p,h,d)){var y=Vg(o,/[tb]/gi,{t:"b",b:"t"}),b=Yg(i,1),_=Yg(a,1);(function(e,t,n){return e.top>n.bottom||e.top+t.height<n.top})(Hg(h,t,y,b,_),h,d)||(u=1,o=y,i=b,a=_)}u&&(p=Hg(h,t,o,i,a),Dg.mix(f,p));var w=Ug(p,h,d),C=Gg(p,h,d);(w||C)&&(o=n.points,i=n.offset||[0,0],a=n.targetOffset||[0,0]),c.adjustX=s.adjustX&&w,c.adjustY=s.adjustY&&C,(c.adjustX||c.adjustY)&&(f=Fg(p,h,d,c))}return f.width!==h.width&&Dg.css(l,"width",Dg.width(l)+f.width-h.width),f.height!==h.height&&Dg.css(l,"height",Dg.height(l)+f.height-h.height),Dg.offset(l,{left:f.left,top:f.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:o,offset:i,targetOffset:a,overflow:c}};function Kg(e,t,n){var r=n.target||t,o=Bg(r),i=!function(e){var t=zg(e),n=Bg(e);return!t||n.left+n.width<=t.left||n.top+n.height<=t.top||n.left>=t.right||n.top>=t.bottom}(r);return $g(e,o,n,i)}Kg.__getOffsetParent=jg,Kg.__getVisibleRectForElement=zg;var Xg=Kg,Qg=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var Jg=function(e,t,n){var r=void 0,o=void 0,i=Dg.getDocument(e),a=i.defaultView||i.parentWindow,s=Dg.getWindowScrollLeft(a),l=Dg.getWindowScrollTop(a),c=Dg.viewportWidth(a),u=Dg.viewportHeight(a),d={left:r="pageX"in t?t.pageX:s+t.clientX,top:o="pageY"in t?t.pageY:l+t.clientY,width:0,height:0},h=r>=0&&r<=s+c&&o>=0&&o<=l+u,p=[n.points[0],"cc"];return $g(e,d,Qg({},n,{points:p}),h)};function ev(e){return e&&"object"==typeof e&&e.window===e}function tv(e){return"function"==typeof e&&e?e():null}function nv(e){return"object"==typeof e&&e?e:null}var rv=function(e){function t(){var n,r,o;Jr()(this,t);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=ro()(this,e.call.apply(e,[this].concat(a))),r.forceAlign=function(){var e=r.props,t=e.disabled,n=e.target,o=e.align,i=e.onAlign;if(!t&&n){var a=Vo.a.findDOMNode(r),s=void 0,l=tv(n),c=nv(n);l?s=Xg(a,l,o):c&&(s=Jg(a,c,o)),i&&i(a,s)}},o=n,ro()(r,o)}return io()(t,e),t.prototype.componentDidMount=function(){var e=this.props;this.forceAlign(),!e.disabled&&e.monitorWindowResize&&this.startMonitorWindowResize()},t.prototype.componentDidUpdate=function(e){var t,n,r=!1,o=this.props;if(!o.disabled){var i=Vo.a.findDOMNode(this),a=i?i.getBoundingClientRect():null;if(e.disabled)r=!0;else{var s=tv(e.target),l=tv(o.target),c=nv(e.target),u=nv(o.target);ev(s)&&ev(l)?r=!1:(s!==l||s&&!l&&u||c&&u&&l||u&&!((t=c)===(n=u)||t&&n&&("pageX"in n&&"pageY"in n?t.pageX===n.pageX&&t.pageY===n.pageY:"clientX"in n&&"clientY"in n&&t.clientX===n.clientX&&t.clientY===n.clientY)))&&(r=!0);var d=this.sourceRect||{};r||!i||d.width===a.width&&d.height===a.height||(r=!0)}this.sourceRect=a}r&&this.forceAlign(),o.monitorWindowResize&&!o.disabled?this.startMonitorWindowResize():this.stopMonitorWindowResize()},t.prototype.componentWillUnmount=function(){this.stopMonitorWindowResize()},t.prototype.startMonitorWindowResize=function(){this.resizeHandler||(this.bufferMonitor=function(e,t){var n=void 0;function r(){n&&(clearTimeout(n),n=null)}function o(){r(),n=setTimeout(e,t)}return o.clear=r,o}(this.forceAlign,this.props.monitorBufferTime),this.resizeHandler=xm(window,"resize",this.bufferMonitor))},t.prototype.stopMonitorWindowResize=function(){this.resizeHandler&&(this.bufferMonitor.clear(),this.resizeHandler.remove(),this.resizeHandler=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.childrenProps,r=t.children,o=i.a.Children.only(r);if(n){var a={};return Object.keys(n).forEach((function(t){a[t]=e.props[n[t]]})),i.a.cloneElement(o,a)}return o},t}(o.Component);rv.propTypes={childrenProps:d.a.object,align:d.a.object.isRequired,target:d.a.oneOfType([d.a.func,d.a.shape({clientX:d.a.number,clientY:d.a.number,pageX:d.a.number,pageY:d.a.number})]),onAlign:d.a.func,monitorBufferTime:d.a.number,monitorWindowResize:d.a.bool,disabled:d.a.bool,children:d.a.any},rv.defaultProps={target:function(){return window},monitorBufferTime:50,monitorWindowResize:!1,disabled:!1};var ov=rv;function iv(e){var t=[];return i.a.Children.forEach(e,(function(e){t.push(e)})),t}function av(e,t){var n=null;return e&&e.forEach((function(e){n||e&&e.key===t&&(n=e)})),n}function sv(e,t,n){var r=null;return e&&e.forEach((function(e){if(e&&e.key===t&&e.props[n]){if(r)throw new Error("two child with same key for <rc-animate> children");r=e}})),r}var lv={isAppearSupported:function(e){return e.transitionName&&e.transitionAppear||e.animation.appear},isEnterSupported:function(e){return e.transitionName&&e.transitionEnter||e.animation.enter},isLeaveSupported:function(e){return e.transitionName&&e.transitionLeave||e.animation.leave},allowAppearCallback:function(e){return e.transitionAppear||e.animation.appear},allowEnterCallback:function(e){return e.transitionEnter||e.animation.enter},allowLeaveCallback:function(e){return e.transitionLeave||e.animation.leave}},cv={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},uv=function(e){function t(){return Jr()(this,t),ro()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return io()(t,e),to()(t,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(e){lv.isEnterSupported(this.props)?this.transition("enter",e):e()}},{key:"componentWillAppear",value:function(e){lv.isAppearSupported(this.props)?this.transition("appear",e):e()}},{key:"componentWillLeave",value:function(e){lv.isLeaveSupported(this.props)?this.transition("leave",e):e()}},{key:"transition",value:function(e,t){var n=this,r=Vo.a.findDOMNode(this),o=this.props,i=o.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,t()};if((vh||!o.animation[e])&&i&&o[cv[e]]){var l=a?i[e]:i+"-"+e,c=l+"-active";a&&i[e+"Active"]&&(c=i[e+"Active"]),this.stopper=Eh(r,{name:l,active:c},s)}else this.stopper=o.animation[e](r,s)}},{key:"stop",value:function(){var e=this.stopper;e&&(this.stopper=null,e.stop())}},{key:"render",value:function(){return this.props.children}}]),t}(i.a.Component);uv.propTypes={children:d.a.any};var dv=uv,hv="rc_animate_"+Date.now();function pv(e){var t=e.children;return i.a.isValidElement(t)&&!t.key?i.a.cloneElement(t,{key:hv}):t}function fv(){}var mv=function(e){function t(e){Jr()(this,t);var n=ro()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return gv.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:iv(pv(e))},n.childrenRefs={},n}return io()(t,e),to()(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.showProp,n=this.state.children;t&&(n=n.filter((function(e){return!!e.props[t]}))),n.forEach((function(t){t&&e.performAppear(t.key)}))}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.nextProps=e;var n=iv(pv(e)),r=this.props;r.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach((function(e){t.stop(e)}));var o,a,s,l,c=r.showProp,u=this.currentlyAnimatingKeys,d=r.exclusive?iv(pv(r)):this.state.children,h=[];c?(d.forEach((function(e){var t=e&&av(n,e.key),r=void 0;(r=t&&t.props[c]||!e.props[c]?t:i.a.cloneElement(t||e,hi()({},c,!0)))&&h.push(r)})),n.forEach((function(e){e&&av(d,e.key)||h.push(e)}))):(o=n,a=[],s={},l=[],d.forEach((function(e){e&&av(o,e.key)?l.length&&(s[e.key]=l,l=[]):l.push(e)})),o.forEach((function(e){e&&Object.prototype.hasOwnProperty.call(s,e.key)&&(a=a.concat(s[e.key])),a.push(e)})),h=a=a.concat(l)),this.setState({children:h}),n.forEach((function(e){var n=e&&e.key;if(!e||!u[n]){var r=e&&av(d,n);if(c){var o=e.props[c];if(r)!sv(d,n,c)&&o&&t.keysToEnter.push(n);else o&&t.keysToEnter.push(n)}else r||t.keysToEnter.push(n)}})),d.forEach((function(e){var r=e&&e.key;if(!e||!u[r]){var o=e&&av(n,r);if(c){var i=e.props[c];if(o)!sv(n,r,c)&&i&&t.keysToLeave.push(r);else i&&t.keysToLeave.push(r)}else o||t.keysToLeave.push(r)}}))}},{key:"componentDidUpdate",value:function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(e,t){var n=this.props.showProp;return n?sv(e,t,n):av(e,t)}},{key:"stop",value:function(e){delete this.currentlyAnimatingKeys[e];var t=this.childrenRefs[e];t&&t.stop()}},{key:"render",value:function(){var e=this,t=this.props;this.nextProps=t;var n=this.state.children,r=null;n&&(r=n.map((function(n){if(null==n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return i.a.createElement(dv,{key:n.key,ref:function(t){e.childrenRefs[n.key]=t},animation:t.animation,transitionName:t.transitionName,transitionEnter:t.transitionEnter,transitionAppear:t.transitionAppear,transitionLeave:t.transitionLeave},n)})));var o=t.component;if(o){var a=t;return"string"==typeof o&&(a=co()({className:t.className,style:t.style},t.componentProps)),i.a.createElement(o,a,r)}return r[0]||null}}]),t}(i.a.Component);mv.isAnimate=!0,mv.propTypes={component:d.a.any,componentProps:d.a.object,animation:d.a.object,transitionName:d.a.oneOfType([d.a.string,d.a.object]),transitionEnter:d.a.bool,transitionAppear:d.a.bool,exclusive:d.a.bool,transitionLeave:d.a.bool,onEnd:d.a.func,onEnter:d.a.func,onLeave:d.a.func,onAppear:d.a.func,showProp:d.a.string,children:d.a.node},mv.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:fv,onEnter:fv,onLeave:fv,onAppear:fv};var gv=function(){var e=this;this.performEnter=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillEnter(e.handleDoneAdding.bind(e,t,"enter")))},this.performAppear=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillAppear(e.handleDoneAdding.bind(e,t,"appear")))},this.handleDoneAdding=function(t,n){var r=e.props;if(delete e.currentlyAnimatingKeys[t],!r.exclusive||r===e.nextProps){var o=iv(pv(r));e.isValidChildByKey(o,t)?"appear"===n?lv.allowAppearCallback(r)&&(r.onAppear(t),r.onEnd(t,!0)):lv.allowEnterCallback(r)&&(r.onEnter(t),r.onEnd(t,!0)):e.performLeave(t)}},this.performLeave=function(t){e.childrenRefs[t]&&(e.currentlyAnimatingKeys[t]=!0,e.childrenRefs[t].componentWillLeave(e.handleDoneLeaving.bind(e,t)))},this.handleDoneLeaving=function(t){var n=e.props;if(delete e.currentlyAnimatingKeys[t],!n.exclusive||n===e.nextProps){var r,o,i,a,s=iv(pv(n));if(e.isValidChildByKey(s,t))e.performEnter(t);else{var l=function(){lv.allowLeaveCallback(n)&&(n.onLeave(t),n.onEnd(t,!1))};r=e.state.children,o=s,i=n.showProp,(a=r.length===o.length)&&r.forEach((function(e,t){var n=o[t];e&&n&&(e&&!n||!e&&n?a=!1:e.key!==n.key?a=!1:i&&e.props[i]!==n.props[i]&&(a=!1))})),a?l():e.setState({children:s},l)}}}},vv=mv,yv=function(e){function t(){return Jr()(this,t),ro()(this,e.apply(this,arguments))}return io()(t,e),t.prototype.shouldComponentUpdate=function(e){return e.hiddenClassName||e.visible},t.prototype.render=function(){var e=this.props,t=e.hiddenClassName,n=e.visible,r=mo()(e,["hiddenClassName","visible"]);return t||i.a.Children.count(r.children)>1?(!n&&t&&(r.className+=" "+t),i.a.createElement("div",r)):i.a.Children.only(r.children)},t}(o.Component);yv.propTypes={children:d.a.any,className:d.a.string,visible:d.a.bool,hiddenClassName:d.a.string};var bv=yv,_v=function(e){function t(){return Jr()(this,t),ro()(this,e.apply(this,arguments))}return io()(t,e),t.prototype.render=function(){var e=this.props,t=e.className;return e.visible||(t+=" "+e.hiddenClassName),i.a.createElement("div",{className:t,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onTouchStart:e.onTouchStart,style:e.style},i.a.createElement(bv,{className:e.prefixCls+"-content",visible:e.visible},e.children))},t}(o.Component);_v.propTypes={hiddenClassName:d.a.string,className:d.a.string,prefixCls:d.a.string,onMouseEnter:d.a.func,onMouseLeave:d.a.func,onMouseDown:d.a.func,onTouchStart:d.a.func,children:d.a.any};var wv=_v,Cv=function(e){function t(n){Jr()(this,t);var r=ro()(this,e.call(this,n));return Sv.call(r),r.state={stretchChecked:!1,targetWidth:void 0,targetHeight:void 0},r.savePopupRef=Jm.bind(r,"popupInstance"),r.saveAlignRef=Jm.bind(r,"alignInstance"),r}return io()(t,e),t.prototype.componentDidMount=function(){this.rootNode=this.getPopupDomNode(),this.setStretchSize()},t.prototype.componentDidUpdate=function(){this.setStretchSize()},t.prototype.getPopupDomNode=function(){return Vo.a.findDOMNode(this.popupInstance)},t.prototype.getMaskTransitionName=function(){var e=this.props,t=e.maskTransitionName,n=e.maskAnimation;return!t&&n&&(t=e.prefixCls+"-"+n),t},t.prototype.getTransitionName=function(){var e=this.props,t=e.transitionName;return!t&&e.animation&&(t=e.prefixCls+"-"+e.animation),t},t.prototype.getClassName=function(e){return this.props.prefixCls+" "+this.props.className+" "+e},t.prototype.getPopupElement=function(){var e=this,t=this.savePopupRef,n=this.state,r=n.stretchChecked,o=n.targetHeight,a=n.targetWidth,s=this.props,l=s.align,c=s.visible,u=s.prefixCls,d=s.style,h=s.getClassNameFromAlign,p=s.destroyPopupOnHide,f=s.stretch,m=s.children,g=s.onMouseEnter,v=s.onMouseLeave,y=s.onMouseDown,b=s.onTouchStart,_=this.getClassName(this.currentAlignClassName||h(l)),w=u+"-hidden";c||(this.currentAlignClassName=null);var C={};f&&(-1!==f.indexOf("height")?C.height=o:-1!==f.indexOf("minHeight")&&(C.minHeight=o),-1!==f.indexOf("width")?C.width=a:-1!==f.indexOf("minWidth")&&(C.minWidth=a),r||(C.visibility="hidden",setTimeout((function(){e.alignInstance&&e.alignInstance.forceAlign()}),0)));var S={className:_,prefixCls:u,ref:t,onMouseEnter:g,onMouseLeave:v,onMouseDown:y,onTouchStart:b,style:co()({},C,d,this.getZIndexStyle())};return p?i.a.createElement(vv,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName()},c?i.a.createElement(ov,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,align:l,onAlign:this.onAlign},i.a.createElement(wv,co()({visible:!0},S),m)):null):i.a.createElement(vv,{component:"",exclusive:!0,transitionAppear:!0,transitionName:this.getTransitionName(),showProp:"xVisible"},i.a.createElement(ov,{target:this.getAlignTarget(),key:"popup",ref:this.saveAlignRef,monitorWindowResize:!0,xVisible:c,childrenProps:{visible:"xVisible"},disabled:!c,align:l,onAlign:this.onAlign},i.a.createElement(wv,co()({hiddenClassName:w},S),m)))},t.prototype.getZIndexStyle=function(){var e={},t=this.props;return void 0!==t.zIndex&&(e.zIndex=t.zIndex),e},t.prototype.getMaskElement=function(){var e=this.props,t=void 0;if(e.mask){var n=this.getMaskTransitionName();t=i.a.createElement(bv,{style:this.getZIndexStyle(),key:"mask",className:e.prefixCls+"-mask",hiddenClassName:e.prefixCls+"-mask-hidden",visible:e.visible}),n&&(t=i.a.createElement(vv,{key:"mask",showProp:"visible",transitionAppear:!0,component:"",transitionName:n},t))}return t},t.prototype.render=function(){return i.a.createElement("div",null,this.getMaskElement(),this.getPopupElement())},t}(o.Component);Cv.propTypes={visible:d.a.bool,style:d.a.object,getClassNameFromAlign:d.a.func,onAlign:d.a.func,getRootDomNode:d.a.func,align:d.a.any,destroyPopupOnHide:d.a.bool,className:d.a.string,prefixCls:d.a.string,onMouseEnter:d.a.func,onMouseLeave:d.a.func,onMouseDown:d.a.func,onTouchStart:d.a.func,stretch:d.a.string,children:d.a.node,point:d.a.shape({pageX:d.a.number,pageY:d.a.number})};var Sv=function(){var e=this;this.onAlign=function(t,n){var r=e.props,o=r.getClassNameFromAlign(n);e.currentAlignClassName!==o&&(e.currentAlignClassName=o,t.className=e.getClassName(o)),r.onAlign(t,n)},this.setStretchSize=function(){var t=e.props,n=t.stretch,r=t.getRootDomNode,o=t.visible,i=e.state,a=i.stretchChecked,s=i.targetHeight,l=i.targetWidth;if(n&&o){var c=r();if(c){var u=c.offsetHeight,d=c.offsetWidth;s===u&&l===d&&a||e.setState({stretchChecked:!0,targetHeight:u,targetWidth:d})}}else a&&e.setState({stretchChecked:!1})},this.getTargetElement=function(){return e.props.getRootDomNode()},this.getAlignTarget=function(){var t=e.props.point;return t||e.getTargetElement}},Ev=Cv;function xv(){}var kv=["onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur","onContextMenu"],Ov=!!Go.createPortal,Tv={rcTrigger:d.a.shape({onPopupMouseDown:d.a.func})},Mv=function(e){function t(n){Jr()(this,t);var r=ro()(this,e.call(this,n));Pv.call(r);var o=void 0;return o="popupVisible"in n?!!n.popupVisible:!!n.defaultPopupVisible,r.prevPopupVisible=o,r.state={popupVisible:o},r}return io()(t,e),t.prototype.getChildContext=function(){return{rcTrigger:{onPopupMouseDown:this.onPopupMouseDown}}},t.prototype.componentWillMount=function(){var e=this;kv.forEach((function(t){e["fire"+t]=function(n){e.fireEvents(t,n)}}))},t.prototype.componentDidMount=function(){this.componentDidUpdate({},{popupVisible:this.state.popupVisible})},t.prototype.componentWillReceiveProps=function(e){var t=e.popupVisible;void 0!==t&&this.setState({popupVisible:t})},t.prototype.componentDidUpdate=function(e,t){var n=this.props,r=this.state;if(Ov||this.renderComponent(null,(function(){t.popupVisible!==r.popupVisible&&n.afterPopupVisibleChange(r.popupVisible)})),this.prevPopupVisible=t.popupVisible,r.popupVisible){var o=void 0;return this.clickOutsideHandler||!this.isClickToHide()&&!this.isContextMenuToShow()||(o=n.getDocument(),this.clickOutsideHandler=xm(o,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(o=o||n.getDocument(),this.touchOutsideHandler=xm(o,"touchstart",this.onDocumentClick)),!this.contextMenuOutsideHandler1&&this.isContextMenuToShow()&&(o=o||n.getDocument(),this.contextMenuOutsideHandler1=xm(o,"scroll",this.onContextMenuClose)),void(!this.contextMenuOutsideHandler2&&this.isContextMenuToShow()&&(this.contextMenuOutsideHandler2=xm(window,"blur",this.onContextMenuClose)))}this.clearOutsideHandler()},t.prototype.componentWillUnmount=function(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout)},t.prototype.getPopupDomNode=function(){return this._component&&this._component.getPopupDomNode?this._component.getPopupDomNode():null},t.prototype.getPopupAlign=function(){var e=this.props,t=e.popupPlacement,n=e.popupAlign,r=e.builtinPlacements;return t&&r?function(e,t,n){var r=e[t]||{};return co()({},r,n)}(r,t,n):n},t.prototype.setPopupVisible=function(e,t){var n=this.props.alignPoint;this.clearDelayTimer(),this.state.popupVisible!==e&&("popupVisible"in this.props||this.setState({popupVisible:e}),this.props.onPopupVisibleChange(e)),n&&t&&this.setPoint(t)},t.prototype.delaySetPopupVisible=function(e,t,n){var r=this,o=1e3*t;if(this.clearDelayTimer(),o){var i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout((function(){r.setPopupVisible(e,i),r.clearDelayTimer()}),o)}else this.setPopupVisible(e,n)},t.prototype.clearDelayTimer=function(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},t.prototype.clearOutsideHandler=function(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextMenuOutsideHandler1&&(this.contextMenuOutsideHandler1.remove(),this.contextMenuOutsideHandler1=null),this.contextMenuOutsideHandler2&&(this.contextMenuOutsideHandler2.remove(),this.contextMenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},t.prototype.createTwoChains=function(e){var t=this.props.children.props,n=this.props;return t[e]&&n[e]?this["fire"+e]:t[e]||n[e]},t.prototype.isClickToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isContextMenuToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("contextMenu")||-1!==n.indexOf("contextMenu")},t.prototype.isClickToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("click")||-1!==n.indexOf("click")},t.prototype.isMouseEnterToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseEnter")},t.prototype.isMouseLeaveToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("hover")||-1!==n.indexOf("mouseLeave")},t.prototype.isFocusToShow=function(){var e=this.props,t=e.action,n=e.showAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("focus")},t.prototype.isBlurToHide=function(){var e=this.props,t=e.action,n=e.hideAction;return-1!==t.indexOf("focus")||-1!==n.indexOf("blur")},t.prototype.forcePopupAlign=function(){this.state.popupVisible&&this._component&&this._component.alignInstance&&this._component.alignInstance.forceAlign()},t.prototype.fireEvents=function(e,t){var n=this.props.children.props[e];n&&n(t);var r=this.props[e];r&&r(t)},t.prototype.close=function(){this.setPopupVisible(!1)},t.prototype.render=function(){var e=this,t=this.state.popupVisible,n=this.props,r=n.children,o=n.forceRender,a=n.alignPoint,s=n.className,l=i.a.Children.only(r),c={key:"trigger"};this.isContextMenuToShow()?c.onContextMenu=this.onContextMenu:c.onContextMenu=this.createTwoChains("onContextMenu"),this.isClickToHide()||this.isClickToShow()?(c.onClick=this.onClick,c.onMouseDown=this.onMouseDown,c.onTouchStart=this.onTouchStart):(c.onClick=this.createTwoChains("onClick"),c.onMouseDown=this.createTwoChains("onMouseDown"),c.onTouchStart=this.createTwoChains("onTouchStart")),this.isMouseEnterToShow()?(c.onMouseEnter=this.onMouseEnter,a&&(c.onMouseMove=this.onMouseMove)):c.onMouseEnter=this.createTwoChains("onMouseEnter"),this.isMouseLeaveToHide()?c.onMouseLeave=this.onMouseLeave:c.onMouseLeave=this.createTwoChains("onMouseLeave"),this.isFocusToShow()||this.isBlurToHide()?(c.onFocus=this.onFocus,c.onBlur=this.onBlur):(c.onFocus=this.createTwoChains("onFocus"),c.onBlur=this.createTwoChains("onBlur"));var u=C()(l&&l.props&&l.props.className,s);u&&(c.className=u);var d=i.a.cloneElement(l,c);if(!Ov)return i.a.createElement($m,{parent:this,visible:t,autoMount:!1,forceRender:o,getComponent:this.getComponent,getContainer:this.getContainer},(function(t){var n=t.renderComponent;return e.renderComponent=n,d}));var h=void 0;return(t||this._component||o)&&(h=i.a.createElement(Xm,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},this.getComponent())),[d,h]},t}(i.a.Component);Mv.propTypes={children:d.a.any,action:d.a.oneOfType([d.a.string,d.a.arrayOf(d.a.string)]),showAction:d.a.any,hideAction:d.a.any,getPopupClassNameFromAlign:d.a.any,onPopupVisibleChange:d.a.func,afterPopupVisibleChange:d.a.func,popup:d.a.oneOfType([d.a.node,d.a.func]).isRequired,popupStyle:d.a.object,prefixCls:d.a.string,popupClassName:d.a.string,className:d.a.string,popupPlacement:d.a.string,builtinPlacements:d.a.object,popupTransitionName:d.a.oneOfType([d.a.string,d.a.object]),popupAnimation:d.a.any,mouseEnterDelay:d.a.number,mouseLeaveDelay:d.a.number,zIndex:d.a.number,focusDelay:d.a.number,blurDelay:d.a.number,getPopupContainer:d.a.func,getDocument:d.a.func,forceRender:d.a.bool,destroyPopupOnHide:d.a.bool,mask:d.a.bool,maskClosable:d.a.bool,onPopupAlign:d.a.func,popupAlign:d.a.object,popupVisible:d.a.bool,defaultPopupVisible:d.a.bool,maskTransitionName:d.a.oneOfType([d.a.string,d.a.object]),maskAnimation:d.a.string,stretch:d.a.string,alignPoint:d.a.bool},Mv.contextTypes=Tv,Mv.childContextTypes=Tv,Mv.defaultProps={prefixCls:"rc-trigger-popup",getPopupClassNameFromAlign:function(){return""},getDocument:function(){return window.document},onPopupVisibleChange:xv,afterPopupVisibleChange:xv,onPopupAlign:xv,popupClassName:"",mouseEnterDelay:0,mouseLeaveDelay:.1,focusDelay:0,blurDelay:.15,popupStyle:{},destroyPopupOnHide:!1,popupAlign:{},defaultPopupVisible:!1,mask:!1,maskClosable:!0,action:[],showAction:[],hideAction:[]};var Pv=function(){var e=this;this.onMouseEnter=function(t){var n=e.props.mouseEnterDelay;e.fireEvents("onMouseEnter",t),e.delaySetPopupVisible(!0,n,n?null:t)},this.onMouseMove=function(t){e.fireEvents("onMouseMove",t),e.setPoint(t)},this.onMouseLeave=function(t){e.fireEvents("onMouseLeave",t),e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onPopupMouseEnter=function(){e.clearDelayTimer()},this.onPopupMouseLeave=function(t){t.relatedTarget&&!t.relatedTarget.setTimeout&&e._component&&e._component.getPopupDomNode&&qm(e._component.getPopupDomNode(),t.relatedTarget)||e.delaySetPopupVisible(!1,e.props.mouseLeaveDelay)},this.onFocus=function(t){e.fireEvents("onFocus",t),e.clearDelayTimer(),e.isFocusToShow()&&(e.focusTime=Date.now(),e.delaySetPopupVisible(!0,e.props.focusDelay))},this.onMouseDown=function(t){e.fireEvents("onMouseDown",t),e.preClickTime=Date.now()},this.onTouchStart=function(t){e.fireEvents("onTouchStart",t),e.preTouchTime=Date.now()},this.onBlur=function(t){e.fireEvents("onBlur",t),e.clearDelayTimer(),e.isBlurToHide()&&e.delaySetPopupVisible(!1,e.props.blurDelay)},this.onContextMenu=function(t){t.preventDefault(),e.fireEvents("onContextMenu",t),e.setPopupVisible(!0,t)},this.onContextMenuClose=function(){e.isContextMenuToShow()&&e.close()},this.onClick=function(t){if(e.fireEvents("onClick",t),e.focusTime){var n=void 0;if(e.preClickTime&&e.preTouchTime?n=Math.min(e.preClickTime,e.preTouchTime):e.preClickTime?n=e.preClickTime:e.preTouchTime&&(n=e.preTouchTime),Math.abs(n-e.focusTime)<20)return;e.focusTime=0}e.preClickTime=0,e.preTouchTime=0,t&&t.preventDefault&&t.preventDefault();var r=!e.state.popupVisible;(e.isClickToHide()&&!r||r&&e.isClickToShow())&&e.setPopupVisible(!e.state.popupVisible,t)},this.onPopupMouseDown=function(){var t=e.context.rcTrigger,n=void 0===t?{}:t;e.hasPopupMouseDown=!0,clearTimeout(e.mouseDownTimeout),e.mouseDownTimeout=setTimeout((function(){e.hasPopupMouseDown=!1}),0),n.onPopupMouseDown&&n.onPopupMouseDown.apply(n,arguments)},this.onDocumentClick=function(t){if(!e.props.mask||e.props.maskClosable){var n=t.target;qm(Object(Go.findDOMNode)(e),n)||e.hasPopupMouseDown||e.close()}},this.getRootDomNode=function(){return Object(Go.findDOMNode)(e)},this.getPopupClassNameFromAlign=function(t){var n=[],r=e.props,o=r.popupPlacement,i=r.builtinPlacements,a=r.prefixCls,s=r.alignPoint,l=r.getPopupClassNameFromAlign;return o&&i&&n.push(function(e,t,n,r){var o=n.points;for(var i in e)if(e.hasOwnProperty(i)&&Qm(e[i].points,o,r))return t+"-placement-"+i;return""}(i,a,t,s)),l&&n.push(l(t)),n.join(" ")},this.getComponent=function(){var t=e.props,n=t.prefixCls,r=t.destroyPopupOnHide,o=t.popupClassName,a=t.action,s=t.onPopupAlign,l=t.popupAnimation,c=t.popupTransitionName,u=t.popupStyle,d=t.mask,h=t.maskAnimation,p=t.maskTransitionName,f=t.zIndex,m=t.popup,g=t.stretch,v=t.alignPoint,y=e.state,b=y.popupVisible,_=y.point,w=e.getPopupAlign(),C={};return e.isMouseEnterToShow()&&(C.onMouseEnter=e.onPopupMouseEnter),e.isMouseLeaveToHide()&&(C.onMouseLeave=e.onPopupMouseLeave),C.onMouseDown=e.onPopupMouseDown,C.onTouchStart=e.onPopupMouseDown,i.a.createElement(Ev,co()({prefixCls:n,destroyPopupOnHide:r,visible:b,point:v&&_,className:o,action:a,align:w,onAlign:s,animation:l,getClassNameFromAlign:e.getPopupClassNameFromAlign},C,{stretch:g,getRootDomNode:e.getRootDomNode,style:u,mask:d,zIndex:f,transitionName:c,maskAnimation:h,maskTransitionName:p,ref:e.savePopup}),"function"==typeof m?m():m)},this.getContainer=function(){var t=e.props,n=document.createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",(t.getPopupContainer?t.getPopupContainer(Object(Go.findDOMNode)(e)):t.getDocument().body).appendChild(n),n},this.setPoint=function(t){e.props.alignPoint&&t&&e.setState({point:{pageX:t.pageX,pageY:t.pageY}})},this.handlePortalUpdate=function(){e.prevPopupVisible!==e.state.popupVisible&&e.props.afterPopupVisibleChange(e.state.popupVisible)},this.savePopup=function(t){e._component=t}},Lv=Mv,Nv={adjustX:1,adjustY:1},Av=[0,0],Iv={left:{points:["cr","cl"],overflow:Nv,offset:[-4,0],targetOffset:Av},right:{points:["cl","cr"],overflow:Nv,offset:[4,0],targetOffset:Av},top:{points:["bc","tc"],overflow:Nv,offset:[0,-4],targetOffset:Av},bottom:{points:["tc","bc"],overflow:Nv,offset:[0,4],targetOffset:Av},topLeft:{points:["bl","tl"],overflow:Nv,offset:[0,-4],targetOffset:Av},leftTop:{points:["tr","tl"],overflow:Nv,offset:[-4,0],targetOffset:Av},topRight:{points:["br","tr"],overflow:Nv,offset:[0,-4],targetOffset:Av},rightTop:{points:["tl","tr"],overflow:Nv,offset:[4,0],targetOffset:Av},bottomRight:{points:["tr","br"],overflow:Nv,offset:[0,4],targetOffset:Av},rightBottom:{points:["bl","br"],overflow:Nv,offset:[4,0],targetOffset:Av},bottomLeft:{points:["tl","bl"],overflow:Nv,offset:[0,4],targetOffset:Av},leftBottom:{points:["br","bl"],overflow:Nv,offset:[-4,0],targetOffset:Av}},Rv=function(e){function t(){return Jr()(this,t),ro()(this,e.apply(this,arguments))}return io()(t,e),t.prototype.componentDidUpdate=function(){var e=this.props.trigger;e&&e.forcePopupAlign()},t.prototype.render=function(){var e=this.props,t=e.overlay,n=e.prefixCls,r=e.id;return i.a.createElement("div",{className:n+"-inner",id:r,role:"tooltip"},"function"==typeof t?t():t)},t}(i.a.Component);Rv.propTypes={prefixCls:d.a.string,overlay:d.a.oneOfType([d.a.node,d.a.func]).isRequired,id:d.a.string,trigger:d.a.any};var Dv=Rv,jv=function(e){function t(){var n,r,o;Jr()(this,t);for(var a=arguments.length,s=Array(a),l=0;l<a;l++)s[l]=arguments[l];return n=r=ro()(this,e.call.apply(e,[this].concat(s))),r.getPopupElement=function(){var e=r.props,t=e.arrowContent,n=e.overlay,o=e.prefixCls,a=e.id;return[i.a.createElement("div",{className:o+"-arrow",key:"arrow"},t),i.a.createElement(Dv,{key:"content",trigger:r.trigger,prefixCls:o,id:a,overlay:n})]},r.saveTrigger=function(e){r.trigger=e},o=n,ro()(r,o)}return io()(t,e),t.prototype.getPopupDomNode=function(){return this.trigger.getPopupDomNode()},t.prototype.render=function(){var e=this.props,t=e.overlayClassName,n=e.trigger,r=e.mouseEnterDelay,o=e.mouseLeaveDelay,a=e.overlayStyle,s=e.prefixCls,l=e.children,c=e.onVisibleChange,u=e.afterVisibleChange,d=e.transitionName,h=e.animation,p=e.placement,f=e.align,m=e.destroyTooltipOnHide,g=e.defaultVisible,v=e.getTooltipContainer,y=mo()(e,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","children","onVisibleChange","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible","getTooltipContainer"]),b=co()({},y);return"visible"in this.props&&(b.popupVisible=this.props.visible),i.a.createElement(Lv,co()({popupClassName:t,ref:this.saveTrigger,prefixCls:s,popup:this.getPopupElement,action:n,builtinPlacements:Iv,popupPlacement:p,popupAlign:f,getPopupContainer:v,onPopupVisibleChange:c,afterPopupVisibleChange:u,popupTransitionName:d,popupAnimation:h,defaultPopupVisible:g,destroyPopupOnHide:m,mouseLeaveDelay:o,popupStyle:a,mouseEnterDelay:r},b),l)},t}(o.Component);jv.propTypes={trigger:d.a.any,children:d.a.any,defaultVisible:d.a.bool,visible:d.a.bool,placement:d.a.string,transitionName:d.a.oneOfType([d.a.string,d.a.object]),animation:d.a.any,onVisibleChange:d.a.func,afterVisibleChange:d.a.func,overlay:d.a.oneOfType([d.a.node,d.a.func]).isRequired,overlayStyle:d.a.object,overlayClassName:d.a.string,prefixCls:d.a.string,mouseEnterDelay:d.a.number,mouseLeaveDelay:d.a.number,getTooltipContainer:d.a.func,destroyTooltipOnHide:d.a.bool,align:d.a.object,arrowContent:d.a.any,id:d.a.string},jv.defaultProps={prefixCls:"rc-tooltip",mouseEnterDelay:0,destroyTooltipOnHide:!1,mouseLeaveDelay:.1,align:{},placement:"right",trigger:["hover"],arrowContent:null};var zv=jv;function Fv(e){var t,n;return n=t=function(t){function n(e){Jr()(this,n);var t=ro()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleTooltipVisibleChange=function(e,n){t.setState({visibles:co()({},t.state.visibles,hi()({},e,n))})},t.handleWithTooltip=function(e){var n=e.value,r=e.dragging,o=e.index,a=e.disabled,s=mo()(e,["value","dragging","index","disabled"]),l=t.props.tipFormatter;return i.a.createElement(zv,{prefixCls:"rc-slider-tooltip",overlay:l(n),visible:!a&&(t.state.visibles[o]||r),placement:"top",key:o},i.a.createElement(Lm,co()({},s,{onMouseEnter:function(){return t.handleTooltipVisibleChange(o,!0)},onMouseLeave:function(){return t.handleTooltipVisibleChange(o,!1)}})))},t.state={visibles:{}},t}return io()(n,t),to()(n,[{key:"render",value:function(){return i.a.createElement(e,co()({},this.props,{handle:this.handleWithTooltip}))}}]),n}(i.a.Component),t.propTypes={tipFormatter:d.a.func},t.defaultProps={tipFormatter:function(e){return e}},n}Gm.Range=Ym,Gm.Handle=Lm,Gm.createSliderWithTooltip=Fv;const Bv=Fv(Gm);var Wv=Object(_.a)((function(e){return{genomeTotals:Object(ee.g)(e),currentThreshold:le(e),marks:se(e)}}))(({marks:e,currentThreshold:t,genomeTotals:n=[]})=>i.a.createElement(Uo,null,({width:r})=>i.a.createElement("div",{className:"pw-cluster-threshold-slider wgsa-pane-overlay",style:{width:r}},i.a.createElement("h3",null,"Set Threshold"),i.a.createElement(Bv,{min:0,max:e.max,step:1,marks:e.items,defaultValue:t,included:!1,onAfterChange:e=>Object(F.f)({threshold:e}),tipFormatter:e=>`${n[e]} genomes at threshold ${e}`})))),Hv=n(149);const Uv=Object($.createSelector)(ee.e,jt,Fe,(e,t,n)=>{for(const r of e.nodes)if(r.isHighlighted=r.genomeIds.some(e=>t.has(e)),n.active){const e=r.genomeIds.some(e=>n.ids.has(e));r.isActive=e,r.label&&!e?(r.hiddenLabel=r.label,r.label=void 0):r.hiddenLabel&&e&&(r.label=r.hiddenLabel)}else r.isActive=!0,r.hiddenLabel&&(r.label=r.hiddenLabel);return{...e}}),Gv=i.a.createClass({displayName:"ClusterViewNetwork",componentDidUpdate(e){e.threshold!==this.props.threshold&&this.props.fetch(this.props.genomeId,this.props.threshold)},render(){const{props:e}=this;return"READY"!==e.collectionStatus?null:i.a.createElement(i.a.Fragment,null,i.a.createElement(ym.a,null,i.a.createElement(bm.a,{coverMessage:!1,graph:e.graph,hasLasso:!0,height:e.height,lassoActive:e.lassoActive,lassoPath:e.lassoPath,onLassoActiveChange:e.onLassoActiveChange,onLassoPathChange:t=>e.onLassoPathChange(t,e.hasHighlight),onNodeSelect:(t,n)=>e.onNodeSelect(e,t,n),width:e.width})),i.a.createElement("h2",{className:"pw-cluster-view-current-threshold wgsa-pane-overlay"},"Threshold of ",e.threshold),i.a.createElement(Wv,null))}});var Vv=Object(_.a)((function(e){const t=Object(K.a)(e);return{lassoActive:oe(e),lassoPath:re(e),graph:Uv(e),threshold:le(e),genomeId:t.genomeId,collectionStatus:t.status,hasHighlight:Ft(e)}}),(function(e){return{fetch:(t,n)=>e(Object(Hv.c)(t,n)),onLassoActiveChange:()=>e(Object(Hv.e)()),onLassoPathChange:(t,n)=>{e(null===t&&n?Object(eh.d)():Object(Hv.d)(t))},onNodeSelect:(t,n,r)=>{e(((e,t,n)=>(r,o)=>{if(e.lassoActive&&!e.lassoPath)return;let i;if(t&&t.length){i=[];const e=o(),n=Object(ee.f)(e);for(const e of t)i.push(...n[e].ids)}i?r(Object(eh.f)(i,n)):e.lassoPath||r(Object(eh.d)())})(t,n,r))}}}))(Gv);const Yv=Object(_.a)((e,{stateKey:t})=>Object(K.d)(e)[t]||{entries:[]},(e,{stateKey:t})=>({onTravel:n=>e({...Object(lm.e)(n),stateKey:t})}))(la),qv=Object(_.a)(e=>({stateKey:Object(ce.e)(e)}))(pm),Zv=Object(_.a)(e=>({visible:ip(e)}))(({visible:e,...t})=>i.a.createElement("div",{style:{position:"relative"}},i.a.createElement(pp,null),"timeline"===e?i.a.createElement(Zp,t):i.a.createElement(rp,t))),$v=({isClusterView:e,treeStateKey:t,horizontalSize:n,createdAt:r})=>{const[o,a]=i.a.useState(null);return e?i.a.createElement(qr,{split:"vertical",defaultSize:"50%",className:"wgsa-no-overflow-pane",resizerClassName:"wgsa-resizer",onChange:a},i.a.createElement(Vv,{width:o,height:n}),i.a.createElement(th,null,i.a.createElement(Gh,null))):t?i.a.createElement(qr,{split:"vertical",defaultSize:"50%",className:"wgsa-no-overflow-pane",resizerClassName:"wgsa-resizer",onChange:a},i.a.createElement(aa,{component:qv}),i.a.createElement(th,null,i.a.createElement(Gh,null))):i.a.createElement(th,null,i.a.createElement(Gh,null),i.a.createElement(vm,{date:r}))};var Kv=Object(_.a)((function(e){const t=Object(K.a)(e);return{createdAt:t.createdAt,isClusterView:t.isClusterView,treeStateKey:Object(ce.e)(e)}}))(({isClusterView:e,treeStateKey:t,createdAt:n})=>{const[r,o]=i.a.useState(null),a=i.a.useMemo(()=>({height:r||"62.5%"}),[r]),s=i.a.useMemo(()=>e?[]:[{title:"History",icon:i.a.createElement("i",{className:"material-icons"},"history"),component:()=>i.a.createElement(Yv,{stateKey:t})}],[e,t]);return i.a.createElement(zh,{panes:s,navStyle:a},i.a.createElement(qr,{split:"horizontal",defaultSize:"62.5%",resizerClassName:"wgsa-resizer",onChange:o},i.a.createElement($v,{createdAt:n,isClusterView:e,treeStateKey:t,horizontalSize:r}),i.a.createElement(aa,{component:Zv})))}),Xv=n(51),Qv=n(112);const Jv=i.a.createClass({displayName:"StatusSwitcher",componentDidMount(){const{uuid:e,treesComplete:t}=this.props;t||!e||this.notificationChannel||(this.notificationChannel=Object(Qv.a)(e,"progress",this.props.updateProgress))},componentDidUpdate(e){const{treesComplete:t}=this.props;!e.treesComplete&&t&&this.notificationChannel&&Object(Qv.b)(this.props.uuid,"progress")},componentWillUnmount(){this.notificationChannel&&Object(Qv.b)(this.props.uuid,"progress")},render:()=>null});var ey=Object(_.a)((function(e){const t=Object(K.a)(e);return{treesComplete:Object(Vt.a)(e),uuid:t.uuid}}),(function(e){return{updateProgress:t=>e(function(e={}){return t=>"tree"===e.task&&"READY"===e.status?t(om(e.name)):t(Object(nm.f)(e))}(t))}}))(Jv);var ty=Object(_.a)((function(e){return{title:Object(K.c)(e)||"Explore Collection"}}))(({title:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Xv.a,null,e),i.a.createElement(Kv,null),i.a.createElement(ey,null)));n(1064);const ny={background:Yt.b.COLOURS.GREY_LIGHT},ry=Object(_.a)()(i.a.createClass({displayName:"Background",componentDidMount(){componentHandler.upgradeDom()},render(){const{logo:e=!0}=this.props;return i.a.createElement("div",{style:ny,className:"wgsa-loading-container"},i.a.createElement("div",{className:"wgsa-loading-content"},e&&i.a.createElement(U.c,{className:"wgsa-loading-logo"}),this.props.children))}})),oy=i.a.createClass({displayName:"LoadSpinner",render:()=>i.a.createElement(ry,{logo:!1},i.a.createElement(U.a,null,"Loading..."),i.a.createElement(em.a,null),i.a.createElement("h1",null,"Loading collection..."))});const iy=i.a.createClass({displayName:"LoadError",render(){return i.a.createElement(ry,null,i.a.createElement(U.a,null,"Error"),function({collection:e,location:t}){const{status:n}=e;if(n===We.a.NOT_FOUND){const{organism:e}=t.state||{};return e?[i.a.createElement("h1",null,"Looking for an old collection?"),i.a.createElement("p",{className:"mdl-typography--title"},"It will be available at ",i.a.createElement("a",{href:`https://archive.wgsa.net/${e}${t.pathname}`},"archive.wgsa.net")," for a short time.",i.a.createElement("br",null),"Please ",i.a.createElement("a",{href:`mailto:pathogenwatch@cgps.group?subject=${encodeURIComponent("Data Migration")}`},"contact us")," if you would like your data migrated to the new site.")]:[i.a.createElement("h1",null,"We're sorry, this collection cannot be found."),i.a.createElement("p",{className:"mdl-typography--title"},"Please ensure that the address is correct, and if so, please try again later.")]}return n===We.a.ABORTED?[i.a.createElement("h1",null,"We're sorry, your upload was interrupted"),i.a.createElement("p",{className:"mdl-typography--title"},"Please upload your files again."),i.a.createElement(R.a,{to:`/${Xt.b.nickname}/upload`,className:"mdl-button mdl-button--raised"},"Go Back")]:[i.a.createElement("h1",null,"We're sorry, something went wrong."),i.a.createElement("button",{onClick:()=>history.go(-1),className:"mdl-button mdl-button--raised"},"Go Back")]}(this.props),i.a.createElement("p",null,"Please contact ",i.a.createElement("a",{href:`mailto:pathogenwatch@cgps.group?subject=${encodeURIComponent("Upload Error")}&body=${encodeURIComponent("Please edit the section below as appropriate and include it in your message\nAffected URL - the URL of the query page if relevant.\nBrowser / Operating system / Time & Date\n")}`},"pathogenwatch@cgps.group")," if problems persist."))}});var ay=i.a.createClass({displayName:"Explorer",propTypes:{fetch:i.a.PropTypes.func,reset:i.a.PropTypes.func,status:i.a.PropTypes.string,progress:i.a.PropTypes.object},componentDidMount(){this.props.fetch()},componentWillUnmount(){this.props.reset()},render(){const{collection:e}=this.props;return e.status===We.a.READY?i.a.createElement(ty,null):e.status&&e.status!==We.a.READY?i.a.createElement(iy,{collection:e,location:this.props.location}):i.a.createElement(oy,null)}});var sy=Object(_.a)((function(e){return{collection:Object(K.a)(e)}}),(function(e,{match:t}){return{fetch:()=>e(nm.d(t.params.token)),reset:()=>e(nm.e())}}))(ay);const ly=i.a.createElement(v.a,{path:"/collection/:token",component:Dr});var cy=i.a.createElement(v.a,{path:"/collection/:token",component:sy});n(1066),n(1068);const uy=({style:e,children:t})=>i.a.createElement("div",{style:e,className:"wgsa-grid-item"},t);var dy=i.a.createClass({displayName:"Grid.react",propTypes:{className:i.a.PropTypes.string,columnWidth:i.a.PropTypes.number,columnCount:i.a.PropTypes.oneOfType([i.a.PropTypes.number,i.a.PropTypes.array]),items:i.a.PropTypes.array,rowHeight:i.a.PropTypes.number,template:i.a.PropTypes.func},getColumnCount(e){return this.props.columnCount?this.parseColumnCount(e):Math.max(1,Math.floor(e/this.props.columnWidth))},getColumnWidth(e,t){const{columnWidth:n,rightMargin:r}=this.props;return(n||Math.floor(e/t))-(r?r/t:0)},getRowHeight(e){const{rowHeight:t,rowMinHeight:n=0,rowMaxHeight:r=Number.MAX_VALUE,cellArea:o,rowFooterHeight:i=0}=this.props;return Math.min(Math.max(n,(t||o/e)+i),r)},parseColumnCount(e){const{columnCount:t}=this.props;if(Array.isArray(t)){let n=1;for(const{minWidth:r=0,count:o}of t){if(r>e)return n;n=o}return n}return t},render(){const{template:e,items:t,headerHeight:n=0}=this.props;return i.a.createElement("div",{className:this.props.className},this.props.header,i.a.createElement(Uo,null,({height:r,width:o})=>{const a=this.getColumnCount(o),s=this.getColumnWidth(o,a);return i.a.createElement(zo,{cellRenderer:({key:n,columnIndex:r,rowIndex:o,style:s})=>{const l=t[r+o*a];return l?i.a.createElement(uy,{key:n,style:s},i.a.createElement(e,{item:l})):null},className:"wgsa-virtualised-grid",columnCount:a,columnWidth:s,rowCount:Math.ceil(t.length/a),rowHeight:this.getRowHeight(s),width:o,height:r-n})}))}}),hy=n(150);n(1070);const py=i.a.memo(({visible:e,total:t,itemType:n})=>i.a.createElement("p",{className:"wgsa-filter-summary__count"},"Viewing ",i.a.createElement("span",null,e.toLocaleString())," of ",t.toLocaleString()," ",n,1!==t?"s":"")),fy=({className:e,children:t})=>i.a.createElement("div",{className:C()("wgsa-filter-summary wgsa-content-margin",e)},t);var my=n(103),gy=n(80);var vy=Object(_.a)((function(e){return{isOpen:Object(gy.g)(e)}}),(function(e){return{onClick:()=>e(Object(my.d)())}}))(({isOpen:e,onClick:t})=>i.a.createElement("div",{className:"wgsa-filter-header"},i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:t},i.a.createElement("i",{className:"material-icons"},"tune"))));const yy=({collections:e})=>e.entities,by=({collections:e})=>e.status,_y=Object($.createSelector)(yy,e=>Object.keys(e).map(t=>e[t])),wy=e=>(({collections:e})=>e.summary)(e).total;var Cy=Object(_.a)((function(e){return{visibleCollections:_y(e).length,totalCollections:wy(e),activeSort:Object(gy.a)(e)}}),(function(e){return{onSortChange:t=>e(Object(my.e)({sort:t.target.value}))}}))(({visibleCollections:e,totalCollections:t,activeSort:n="createdAt-",onSortChange:r})=>0===t?i.a.createElement("header",null):i.a.createElement("header",null,i.a.createElement(vy,null),i.a.createElement(py,{visible:e,total:t,itemType:"collection"}),i.a.createElement("label",{className:"wgsa-select-box"},"Sort by",i.a.createElement("select",{value:n,onChange:r},i.a.createElement("option",{value:"createdAt-"},"Created: Most Recent"),i.a.createElement("option",{value:"createdAt"},"Created: Least Recent"),i.a.createElement("option",{value:"size"},"Size: Low to High"),i.a.createElement("option",{value:"size-"},"Size: High to Low"),i.a.createElement("option",{value:"title"},"Title: Ascending"),i.a.createElement("option",{value:"title-"},"Title: Descending"),i.a.createElement("option",{value:"publicationYear"},"Published: Ascending"),i.a.createElement("option",{value:"publicationYear-"},"Published: Descending"))))),Sy=n(286),Ey=(n(1072),n(113)),xy=n.n(Ey),ky=({children:e,visible:t})=>i.a.createElement(xy.a,{transitionName:"wgsa-overlay",transitionEnterTimeout:280,transitionLeaveTimeout:280},t&&i.a.createElement("div",{className:"wgsa-content-overlay"},e)),Oy=n(151);const Ty=i.a.createClass({displayName:"Collections",componentWillMount(){this.props.filter()},componentDidUpdate(e){e.prefilter!==this.props.prefilter&&this.props.filter()},getEmptyMessage(){const{total:e,match:t,filterActive:n}=this.props,{prefilter:r}=t.params;if(n)return i.a.createElement("div",{className:"pw-filter-view-message"},i.a.createElement("p",null,"No matches, please refine your search."),i.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",onClick:this.props.clear},"Clear Filters"));if(0===e)switch(r){case"bin":return i.a.createElement("p",{className:"pw-filter-view-message"},"Nothing in the bin 👍");case"user":return i.a.createElement("div",{className:"pw-filter-view-message"},i.a.createElement("p",null,"You haven't created any collections."),i.a.createElement("p",null,i.a.createElement(R.a,{to:"/genomes",className:"mdl-button mdl-button--raised mdl-button--colored"},"Browse Genomes")));default:return i.a.createElement("p",{className:"pw-filter-view-message"},"Nothing to see here.")}return null},getContent(){const{status:e,collections:t}=this.props;return e===Oy.a.ERROR?i.a.createElement("p",{className:"pw-filter-view-message"},"Something went wrong. 😞"):0===this.props.total&&e===Oy.a.LOADING?null:0===t.length?this.getEmptyMessage():i.a.createElement(dy,{className:"wgsa-filter-view",template:Sy.a,items:t,columnCount:[{minWidth:560,count:2},{minWidth:1020,count:3},{minWidth:1580,count:4}],rightMargin:16,cellArea:64e3,rowMinHeight:160,rowMaxHeight:232,rowFooterHeight:36})},render(){const{status:e}=this.props;return i.a.createElement("div",{className:C()("wgsa-collections wgsa-filter-container",{"has-filter":this.props.isFilterOpen})},i.a.createElement(U.a,null,"Collections"),i.a.createElement(hy.a,null),i.a.createElement("div",{className:"wgsa-filter-content"},i.a.createElement(Cy,null),this.getContent()),i.a.createElement(ky,{visible:e===Oy.a.LOADING},i.a.createElement("p",{className:"pw-filter-view-loading"},"Loading... ⏳")))}});var My=Object(_.a)((function(e,{match:t}){const{prefilter:n}=t.params;return{prefilter:n,collections:_y(e),total:wy(e),status:by(e),isFilterOpen:Object(gy.g)(e),filterActive:Object(gy.f)(e)}}),(function(e,{match:t,location:n}){const{prefilter:r}=t.params,o=Object(Q.parse)(n.search);return{filter:()=>e(Object(my.e)({prefilter:r,...o},!1)),clear:()=>e(Object(my.c)())}}))(Ty);const Py=i.a.createElement(v.a,{path:"/collections"},i.a.createElement(Y,{asideEnabled:!0}));var Ly=i.a.createElement(v.a,{path:"/collections/:prefilter(all|user|bin)",component:My}),Ny=n(88),Ay=(n(1074),n(31));var Iy=Object(_.a)((e,{view:t})=>{const n=`/genomes/${Object(Ay.d)(e)}`,r=t?`${n}/${t}`:n,{location:o}=e;return{link:`${r}${o.search}`,active:o.pathname===r}})(({active:e,link:t,title:n})=>i.a.createElement(R.a,{to:t,className:C()("wgsa-button-group__item",{active:e})},n)),Ry=n(70);var Dy=Object(_.a)((function(e){return{isOpen:Object(Ay.g)(e)}}),(function(e){return{onClick:()=>e(Object(Ry.f)())}}))(({isOpen:e,onClick:t})=>i.a.createElement("div",{className:"wgsa-filter-header"},i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:t,title:e?"Hide filter":"Show filter"},i.a.createElement("i",{className:"material-icons"},"tune")))),jy=(n(1076),n(1078),n(1080),({children:e,className:t,redirect:n=`${window.location.pathname}${window.location.search}`})=>i.a.createElement(R.a,{className:t,to:`/sign-in?redirect=${n}`},e)),zy=n(22),Fy=n(128),By=n(108),Wy=n(179);const{user:Hy}=Dd.a;var Uy=Object(_.a)((function(e){return{selectedGenomes:Object(zy.d)(e),selectedGenomeIds:Object(zy.c)(e),canCreateCollection:Object(Fy.a)(e)}}),(function(e){return{clearAll:()=>e(Object(k.g)()),removeGenome:t=>e(Object(k.i)([t])),showGenome:t=>e(Object(By.d)(t.id,t.name)),sendToBin:t=>e(Object(Wy.a)(t,!0)),toggle:t=>e(Object(k.m)(t))}}))(({clearAll:e,removeGenome:t,selectedGenomes:n,sendToBin:r,showGenome:o,toggle:a,canCreateCollection:s})=>i.a.createElement("div",{className:"wgsa-genome-selection"},i.a.createElement("header",{className:"wgsa-dropdown-header"},"Selection",i.a.createElement("button",{className:"wgsa-button--text wgsa-clear-selection",onClick:e},"Clear All")),i.a.createElement(ui,{height:278,width:438,style:{overflowX:"hidden"},className:"wgsa-genome-selection-list",rowCount:n.length,rowHeight:32,rowRenderer:({key:e,index:r,style:a})=>{const s=n[r];return i.a.createElement("li",{key:e,className:"wgsa-list-item",style:{...a,width:440,top:a.top+8}},i.a.createElement("button",{className:"wgsa-link-button",title:"View report",onClick:()=>o(s)},s.name),i.a.createElement("button",{title:"Remove from selection",onClick:e=>{e.stopPropagation(),t(s)},className:"mdl-button mdl-button--icon"},i.a.createElement("i",{className:"material-icons"},"clear")))}}),i.a.createElement("footer",{className:"wgsa-dropdown-footer"},!!Hy&&i.a.createElement("div",null,i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:()=>r(n),title:"Send to bin"},i.a.createElement("i",{className:"material-icons"},"delete_sweep")),i.a.createElement("button",{title:"Edit metadata",className:"mdl-button",onClick:()=>a("edit")},"Edit")),s?i.a.createElement("span",{key:"can-create-collection"},i.a.createElement("button",{className:"mdl-button",onClick:()=>a("download")},"Download Data"),Hy?i.a.createElement("button",{key:"create-collection",className:"mdl-button mdl-button--raised mdl-button--colored",onClick:()=>a("collection")},"Create Collection"):i.a.createElement(jy,{key:"create-collection",className:"mdl-button mdl-button--raised mdl-button--colored"},"Sign in to Create Collection")):i.a.createElement("button",{key:"download-only",className:"mdl-button mdl-button--raised mdl-button--colored",onClick:()=>a("download")},"Download Data")))),Gy=(n(1082),n(164));var Vy=({amount:e,limit:t})=>i.a.createElement("div",{className:"wgsa-selection-message"},i.a.createElement("h3",null,"We're Sorry!"),i.a.createElement("p",null,"You have selected ",i.a.createElement("strong",null,e," genomes"),", but the current limit for this feature is ",i.a.createElement("strong",null,t),". 😞"),i.a.createElement("p",null,"Please refine your selection to continue."));var Yy=Object(_.a)((function(e){return{amount:Object(zy.i)(e)}}))(({type:e,amount:t,children:n})=>{const r=Dd.a[e]||1e3;return t>r?i.a.createElement(Vy,{type:e,amount:t,limit:r}):n});var qy=Object(_.a)(null,(function(e){return{goBack:()=>e(Object(k.m)("selection"))}}))(({goBack:e})=>i.a.createElement("div",{className:"wgsa-genome-collection"},i.a.createElement("header",{className:"wgsa-dropdown-header"},"Create Collection"),i.a.createElement(Yy,{type:"maxCollectionSize"},i.a.createElement(Gy.b,null)),i.a.createElement("footer",{className:"wgsa-dropdown-footer"},i.a.createElement("button",{className:"mdl-button",onClick:e},"Go back")))),Zy=(n(1086),n(142));var $y=({link:e,ids:t,children:n,className:r})=>i.a.createElement("form",{action:e,method:"POST",target:"_blank"},i.a.createElement("button",{className:r},n),i.a.createElement("input",{type:"hidden",name:"ids",value:t}));const Ky=({speciesId:e,speciesName:t,total:n,tasks:r,ids:o})=>e?i.a.createElement("li",null,i.a.createElement(Zy.a,{speciesName:t}),i.a.createElement("ul",{className:"wgsa-genome-download-list"},i.a.createElement("li",null,i.a.createElement($y,{link:Object($n.c)("/download/genome/fasta"),ids:o},"FASTA files")),i.a.createElement("li",null,i.a.createElement($y,{link:Object($n.c)("/download/genome/metadata"),ids:o},"Metadata")),r.map(e=>i.a.createElement("li",{key:e.name},i.a.createElement($y,{link:e.link,ids:e.ids},e.label,e.sources.length>0&&i.a.createElement("small",null," (",e.sources.join(", "),")")),i.a.createElement("span",null,e.ids.length,"/",n))))):null,Xy=i.a.createClass({displayName:"Content",componentDidMount(){this.props.fetch()},componentDidUpdate(e){const{selection:t,fetch:n}=this.props;e.selection!==t&&n()},showAllOrganisms:(e,t)=>0===e.length||1===e.length&&e[0].ids.length!==t.length||e.length>1,render(){const{status:e,summary:t,selection:n}=this.props;if(e===Yt.e.LOADING)return i.a.createElement(em.a,null);if(e===Yt.e.ERROR)return i.a.createElement("p",null,"Something went wrong. 😞");if(e===Yt.e.SUCCESS){const e=n.map(e=>e.id);return i.a.createElement("ul",null,this.showAllOrganisms(t,e)&&i.a.createElement("li",null,"All Organisms",i.a.createElement("ul",{className:"wgsa-genome-download-list"},i.a.createElement("li",null,i.a.createElement($y,{link:Object($n.c)("/download/genome/fasta"),ids:e},"FASTA files")),i.a.createElement("li",null,i.a.createElement($y,{link:Object($n.c)("/download/genome/metadata"),ids:e},"Metadata")),i.a.createElement("li",null,i.a.createElement($y,{link:Object($n.c)("/download/analysis/speciator"),ids:e},i.a.createElement("strong",null,"Species Prediction"))))),t.map(e=>i.a.createElement(Ky,Vn()({key:e.speciesId},e))))}return null}});var Qy=Object(_.a)((function(e){return{status:Object(zy.g)(e).status,summary:Object(zy.a)(e),selection:Object(zy.d)(e)}}),(function(e){return{fetch:()=>e(Object(k.h)()),goBack:()=>e(Object(k.m)("selection"))}}))(({goBack:e,...t})=>i.a.createElement("div",{className:"wgsa-genome-downloads"},i.a.createElement("header",{className:"wgsa-dropdown-header"},"Download"),i.a.createElement("div",{className:"wgsa-genome-downloads__content"},i.a.createElement(Yy,{type:"maxDownloadSize"},i.a.createElement(Xy,t))),i.a.createElement("footer",{className:"wgsa-dropdown-footer"},i.a.createElement("button",{className:"mdl-button",onClick:e},"Go back")))),Jy=(n(1088),i.a.createClass({displayName:"Progress",propTypes:{error:d.a.shape({row:d.a.number,message:d.a.string}),progress:d.a.number,rows:d.a.number},render(){if(this.props.error){const{row:e=null,message:t}=this.props.error;return i.a.createElement("div",{className:"pw-edit-metadata-progress error"},i.a.createElement("p",null,"Sorry! There was a problem",null!==e?` with row ${e}`:"",":"),i.a.createElement("p",null,t))}const{result:e}=this.props;return i.a.createElement("div",{className:"pw-edit-metadata-progress success"},i.a.createElement(Z.a,null,e?i.a.createElement("p",{key:"complete"},i.a.createElement("i",{className:"material-icons"},"check_circle"),e.matched," genome",1===e.matched?" ":"s ","updated successfully"):i.a.createElement("p",{className:"wgsa-blink"},"Uploading...")))}})),eb=n(14);function tb(e){return Object($n.a)("POST","/api/genome",e)}const nb=Object(eb.b)("SEND_METADATA_UPDATE");class rb extends i.a.Component{constructor(){super(),this.state={uploading:!1,rows:0,completed:0,error:null},this.handleFiles=this.handleFiles.bind(this)}componentDidUpdate(e,t){!t.result&&this.state.result&&setTimeout(this.props.goBack,1e3)}handleFiles(e){const t=Array.from(e)[0];Pt.test(t.name)&&this.setState({uploading:!0},()=>Object(bt.readAsText)(t).then(e=>It.parseCsvToJson(e)).then(({data:e,errors:t})=>{if(t.length>0){const[{row:e,message:n}]=t;this.setState({error:{row:e+1,message:n}})}else this.props.update(e.map((e,t)=>{if(!e.id)throw new Error("Every row must contain an ID, please download existing metadata before attempting to upload.");try{return{id:e.id,...At(e)}}catch(e){throw e.message=`${e.message} (row ${t+1})`,e}})).then(e=>this.setState({result:e})).catch(()=>this.setState({error:{message:i.a.createElement(i.a.Fragment,null,"Failed to update, please make sure you are the owner of the genomes in the file.",i.a.createElement("br",null),"/genomes/user"!==window.location.pathname&&i.a.createElement(R.a,{to:"/genomes/user"},"View genomes owned by you"))}}))}).catch(e=>this.setState({error:{message:e.message}})))}render(){const{ids:e,goBack:t}=this.props,n=this.state.completed/this.state.rows*100;return i.a.createElement("div",{className:"wgsa-dropdown"},i.a.createElement("header",{className:"wgsa-dropdown-header"},"Edit Metadata"),i.a.createElement(Yy,{type:"maxDownloadSize"},i.a.createElement(Z.a,{className:"wgsa-dropdown-content pw-edit-metadata-section",out:!1},this.state.uploading?i.a.createElement(Jy,{key:"progress",result:this.state.result,error:this.state.error}):i.a.createElement("div",{className:"pw-edit-metadata-instructions pw-edit-metadata-section"},i.a.createElement("p",{className:"pw-edit-metadata-warning"},i.a.createElement("i",{className:"material-icons danger"},"warning"),"This will overwrite existing data"),i.a.createElement($y,{className:"pw-edit-metadata-link",link:Object($n.c)("/download/genome/metadata"),ids:e},"1. Download existing metadata for selected genomes"),i.a.createElement("p",null,"2. Make changes to the spreadsheet (e.g. in Excel)"),i.a.createElement(Ct,{className:"pw-edit-metadata-section",onFiles:this.handleFiles},i.a.createElement("p",null,"3. Drag file here to upload ",i.a.createElement("br",null),"or click to select file"))))),i.a.createElement("footer",{className:"wgsa-dropdown-footer wgsa-dropdown-footer--right"},!this.state.uploading&&i.a.createElement("button",{className:C()("mdl-button",{"mdl-button--raised mdl-button--colored":100===n}),onClick:t},"Go back"),i.a.createElement(Z.a,null,this.state.error&&i.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",onClick:()=>this.setState({uploading:!1,rows:0,completed:0,error:null})},"Try Again"))))}}var ob=Object(_.a)((function(e){return{ids:Object(zy.c)(e)}}),(function(e){return{goBack:()=>e(Object(k.m)("selection")),update:t=>e(function(e){return{type:nb,payload:{data:e,promise:tb(e)}}}(t))}}))(rb);const ib=i.a.createElement("div",{className:"wgsa-selection-message"},i.a.createElement("h3",null,"No genomes selected"),i.a.createElement("p",null,"In the ",i.a.createElement("strong",null,"List")," view, select genomes by clicking a row. Try selecting one genome and holding ",i.a.createElement("strong",null,"shift")," to select more."),i.a.createElement("p",null,"In the ",i.a.createElement("strong",null,"Map")," view, select genomes by using the lasso tool.")),ab=i.a.createClass({displayName:"Dropdown",getInitialState:()=>({slideDirection:null}),componentWillReceiveProps(e){return"selection"===this.props.view&&"edit"===e.view?this.setState({slideDirection:"right"}):"edit"===this.props.view&&"selection"===e.view?this.setState({slideDirection:"left"}):"selection"===e.view?this.setState({slideDirection:"right"}):this.setState({slideDirection:"left"})},render(){const{view:e,hasSelection:t}=this.props;return i.a.createElement(Z.a,{out:!0},e?i.a.createElement("div",{className:"wgsa-genome-selection-dropdown mdl-shadow--2dp"},t?i.a.createElement(xy.a,{transitionName:`slide-${this.state.slideDirection}`,transitionEnterTimeout:280,transitionLeaveTimeout:280},"selection"===e&&i.a.createElement(Uy,null),"collection"===e&&i.a.createElement(qy,null),"download"===e&&i.a.createElement(Qy,null),"edit"===e&&i.a.createElement(ob,null)):ib):null)}});var sb=Object(_.a)((function(e){return{hasSelection:Object(zy.i)(e)>0,view:Object(zy.h)(e)}}))(ab);const lb=i.a.createClass({displayName:"Summary",componentDidUpdate(e){this.animating||this.props.size!==e.size&&(this.sonarEl.classList.remove("wgsa-sonar-effect"),this.sonarEl.offsetWidth,this.sonarEl.classList.add("wgsa-sonar-effect"),this.animating=!0,setTimeout(()=>{this.animating=!1},1400))},onKeyUp(e){"Escape"===e.key&&this.props.toggle()},animating:!1,render(){const{size:e,toggle:t,view:n}=this.props;return i.a.createElement("div",{className:"wgsa-selection-summary",onKeyUp:this.onKeyUp},i.a.createElement("button",{className:"mdl-chip mdl-chip--contact mdl-chip--active wgsa-selection",onClick:()=>t(n||"selection"),title:0===e?"No genomes selected":void 0},i.a.createElement("span",{ref:e=>{this.sonarEl=e},className:"mdl-chip__contact",title:e>0?"View selection":void 0},(r=e)>9999?`${Math.round(r/1e3)}K`:r),i.a.createElement("span",{className:"mdl-chip__text"},"Selected Genomes")),i.a.createElement(sb,null));var r}});var cb=Object(_.a)((function(e){return{size:Object(zy.i)(e),view:Object(zy.h)(e)}}),(function(e){return{toggle:t=>e(Object(k.m)(t))}}))(lb);var ub=Object(_.a)((function(e){const t=Object(zy.d)(e);return{selectedGenomes:t,disabled:0===t.length}}),(function(e){return{restore:t=>e(Object(Wy.a)(t,!1))}}))(({selectedGenomes:e,disabled:t,restore:n})=>i.a.createElement("button",{disabled:t,className:"mdl-button mdl-button--primary",onClick:()=>n(e),title:t?"Select genomes to restore":"Restore selected genomes"},"Restore From Bin"));const db=({genomes:e})=>e.summary,hb=e=>db(e).visible,pb=e=>db(e).total;var fb=Object(_.a)((function(e){return{visibleGenomes:hb(e),totalGenomes:pb(e)}}))(({visibleGenomes:e,totalGenomes:t,prefilter:n})=>0===t?i.a.createElement("header",null):i.a.createElement("header",null,i.a.createElement(Dy,null),i.a.createElement("div",{className:"wgsa-button-group"},i.a.createElement("i",{className:"material-icons",title:"View"},"visibility"),i.a.createElement(Iy,{title:"List"}),i.a.createElement(Iy,{view:"map",title:"Map"}),i.a.createElement(Iy,{view:"stats",title:"Stats"})),i.a.createElement(py,{visible:e,total:t,itemType:"genome"}),"bin"===n?i.a.createElement(ub,null):i.a.createElement(cb,null))),mb=n(167),gb=i.a.createClass({displayName:"Genomes.react",propTypes:{hasGenomes:i.a.PropTypes.bool,uploads:i.a.PropTypes.object,isUploading:i.a.PropTypes.bool,prefilter:i.a.PropTypes.string,fetch:i.a.PropTypes.func},contextTypes:{router:i.a.PropTypes.object},componentWillMount(){this.props.fetch()},componentDidUpdate(e){const{prefilter:t,fetch:n}=this.props;e.prefilter===t||n()},renderEmptyMessage(){const{total:e,prefilter:t,filterActive:n}=this.props;if(n)return i.a.createElement("div",{className:"pw-filter-view-message"},i.a.createElement("p",null,"No matches, please refine your search."),i.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",onClick:this.props.clearFilter},"Clear Filters"));if(0===e)switch(t){case"bin":return i.a.createElement("p",{className:"pw-filter-view-message"},"Nothing in the bin 👍");case"user":return i.a.createElement("div",{className:"pw-filter-view-message"},i.a.createElement("p",null,"You haven't uploaded any genomes."),i.a.createElement("p",null,i.a.createElement(R.a,{to:"/upload",className:"mdl-button mdl-button--raised mdl-button--colored"},"Upload now")));default:return i.a.createElement("p",{className:"pw-filter-view-message"},"Nothing to see here.")}return null},renderContent(){const{items:e,total:t,status:n}=this.props;return n===mb.a.ERROR?i.a.createElement("p",{className:"pw-filter-view-message"},"Something went wrong. 😞"):0===t&&n===mb.a.LOADING?null:0===e.length?this.renderEmptyMessage():this.props.children},render(){return i.a.createElement("div",{className:C()("wgsa-genomes wgsa-filter-container",{"has-filter":this.props.isFilterOpen})},i.a.createElement(Xv.a,{title:"Genomes"}),i.a.createElement(Ny.a,null),i.a.createElement("div",{className:"wgsa-filter-content"},i.a.createElement(fb,{prefilter:this.props.prefilter}),this.renderContent()),i.a.createElement(ky,{visible:this.props.status===mb.a.LOADING},i.a.createElement("p",{className:"pw-filter-view-loading"},"Loading... ⏳")))}}),vb=n(53),yb=n(143);var bb=Object(_.a)((function(e,{match:t}){const{prefilter:n}=t.params;return{prefilter:n,hasGenomes:Object(vb.g)(e)>0,items:Object(vb.d)(e),total:Object(yb.b)(e),status:Object(vb.f)(e),isFilterOpen:Object(Ay.g)(e),filterActive:Object(Ay.f)(e)}}),(function(e,{match:t,location:n}){const r=Object(Q.parse)(n.search),{prefilter:o}=t.params;return{fetch:()=>e(Object(Ry.g)({prefilter:o,...r},!1)),clearFilter:()=>e(Object(Ry.d)())}}))(gb);n(1090);var _b=Object(_.a)((function(e,{genomes:t}){const n=Object(zy.e)(e);return{isSelected:t.every(e=>e.id in n)}}),(function(e,{genomes:t,index:n,onClick:r}){return{onClick:r||(r=>r.stopPropagation()||e(Object(k.n)(t,n)))}}))(({isSelected:e,onClick:t,className:n})=>i.a.createElement("button",{className:C()("wgsa-genome-checkbox",n),onClick:t,title:e?"Remove from selection":"Add to selection"},i.a.createElement("i",{className:"material-icons"},e?"check_box":"check_box_outline_blank"))),wb=({genome:e})=>{const{speciesName:t,subspecies:n,serotype:r}=e;return t?i.a.createElement(Zy.a,{abbreviated:!0,speciesName:t,subspecies:n,serotype:r}):i.a.createElement("span",null," ")},Cb=n(50),Sb=n(89);const Eb=({title:e,icon:t,children:n,onClick:r})=>i.a.createElement("span",{className:"wgsa-genome-list-cell wgsa-overflow-fade",title:e,onClick:r},t&&i.a.createElement("i",{title:e,className:"material-icons"},t),n),xb=i.a.createElement("span",{className:"wgsa-genome-list-cell wgsa-overflow-fade"});var kb=Object(_.a)((function(e){return{lastSelectedIndex:Object(zy.b)(e)}}),null,(function(e,{dispatch:t},n){const{lastSelectedIndex:r}=e,{genome:o,index:i}=n;return{...n,onViewGenome:e=>e.stopPropagation()||t(Object(E.b)(o.id,o.name)),onClick:e=>{e.stopPropagation(),e.shiftKey&&null!==r?t(Object(k.k)(r,i)):t(Object(k.n)([o],i))}}}))(({index:e,genome:t,onClick:n,style:r,onViewGenome:o,className:a,onMouseOver:s})=>{const{name:l,st:c,st2:u,country:d}=t,h=d?Object(Yd.b)(d):null,p=t.year?Object(Cb.c)(t):null;return i.a.createElement("div",{className:C()(a,"wgsa-genome-list-item wgsa-genome-list-item--selectable"),style:r,onClick:n,onMouseOver:s},i.a.createElement(Eb,{title:l},i.a.createElement(_b,{genomes:[t],index:e,onClick:n}),i.a.createElement("button",{title:"View report",className:"wgsa-link-button",onClick:o},l)),i.a.createElement(Eb,null,i.a.createElement(wb,{genome:t})),c?i.a.createElement(Eb,null,i.a.createElement(Sb.b,{id:c}),!!u&&i.a.createElement(i.a.Fragment,null," / ",i.a.createElement(Sb.b,{id:u}))):xb,d?i.a.createElement(Eb,{title:h},i.a.createElement("strong",null,d.toUpperCase())," – ",h):xb,p?i.a.createElement(Eb,{title:p},p):xb,(f=t).reference?i.a.createElement(Eb,{title:"Access",icon:"book"},"Reference"):f.public?i.a.createElement(Eb,{title:"Access",icon:"public"},"Public"):i.a.createElement(Eb,{title:`Uploaded at ${f.uploadedAt}`,icon:"person"},"Private"));var f});const Ob={UNCHECKED:"check_box_outline_blank",CHECKED:"check_box",INDETERMINATE:"indeterminate_check_box"};function Tb(e,t){return t?'"Select All" is not available on the unfiltered list, please select at least one filter.':"CHECKED"===e?"Remove from selection":"Add to selection"}var Mb=Object(_.a)((function(e){return{status:Object(zy.j)(e),disabled:Object(zy.k)(e)}}),(function(e){return{select:()=>e(Object(k.j)())}}))(({status:e,disabled:t,select:n})=>{const[r,o]=i.a.useState(!1);return i.a.createElement("button",{className:C()("wgsa-genome-checkbox",{"wgsa-blink":r}),onClick:()=>{o(!0),n().then(()=>o(!1))},disabled:t,title:Tb(e,t)},i.a.createElement("i",{className:"material-icons"},Ob[e]))}),Pb=n(65);const Lb=e=>i.a.createElement(Pb.a,Vn()({className:"wgsa-genome-list-cell",stateKey:Ny.b,update:Ry.g},e));var Nb=({hasScrollbar:e=!0})=>i.a.createElement("div",{className:"wgsa-list-header-container"},i.a.createElement("div",{className:"wgsa-genome-list-item wgsa-genome-list-header"},i.a.createElement("span",{className:"wgsa-genome-list-cell"},i.a.createElement(Mb,null),i.a.createElement(Pb.a,{stateKey:Ny.b,update:Ry.g,sortKey:"name"},"Name")),i.a.createElement(Lb,{sortKey:"organism"},"Organism"),i.a.createElement(Lb,{sortKey:"mlst"},"MLST"),i.a.createElement(Lb,{sortKey:"country"},"Country"),i.a.createElement(Lb,{sortKey:"date"},"Date"),i.a.createElement(Lb,{sortKey:"access"},"Access")),e&&i.a.createElement("div",{style:{overflowY:"scroll",visibility:"hidden",height:0}})),Ab=n(18);const{pagination:Ib={min:100}}=Dd.a,Rb=i.a.createClass({displayName:"ListView",propTypes:{items:i.a.PropTypes.object.isRequired,indices:i.a.PropTypes.object.isRequired,total:i.a.PropTypes.number.isRequired},getInitialState:()=>({mouseOverIndex:null}),getRowClassName(e){const{lastSelectedIndex:t}=this.props,{mouseOverIndex:n,range:r}=this.state;if(null!==t&&r&&null!==n){const r=Math.min(t,n),o=Math.max(t,n);if(r<=e&&e<=o)return"active"}return""},hasScrollbar(){const{total:e}=this.props;return 40*e>=window.innerHeight-145},render(){const{items:e,total:t,fetch:n,indices:r}=this.props;return i.a.createElement("div",{className:"wgsa-genome-list-view",tabIndex:"0",onKeyDown:e=>{this.setState({range:e.shiftKey})},onKeyUp:()=>{this.setState({range:!1})}},i.a.createElement(Nb,{hasScrollbar:this.hasScrollbar()}),i.a.createElement(ai,{isRowLoaded:({index:e})=>r[e],loadMoreRows:n,rowCount:t,minimumBatchSize:Ib.min},({onRowsRendered:n,registerChild:o})=>i.a.createElement(Uo,null,({width:a,height:s})=>i.a.createElement(ui,{height:s-25,onRowsRendered:n,ref:o,rowCount:t,rowHeight:40,rowRenderer:({key:t,index:n,style:o})=>{const a=r[n],s={...o,width:"calc(100% - 32px"};return"string"==typeof a?i.a.createElement(kb,{key:t,style:s,genome:e[a],index:n,className:this.getRowClassName(n),onMouseOver:e=>{this.setState({mouseOverIndex:n})}}):i.a.createElement("div",{key:t,style:s,className:"wgsa-genome-list-placeholder"},i.a.createElement("span",{style:{width:Math.floor(200*Math.random())}}))},width:a}))))}});var Db=Object(_.a)((function(e){return{items:Object(vb.c)(e),indices:Object(vb.e)(e),total:Object(yb.c)(e),lastSelectedIndex:Object(zy.b)(e)}}),(function(e){return{fetch:({startIndex:t,stopIndex:n})=>e(Object(Ab.e)(t,n))}}))(Rb),jb=(n(1092),n(168)),zb=n(186);const Fb=i.a.createClass({displayName:"Marker",render(){const{marker:e,style:t,popup:n}=this.props,r=n.position===e.position;return i.a.createElement("div",{className:C()("wgsa-marker-cluster",{"has-popup":r}),ref:e=>{this.ref=e},style:t,onClick:t=>{t.stopPropagation(),t.nativeEvent.stopImmediatePropagation(),r?this.props.closePopup():this.props.showMarkerPopup(e)}},e.genomes.length)}}),Bb=({list:e,onItemClick:t,close:n})=>e.length?i.a.createElement("aside",{className:"wgsa-genomes-map-popup mdl-shadow--2dp"},i.a.createElement("header",null,i.a.createElement(_b,{genomes:e}),i.a.createElement("h2",{className:"h4"},e.length," Genome",1===e.length?"":"s"),i.a.createElement("button",{className:"mdl-button mdl-button--icon",onClick:n},i.a.createElement("i",{className:"material-icons"},"close"))),i.a.createElement("ul",null,e.map(e=>i.a.createElement("li",{key:e.id},i.a.createElement(_b,{genomes:[e]}),i.a.createElement("span",{className:"wgsa-checklist-content"},i.a.createElement("button",{title:`${e.name} - view report`,className:"wgsa-link-button",onClick:()=>t(e.id)},e.name),i.a.createElement(Xt.a,{organismId:e.organismId,title:e.speciesName},i.a.createElement("em",null,e.speciesName))))))):i.a.createElement("aside",{className:"wgsa-genomes-map-popup mdl-shadow--2dp is-loading"},i.a.createElement(em.a,null)),Wb=i.a.createClass({displayName:"MapView",componentDidMount(){const{filter:e,previousFilter:t,fetch:n}=this.props;e!==t&&n()},componentWillReceiveProps(e){e.filter!==this.props.filter&&this.props.fetch()},shouldComponentUpdate(e){return e.markers!==this.props.markers||e.popup!==this.props.popup||e.lassoPath!==this.lassoPath},render(){const{stateKey:e,lassoPath:t,markers:n,onLassoPathChange:r,popup:o,popupList:a}=this.props;return i.a.createElement("div",{className:"wgsa-genomes-map"},i.a.createElement(zd,{className:"wgsa-hub-map-view",lassoPath:t,markers:n,markerIds:n,markerComponent:Fb,markerProps:{popup:o,closePopup:this.props.closePopup,showGenomeReport:this.props.showGenomeReport,showMarkerPopup:this.props.showMarkerPopup},onClick:()=>{t&&this.props.onLassoPathChange(null)},onLassoPathChange:r,stateKey:e}),o.open&&i.a.createElement(Bb,{list:a,onItemClick:this.props.showGenomeReport,close:this.props.closePopup}))}});var Hb=Object(_.a)((function(e,t){return{filter:Object(Ay.a)(e),previousFilter:Object(zb.a)(e),markers:Object(zb.b)(e),lassoPath:Object(ua.b)(e,t),popup:Object(zb.c)(e),popupList:Object(zb.d)(e)}}),(function(e,{stateKey:t}){return{onLassoPathChange:n=>e(Object(jb.d)(t,n)),showGenomeReport:t=>e(Object(E.b)(t)),showMarkerPopup:({position:t})=>e(Object(jb.e)([t])),fetch:()=>e(Object(Ab.f)()),closePopup:()=>e(Object(jb.c)())}}))(Wb);function Ub(e){return e?`GENOME_${e.params.prefilter}`:null}var Gb=({match:e})=>i.a.createElement(Hb,{stateKey:Ub(e)}),Vb=(n(1094),i.a.createClass({displayName:"chart-resizer",componentDidUpdate(e){const{width:t,height:n,chart:r}=this.props;r&&(t===e.width&&n===e.height||r.resize())},render(){const{width:e,height:t}=this.props;return i.a.createElement("div",{className:this.props.className,style:{width:e,height:t}},this.props.children)}}));const Yb=e=>Object(vb.b)(e).stats.metric,qb=e=>Object(vb.b)(e).stats.entities,Zb=e=>Object(vb.b)(e).stats.filter;function $b(e,t){return e.reduce((e,n)=>e+Number(t?n[t]:n),0)/(e.length||1)}const Kb=Object($.createSelector)(qb,Yb,(e,t)=>$b(e,t).toFixed(1)),Xb=Object($.createSelector)(qb,Yb,Kb,(e,t,n)=>{const r=e.map(e=>{const r=e[t]-n;return r*r});return Math.sqrt($b(r)).toFixed(2)}),Qb=Object($.createSelector)(qb,Yb,(e,t)=>e.reduce(({min:e,max:n},r)=>({min:e?Math.min(e,r[t]):r[t],max:n?Math.max(n,r[t]):r[t]}),{min:0,max:0})),Jb=Object($.createSelector)(qb,zy.c,(e,t)=>e.reduce((e,n,r)=>(n.index=r,-1===t.indexOf(n.id)?e.unselected.push(n):e.selected.push(n),e),{selected:[],unselected:[]}));function e_(e,t){return e.map(e=>({x:e.index+1,y:Number(e[t]),label:e.name,id:e.id}))}const t_=Object($.createSelector)(Jb,Yb,(e,t)=>[{label:`${t} (selected)`,data:e_(e.selected,t),backgroundColor:"#673c90",borderColor:"#673c90"},{label:`${t} (unselected)`,data:e_(e.unselected,t),backgroundColor:e.selected.length?"#ddd":"#a386bd",borderColor:e.selected.length?"#ddd":"#a386bd"}]),n_=Object($.createSelector)(qb,e=>e.length);var r_=n(267);const o_=[{title:"Genome Length",metric:"length"},{title:"N50",metric:"N50"},{title:"No. Contigs",metric:"contigs"},{title:"Non-ATCG",metric:"nonATCG"},{title:"GC Content",metric:"gcContent"}];const i_=Object(_.a)((e,t)=>({className:Yb(e)===t.metric?"active":""}),(function(e,t){return{onClick:()=>e(Object(r_.b)(t.metric))}}))(({title:e,className:t,onClick:n})=>i.a.createElement("button",{className:C()("wgsa-button-group__item",t),onClick:n},e));function a_(e,t){return(n,[r])=>{if(r){const n=e[r._datasetIndex].data[r._index];t(n)}}}const s_=i.a.createClass({displayName:"StatsView",componentDidMount(){const{chartData:e=[],previousFilter:t,filter:n,fetch:r,count:o}=this.props;let i;t!==n?r():i={datasets:e},this.chart=new mp.a(this.canvas,{type:"line",data:i,options:{animation:!1,responsive:!1,elements:{points:{borderWidth:1,backgroundColor:"#a386bd",borderColor:"#a386bd"}},hover:{mode:"point",intersect:!0},legend:{display:!1},maintainAspectRatio:!1,onClick:a_(e,this.props.onPointClick),showLines:!1,scales:{xAxes:[{type:"linear",position:"bottom",ticks:{display:!1,min:0,max:o+1},scaleLabel:{display:!1},beginAtZero:!0}]},tooltips:{displayColors:!1,callbacks:{title:(e,{datasets:t})=>e.map(({index:e,datasetIndex:n})=>t[n].data[e].label).join(", "),label:({index:e,datasetIndex:t},{datasets:n})=>n[t].data[e].y}}}})},componentDidUpdate(e){const{chartData:t,onPointClick:n,filter:r,fetch:o,count:i}=this.props;e.filter===r?t!==e.chartData&&(this.chart.data.datasets=t,this.chart.options.onClick=a_(t,n),this.chart.options.scales.xAxes[0].ticks.max=i+1,this.chart.update(),this.chart.resize()):o()},render(){const{average:e,stDev:t,range:n={}}=this.props;return i.a.createElement("div",{className:"wgsa-genome-stats"},i.a.createElement(Uo,null,({height:r,width:o})=>i.a.createElement("div",{style:{height:r,width:o,position:"relative"}},i.a.createElement("nav",{className:"wgsa-button-group"},i.a.createElement("i",{title:"Metric",className:"material-icons"},"timeline"),o_.map(e=>i.a.createElement(i_,Vn()({key:e.metric},e)))),i.a.createElement(Vb,{className:"wgsa-stats-chart",height:r-184,width:o-8,chart:this.chart},i.a.createElement("canvas",{ref:e=>{this.canvas=e}})),i.a.createElement("div",{className:"wgsa-hub-stats-group"},i.a.createElement("dl",{className:"wgsa-hub-stats-section"},i.a.createElement("dt",{className:"wgsa-hub-stats-heading"},"Average"),i.a.createElement("dd",{className:"wgsa-hub-stats-value"},e)),i.a.createElement("dl",{className:"wgsa-hub-stats-section"},i.a.createElement("dt",{className:"wgsa-hub-stats-heading"},"Standard Deviation"),i.a.createElement("dd",{className:"wgsa-hub-stats-value"},t)),i.a.createElement("dl",{className:"wgsa-hub-stats-section"},i.a.createElement("dt",{className:"wgsa-hub-stats-heading"},"Range"),i.a.createElement("dd",{className:"wgsa-hub-stats-value"},n.min," – ",n.max))))))}});var l_=Object(_.a)((function(e){return{average:Kb(e),stDev:Xb(e),range:Qb(e),chartData:t_(e),count:n_(e),filter:Object(Ay.a)(e),previousFilter:Zb(e)}}),(function(e){return{onPointClick:t=>e(Object(E.b)(t.id,t.label)),fetch:()=>e(Object(Ab.g)())}}))(s_);const c_="/genomes/:prefilter(all|user|bin)",u_=i.a.createElement(v.a,{path:c_,component:Y});var d_=i.a.createElement(v.a,{path:c_,component:e=>i.a.createElement(bb,e,i.a.createElement(I,null,i.a.createElement(v.a,{path:`${c_}/map`,component:Gb}),i.a.createElement(v.a,{path:`${c_}/stats`,component:l_}),i.a.createElement(v.a,{component:Db})))});n(1096);var h_=Object(_.a)((function(e){return{collection:Object(K.a)(e)}}),(function(e,{match:t,location:n}){const r=Object(Q.parse)(n.search);return{fetch:()=>e(Object(Hv.c)(t.params.id,r.threshold)),reset:()=>e(Object(nm.e)())}}))(ay);const p_=i.a.createElement(v.a,{path:"/clustering/:id",component:Dr});var f_=i.a.createElement(v.a,{path:"/clustering/:id",component:h_}),m_=()=>i.a.createElement(I,null,u_,Py,ly,p_,q),g_=n(891),v_=(n(1098),n(487)),y_=n(317),b_=({authMessage:e,...t})=>Dd.a.user?i.a.createElement(v_.a,t):i.a.createElement(y_.a,{to:{pathname:"/sign-in",search:`?redirect=${t.path}`,state:{message:e}}}),__=n(509),w_=n.n(__),C_=n(156);const S_={genome:"cloud_upload",collection:"collections"},E_={genome:({count:e,date:t})=>i.a.createElement(R.a,{to:`/genomes/user?uploadedAt=${t}`},"Uploaded ",i.a.createElement("strong",null,e)," genome",1===e?"":"s"),collection:({size:e,organismId:t,title:n,token:r})=>i.a.createElement(R.a,{to:`/collection/${r}`},"Created collection ",i.a.createElement(C_.a,{tag:"strong"},n)," (",i.a.createElement(Xt.a,{organismId:t}),", ",i.a.createElement("strong",null,e)," genomes)")};var x_=e=>i.a.createElement("li",{className:"wgsa-activity-item"},i.a.createElement("i",{className:"material-icons"},S_[e.type]),E_[e.type](e),i.a.createElement("span",{className:"wgsa-activity-item__time",title:e.formattedDate},w_()(e.date)," ago"));const k_=({account:e})=>e,O_=e=>k_(e).activity;var T_=n(221),M_=n(162);const P_=i.a.createClass({displayName:"ActivityList",componentDidMount(){this.props.fetch()},render(){const{activity:e}=this.props;return e===M_.a.LOADING?i.a.createElement(em.a,null):e===M_.a.ERROR?i.a.createElement("p",null,"Failed to fetch recent activity 😔"):e&&Array.isArray(e)?i.a.createElement("ul",{className:"wgsa-activity-list"},e.map(e=>i.a.createElement(x_,Vn()({key:e.date},e)))):null}});var L_=Object(_.a)((function(e){return{activity:O_(e)}}),(function(e){return{fetch:()=>e(Object(T_.b)())}}))(P_);const{user:N_={photo:"/images/user.svg"}}=Dd.a,A_=N_.photo||"/images/user-signed-in.svg";var I_=()=>i.a.createElement("img",{src:A_,className:"cgps-avatar__image"}),R_=n(98),D_=n(122);const j_=i.a.createClass({displayName:"ProfileContentComponent",componentDidMount(){const{summary:e}=this.props;e.loaded&&this.props.fetch()},render(){const{status:e,summary:t}=this.props;if(e===M_.a.LOADING||!t.loaded)return null;const{userCollections:n,userGenomes:r}=t;return 0===n&&0===r?i.a.createElement("div",{className:"wgsa-profile-section wgsa-profile-onboarding"},i.a.createElement("p",null,"Welcome to ",i.a.createElement("strong",null,"Pathogenwatch"),"!"),i.a.createElement("p",null,"This is your account page, here you'll be able to see:"),i.a.createElement("ul",null,i.a.createElement("li",null,"The number of genomes you've uploaded"),i.a.createElement("li",null,"The number of collections you've created"),i.a.createElement("li",null,"A list of your recent activity")),i.a.createElement("p",null,"To get started, ",i.a.createElement(R.a,{to:"/upload"},"upload genomes")," or ",i.a.createElement(R.a,{to:"/genomes"},"browse the public dataset"),".")):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"wgsa-hub-stats-group wgsa-profile-section"},i.a.createElement(R.a,{className:"wgsa-hub-stats-section wgsa-profile-counter",to:"/genomes/user",title:"Click to view genomes"},i.a.createElement("h3",{className:"wgsa-hub-stats-heading"},"Genomes"),i.a.createElement("p",{className:"wgsa-hub-stats-value wgsa-hub-stats-value--large"},r)),i.a.createElement(R.a,{className:"wgsa-hub-stats-section wgsa-profile-counter",to:"/collections/user",title:"Click to view collections"},i.a.createElement("h3",{className:"wgsa-hub-stats-heading"},"Collections"),i.a.createElement("p",{className:"wgsa-hub-stats-value wgsa-hub-stats-value--large"},n))),i.a.createElement("div",{className:"wgsa-hub-stats-group wgsa-profile-section"},i.a.createElement("div",{className:"wgsa-hub-stats-section"},i.a.createElement("div",{className:"wgsa-hub-stats-heading"},"Recent Activity"),i.a.createElement(L_,null))))}});const z_=Object(_.a)((function(e){return{status:k_(e),summary:Object(R_.c)(e)}}),(function(e){return{fetch:()=>e(Object(D_.b)())}}))(j_);var F_=()=>{const{user:e}=Dd.a;return e?i.a.createElement("div",{className:"wgsa-hipster-style"},i.a.createElement("div",{className:"cgps-avatar cgps-avatar--centered wgsa-profile-avatar"},i.a.createElement(I_,null),i.a.createElement("div",{className:"cgps-avatar__name title-font",title:e.name},e.name),i.a.createElement("div",{className:"cgps-avatar__contact",title:e.email},e.email)),i.a.createElement(z_,null)):null},B_=i.a.createElement(b_,{authMessage:"Please sign in to visit your account.",path:"/account",component:()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Xv.a,null,"Account"),i.a.createElement(F_,null))});n(1100);const W_=i.a.createClass({displayName:"Marker",render(){const{style:e,marker:t,selectedCollection:n,setCollection:r}=this.props,{token:o,uuid:a=o}=t.collection;return i.a.createElement(R.a,{ref:e=>{this.ref=e},style:{...e,animationDelay:`${.125*t.index}s`},to:`/collection/${a}`,className:C()("showcase__link",{"active wgsa-sonar-effect":n===a,inactive:n&&n!==a}),onMouseEnter:()=>r(a),onMouseLeave:()=>r(null)})}}),H_=({collection:e})=>i.a.createElement("div",{className:"wgsa-showcase-tooltip"},i.a.createElement(On.a,{level:"3"},e.title),i.a.createElement("p",null,e.size," ",i.a.createElement(Xt.a,{organismId:e.organismId})," genomes"));var U_=i.a.createClass({displayName:"Showcase.react",getInitialState:()=>({locations:[],collections:[],focus:!1}),componentDidMount(){Object($n.a)("GET","/api/showcase").then(e=>this.setState({locations:e.reduce((e,{locations:t,...n})=>{for(const[r,[o,i]]of t.entries())null!==o&&null!==i&&e.push({lat:o,lon:i,collection:n,index:r});return e},[]),collections:e}))},componentDidUpdate(e,t){const{collections:n}=this.state;0===t.collections.length&&n.length>0&&(this.setCollection(),this.startCarousel())},componentWillUnmount(){this.stopCarousel()},setCollection(){const{collections:e}=this.state,{token:t,uuid:n=t}=e[Math.floor(Math.random()*e.length)];this.setState({uuid:n})},startCarousel(){this._interval=setInterval(this.setCollection,5e3)},stopCarousel(){clearInterval(this._interval)},renderCollectionLinks(){const{locations:e}=this.state;return i.a.createElement(Td,{markers:e,latitudeExtractor:e=>e.lat,longitudeExtractor:e=>e.lon,markerComponent:W_,propsForMarkers:{selectedCollection:this.state.uuid,setCollection:e=>{this.setState({uuid:e}),this.stopCarousel()}}})},render(){const{locations:e,uuid:t,collections:n}=this.state;return i.a.createElement("section",{className:"showcase"},i.a.createElement("div",{className:"wgsa-homepage__content"},i.a.createElement(Zu,{animate:!1,zoomControl:!1,center:[44,13.5],zoom:2,minZoom:2,boundsOptions:{animate:!1},scrollWheelZoom:!1,onFocus:({target:e})=>{e.scrollWheelZoom.enable()},onBlur:({target:e})=>{e.scrollWheelZoom.disable()},onMoveend:({target:e})=>{this.map=e},ref:e=>{this.leafletMap=e},style:{width:"100%",height:"100%"}},i.a.createElement(rd,{noWrap:!0,bounds:[[-90,-180],[90,180]],attribution:"\n  Map data &copy;\n  <a href='http://openstreetmap.org'>OpenStreetMap</a> contributors\n  <a href='http://creativecommons.org/licenses/by-sa/2.0/'>CC-BY-SA</a>,\n  Imagery © <a href='http://mapbox.com'>Mapbox</a>\n",url:`https://api.mapbox.com/styles/v1/cgpsdev/cj5y3b7aq0rru2spdrcdnjxsm/tiles/256/{z}/{x}/{y}?access_token=${Dd.a.mapboxKey}`}),this.renderCollectionLinks()),0===e.length&&i.a.createElement(em.a,{singleColour:!0}),i.a.createElement(xy.a,{className:"wgsa-showcase-tooltip-wrapper",transitionName:"wgsa-showcase-tooltip",transitionEnterTimeout:280,transitionLeaveTimeout:280},!!t&&i.a.createElement(H_,{key:t,collection:n.find(e=>e.token===t)}))))}});const{maxCollectionSize:G_=1e3}=Dd.a;const V_=Object(_.a)((function(e){return{deployedOrganisms:new Set(Object(R_.a)(e))}}))(({deployedOrganisms:e})=>i.a.createElement("div",{className:"wgsa-homepage"},i.a.createElement(Xv.a,null,"A Global Platform for Genomic Surveillance"),i.a.createElement("section",{className:"jumbotron"},i.a.createElement("div",{className:"jumbotron-content"},i.a.createElement(U.c,null),i.a.createElement("h1",null,"A ",i.a.createElement("strong",null,"Global Platform")," for"," ",i.a.createElement("strong",null,"Genomic Surveillance"),"."))),i.a.createElement(U_,null),i.a.createElement("section",{id:"how-it-works",className:"alt wgsa-how-it-works"},i.a.createElement("div",{className:"wgsa-homepage__content"},i.a.createElement("h2",null,"How ",i.a.createElement(U.d,null)," Works"),i.a.createElement("ol",null,i.a.createElement("li",null,i.a.createElement("i",{className:"material-icons"},"file_upload"),i.a.createElement("h3",null,"Upload"),i.a.createElement("p",null,"Upload genome assemblies and metadata, or view all publicly available genomes.")),i.a.createElement("li",null,i.a.createElement("i",{className:"material-icons"},"settings"),i.a.createElement("h3",null,"Analyse"),i.a.createElement("p",null,"Generate results including MLST, AMR predictions, clustering of genomes, and interactive visualisation of metadata.")),i.a.createElement("li",null,i.a.createElement("i",{className:"material-icons"},"search"),i.a.createElement("h3",null,"Explore"),i.a.createElement("p",null,"Compare results with publicly available genomes within a species reference tree."))))),i.a.createElement("section",{id:"organisms"},i.a.createElement("div",{className:"wgsa-homepage__content"},i.a.createElement("h2",null,"Organisms"),i.a.createElement("p",{className:"lead"},i.a.createElement("strong",null,i.a.createElement(U.d,null))," ","provides species and taxonomy prediction for over 60,000 variants of bacteria, viruses, and fungi."),i.a.createElement("p",{className:"lead"},i.a.createElement("strong",null,"MLST")," prediction is available for over 100 species using schemes from ",i.a.createElement("a",{href:"https://pubmlst.org/"},"PubMLST"),","," ",i.a.createElement("a",{href:"http://bigsdb.pasteur.fr/"},"Pasteur"),", and"," ",i.a.createElement("a",{href:"http://enterobase.warwick.ac.uk"},"Enterobase"),"."),i.a.createElement("p",{className:"lead"},i.a.createElement("strong",null,"cgMLST")," calling and clustering is available for the following schemes:"),i.a.createElement("ul",{className:"pw-homepage-cgmlst-organisms"},i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=469&speciesId=470"},"Acinetobacter baumannii")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=194&speciesId=195"},"Campylobacter coli")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=194&speciesId=197"},"Campylobacter jejuni")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1350&speciesId=1352"},"Enterococcus faecium")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=561"},"Escherichia")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=570&speciesId=573"},"Klebsiella pneumoniae")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=570&speciesId=1463165"},"Klebsiella quasipneumoniae")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=570&speciesId=244366"},"Klebsiella variicola")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1637"},"Listeria")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1763&speciesId=33894"},"Mycobacterium africanum")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1763&speciesId=1765"},"Mycobacterium bovis")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1763&speciesId=78331"},"Mycobacterium canettii")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1763&speciesId=1773"},"Mycobacterium tuberculosis")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=482&speciesId=485"},"Neisseria gonorrhoeae")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=482&speciesId=487"},"Neisseria meningitidis")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=590&speciesId=28901"},"Salmonella enterica")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=620"},"Shigella")),i.a.createElement("li",null,i.a.createElement(R.a,{to:"/genomes?genusId=1279&speciesId=1280"},"Staphylococcus aureus"))),i.a.createElement("table",{className:"wgsa-organism-table"},i.a.createElement("caption",null,"Further Analyses"),i.a.createElement("colgroup",null,i.a.createElement("col",{className:"wgsa-title-column"}),i.a.createElement("col",{className:"wgsa-feature-column"}),i.a.createElement("col",{className:"wgsa-feature-column"}),i.a.createElement("col",{className:"wgsa-feature-column"}),i.a.createElement("col",{className:"wgsa-feature-column"})),i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"Organism"),i.a.createElement("th",null,"AMR Prediction"),i.a.createElement("th",null,"Core SNP Trees"),i.a.createElement("th",null,"Other"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("em",null,"Campylobacter")),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null),i.a.createElement("td",null)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("em",null,"Klebsiella")),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("small",null,"Kleborate"))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"573"})),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,e.has("573")&&i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,i.a.createElement("small",null,"Kleborate"))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"485"})),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,e.has("485")&&i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,i.a.createElement("small",null,"NG-MAST"),i.a.createElement("br",null),i.a.createElement("small",null,"NG-STAR"))),e.has("1646")&&i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"1646"})),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement("em",null,"Salmonella")),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("small",null,"SISTR"))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"90370"})),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,e.has("90370")&&i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,i.a.createElement("small",null,"Genotyphi"))),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"1280"})),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null,e.has("1280")&&i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null)),e.has("1336")&&i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"1336"})),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null)),i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"1313"})),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("small",null,"PopPUNK"),i.a.createElement("br",null),i.a.createElement("small",null,"SeroBA"),i.a.createElement("br",null),i.a.createElement("small",null,"PBP Typing"))),e.has("64320")&&i.a.createElement("tr",null,i.a.createElement("td",null,i.a.createElement(Xt.a,{organismId:"64320"})),i.a.createElement("td",null),i.a.createElement("td",null,i.a.createElement("i",{className:"material-icons"},"check")),i.a.createElement("td",null))))),i.a.createElement("footer",null,i.a.createElement(R.a,{to:"/genomes",className:"mdl-button mdl-button--raised mdl-button--colored"},"Browse Genomes"))),i.a.createElement("section",{id:"features",className:"alt"},i.a.createElement("div",{className:"wgsa-homepage__content"},i.a.createElement("h2",null,"Features"),i.a.createElement("table",{className:"wgsa-features-table"},i.a.createElement("colgroup",null,i.a.createElement("col",null),i.a.createElement("col",null)),i.a.createElement("thead",null,i.a.createElement("tr",{className:"title-font"},i.a.createElement("th",null,"Anonymous User"),i.a.createElement("th",null,"Signed-in User"))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"Access public genomes"),i.a.createElement("td",null,"Upload genomes for analysis")),i.a.createElement("tr",null,i.a.createElement("td",null,"cgMLST clustering",i.a.createElement("br",null),i.a.createElement("small",null,"public genomes only")),i.a.createElement("td",null,"cgMLST clustering",i.a.createElement("br",null),i.a.createElement("small",null,"public and uploaded genomes"))),i.a.createElement("tr",null,i.a.createElement("td",null,"Save collections for offline use",i.a.createElement("br",null),i.a.createElement(R.a,{to:"/offline"},i.a.createElement("small",null,"Find out more"))),i.a.createElement("td",null,"Save collections for offline use",i.a.createElement("br",null),i.a.createElement(R.a,{to:"/offline"},i.a.createElement("small",null,"Find out more")))),i.a.createElement("tr",null,i.a.createElement("td",null,"Access public collections"),i.a.createElement("td",null,"Create collections of up to",i.a.createElement("br",null),i.a.createElement("strong",null,G_)," genomes"))))),i.a.createElement("footer",null,Dd.a.user?i.a.createElement(R.a,{to:"/account",className:"mdl-button mdl-button--raised mdl-button--colored"},"Go to Account"):i.a.createElement(jy,{className:"mdl-button mdl-button--raised mdl-button--colored"},"Sign in"))),i.a.createElement("footer",{className:"mr-footer"},i.a.createElement("p",null,i.a.createElement("span",null,"Funded by "),i.a.createElement("img",{src:"images/wellcome-logo-white.png",className:"mr-footer-logo-square"})),i.a.createElement("p",null,i.a.createElement("span",null,"Developed at "),i.a.createElement("img",{src:"images/bdi.png",className:"mr-footer-logo-square"}),i.a.createElement("img",{src:"images/sanger.svg",className:"mr-footer-logo"})),i.a.createElement("p",null,i.a.createElement("a",{href:"https://www.pathogensurveillance.net",target:"_blank",rel:"noopener"},i.a.createElement("img",{src:"images/cgps-long-white.svg",className:"mr-footer-logo-cgps"}))),i.a.createElement("p",{className:"cgps-copyright"},"© 2018 Centre for Genomic Pathogen Surveillance"))));var Y_=i.a.createElement(v.a,{exact:!0,path:"/",component:V_}),q_=n(212);n(1108),n(1110),n(1112);const Z_=({strategies:e=[],children:t})=>i.a.createElement("div",{className:"cgps-login-links"},e.filter(e=>"passwordless"!==e).map(e=>i.a.createElement("a",{key:e,className:`cgps-login-button cgps-login-button--${e}`,href:`/auth/${e}`},i.a.createElement("div",{className:"cgps-login-button__icon"}),i.a.createElement("div",{className:"cgps-login-button__text"},"Continue with ",i.a.createElement("span",{className:"provider"},e)))),t);Z_.propTypes={strategies:d.a.arrayOf(d.a.string),children:d.a.node,contactEmail:d.a.string};var $_=Z_;const K_=({message:e,appName:t="Microreact",strategies:n,additional:r,termsLink:o})=>i.a.createElement("section",{className:"cgps-login"},i.a.createElement("h3",{className:"cgps-heading"},"Sign in to your ",t," account"),e&&i.a.createElement("p",{className:"cgps-login-message"},e),i.a.createElement("div",{className:"cgps-login-links-wrapper"},i.a.createElement($_,{strategies:n},r)),o&&i.a.createElement("p",{className:"cgps-login-tos"},"By signing in, you are agreeing to our ",o,"."),i.a.createElement("h4",{className:"cgps-heading"},"Access to Information"),i.a.createElement("p",null,t," accesses your ",i.a.createElement("strong",null,"name"),", ",i.a.createElement("strong",null,"email"),", and ",i.a.createElement("strong",null,"profile photo")," when signing in with ",i.a.createElement("strong",null,"Google"),", ",i.a.createElement("strong",null,"Twitter"),", or ",i.a.createElement("strong",null,"Facebook"),"."),i.a.createElement("p",null,"Other information, such as ",i.a.createElement("strong",null,"tweets")," and ",i.a.createElement("strong",null,"Facebook friends"),", will not be accessed or stored by ",t,"."));K_.displayName="Login",K_.propTypes={message:d.a.string,appName:d.a.string,strategies:d.a.arrayOf(d.a.string),additional:d.a.node,termsLink:d.a.node};var X_=K_;n(1114);class Q_ extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={sending:!1,showControls:!1,email:""},this.showControls=e=>{e.stopPropagation(),this.setState({showControls:!0},()=>this.emailInput.focus())},this.emailInputChange=e=>{this.setState({email:e.target.value})},this.emailInputKeyUp=e=>{"Escape"===e.key&&(this.setState({showControls:!1}),e.stopPropagation())},this.submitForm=e=>{e.preventDefault();const{email:t}=this.state;if(!t.length)return;const{getPasswordlessToken:n,showMessage:r}=this.props;this.setState({sending:!0}),n(t).then(()=>{this.setState({showControls:!1,sending:!1}),r(`Your sign-in link has been sent to ${t}.`)}).catch(e=>{this.setState({sending:!1}),console.error(e),r("Something went wrong, please try again later.")})},t}render(){const{showControls:e,email:t}=this.state,n=this.props.spinner;return e?i.a.createElement("form",{className:"cgps-login-controls",onSubmit:this.submitForm},i.a.createElement("input",{type:"email",value:t,placeholder:"Email address",onChange:this.emailInputChange,onKeyUp:this.emailInputKeyUp,disabled:this.state.sending,ref:e=>{this.emailInput=e}}),i.a.createElement("button",{type:"submit"},this.state.sending?i.a.createElement(n,null):i.a.createElement("i",{className:"material-icons"},"send"))):i.a.createElement("a",{className:"cgps-login-button cgps-login-button--passwordless",onClick:this.showControls},i.a.createElement("span",{className:"cgps-login-button__icon"}),i.a.createElement("span",{className:"cgps-login-button__text"},"Sign in with an email"))}}Q_.displayName="SignInPasswordless";var J_=Q_;function ew(e){return Object($n.a)("POST","/auth/passwordless",{user:e})}var tw=Object(_.a)(null,(function(e){return{showMessage:t=>e(Object(S.c)({message:t}))}}))(({showMessage:e})=>i.a.createElement(J_,{getPasswordlessToken:ew,showMessage:e,spinner:em.a}));const{strategies:nw=[]}=Dd.a||{},rw=i.a.createElement("a",{target:"_blank",rel:"noopener",href:"https://cgps.gitbook.io/pathogenwatch/privacy-and-tos"},"terms of service");var ow=({message:e})=>i.a.createElement("div",{className:"pw-signin-page"},i.a.createElement(Xv.a,null,"Sign In"),i.a.createElement(X_,{appName:"Pathogenwatch",strategies:nw,additional:nw.includes("passwordless")?i.a.createElement(tw,null):null,termsLink:rw,message:e})),iw=i.a.createElement(v.a,{path:"/sign-in",render:({location:e={}})=>{const{message:t,redirect:n="/account"}=J.a.parse(e.search);return t?i.a.createElement(ow,{message:t}):Dd.a.user?i.a.createElement(g_.a,{to:n}):i.a.createElement(ow,{message:e.state&&e.state.message})}}),aw=(n(1116),n(214)),sw=n(39);const lw={MISSING_FILES:e=>i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"These files are still missing:"),i.a.createElement("ul",null,e.slice(0,5).map(e=>i.a.createElement("li",null,e)),e.length>5&&i.a.createElement("li",null,"+",e.length-5," more")),i.a.createElement("p",null,"if the problem persists, please try a new upload."))};var cw=Object(_.a)((function(e){return{message:e.upload.errorMessage}}),(function(e){return{clearMessage:()=>e(Object(sw.g)(null))}}))(({message:e,clearMessage:t})=>i.a.createElement(aw.a,{visible:!!e,hide:t},e&&i.a.createElement("div",{className:"pw-upload-message",onClick:e=>e.stopPropagation()},i.a.createElement("span",{className:"wgsa-file-icon"},i.a.createElement("i",{className:"material-icons"},"warning")),e.type?lw[e.type](e.data):i.a.createElement("p",null,e),i.a.createElement("footer",null,i.a.createElement("button",{className:"mdl-button mdl-button--raised mdl-button--colored",onClick:t},"Ok")))));n(1118),n(1120);const uw={position:"fixed",zIndex:-1,opacity:0};var dw=i.a.createClass({displayName:"DragAndDrop",propTypes:{onFiles:i.a.PropTypes.func.isRequired,noAddButton:i.a.PropTypes.bool},getInitialState:()=>({indicatorVisible:!1}),componentWillMount(){this.props.noAddButton&&(this.style.cursor="pointer")},style:{},handleFiles(e){this.props.onFiles(Array.from(e))},handleDrop(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!1}),e.dataTransfer&&e.dataTransfer.files.length>0&&this.handleFiles(e.dataTransfer.files)},showDropIndicator(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!0})},hideDropIndicator(e){e.stopPropagation(),e.preventDefault(),this.setState({indicatorVisible:!1})},handleClick(){this.refs.fileInput.click()},handleFileInputChange(e){const{files:t}=e.target;t&&t.length>0&&(this.handleFiles(t),e.target.value=null)},render(){const{readsEligible:e,accept:t}=this.props;return i.a.createElement("div",{className:`wgsa-drag-and-drop ${this.state.indicatorVisible?"is-dragover":""}`,onDragOver:this.showDropIndicator,onDrop:this.handleDrop,style:this.style,onClick:this.props.noAddButton?this.handleClick:()=>{}},i.a.createElement(aw.a,{visible:this.state.indicatorVisible,className:"wgsa-drop-indicator",onDragLeave:this.hideDropIndicator},i.a.createElement("div",{className:"wgsa-drop-indicator__message"},i.a.createElement("div",{className:"wgsa-drop-indicator__icons"},e&&i.a.createElement("span",{className:"wgsa-file-icon wgsa-file-icon--purple"},i.a.createElement("i",{className:"material-icons"},"file_copy"),i.a.createElement("span",{className:"wgsa-file-icon__label"},".fastq.gz")),i.a.createElement("span",{className:"wgsa-file-icon wgsa-file-icon--purple"},i.a.createElement("i",{className:"material-icons"},"insert_drive_file"),i.a.createElement("span",{className:"wgsa-file-icon__label"},".fasta")),i.a.createElement("span",{className:"wgsa-file-icon wgsa-file-icon--green"},i.a.createElement("i",{className:"material-icons"},"insert_drive_file"),i.a.createElement("span",{className:"wgsa-file-icon__label"},".csv"))),i.a.createElement("p",{className:"wgsa-drop-indicator__title h2 title-font"},"Drop to add to ",i.a.createElement(U.d,null)))),this.props.children,this.props.noAddButton?null:i.a.createElement("button",{className:"mdl-button mdl-js-button mdl-button--fab wgsa-drag-and-drop__button mdl-shadow--3dp",title:"Add files",onClick:this.handleClick},i.a.createElement("i",{className:"material-icons"},"add")),i.a.createElement("input",{type:"file",multiple:"multiple",ref:"fileInput",accept:t,style:uw,onChange:this.handleFileInputChange}))}});n(1122);const hw=({id:e,checked:t,onChange:n,children:r,lhs:o=!1})=>i.a.createElement("label",{className:"wgsa-settings-switch"},!o&&r,i.a.createElement("span",{className:C()("mdl-switch",{"is-checked":t})},i.a.createElement("input",{type:"checkbox",id:e,className:"mdl-switch__input",value:t,onChange:()=>n(!t)}),i.a.createElement("span",{className:"mdl-switch__track"}),i.a.createElement("span",{className:"mdl-switch__thumb"},i.a.createElement("span",{className:"mdl-switch___focus-helper"}))),o&&r);hw.displayName="Switch",hw.propTypes={left:i.a.PropTypes.object,right:i.a.PropTypes.object,id:i.a.PropTypes.string,checked:i.a.PropTypes.bool,onChange:i.a.PropTypes.func};var pw=hw,fw=n(105);var mw=Object(_.a)((function(e,{setting:t}){return{checked:Object(fw.b)(e,t)}}),(function(e,{setting:t}){return{onChange:n=>e(Object(sw.e)(t,n))}}))(({checked:e,onChange:t,children:n})=>i.a.createElement(pw,{checked:e,onChange:t},n)),gw=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pw-upload-instructions-column"},i.a.createElement("h2",null,"Genomic Data"),i.a.createElement("p",null,"One or more files in"," ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/FASTA_format",target:"_blank",rel:"noopener"},"multi-FASTA format")," ","with one of the following extensions:"),i.a.createElement("ul",{className:"inline"},Yt.a.map(e=>i.a.createElement("li",{key:e},e))),i.a.createElement("p",null,"Files should contain ",i.a.createElement("strong",null,"assembled DNA sequences")," of"," ",i.a.createElement("strong",null,"whole genomes"),". Please ensure that there is"," ",i.a.createElement("strong",null,"one file per genome")," as metagenomic samples are not supported."),i.a.createElement("h2",null,"Settings"),i.a.createElement("p",null,i.a.createElement(mw,{setting:"compression"},i.a.createElement("strong",null,"Compress files")),i.a.createElement("small",null,"Recommended for slow connections.")),i.a.createElement("p",null,i.a.createElement(mw,{setting:"individual"},i.a.createElement("strong",null,"Upload files individually")),i.a.createElement("small",null,"Recommended for unstable connections."))),i.a.createElement("div",{className:"pw-upload-instructions-column"},i.a.createElement("h2",null,"Metadata"),i.a.createElement("p",null,"Attach metadata to each genome by including one or more files in"," ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Comma-separated_values",target:"_blank",rel:"noopener"},"CSV format")," ","with the extension ",i.a.createElement("strong",null,".csv")," when selecting files for upload. Metadata can also be added and updated after upload -"," ",i.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/how-to-use-pathogenwatch/editing-metadata"},"see here for instructions")),i.a.createElement("p",null,"Files should contain a ",i.a.createElement("strong",null,"filename")," column to match each row to its respective genomic data. Please use the name of the file"," ",i.a.createElement("strong",null,"including extension"),"."),i.a.createElement("p",null,"To make full use of metadata, we strongly recommend including the following columns:"),i.a.createElement("ul",{className:"inline"},i.a.createElement("li",null,"latitude"),i.a.createElement("li",null,"longitude"),i.a.createElement("li",null,"year"),i.a.createElement("li",null,"month"),i.a.createElement("li",null,"day")),i.a.createElement("p",null,"When providing a date, month and day are optional. Coordinates should be provided in decimal degrees. Additional metadata may be included and will be saved."),i.a.createElement("h3",null,"CSV Templates"),i.a.createElement("ul",{className:"bulleted"},i.a.createElement("li",null,i.a.createElement("a",{href:"/pathogenwatch-metadata-template-minimal.csv",download:"pathogenwatch-metadata-template-minimal.csv"},"Minimal")),i.a.createElement("li",null,i.a.createElement("a",{href:"/pathogenwatch-metadata-template-typhi.csv",download:"pathogenwatch-metadata-template-typhi.csv"},i.a.createElement(Xt.a,{organismId:"90370"})))))),vw=n(231),yw=({remaining:e})=>i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pw-upload-instructions-column"},i.a.createElement(vw.a,{className:"pw-upload-assembler-usage"},i.a.createElement("aside",null,i.a.createElement("p",null,i.a.createElement("strong",null,"Processing reads is a trial service with fair-use limits.")),i.a.createElement("p",null,e&&0!==e?i.a.createElement(i.a.Fragment,null,"You are currently limited to ",i.a.createElement("strong",null,e," assemblies"),"."):i.a.createElement(i.a.Fragment,null,"You have no assemblies remaining, check back soon."),i.a.createElement("br",null),i.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/technical-descriptions/short-read-assembly",target:"_blank",rel:"noopener"},"How the service works")))),i.a.createElement("h2",null,"Genomic Data"),i.a.createElement("p",null,"One or more ",i.a.createElement("strong",null,"pairs of files")," in gzip-compressed"," ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/FASTQ_format",target:"_blank",rel:"noopener"},"FASTQ format")," ","with one of the following extensions:"),i.a.createElement("table",{cellPadding:"0",cellSpacing:"0"},i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"_1.fastq.gz"),i.a.createElement("td",null,"_2.fastq.gz")),i.a.createElement("tr",null,i.a.createElement("td",null,".1.fastq.gz"),i.a.createElement("td",null,".2.fastq.gz")),i.a.createElement("tr",null,i.a.createElement("td",null,"_R1.fastq.gz"),i.a.createElement("td",null,"_R2.fastq.gz")),i.a.createElement("tr",null,i.a.createElement("td",null,".R1.fastq.gz"),i.a.createElement("td",null,".R2.fastq.gz")))),i.a.createElement("p",null,"Files should contain ",i.a.createElement("strong",null,"short read DNA sequences")," of"," ",i.a.createElement("strong",null,"whole genomes"),". Please ensure that there are"," ",i.a.createElement("strong",null,"two files per genome")," as metagenomic samples are not supported.")),i.a.createElement("div",{className:"pw-upload-instructions-column"},i.a.createElement("h2",null,"Metadata"),i.a.createElement("p",null,"Attach metadata to each genome by including one or more files in"," ",i.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Comma-separated_values",target:"_blank",rel:"noopener"},"CSV format")," ","with the extension ",i.a.createElement("strong",null,".csv")," when selecting files for upload. Metadata can also be added and updated after upload -"," ",i.a.createElement("a",{href:"https://cgps.gitbook.io/pathogenwatch/how-to-use-pathogenwatch/editing-metadata"},"see here for instructions")),i.a.createElement("p",null,"Files should contain a ",i.a.createElement("strong",null,"filename")," column to match each row to its respective genomic data. Please use either the common prefix (e.g. the ",i.a.createElement("strong",null,"lane ID")," or the ",i.a.createElement("strong",null,"strain name"),"), or ",i.a.createElement("strong",null,"one of")," the names of the files including extension."),i.a.createElement("p",null,"To make full use of metadata, we strongly recommend including the following columns:"),i.a.createElement("ul",{className:"inline"},i.a.createElement("li",null,"latitude"),i.a.createElement("li",null,"longitude"),i.a.createElement("li",null,"year"),i.a.createElement("li",null,"month"),i.a.createElement("li",null,"day")),i.a.createElement("p",null,"When providing a date, month and day are optional. Coordinates should be provided in decimal degrees. Additional metadata may be included and will be saved."),i.a.createElement("h3",null,"CSV Templates"),i.a.createElement("ul",{className:"bulleted"},i.a.createElement("li",null,i.a.createElement("a",{href:"/pathogenwatch-metadata-template-reads-minimal.csv",download:"pathogenwatch-metadata-template-reads-minimal.csv"},"Minimal")),i.a.createElement("li",null,i.a.createElement("a",{href:"/pathogenwatch-metadata-template-reads-typhi.csv",download:"pathogenwatch-metadata-template-reads-typhi.csv"},i.a.createElement(Xt.a,{organismId:"90370"})))))),bw=(n(1124),({children:e,color:t="purple",text:n,circular:r=!1})=>i.a.createElement("span",{className:C()("pw-badge",`pw-badge-${t}`,{circular:r}),"data-text":n},e)),_w=n(111);const ww=e=>{i.a.useEffect(()=>{const t=_w.a.getState();e&&!t.auth.pending&&_w.a.dispatch(Object(sw.f)(e))},[e])};var Cw=n(187);function Sw(e=!1){const t=_w.a.getState(),{token:n,pending:r}=t.auth;Object(o.useEffect)(()=>{n||r||_w.a.dispatch(Object(Cw.b)())},[n,r]),Object(o.useEffect)(()=>{n&&e&&_w.a.dispatch(Object(Cw.b)())},[])}var Ew=Object(_.a)((function(e){return{usage:Object(fw.a)(e),token:e.auth.token}}))(({usage:e,token:t})=>{Sw(!0),ww(t);const n=i.a.useRef();return i.a.useEffect(()=>{n.current&&!n.current.MaterialTabs&&componentHandler.upgradeElement(n.current)},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{ref:e=>{n.current=e},className:"mdl-tabs mdl-js-tabs mdl-js-ripple-effect"},i.a.createElement("div",{className:"mdl-tabs__tab-bar"},i.a.createElement("a",{href:"#assemblies-panel",className:"mdl-tabs__tab is-active"},"Assemblies"),i.a.createElement("a",{href:"#reads-panel",className:"mdl-tabs__tab"},i.a.createElement(bw,{text:"Beta",color:"turquoise"},"Reads"))),i.a.createElement("div",{className:"mdl-tabs__panel is-active",id:"assemblies-panel"},i.a.createElement(gw,null)),i.a.createElement("div",{className:"mdl-tabs__panel",id:"reads-panel"},i.a.createElement(yw,{remaining:e&&e.remaining?e.remaining:0}))))}),xw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var Ow=function(e){var t=e.to,n=e.exact,r=e.strict,o=e.location,a=e.activeClassName,s=e.className,l=e.activeStyle,c=e.style,u=e.isActive,d=e["aria-current"],h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),p="object"===(void 0===t?"undefined":kw(t))?t.pathname:t,f=p&&p.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1");return i.a.createElement(v.a,{path:f,exact:n,strict:r,location:o,children:function(e){var n=e.location,r=e.match,o=!!(u?u(r,n):r);return i.a.createElement(R.a,xw({to:t,className:o?[s,a].filter((function(e){return e})).join(" "):s,style:o?xw({},c,l):c,"aria-current":o&&d||null},h))}})};Ow.propTypes={to:R.a.propTypes.to,exact:d.a.bool,strict:d.a.bool,location:d.a.object,activeClassName:d.a.string,className:d.a.string,activeStyle:d.a.object,style:d.a.object,isActive:d.a.func,"aria-current":d.a.oneOf(["page","step","location","date","time","true"])},Ow.defaultProps={activeClassName:"active","aria-current":"page"};var Tw=Ow;var Mw=Object(_.a)((function(e){return{hasIncomplete:Object(fw.c)(e)}}))(({children:e,hasIncomplete:t})=>i.a.createElement(fy,{className:"wgsa-upload-summary pw-upload-page"},e||i.a.createElement(i.a.Fragment,null,i.a.createElement(Tw,{activeClassName:"mdl-button--primary",className:"mdl-button",exact:!0,to:"/upload"},"New Upload"),i.a.createElement(Tw,{activeClassName:"mdl-button--primary",className:"mdl-button",exact:!0,to:"/upload/previous"},"Previous Uploads",t&&i.a.createElement("span",{title:"You have incomplete uploads.",className:"pw-blipper wgsa-blink"})))));const Pw=e=>Object(bt.readAsText)(e).then(Nt),Lw=e=>e.reduce((e,{data:t={}})=>e.concat(t),[]);var Nw=n(95);const Aw=/^(.*)[_\.]R?[12]\.fastq\.gz$/,Iw=new RegExp(`(${Yt.a.join("|")})$`,"i"),{maxGenomeFileSize:Rw=20}=Dd.a,Dw=1048576*Rw;function jw(e){if(0===e.size)throw new Error(`${e.name} is an empty file.`);if(e.size>Dw)throw new Error(`${e.name} is too large, the limit is ${Rw} MB.`);return e}var zw=function(e,t){const n=[],r=[],o=[],i=Fw();for(const t of e)if(Pt.test(t.name))n.push(t);else if(Iw.test(t.name)){try{jw(t)}catch(e){return Promise.reject(e)}r.push(t)}else i&&Aw.test(t.name)&&o.push(t);if(0===r.length&&o.length<=1)return Promise.reject({message:"Please ensure that your files include at least one genome with the supported file extensions."});let a={};try{a=function(e,t,n){const r={},{maxSizeMB:o=500}=n||{},i=1048576*o;for(const n of e){if(n.size>i)throw new Error(`${n.name} is too large, the limit is ${o} MB.`);const e=n.name.match(t)[1];r[e]=r[e]||{},r[e][n.name]=n}for(const[e,t]of Object.entries(r))if(2!==Object.keys(t).length)throw new Error(`No pair found for files starting ${e}, please check and try again.`);if(n&&Object.keys(r).length>n.remaining)throw new Error(`You do not have enough remaining credits to complete this upload. You have ${n.remaining} left.`);return r}(o,Aw,t)}catch(e){return Promise.reject(e)}return(e=>Promise.all(e.map(Pw)).then(Lw))(n).then(e=>[...r.map((t,n)=>{const r=t.name.replace(Iw,""),o=e.find(e=>e.filename===t.name||e.filename===r);return{files:[t],id:`${t.name}__${Date.now()}_${n}`,metadata:o?At(o,r):null,name:r,type:Nw.a.ASSEMBLY}}),...Object.entries(a).map(([t,n],r)=>{const o=Object.keys(n),i=e.find(e=>e.filename===t||o.includes(e.filename));return{files:Object.values(n),id:`${t}__${Date.now()}_${r}`,metadata:i?At(i):null,name:t,type:Nw.a.READS}})])};function Fw(){return"assemblerAddress"in Dd.a}function Bw(e=Fw()){let t=Yt.a;return e&&(t=Yt.a.concat(".fastq.gz")),t.join(",")}function Ww(e=Fw()){return`${Bw(e)},.csv`}var Hw=n(163);var Uw=Object(_.a)(null,(function(e){return{onFiles:t=>e(function(e){const t=(new Date).toISOString();return(n,r)=>{const o=r(),i=Object(fw.a)(o);zw(e,i).then(e=>{n(Object(sw.d)(e,t)).then(()=>nS.push(`/upload/${t}`))}).catch(e=>{e.toast?n(Object(S.c)(e.toast)):e.message?n(Object(sw.g)(e.message)):n(Object(sw.g)("Sorry, something went wrong."))})}}(t)),fetchPreviousUploads:()=>e(Object(Hw.b)())}}))(({onFiles:e,fetchPreviousUploads:t})=>{i.a.useEffect(()=>{t()},[]);const n=Fw();return i.a.createElement(dw,{onFiles:e,readsEligible:n,accept:Ww(n)},i.a.createElement(Xv.a,null,"Upload"),i.a.createElement(Mw,null),i.a.createElement("section",{className:"wgsa-page wgsa-compact-page wgsa-upload-instructions"},i.a.createElement("h1",null,"Drag and drop files to begin."),n?i.a.createElement(Ew,null):i.a.createElement(gw,null)))}),Gw=(n(1126),n(157));const Vw=({item:e})=>{const{uploadedAt:t,total:n,complete:r}=e;return i.a.createElement(R.a,{className:"wgsa-genome-list-item wgsa-genome-list-item--selectable",to:`/upload/${t}`},i.a.createElement("span",null,Object(Cb.b)(t)),i.a.createElement("span",null,n),i.a.createElement("span",null,n===r?i.a.createElement("span",{className:"pw-upload-session-status uploaded"},"Uploaded"):i.a.createElement("span",{className:"pw-upload-session-status incomplete"},"Incomplete")))},Yw=()=>i.a.createElement("header",{className:"wgsa-genome-list-item wgsa-genome-list-header"},i.a.createElement("h3",{className:"wgsa-list-header-cell"},"Date Uploaded"),i.a.createElement("h3",{className:"wgsa-list-header-cell"},"Genomes"),i.a.createElement("h3",{className:"wgsa-list-header-cell"},"Status"));var qw=Object(_.a)((function(e){return e.upload.previous}),(function(e){return{fetch:()=>e(Object(Hw.b)())}}))(e=>(i.a.useEffect(()=>{e.fetch()},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(Xv.a,null,"Previous Uploads"),i.a.createElement(Mw,null),i.a.createElement(Gw.a,{complete:e.uploads.length>0||e.error,placeholder:i.a.createElement("div",{className:"pw-flex-center"},i.a.createElement(em.a,null))},function({loading:e,error:t,uploads:n}){return t?i.a.createElement("p",{className:"pw-upload-page pw-centre-text"},"Failed to fetch previous uploads."):e||0!==n.length?i.a.createElement(dy,{className:"wgsa-genome-list-view wgsa-previous-uploads",template:Vw,items:n,columnCount:1,rowHeight:40,header:i.a.createElement(Yw,null),headerHeight:25}):i.a.createElement("p",{className:"pw-upload-page pw-centre-text"},"No previous uploads found.")}(e)))));n(1128);function Zw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Kw=function(e){function t(){return Zw(this,t),$w(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.enable=function(e){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(e)},t.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},t.prototype.componentWillMount=function(){c()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},t.prototype.componentWillReceiveProps=function(e){e.when?this.props.when&&this.props.message===e.message||this.enable(e.message):this.disable()},t.prototype.componentWillUnmount=function(){this.disable()},t.prototype.render=function(){return null},t}(i.a.Component);Kw.propTypes={when:d.a.bool,message:d.a.oneOfType([d.a.func,d.a.string]).isRequired},Kw.defaultProps={when:!0},Kw.contextTypes={router:d.a.shape({history:d.a.shape({block:d.a.func.isRequired}).isRequired}).isRequired};var Xw=Kw,Qw=(n(1130),n(673),n(123)),Jw=n(57),eC=n(147);const tC=i.a.createClass({displayName:"AnalysisChart",componentDidMount(){this.chart=new mp.a(this.canvas,{type:"doughnut",data:{datasets:this.props.datasets},options:{responsive:!1,maintainAspectRatio:!1,animation:{animateRotate:!0,animateScale:!0},tooltips:{displayColors:!1,callbacks:{title:(e,{datasets:t})=>e.map(({index:e,datasetIndex:n})=>t[n].labels[e]).join(", "),label:({index:e,datasetIndex:t},{datasets:n})=>{const r=n[t];return r.tooltips?r.tooltips[e]:`${r.data[e]} / ${r.total}, ${(100*r.data[e]/r.total).toFixed(1)}%`}}},pieceLabel:{render:({dataset:e,index:t})=>(e.shortLabels||e.labels)[t],precision:2,fontColor:"#fff",fontSize:13,fontStyle:"400",fontFamily:"Roboto"}}})},componentDidUpdate(){const e=[];for(const t of this.props.datasets){const n=this.chart.data.datasets.find(e=>e.label===t.label);n?(n.data=t.data,n.backgroundColor=t.backgroundColor,n.organismIds=t.organismIds,n.labels=t.labels,n.shortLabels=t.shortLabels,n.parents=t.parents,n.total=t.total,n.tooltips=t.tooltips):e.unshift(t)}for(const t of e)this.chart.data.datasets.unshift(t);this.chart.update()},getGenomesLink(){const{uploadedAt:e,selectedOrganism:t}=this.props;let n=`/genomes?uploadedAt=${e}`;return t&&(n+=`&organismId=${t}`),n},render(){return i.a.createElement("div",{className:"wgsa-analysis-chart"},i.a.createElement(Uo,null,({width:e,height:t})=>i.a.createElement(Vb,{height:t,width:e,chart:this.chart},i.a.createElement("canvas",{ref:e=>{this.canvas=e}}))),this.props.specieationComplete&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"pw-analysis-chart-hover-trigger"}),i.a.createElement(R.a,{className:C()("mdl-shadow--2dp wgsa-view-genomes-button",{"wgsa-sonar-effect":this.props.sonar}),to:this.getGenomesLink()},"View Genomes")))}});var nC=Object(_.a)((function(e){return{datasets:Object(Qw.b)(e),specieationComplete:Object(Jw.i)(e),sonar:Object(Jw.g)(e)&&!Object(Jw.f)(e),selectedOrganism:Object(Qw.d)(e)}}),(function(e){return{selectOrganism:t=>e(Object(eC.f)(t))}}))(tC),rC=i.a.memo(({uploadedAt:e})=>{i.a.useEffect(()=>{const t=`${Dd.a.clientId}-analysis`;return Object(Qv.a)(t,e,e=>_w.a.dispatch(Object(eC.e)(e))),()=>Object(Qv.b)(t)},[e]),i.a.useEffect(()=>{const t=setInterval(()=>_w.a.dispatch(Object(eC.d)(e)),6e4);return()=>clearInterval(t)},[e])}),oC=(n(859),n(100)),iC=n(148),aC=n(210);var sC=Object(_.a)((function(e){return{listening:Object(oC.h)(e),assemblyInProgress:Object(oC.g)(e),token:e.auth.token}}),(function(e){return{handleStatusUpdate:t=>{switch(t.type){case"ERROR":e(Object(iC.d)(t.payload));break;case"STATUS":e(Object(iC.e)(t.payload));break;default:console.log("[Assembly] Unknown message type:",t)}},progressTick:()=>e(Object(iC.f)())}}))(({assemblyInProgress:e,handleStatusUpdate:t,listening:n,progressTick:r,token:o,uploadedAt:a})=>(Sw(),i.a.useEffect(()=>{if(n&&o){Object(aC.a)(a,o).then(e=>{t({type:"STATUS",payload:e})}).catch(console.error);const e=`${Dd.a.clientId}-assembly`;return Object(Qv.a)(e,a,t),()=>Object(Qv.b)(e)}},[n,o]),i.a.useEffect(()=>{if(e){const e=setInterval(r,2e3);return()=>clearInterval(e)}},[e]),null)),lC=n(33);const cC=e=>{e.preventDefault(),window.location.reload()};var uC=Object(_.a)((function(e){return{assemblerErrors:Object(oC.a)(e),numOtherErrors:Object(lC.b)(e),uploadPending:Object(lC.k)(e),validationErrors:Object(lC.j)(e)}}))(({assemblerErrors:e,validationErrors:t,numOtherErrors:n,uploadPending:r})=>i.a.createElement("section",null,e.map(({name:e})=>i.a.createElement("article",{key:e,className:"pw-upload-file-error"},i.a.createElement("i",{className:"material-icons"},"error_outline"),i.a.createElement("div",null,i.a.createElement("h5",null,e),i.a.createElement("p",null,"There was a problem during assembly")))),t.map(({filename:e,error:t})=>i.a.createElement("article",{key:e,className:"pw-upload-file-error"},i.a.createElement("i",{className:"material-icons"},"error_outline"),i.a.createElement("div",null,i.a.createElement("h5",null,e),i.a.createElement("p",null,t.message)))),n>0&&i.a.createElement("article",{className:"pw-upload-file-error"},i.a.createElement("i",{className:"material-icons"},"error_outline"),i.a.createElement("div",null,i.a.createElement("h5",null,n," genome",1===n?" was ":"s were ","interrupted during upload"))),i.a.createElement("footer",{className:"pw-upload-file-error-footer"},!r&&(t.length>0||n>0)&&i.a.createElement("a",{className:"mdl-button mdl-button--raised mdl-button--colored",href:"#",onClick:cC},"Reload page")))),dC=(n(1132),n(1134),i.a.createClass({displayName:"Progress Bar",propTypes:{className:i.a.PropTypes.string,progress:i.a.PropTypes.number,indeterminate:i.a.PropTypes.bool,label:i.a.PropTypes.string},componentDidMount(){const{progressBar:e}=this.refs;e.addEventListener("mdl-componentupgraded",e=>{this.progressBar=e.target.MaterialProgress,this.setProgress()}),componentHandler.upgradeElement(e)},componentDidUpdate(){this.setProgress()},setProgress(){"progress"in this.props&&this.progressBar.setProgress(this.props.progress)},render(){const{className:e,indeterminate:t,children:n,label:r=n}=this.props;return i.a.createElement("div",{className:"wgsa-progress-bar"},r?i.a.createElement("label",{className:"wgsa-progress-bar__label"},r):null,i.a.createElement("div",{ref:"progressBar",className:C()(e,"mdl-progress mdl-js-progress",{"mdl-progress__indeterminate":t})}))}})),hC=n(55);const pC={IDENTIFY:"Identifying",PREPARE:"Preparing",UPLOAD:"Uploading"};var fC=({genome:e})=>i.a.createElement("div",{className:"wgsa-genome-card"},i.a.createElement("header",{className:"wgsa-card-header"},i.a.createElement("h2",{className:"wgsa-card-title wgsa-overflow-fade",title:e.name},e.name)),e.type===hC.b.READS?function(e){return e.files.map(e=>i.a.createElement(i.a.Fragment,{key:e.name},i.a.createElement(dC,{key:e.stage,progress:e.progress||0}),i.a.createElement(Z.a,null,i.a.createElement("small",{key:e.stage},pC[e.stage]||"Pending"))))}(e):function(e){switch(e.status){case hC.a.COMPRESSING:return i.a.createElement(i.a.Fragment,null,i.a.createElement(dC,{indeterminate:!0}),i.a.createElement("small",null,"Compressing"));case hC.a.UPLOADING:{const[t]=e.files;return i.a.createElement(i.a.Fragment,null,i.a.createElement(dC,{progress:t.progress||0}),i.a.createElement("small",null,"Uploading"))}case hC.a.SUCCESS:return i.a.createElement(dC,{progress:100});case hC.a.QUEUED:default:return i.a.createElement(i.a.Fragment,null,i.a.createElement(dC,{progress:0}),i.a.createElement("small",null,"Pending"))}}(e)),mC=({uploadsInProgress:e,pending:t})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(xy.a,{className:"wgsa-upload-card-list",transitionName:"wgsa-upload-card",transitionEnterTimeout:280,transitionLeave:!1},e.map(e=>i.a.createElement(fC,{key:e.id,genome:e}))),e.length>0&&t>0&&i.a.createElement("p",null,"+",t," genome",1===t?"":"s")),gC=n(59);const vC=({complete:e,total:t,hasErrors:n})=>e===t?i.a.createElement("p",{className:C()("pw-with-icon",{success:!n})},i.a.createElement("i",{className:"material-icons"},n?"error_outline":"check_circle"),t.toLocaleString()," genome",1===t?"":"s"," assembled"):i.a.createElement("p",{className:"pw-with-icon"},"Assembly",i.a.createElement("span",{className:"wgsa-upload-legend-count"},i.a.createElement("strong",null,e.toLocaleString())," of ",i.a.createElement("strong",null,t.toLocaleString()))),yC=({complete:e,total:t,hasErrors:n})=>e===t?i.a.createElement("p",{className:C()("pw-with-icon",{success:!n})},i.a.createElement("i",{className:"material-icons"},n?"error_outline":"check_circle"),t.toLocaleString()," ",1===t?"analysis":"analyses"," completed"):i.a.createElement("p",{className:"pw-with-icon"},"Analysis",i.a.createElement("span",{className:"wgsa-upload-legend-count"},i.a.createElement("strong",null,e.toLocaleString())," of ",i.a.createElement("strong",null,t.toLocaleString()))),bC=({position:e})=>0===e?i.a.createElement("p",{className:"wgsa-blink"},"Results processing"):e?i.a.createElement("p",null,e.toLocaleString()," job",1===e?"":"s"," till next result"):null;var _C=Object(_.a)((function(e){return{assemblyQueued:Object(oC.c)(e),hasErrors:Jw.f(e),sessionHasReads:Object(gC.f)(e),position:Object(Qw.c)(e),progress:Jw.b(e),totalGenomes:Object(gC.a)(e)}}))(e=>{const{assemblyQueued:t,hasErrors:n,sessionHasReads:r,position:o,progress:a,totalGenomes:s,completedUploads:l}=e;if(0===s)return null;const{assembly:c,analyses:u,speciation:d}=a,h=!r||c.done===c.total,p=d.done===s,f=l>0&&(!r||c.complete>0)&&(0===u.total||u.done<u.total);return i.a.createElement("div",{className:"wgsa-upload-progress-overview"},i.a.createElement("p",{className:C()("pw-with-icon",{success:l===s})},i.a.createElement("i",{className:"material-icons"},l===s?"check_circle":"error_outline"),0===l?"No successful uploads":`${l.toLocaleString()} genome${1===l?"":"s"} uploaded`),r&&l>0&&i.a.createElement(vC,{complete:c.done,total:c.total,hasErrors:c.failed>0}),p&&u.total>0&&i.a.createElement(yC,{complete:u.done,total:u.total,hasErrors:n}),t>0&&i.a.createElement("p",{className:"wgsa-blink"},t," job",1===t?"":"s"," queued"),h&&f&&i.a.createElement(bC,{position:o}))});var wC=Object(_.a)((function(e){return{data:Object(Qw.e)(e),speciesPredictionComplete:Object(Jw.i)(e)}}))(({data:e,speciesPredictionComplete:t})=>i.a.createElement("ul",{className:"wgsa-upload-legend"},e.map(({key:e,label:n,total:r,colour:o,analyses:a=[]})=>i.a.createElement("li",{key:e},i.a.createElement("span",{className:"pw-with-icon wgsa-upload-legend-header"},i.a.createElement("i",{className:"material-icons",style:{color:o}},"lens"),i.a.createElement("strong",{className:"wgsa-upload-legend-organism",title:n},n),i.a.createElement("span",{className:"wgsa-upload-legend-count"},r.toLocaleString())),i.a.createElement("ul",null,a.map(e=>"speciator"===e.key?null:e.label?i.a.createElement("li",{key:e.key,className:"pw-with-icon"},e.label,!!e.source&&i.a.createElement(i.a.Fragment,null," ",i.a.createElement("small",null,"(",e.source,")")),i.a.createElement("span",{className:"wgsa-upload-legend-count aligned"},e.errors>0&&i.a.createElement("span",{className:"wgsa-upload-legend-count-errors"}," ",e.errors," error",1===e.errors?"":"s"),t&&e.total===r?i.a.createElement("i",{className:C()("material-icons",{success:!(e.errors>0)})},e.errors>0?"error_outline":"check_circle"):e.total)):null))))));const CC=Object($.createSelector)(lC.a,oC.e,(e,t)=>e+t),SC=Object($.createSelector)(lC.c,lC.a,gC.a,e=>(({upload:e})=>e.progress.errors)(e).showing,(e,t,n,r)=>n>0&&0===e&&t===n||!!r);var EC=Object(_.a)((function(e){return{files:Object(lC.f)(e),sessionIsLoading:Object(Jw.h)(e),sessionHasReads:Object(gC.f)(e),showErrors:SC(e),showSpeciesBreakdown:Object(Qw.f)(e),uploadsInProgress:Object(Jw.e)(e),uploadsPending:Object(lC.k)(e)}}))(({files:e,sessionIsLoading:t,sessionHasReads:n,showErrors:r,showSpeciesBreakdown:o,uploadedAt:a,uploadsInProgress:s,uploadsPending:l})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(rC,{uploadedAt:a}),n&&i.a.createElement(sC,{uploadedAt:a}),i.a.createElement(Gw.a,{complete:!t,placeholder:i.a.createElement("div",{className:"pw-centre-text"},i.a.createElement(em.a,null))},i.a.createElement("div",{className:"wgsa-upload-progress pw-upload-page"},i.a.createElement(Xw,{when:l,message:'\n          Your upload is not complete.\n          Return to "Previous Uploads" to resume this session at a later date.\n        '}),i.a.createElement("div",null,i.a.createElement("div",{className:"wgsa-section-divider"},l?i.a.createElement(mC,{pending:e.pending,uploadsInProgress:s}):i.a.createElement(_C,{completedUploads:e.completed})),o&&i.a.createElement("div",{className:"wgsa-section-divider"},i.a.createElement(wC,null))),i.a.createElement("div",{className:"wgsa-section-divider wgsa-flex-section"},i.a.createElement(Z.a,{className:"pw-expand"},r?i.a.createElement(uC,{key:"errors"}):i.a.createElement(nC,{key:"analysis",uploadedAt:a}))))))),xC=n(274);var kC=Object(_.a)((function(e){const t=CC(e);return{numProblems:t,visible:!Object(Jw.h)(e)&&t>0}}),(function(e){return{onClick:()=>e(Object(xC.b)())}}))(({visible:e,numProblems:t,onClick:n})=>i.a.createElement(Z.a,null,e&&i.a.createElement("button",{className:"pw-pill pw-pill-danger pw-uppercase",onClick:n},t," problem",1===t?"":"s")));const OC=i.a.createClass({displayName:"Component",getTitle(){const{summary:e}=this.props;return[e.total?`(${e.completed}/${e.total})`:"","Upload"].join(" ")},render(){const{uploadedAt:e,isUploading:t}=this.props;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Xv.a,null,this.getTitle()),i.a.createElement(Mw,null,!t&&i.a.createElement("a",{className:"mdl-button",onClick:()=>window.history.back()},i.a.createElement("i",{className:"material-icons"},"arrow_back")," Go back"),i.a.createElement("div",{className:"pw-upload-summary-column"},i.a.createElement(kC,null),i.a.createElement("p",{className:"pw-upload-session-time"},Object(Cb.b)(e)))))}});var TC=Object(_.a)((function(e){return{summary:lC.f(e),isUploading:lC.l(e)}}))(OC),MC=(n(1136),n(206)),PC=n(62);const LC=Fw();var NC=Object(_.a)((function(e){return{numSuccessful:Object(lC.d)(e),remainingFiles:Object(MC.c)(e)}}),(function(e,{session:t}){return{onFiles:n=>e(function(e,t=[]){return(n,r)=>{const o=r(),i=Object(fw.a)(o),a=Object(MC.b)(o),s=new Set(Object.keys(a)),l=e.filter(e=>s.has(e.name));0!==l.length?zw(l,i).then(e=>{for(const n of e){let e;if(n.files)for(const t of n.files)s.delete(t.name),e=e||a[t.name];if(e){n.id=e;const r=t.find(t=>t.genomeId===e);r&&(n.recovery=r.files)}}s.size>0?n({type:"UPLOAD_ERROR_MESSAGE",payload:{type:"MISSING_FILES",data:Array.from(s)}}):(n({type:sw.a.SUCCESS,payload:{genomes:e}}),n(Object(PC.e)()))}).catch(e=>{n({type:"UPLOAD_ERROR_MESSAGE",payload:e.message})}):n({type:"UPLOAD_ERROR_MESSAGE",payload:"No matching files for this session, please try again."})}}(n,t))}}))(({onFiles:e,numSuccessful:t,remainingFiles:n})=>i.a.createElement(dw,{onFiles:e,readsEligible:LC,accept:Bw(LC)},i.a.createElement("section",{className:"pw-upload-page pw-upload-recovery"},i.a.createElement("h1",null,"Recover this session."),t>0&&i.a.createElement("p",{className:"pw-with-icon success"},i.a.createElement("i",{className:"material-icons"},"check_circle"),t," genome",1===t?"":"s"," uploaded successfully"),i.a.createElement("p",null,"Please drag and drop these files to continue:"),i.a.createElement("ul",{className:"pw-upload-recovery-files"},n.map(e=>i.a.createElement("li",{key:e[0]},i.a.createElement("span",{className:"wgsa-file-icon"},i.a.createElement("i",{className:"material-icons"},1===e.length?"insert_drive_file":"file_copy")),i.a.createElement("ul",null,e.map(e=>i.a.createElement("li",{key:e},e)))))))));var AC=Object(_.a)((function(e){return{token:e.auth.token}}))(({uploadedAt:e,token:t})=>{Sw(),ww(t);const[n,r]=((e,t)=>{const[n,r]=i.a.useState(null),[o,a]=i.a.useState(null);return i.a.useEffect(()=>{t&&Object(aC.b)(e,t).then(e=>r(e.progress)).catch(e=>{"NOT_FOUND"===e.type?a({message:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"We couldn't find the details of this upload session."),i.a.createElement("p",null,"If the problem persists, you may need to start a new upload."))}):a(e)})},[e,t]),[n,o]})(e,t);return i.a.createElement(Gw.a,{complete:n||r,placeholder:i.a.createElement("section",{className:"pw-upload-page pw-centre-text"},i.a.createElement(em.a,null))},r?i.a.createElement("section",{key:"error",className:"pw-upload-page"},i.a.createElement("h1",null,"Sorry, there's a problem."),"string"==typeof r.message?i.a.createElement("p",null,r.message):r.message):i.a.createElement(NC,{key:"loaded",session:n}))});var IC=Object(_.a)((function(e){return{sessionHasReads:Object(gC.f)(e)}}))(({uploadedAt:e,sessionHasReads:t})=>Fw()&&t?i.a.createElement(AC,{uploadedAt:e}):i.a.createElement(NC,null)),RC=n(83);const DC=i.a.createClass({displayName:"Component",componentWillMount(){const{isUploading:e,startUpload:t,fetch:n}=this.props;e?t():n()},componentDidUpdate(e){const t=e.isUploading&&!this.props.isUploading,n=!1===e.isSpecieationComplete&&this.props.isSpecieationComplete;(t||n)&&this.props.fetch()},componentWillUnmount(){this.props.reset()},renderContent(){const{match:e,uploadedAt:t}=this.props;if(e.params.uploadedAt!==t)return null;switch(this.props.view){case Nw.b.RECOVERY:return i.a.createElement(IC,{uploadedAt:t});case Nw.b.PROGRESS:return i.a.createElement(EC,{uploadedAt:t});default:return null}},render(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(TC,{uploadedAt:this.props.uploadedAt}),this.renderContent())}});var jC=Object(_.a)((function(e){return{uploadedAt:Object(Jw.d)(e),isUploading:Object(lC.k)(e),isSpecieationComplete:Object(Jw.i)(e),view:Object(Jw.c)(e)}}),(function(e,{match:t}){const{uploadedAt:n}=t.params;return{fetch:()=>e(Object(RC.c)(n)),startUpload:()=>e(Object(PC.e)()),reset:()=>e(Object(RC.d)())}}))(DC);const zC=Object(_.a)((function(e){return{uploading:Object(lC.l)(e),uploadedAt:Object(Jw.d)(e)}}))(({uploading:e,uploadedAt:t,match:n})=>n.isExact&&e?i.a.createElement(g_.a,{to:`/upload/${t}`}):i.a.createElement("div",{className:"wgsa-hipster-style"},i.a.createElement(I,null,i.a.createElement(v.a,{path:"/upload/previous",component:qw}),i.a.createElement(v.a,{path:"/upload/:uploadedAt",component:jC}),i.a.createElement(v.a,{component:Uw})),i.a.createElement(cw,null)));var FC=i.a.createElement(b_,{authMessage:"Please sign in to upload genomes.",path:"/upload",component:zC}),BC=Object(_.a)()(i.a.createClass({goBack(e){window.history&&(e.preventDefault(),window.history.back())},render(){return i.a.createElement("div",{className:"mdl-layout wgsa-loading-container wgsa-not-found"},i.a.createElement("div",{className:"wgsa-loading-content"},i.a.createElement("a",{href:"/"},i.a.createElement(U.c,{className:"wgsa-loading-logo"})),i.a.createElement("h1",null,"These aren't the bacteria you're looking for."),i.a.createElement("p",null,"(This page could not be found)"),i.a.createElement("a",{className:"mdl-button",onClick:this.goBack,href:"#"},"Go back")))}}));const WC=({from:e,to:t})=>i.a.createElement(v.a,{exact:!0,path:e,render:({location:e})=>i.a.createElement(g_.a,{to:`${t}${e.search}`})}),HC=({from:e,to:t})=>i.a.createElement(v.a,{exact:!0,path:e,render:()=>{window&&window.location&&(window.location=t)}});var UC=()=>i.a.createElement(I,null,B_,cy,f_,Ly,d_,Y_,B.a,q_.a,q_.c,iw,FC,i.a.createElement(HC,{from:"/documentation",to:"https://cgps.gitbook.io/pathogenwatch/"}),i.a.createElement(g_.a,{from:"/index.html",to:"/"}),i.a.createElement(g_.a,{from:"/collections/*",to:"/collections/all"}),i.a.createElement(WC,{from:"/collections",to:"/collections/all"}),",",i.a.createElement(g_.a,{from:"/genomes/*",to:"/genomes/all"}),i.a.createElement(WC,{from:"/genomes",to:"/genomes/all"}),i.a.createElement(g_.a,{from:"/:organism/upload",to:"/upload"}),q_.b,i.a.createElement(v.a,{exact:!0,path:"/:organism/collection/:token",render:({match:e})=>{const t={pathname:`/collection/${e.params.token}`,state:{organism:e.params.organism}};return i.a.createElement(g_.a,{to:t})}}),i.a.createElement(v.a,{path:"/",component:BC})),GC=(n(1138),n(213));const VC=({appName:e="Microreact",visible:t=!0,policyLink:n,onAccept:r,className:o})=>i.a.createElement(GC.a,{visible:t,transitionAppear:!0,removeOnLeave:!0,motionName:"libmr"},t=>i.a.createElement("aside",{className:C()("libmr-CookieConsent",o,t.className)},i.a.createElement("div",{className:"libmr-CookieConsent-message"},i.a.createElement("h2",null,"We use cookies to give you the best online experience."),i.a.createElement("p",null,"By using ",e,", you agree to our use of cookies in accordance with our cookie policy."),i.a.createElement("div",{className:"libmr-CookieConsent-actions"},n,i.a.createElement("button",{onClick:r},"Accept")))));VC.propTypes={appName:d.a.string,className:d.a.string,onAccept:d.a.func,policyLink:d.a.node,visible:d.a.bool};var YC=VC;const qC="cookie-consent-given";var ZC=i.a.createClass({displayName:"Cookies",getInitialState:()=>({checked:!1,consented:!1}),componentWillMount(){localforage.getItem(qC).then(e=>{this.setState({checked:!0,consented:e})})},onAccept(){localforage.setItem(qC,!0).then(()=>this.setState({consented:!0}))},render(){return this.state.checked?i.a.createElement(YC,{visible:!this.state.consented,onAccept:this.onAccept,appName:"Pathogenwatch",theme:"purple",policyLink:i.a.createElement("a",{target:"_blank",rel:"noopener",href:"https://cgps.gitbook.io/pathogenwatch/privacy-and-tos",className:"mdl-button"},"Read our policy")}):null}});n(1140);function $C({user:e}){return e?i.a.createElement(R.a,{className:"cgps-avatar cgps-avatar--top wgsa-account-header",to:"/account"},i.a.createElement(I_,null),i.a.createElement("div",{className:"cgps-avatar__name",title:e.name},e.name),i.a.createElement("div",{className:"cgps-avatar__contact",title:e.email},e.email)):i.a.createElement("div",{className:"cgps-avatar cgps-avatar--top wgsa-account-header"},i.a.createElement(I_,null),i.a.createElement("div",{className:"cgps-avatar__name"},i.a.createElement(U.d,null)),i.a.createElement("div",{className:"cgps-avatar__contact",title:"Browsing anonymously"},"Browsing anonymously"))}var KC=n(236);const{user:XC}=Dd.a,QC=i.a.createClass({displayName:"UserDrawer",propTypes:{visible:i.a.PropTypes.bool,closeMenu:i.a.PropTypes.func},componentDidMount(){window.addEventListener("keyup",this.handleEscKey)},componentDidUpdate(e){e.location!==this.props.location&&this.props.visible&&this.props.closeMenu()},componentWillUnmount(){window.removeEventListener("keyup",this.handleEscKey)},handleEscKey(e){27===e.keyCode&&this.props.visible&&this.props.closeMenu()},handleSignOut(e){e.preventDefault(),Object(x.e)().then(()=>{window.location.pathname="/signout"})},render(){const{summary:e}=this.props,{allCollections:t,allGenomes:n,binnedGenomes:r,userCollections:o,userGenomes:a,offlineCollections:s=0,binnedCollections:l,numOrganisms:c}=e;return i.a.createElement("div",{className:C()("mdl-layout__obfuscator",{"is-visible":this.props.visible}),onClick:this.props.closeMenu,onKeyUp:this.handleEscKey},i.a.createElement("div",{className:C()("mdl-layout__drawer",{"is-visible":this.props.visible}),onClick:e=>e.stopPropagation()},i.a.createElement("div",{className:"wgsa-drawer-content"},i.a.createElement("span",{className:"mdl-layout-title"},i.a.createElement($C,{user:XC}),i.a.createElement(U.b,null),Dd.a.version&&i.a.createElement("a",{href:`https://cgps.gitbook.io/pathogenwatch/release-notes/#${Dd.a.version}`,target:"_blank",rel:"noopener",className:"wgsa-version"},Dd.a.version)),i.a.createElement("nav",{className:"mdl-navigation"},XC?i.a.createElement(F.d,{to:"/account",icon:"account_circle"},"My Account"):i.a.createElement(F.d,{to:"/sign-in",icon:"verified_user"},"Sign In")),i.a.createElement("hr",null),i.a.createElement("nav",{className:"mdl-navigation"},i.a.createElement("h2",{className:"wgsa-navigation-header"},"Genomes"),i.a.createElement(F.d,{to:"/genomes/all",badge:n,icon:i.a.createElement(KC.a,null)},XC?"All":"Public"," Genomes"),XC&&i.a.createElement(F.d,{to:"/genomes/user",badge:a,icon:"person"},"My Genomes"),XC&&i.a.createElement(F.d,{to:"/genomes/bin",badge:r,icon:"delete"},"Bin"),i.a.createElement(F.d,{to:"/upload",icon:"cloud_upload"},"Upload")),i.a.createElement("hr",null),i.a.createElement("nav",{className:"mdl-navigation"},i.a.createElement("h2",{className:"wgsa-navigation-header"},"Collections"),i.a.createElement(F.d,{to:"/collections/all",badge:t,icon:"collections"},XC?"All":"Public"," Collections"),XC&&i.a.createElement(F.d,{to:"/collections/user",badge:o,icon:"person"},"My Collections"),i.a.createElement(F.d,{to:"/offline",badge:s,icon:"signal_wifi_off"},"Offline Collections"),XC&&i.a.createElement(F.d,{to:"/collections/bin",badge:l,icon:"delete"},"Bin")),i.a.createElement("hr",null),i.a.createElement("nav",{className:"mdl-navigation"},i.a.createElement(F.d,{to:"https://cgps.gitbook.io/pathogenwatch",external:!0,icon:"help"},"Documentation"),i.a.createElement(F.d,{to:"https://gitlab.com/cgps/pathogenwatch/roadmap",external:!0,icon:"feedback"},"Feedback")),XC&&i.a.createElement("nav",{className:"mdl-navigation"},i.a.createElement("a",{href:"/signout",className:"mdl-navigation__link",onClick:this.handleSignOut},i.a.createElement("i",{className:"material-icons"},"exit_to_app"),i.a.createElement("span",null,"Sign Out"))),i.a.createElement("footer",{className:"wgsa-menu-footer"},i.a.createElement("a",{className:"cgps-logo",target:"_blank",rel:"noopener",href:"http://www.pathogensurveillance.net"},i.a.createElement("img",{src:"/images/cgps-short.svg"})),i.a.createElement("a",{className:"contact-email",href:"mailto:pathogenwatch@cgps.group"},"pathogenwatch@cgps.group")))))}});var JC=Object(_.a)((function(e){return{summary:Object(R_.b)(e),location:e.location}}),(function(e){return{closeMenu:()=>e(Object(D.c)(!1))}}))(QC);function eS(){return e=>{localforage.getItem("cookie-consent-given").then(t=>{t||e(Object(S.c)({message:i.a.createElement("span",null,"🍪 This website uses cookies for a better browsing experience."),action:{label:i.a.createElement("span",null,"That's OK"),onClick:()=>function(e){localforage.setItem("cookie-consent-given",!0).then(()=>e(Object(S.b)()))}(e)},closeButton:!1,autohide:!1}))})}}var tS=Object(_.a)((function({location:e,header:t}){return{pageSlug:e.slug,userDrawerVisible:t.userDrawerVisible}}),(function(e,{location:t}){return{onLocationChange:()=>e(Object(F.e)(t)),fetchSummary:()=>e(Object(D_.b)()),showIntroToast:()=>e(eS())}}))(i.a.createClass({displayName:"App",propTypes:{children:i.a.PropTypes.element},componentDidMount(){componentHandler.upgradeDom(),this.menuButton=document.querySelector(".mdl-layout__drawer-button"),this.onLocationChange(),this.props.fetchSummary()},componentDidUpdate(e){this.props.location!==e.location&&this.onLocationChange()},onLocationChange(){const{location:e,history:t}=this.props;navigator.onLine||/^\/(offline|collection\/)/.test(e.pathname)?this.props.onLocationChange():"/offline"!==e.pathname&&t.replace("/offline")},componentDidCatch(e){console.log(e)},render(){const{pageSlug:e,userDrawerVisible:t}=this.props;return i.a.createElement("div",{className:"mdl-layout__container"},i.a.createElement("div",{ref:"layout",className:C()("mdl-layout",`wgsa-page--${e}`,{"user-drawer-visible":t})},i.a.createElement(m_,null),i.a.createElement("main",{className:"mdl-layout__content"},i.a.createElement(UC,null)),i.a.createElement(JC,{visible:t}),i.a.createElement(S.a,null),i.a.createElement(E.a,null),i.a.createElement(T,null),i.a.createElement(ZC,null)))}}));n.d(t,"b",(function(){return nS}));const nS=b()();t.a=()=>i.a.createElement(g,{history:nS},i.a.createElement(v.a,{component:tS}))},,,,,,,,,,,,,function(e,t,n){(function(e){e.exports=function(){"use strict";var t;function n(){return t.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)c(t,n)&&(e[n]=t[n]);return c(t,"toString")&&(e.toString=t.toString),c(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return _t(e,t,n,r,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}var p=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function f(e){if(null==e._isValid){var t=h(e),n=p.call(t.parsedDateParts,(function(e){return null!=e})),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function m(e){var t=d(NaN);return null!=e?u(h(t),e):h(t).userInvalidated=!0,t}var g=n.momentProperties=[];function v(e,t){var n,r,o;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=h(t)),i(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)i(o=t[r=g[n]])||(e[r]=o);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,n.updateOffset(this),y=!1)}function _(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function S(e,t,n){var r,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(r=0;r<o;r++)(n&&e[r]!==t[r]||!n&&C(e[r])!==C(t[r]))&&a++;return a+i}function E(e){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var r=!0;return u((function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,e),r){for(var o,i=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];i.push(o)}E(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var k={};function O(e,t){null!=n.deprecationHandler&&n.deprecationHandler(e,t),k[e]||(E(t),k[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e,t){var n,r=u({},e);for(n in t)c(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},u(r[n],e[n]),u(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)c(e,n)&&!c(t,n)&&o(e[n])&&(r[n]=u({},r[n]));return r}function P(e){null!=e&&this.set(e)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null;var L=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)c(e,t)&&n.push(t);return n},N={};function A(e,t){var n=e.toLowerCase();N[n]=N[n+"s"]=N[t]=e}function I(e){return"string"==typeof e?N[e]||N[e.toLowerCase()]:void 0}function R(e){var t,n,r={};for(n in e)c(e,n)&&(t=I(n))&&(r[t]=e[n]);return r}var D={};function j(e,t){D[e]=t}function z(e,t){return function(r){return null!=r?(B(this,e,r),n.updateOffset(this,t),this):F(this,e)}}function F(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function B(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function W(e,t,n){var r=""+Math.abs(e),o=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,G={},V={};function Y(e,t,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),e&&(V[e]=o),t&&(V[t[0]]=function(){return W(o.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function q(e,t){return e.isValid()?(t=Z(t,e.localeData()),G[t]=G[t]||function(e){var t,n,r,o=e.match(H);for(t=0,n=o.length;t<n;t++)V[o[t]]?o[t]=V[o[t]]:o[t]=(r=o[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=T(o[r])?o[r].call(t,e):o[r];return i}}(t),G[t](e)):e.localeData().invalidDate()}function Z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var $=/\d/,K=/\d\d/,X=/\d{3}/,Q=/\d{4}/,J=/[+-]?\d{6}/,ee=/\d\d?/,te=/\d\d\d\d?/,ne=/\d\d\d\d\d\d?/,re=/\d{1,3}/,oe=/\d{1,4}/,ie=/[+-]?\d{1,6}/,ae=/\d+/,se=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,ce=/Z|[+-]\d\d(?::?\d\d)?/gi,ue=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,de={};function he(e,t,n){de[e]=T(t)?t:function(e,r){return e&&n?n:t}}function pe(e,t){return c(de,e)?de[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,o){return t||n||r||o}))))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var me={};function ge(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),a(t)&&(r=function(e,n){n[t]=C(e)}),n=0;n<e.length;n++)me[e[n]]=r}function ve(e,t){ge(e,(function(e,n,r,o){r._w=r._w||{},t(e,r._w,r,o)}))}function ye(e,t,n){null!=t&&c(me,e)&&me[e](t,n._a,n,e)}var be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function _e(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}Y("M",["MM",2],"Mo",(function(){return this.month()+1})),Y("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),Y("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),A("month","M"),j("month",8),he("M",ee),he("MM",ee,K),he("MMM",(function(e,t){return t.monthsShortRegex(e)})),he("MMMM",(function(e,t){return t.monthsRegex(e)})),ge(["M","MM"],(function(e,t){t[1]=C(e)-1})),ge(["MMM","MMMM"],(function(e,t,n,r){var o=n._locale.monthsParse(e,r,n._strict);null!=o?t[1]=o:h(n).invalidMonth=e}));var we=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Se="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ee(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,a))?o:null:-1!==(o=be.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=be.call(this._shortMonthsParse,a))?o:-1!==(o=be.call(this._longMonthsParse,a))?o:null:-1!==(o=be.call(this._longMonthsParse,a))?o:-1!==(o=be.call(this._shortMonthsParse,a))?o:null}function xe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if(!a(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),_e(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ke(e){return null!=e?(xe(this,e),n.updateOffset(this,!0),this):F(this,"Month")}var Oe=ue,Te=ue;function Me(){function e(e,t){return t.length-e.length}var t,n,r=[],o=[],i=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),o.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),o[t]=fe(o[t]);for(t=0;t<24;t++)i[t]=fe(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Pe(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}Y("Y",0,0,(function(){var e=this.year();return e<=9999?""+e:"+"+e})),Y(0,["YY",2],0,(function(){return this.year()%100})),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),A("year","y"),j("year",1),he("Y",se),he("YY",ee,K),he("YYYY",oe,Q),he("YYYYY",ie,J),he("YYYYYY",ie,J),ge(["YYYYY","YYYYYY"],0),ge("YYYY",(function(e,t){t[0]=2===e.length?n.parseTwoDigitYear(e):C(e)})),ge("YY",(function(e,t){t[0]=n.parseTwoDigitYear(e)})),ge("Y",(function(e,t){t[0]=parseInt(e,10)})),n.parseTwoDigitYear=function(e){return C(e)+(C(e)>68?1900:2e3)};var Ne=z("FullYear",!0);function Ae(e,t,n,r,o,i,a){var s=new Date(e,t,n,r,o,i,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}function Ie(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Re(e,t,n){var r=7+t-n;return-(7+Ie(e,0,r).getUTCDay()-t)%7+r-1}function De(e,t,n,r,o){var i,a,s=1+7*(t-1)+(7+n-r)%7+Re(e,r,o);return s<=0?a=Pe(i=e-1)+s:s>Pe(e)?(i=e+1,a=s-Pe(e)):(i=e,a=s),{year:i,dayOfYear:a}}function je(e,t,n){var r,o,i=Re(e.year(),t,n),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?r=a+ze(o=e.year()-1,t,n):a>ze(e.year(),t,n)?(r=a-ze(e.year(),t,n),o=e.year()+1):(o=e.year(),r=a),{week:r,year:o}}function ze(e,t,n){var r=Re(e,t,n),o=Re(e+1,t,n);return(Pe(e)-r+o)/7}Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),j("week",5),j("isoWeek",5),he("w",ee),he("ww",ee,K),he("W",ee),he("WW",ee,K),ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=C(e)})),Y("d",0,"do","day"),Y("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),Y("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),Y("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),j("day",11),j("weekday",11),j("isoWeekday",11),he("d",ee),he("e",ee),he("E",ee),he("dd",(function(e,t){return t.weekdaysMinRegex(e)})),he("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),he("dddd",(function(e,t){return t.weekdaysRegex(e)})),ve(["dd","ddd","dddd"],(function(e,t,n,r){var o=n._locale.weekdaysParse(e,r,n._strict);null!=o?t.d=o:h(n).invalidWeekday=e})),ve(["d","e","E"],(function(e,t,n,r){t[r]=C(e)}));var Fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Be="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),We="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function He(e,t,n){var r,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(o=be.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=be.call(this._weekdaysParse,a))?o:-1!==(o=be.call(this._shortWeekdaysParse,a))?o:-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=be.call(this._shortWeekdaysParse,a))?o:-1!==(o=be.call(this._weekdaysParse,a))?o:-1!==(o=be.call(this._minWeekdaysParse,a))?o:null:-1!==(o=be.call(this._minWeekdaysParse,a))?o:-1!==(o=be.call(this._weekdaysParse,a))?o:-1!==(o=be.call(this._shortWeekdaysParse,a))?o:null}var Ue=ue,Ge=ue,Ve=ue;function Ye(){function e(e,t){return t.length-e.length}var t,n,r,o,i,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),i=this.weekdays(n,""),a.push(r),s.push(o),l.push(i),c.push(r),c.push(o),c.push(i);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),l[t]=fe(l[t]),c[t]=fe(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function qe(){return this.hours()%12||12}function Ze(e,t){Y(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function $e(e,t){return t._meridiemParse}Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,qe),Y("k",["kk",2],0,(function(){return this.hours()||24})),Y("hmm",0,0,(function(){return""+qe.apply(this)+W(this.minutes(),2)})),Y("hmmss",0,0,(function(){return""+qe.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)})),Y("Hmm",0,0,(function(){return""+this.hours()+W(this.minutes(),2)})),Y("Hmmss",0,0,(function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)})),Ze("a",!0),Ze("A",!1),A("hour","h"),j("hour",13),he("a",$e),he("A",$e),he("H",ee),he("h",ee),he("k",ee),he("HH",ee,K),he("hh",ee,K),he("kk",ee,K),he("hmm",te),he("hmmss",ne),he("Hmm",te),he("Hmmss",ne),ge(["H","HH"],3),ge(["k","kk"],(function(e,t,n){var r=C(e);t[3]=24===r?0:r})),ge(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),ge(["h","hh"],(function(e,t,n){t[3]=C(e),h(n).bigHour=!0})),ge("hmm",(function(e,t,n){var r=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r)),h(n).bigHour=!0})),ge("hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r,2)),t[5]=C(e.substr(o)),h(n).bigHour=!0})),ge("Hmm",(function(e,t,n){var r=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r))})),ge("Hmmss",(function(e,t,n){var r=e.length-4,o=e.length-2;t[3]=C(e.substr(0,r)),t[4]=C(e.substr(r,2)),t[5]=C(e.substr(o))}));var Ke,Xe=z("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Se,week:{dow:0,doy:6},weekdays:Fe,weekdaysMin:We,weekdaysShort:Be,meridiemParse:/[ap]\.?m?\.?/i},Je={},et={};function tt(e){return e?e.toLowerCase().replace("_","-"):e}function nt(t){var n=null;if(!Je[t]&&void 0!==e&&e&&e.exports)try{n=Ke._abbr,function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),rt(n)}catch(e){}return Je[t]}function rt(e,t){var n;return e&&(n=i(t)?it(e):ot(e,t))&&(Ke=n),Ke._abbr}function ot(e,t){if(null!==t){var n=Qe;if(t.abbr=e,null!=Je[e])O("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Je[e]._config;else if(null!=t.parentLocale){if(null==Je[t.parentLocale])return et[t.parentLocale]||(et[t.parentLocale]=[]),et[t.parentLocale].push({name:e,config:t}),null;n=Je[t.parentLocale]._config}return Je[e]=new P(M(n,t)),et[e]&&et[e].forEach((function(e){ot(e.name,e.config)})),rt(e),Je[e]}return delete Je[e],null}function it(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ke;if(!r(e)){if(t=nt(e))return t;e=[e]}return function(e){for(var t,n,r,o,i=0;i<e.length;){for(t=(o=tt(e[i]).split("-")).length,n=(n=tt(e[i+1]))?n.split("-"):null;t>0;){if(r=nt(o.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(o,n,!0)>=t-1)break;t--}i++}return null}(e)}function at(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[1]<0||n[1]>11?1:n[2]<1||n[2]>_e(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,h(e)._overflowDayOfYear&&(t<0||t>2)&&(t=2),h(e)._overflowWeeks&&-1===t&&(t=7),h(e)._overflowWeekday&&-1===t&&(t=8),h(e).overflow=t),e}var st=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,lt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ct=/Z|[+-]\d\d(?::?\d\d)?/,ut=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],dt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ht=/^\/?Date\((\-?\d+)/i;function pt(e){var t,n,r,o,i,a,s=e._i,l=st.exec(s)||lt.exec(s);if(l){for(h(e).iso=!0,t=0,n=ut.length;t<n;t++)if(ut[t][1].exec(l[1])){o=ut[t][0],r=!1!==ut[t][2];break}if(null==o)return void(e._isValid=!1);if(l[3]){for(t=0,n=dt.length;t<n;t++)if(dt[t][1].exec(l[3])){i=(l[2]||" ")+dt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(l[4]){if(!ct.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),yt(e)}else e._isValid=!1}var ft=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function mt(e){var t,n,r,o,i,a,s,l={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(t=e._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),n=ft.exec(t)){if(r=n[1]?"ddd"+(5===n[1].length?", ":" "):"",o="D MMM "+(n[2].length>10?"YYYY ":"YY "),i="HH:mm"+(n[4]?":ss":""),n[1]){var c=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(n[2]).getDay()];if(n[1].substr(0,3)!==c)return h(e).weekdayMismatch=!0,void(e._isValid=!1)}switch(n[5].length){case 2:a=0===s?" +0000":((s="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(n[5][1].toUpperCase())-12)<0?" -":" +")+(""+s).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:a=l[n[5]];break;default:a=l[" GMT"]}n[5]=a,e._i=n.splice(1).join(""),e._f=r+o+i+" ZZ",yt(e),h(e).rfc2822=!0}else e._isValid=!1}function gt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,r,o,i,a=[];if(!e._d){for(o=function(e){var t=new Date(n.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[2]&&null==e._a[1]&&function(e){var t,n,r,o,i,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,a=4,n=gt(t.GG,e._a[0],je(wt(),1,4).year),r=gt(t.W,1),((o=gt(t.E,1))<1||o>7)&&(l=!0);else{i=e._locale._week.dow,a=e._locale._week.doy;var c=je(wt(),i,a);n=gt(t.gg,e._a[0],c.year),r=gt(t.w,c.week),null!=t.d?((o=t.d)<0||o>6)&&(l=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(l=!0)):o=i}r<1||r>ze(n,i,a)?h(e)._overflowWeeks=!0:null!=l?h(e)._overflowWeekday=!0:(s=De(n,r,o,i,a),e._a[0]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(i=gt(e._a[0],o[0]),(e._dayOfYear>Pe(i)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),r=Ie(i,0,e._dayOfYear),e._a[1]=r.getUTCMonth(),e._a[2]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=o[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[3]&&0===e._a[4]&&0===e._a[5]&&0===e._a[6]&&(e._nextDay=!0,e._a[3]=0),e._d=(e._useUTC?Ie:Ae).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[3]=24)}}function yt(e){if(e._f!==n.ISO_8601)if(e._f!==n.RFC_2822){e._a=[],h(e).empty=!0;var t,r,o,i,a,s=""+e._i,l=s.length,c=0;for(o=Z(e._f,e._locale).match(H)||[],t=0;t<o.length;t++)i=o[t],(r=(s.match(pe(i,e))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&h(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),V[i]?(r?h(e).empty=!1:h(e).unusedTokens.push(i),ye(i,r,e)):e._strict&&!r&&h(e).unusedTokens.push(i);h(e).charsLeftOver=l-c,s.length>0&&h(e).unusedInput.push(s),e._a[3]<=12&&!0===h(e).bigHour&&e._a[3]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[3]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[3],e._meridiem),vt(e),at(e)}else mt(e);else pt(e)}function bt(e){var t=e._i,c=e._f;return e._locale=e._locale||it(e._l),null===t||void 0===c&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),_(t)?new b(at(t)):(s(t)?e._d=t:r(c)?function(e){var t,n,r,o,i;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<e._f.length;o++)i=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],yt(t),f(t)&&(i+=h(t).charsLeftOver,i+=10*h(t).unusedTokens.length,h(t).score=i,(null==r||i<r)&&(r=i,n=t));u(e,n||t)}(e):c?yt(e):function(e){var t=e._i;i(t)?e._d=new Date(n.now()):s(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=ht.exec(e._i);null===t?(pt(e),!1===e._isValid&&(delete e._isValid,mt(e),!1===e._isValid&&(delete e._isValid,n.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=l(t.slice(0),(function(e){return parseInt(e,10)})),vt(e)):o(t)?function(e){if(!e._d){var t=R(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),vt(e)}}(e):a(t)?e._d=new Date(t):n.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function _t(e,t,n,i,a){var s,l={};return!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||r(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=e,l._f=t,l._strict=i,(s=new b(at(bt(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function wt(e,t,n,r){return _t(e,t,n,r,!1)}n.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ct=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),St=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=wt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Et(e,t){var n,o;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return wt();for(n=t[0],o=1;o<t.length;++o)t[o].isValid()&&!t[o][e](n)||(n=t[o]);return n}var xt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function kt(e){var t=R(e),n=t.year||0,r=t.quarter||0,o=t.month||0,i=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===xt.indexOf(t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<xt.length;++r)if(e[xt[r]]){if(n)return!1;parseFloat(e[xt[r]])!==C(e[xt[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=it(),this._bubble()}function Ot(e){return e instanceof kt}function Tt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Mt(e,t){Y(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+W(~~(e/60),2)+t+W(~~e%60,2)}))}Mt("Z",":"),Mt("ZZ",""),he("Z",ce),he("ZZ",ce),ge(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=Lt(ce,e)}));var Pt=/([\+\-]|\d\d)/gi;function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Pt)||["-",0,0],o=60*r[1]+C(r[2]);return 0===o?0:"+"===r[0]?o:-o}function Nt(e,t){var r,o;return t._isUTC?(r=t.clone(),o=(_(e)||s(e)?e.valueOf():wt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+o),n.updateOffset(r,!1),r):wt(e).local()}function At(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var Rt=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Dt=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function jt(e,t){var n,r,o,i,s,l,u=e,d=null;return Ot(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(u={},t?u[t]=e:u.milliseconds=e):(d=Rt.exec(e))?(n="-"===d[1]?-1:1,u={y:0,d:C(d[2])*n,h:C(d[3])*n,m:C(d[4])*n,s:C(d[5])*n,ms:C(Tt(1e3*d[6]))*n}):(d=Dt.exec(e))?(n="-"===d[1]?-1:1,u={y:zt(d[2],n),M:zt(d[3],n),w:zt(d[4],n),d:zt(d[5],n),h:zt(d[6],n),m:zt(d[7],n),s:zt(d[8],n)}):null==u?u={}:"object"==typeof u&&("from"in u||"to"in u)&&(i=wt(u.from),s=wt(u.to),o=i.isValid()&&s.isValid()?(s=Nt(s,i),i.isBefore(s)?l=Ft(i,s):((l=Ft(s,i)).milliseconds=-l.milliseconds,l.months=-l.months),l):{milliseconds:0,months:0},(u={}).ms=o.milliseconds,u.M=o.months),r=new kt(u),Ot(e)&&c(e,"_locale")&&(r._locale=e._locale),r}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ft(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Bt(e,t){return function(n,r){var o;return null===r||isNaN(+r)||(O(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),Wt(this,jt(n="string"==typeof n?+n:n,r),e),this}}function Wt(e,t,r,o){var i=t._milliseconds,a=Tt(t._days),s=Tt(t._months);e.isValid()&&(o=null==o||o,i&&e._d.setTime(e._d.valueOf()+i*r),a&&B(e,"Date",F(e,"Date")+a*r),s&&xe(e,F(e,"Month")+s*r),o&&n.updateOffset(e,a||s))}jt.fn=kt.prototype,jt.invalid=function(){return jt(NaN)};var Ht=Bt(1,"add"),Ut=Bt(-1,"subtract");function Gt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=it(e))&&(this._locale=t),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Vt=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function Yt(){return this._locale}function qt(e,t){Y(0,[e,e.length],0,t)}function Zt(e,t,n,r,o){var i;return null==e?je(this,r,o).year:(t>(i=ze(e,r,o))&&(t=i),$t.call(this,e,t,n,r,o))}function $t(e,t,n,r,o){var i=De(e,t,n,r,o),a=Ie(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Y(0,["gg",2],0,(function(){return this.weekYear()%100})),Y(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qt("gggg","weekYear"),qt("ggggg","weekYear"),qt("GGGG","isoWeekYear"),qt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),j("weekYear",1),j("isoWeekYear",1),he("G",se),he("g",se),he("GG",ee,K),he("gg",ee,K),he("GGGG",oe,Q),he("gggg",oe,Q),he("GGGGG",ie,J),he("ggggg",ie,J),ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=C(e)})),ve(["gg","GG"],(function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)})),Y("Q",0,"Qo","quarter"),A("quarter","Q"),j("quarter",7),he("Q",$),ge("Q",(function(e,t){t[1]=3*(C(e)-1)})),Y("D",["DD",2],"Do","date"),A("date","D"),j("date",9),he("D",ee),he("DD",ee,K),he("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ge(["D","DD"],2),ge("Do",(function(e,t){t[2]=C(e.match(ee)[0])}));var Kt=z("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),j("dayOfYear",4),he("DDD",re),he("DDDD",X),ge(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=C(e)})),Y("m",["mm",2],0,"minute"),A("minute","m"),j("minute",14),he("m",ee),he("mm",ee,K),ge(["m","mm"],4);var Xt=z("Minutes",!1);Y("s",["ss",2],0,"second"),A("second","s"),j("second",15),he("s",ee),he("ss",ee,K),ge(["s","ss"],5);var Qt,Jt=z("Seconds",!1);for(Y("S",0,0,(function(){return~~(this.millisecond()/100)})),Y(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),Y(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),Y(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),Y(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),Y(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),Y(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),A("millisecond","ms"),j("millisecond",16),he("S",re,$),he("SS",re,K),he("SSS",re,X),Qt="SSSS";Qt.length<=9;Qt+="S")he(Qt,ae);function en(e,t){t[6]=C(1e3*("0."+e))}for(Qt="S";Qt.length<=9;Qt+="S")ge(Qt,en);var tn=z("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var nn=b.prototype;function rn(e){return e}nn.add=Ht,nn.calendar=function(e,t){var r=e||wt(),o=Nt(r,this).startOf("day"),i=n.calendarFormat(this,o)||"sameElse",a=t&&(T(t[i])?t[i].call(this,r):t[i]);return this.format(a||this.localeData().calendar(i,this,wt(r)))},nn.clone=function(){return new b(this)},nn.diff=function(e,t,n){var r,o,i,a;return this.isValid()&&(r=Nt(e,this)).isValid()?(o=6e4*(r.utcOffset()-this.utcOffset()),"year"===(t=I(t))||"month"===t||"quarter"===t?(a=function(e,t){var n,r,o=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(o,"months");return t-i<0?(n=e.clone().add(o-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(o+1,"months"),r=(t-i)/(n-i)),-(o+r)||0}(this,r),"quarter"===t?a/=3:"year"===t&&(a/=12)):(i=this-r,a="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-o)/864e5:"week"===t?(i-o)/6048e5:i),n?a:w(a)):NaN},nn.endOf=function(e){return void 0===(e=I(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},nn.format=function(e){e||(e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)},nn.from=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||wt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},nn.fromNow=function(e){return this.from(wt(),e)},nn.to=function(e,t){return this.isValid()&&(_(e)&&e.isValid()||wt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},nn.toNow=function(e){return this.to(wt(),e)},nn.get=function(e){return T(this[e=I(e)])?this[e]():this},nn.invalidAt=function(){return h(this).overflow},nn.isAfter=function(e,t){var n=_(e)?e:wt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(i(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},nn.isBefore=function(e,t){var n=_(e)?e:wt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=I(i(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},nn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},nn.isSame=function(e,t){var n,r=_(e)?e:wt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=I(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},nn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},nn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},nn.isValid=function(){return f(this)},nn.lang=Vt,nn.locale=Gt,nn.localeData=Yt,nn.max=St,nn.min=Ct,nn.parsingFlags=function(){return u({},h(this))},nn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:D[n]});return t.sort((function(e,t){return e.priority-t.priority})),t}(e=R(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(T(this[e=I(e)]))return this[e](t);return this},nn.startOf=function(e){switch(e=I(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},nn.subtract=Ut,nn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},nn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},nn.toDate=function(){return new Date(this.valueOf())},nn.toISOString=function(){if(!this.isValid())return null;var e=this.clone().utc();return e.year()<0||e.year()>9999?q(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):T(Date.prototype.toISOString)?this.toDate().toISOString():q(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},nn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",o=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+o)},nn.toJSON=function(){return this.isValid()?this.toISOString():null},nn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},nn.unix=function(){return Math.floor(this.valueOf()/1e3)},nn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},nn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},nn.year=Ne,nn.isLeapYear=function(){return Le(this.year())},nn.weekYear=function(e){return Zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},nn.isoWeekYear=function(e){return Zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},nn.quarter=nn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},nn.month=ke,nn.daysInMonth=function(){return _e(this.year(),this.month())},nn.week=nn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},nn.isoWeek=nn.isoWeeks=function(e){var t=je(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},nn.weeksInYear=function(){var e=this.localeData()._week;return ze(this.year(),e.dow,e.doy)},nn.isoWeeksInYear=function(){return ze(this.year(),1,4)},nn.date=Kt,nn.day=nn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},nn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},nn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},nn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},nn.hour=nn.hours=Xe,nn.minute=nn.minutes=Xt,nn.second=nn.seconds=Jt,nn.millisecond=nn.milliseconds=tn,nn.utcOffset=function(e,t,r){var o,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(ce,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(o=At(this)),this._offset=e,this._isUTC=!0,null!=o&&this.add(o,"m"),i!==e&&(!t||this._changeInProgress?Wt(this,jt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:At(this)},nn.utc=function(e){return this.utcOffset(0,e)},nn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(At(this),"m")),this},nn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(le,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},nn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?wt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},nn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},nn.isLocal=function(){return!!this.isValid()&&!this._isUTC},nn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},nn.isUtc=It,nn.isUTC=It,nn.zoneAbbr=function(){return this._isUTC?"UTC":""},nn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},nn.dates=x("dates accessor is deprecated. Use date instead.",Kt),nn.months=x("months accessor is deprecated. Use month instead",ke),nn.years=x("years accessor is deprecated. Use year instead",Ne),nn.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),nn.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=bt(e))._a){var t=e._isUTC?d(e._a):wt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}));var on=P.prototype;function an(e,t,n,r){var o=it(),i=d().set(r,t);return o[n](i,e)}function sn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return an(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=an(e,r,n,"month");return o}function ln(e,t,n,r){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var o,i=it(),s=e?i._week.dow:0;if(null!=n)return an(t,(n+s)%7,r,"day");var l=[];for(o=0;o<7;o++)l[o]=an(t,(o+s)%7,r,"day");return l}on.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},on.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,(function(e){return e.slice(1)})),this._longDateFormat[e])},on.invalidDate=function(){return this._invalidDate},on.ordinal=function(e){return this._ordinal.replace("%d",e)},on.preparse=rn,on.postformat=rn,on.relativeTime=function(e,t,n,r){var o=this._relativeTime[n];return T(o)?o(e,t,n,r):o.replace(/%d/i,e)},on.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},on.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},on.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||we).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},on.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[we.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},on.monthsParse=function(e,t,n){var r,o,i;if(this._monthsParseExact)return Ee.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(o=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},on.monthsRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Me.call(this),e?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Te),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},on.monthsShortRegex=function(e){return this._monthsParseExact?(c(this,"_monthsRegex")||Me.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},on.week=function(e){return je(e,this._week.dow,this._week.doy).week},on.firstDayOfYear=function(){return this._week.doy},on.firstDayOfWeek=function(){return this._week.dow},on.weekdays=function(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:r(this._weekdays)?this._weekdays:this._weekdays.standalone},on.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},on.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},on.weekdaysParse=function(e,t,n){var r,o,i;if(this._weekdaysParseExact)return He.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(o=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},on.weekdaysRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Ue),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},on.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},on.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Ye.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ve),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},on.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},on.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},rt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),n.lang=x("moment.lang is deprecated. Use moment.locale instead.",rt),n.langData=x("moment.langData is deprecated. Use moment.localeData instead.",it);var cn=Math.abs;function un(e,t,n,r){var o=jt(t,n);return e._milliseconds+=r*o._milliseconds,e._days+=r*o._days,e._months+=r*o._months,e._bubble()}function dn(e){return e<0?Math.floor(e):Math.ceil(e)}function hn(e){return 4800*e/146097}function pn(e){return 146097*e/4800}function fn(e){return function(){return this.as(e)}}var mn=fn("ms"),gn=fn("s"),vn=fn("m"),yn=fn("h"),bn=fn("d"),_n=fn("w"),wn=fn("M"),Cn=fn("y");function Sn(e){return function(){return this.isValid()?this._data[e]:NaN}}var En=Sn("milliseconds"),xn=Sn("seconds"),kn=Sn("minutes"),On=Sn("hours"),Tn=Sn("days"),Mn=Sn("months"),Pn=Sn("years"),Ln=Math.round,Nn={ss:44,s:45,m:45,h:22,d:26,M:11};function An(e,t,n,r,o){return o.relativeTime(t||1,!!n,e,r)}var In=Math.abs;function Rn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=In(this._milliseconds)/1e3,r=In(this._days),o=In(this._months);e=w(n/60),t=w(e/60),n%=60,e%=60;var i=w(o/12),a=o%=12,s=r,l=t,c=e,u=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(i?i+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var Dn=kt.prototype;return Dn.isValid=function(){return this._isValid},Dn.abs=function(){var e=this._data;return this._milliseconds=cn(this._milliseconds),this._days=cn(this._days),this._months=cn(this._months),e.milliseconds=cn(e.milliseconds),e.seconds=cn(e.seconds),e.minutes=cn(e.minutes),e.hours=cn(e.hours),e.months=cn(e.months),e.years=cn(e.years),this},Dn.add=function(e,t){return un(this,e,t,1)},Dn.subtract=function(e,t){return un(this,e,t,-1)},Dn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=I(e))||"year"===e)return t=this._days+r/864e5,n=this._months+hn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(pn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Dn.asMilliseconds=mn,Dn.asSeconds=gn,Dn.asMinutes=vn,Dn.asHours=yn,Dn.asDays=bn,Dn.asWeeks=_n,Dn.asMonths=wn,Dn.asYears=Cn,Dn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12):NaN},Dn._bubble=function(){var e,t,n,r,o,i=this._milliseconds,a=this._days,s=this._months,l=this._data;return i>=0&&a>=0&&s>=0||i<=0&&a<=0&&s<=0||(i+=864e5*dn(pn(s)+a),a=0,s=0),l.milliseconds=i%1e3,e=w(i/1e3),l.seconds=e%60,t=w(e/60),l.minutes=t%60,n=w(t/60),l.hours=n%24,a+=w(n/24),o=w(hn(a)),s+=o,a-=dn(pn(o)),r=w(s/12),s%=12,l.days=a,l.months=s,l.years=r,this},Dn.get=function(e){return e=I(e),this.isValid()?this[e+"s"]():NaN},Dn.milliseconds=En,Dn.seconds=xn,Dn.minutes=kn,Dn.hours=On,Dn.days=Tn,Dn.weeks=function(){return w(this.days()/7)},Dn.months=Mn,Dn.years=Pn,Dn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=jt(e).abs(),o=Ln(r.as("s")),i=Ln(r.as("m")),a=Ln(r.as("h")),s=Ln(r.as("d")),l=Ln(r.as("M")),c=Ln(r.as("y")),u=o<=Nn.ss&&["s",o]||o<Nn.s&&["ss",o]||i<=1&&["m"]||i<Nn.m&&["mm",i]||a<=1&&["h"]||a<Nn.h&&["hh",a]||s<=1&&["d"]||s<Nn.d&&["dd",s]||l<=1&&["M"]||l<Nn.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,An.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Dn.toISOString=Rn,Dn.toString=Rn,Dn.toJSON=Rn,Dn.locale=Gt,Dn.localeData=Yt,Dn.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Rn),Dn.lang=Vt,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),he("x",se),he("X",/[+-]?\d+(\.\d{1,3})?/),ge("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))})),ge("x",(function(e,t,n){n._d=new Date(C(e))})),n.version="2.18.1",t=wt,n.fn=nn,n.min=function(){var e=[].slice.call(arguments,0);return Et("isBefore",e)},n.max=function(){var e=[].slice.call(arguments,0);return Et("isAfter",e)},n.now=function(){return Date.now?Date.now():+new Date},n.utc=d,n.unix=function(e){return wt(1e3*e)},n.months=function(e,t){return sn(e,t,"months")},n.isDate=s,n.locale=rt,n.invalid=m,n.duration=jt,n.isMoment=_,n.weekdays=function(e,t,n){return ln(e,t,n,"weekdays")},n.parseZone=function(){return wt.apply(null,arguments).parseZone()},n.localeData=it,n.isDuration=Ot,n.monthsShort=function(e,t){return sn(e,t,"monthsShort")},n.weekdaysMin=function(e,t,n){return ln(e,t,n,"weekdaysMin")},n.defineLocale=ot,n.updateLocale=function(e,t){if(null!=t){var n,r=Qe;null!=Je[e]&&(r=Je[e]._config),t=M(r,t),(n=new P(t)).parentLocale=Je[e],Je[e]=n,rt(e)}else null!=Je[e]&&(null!=Je[e].parentLocale?Je[e]=Je[e].parentLocale:null!=Je[e]&&delete Je[e]);return Je[e]},n.locales=function(){return L(Je)},n.weekdaysShort=function(e,t,n){return ln(e,t,n,"weekdaysShort")},n.normalizeUnits=I,n.relativeTimeRounding=function(e){return void 0===e?Ln:"function"==typeof e&&(Ln=e,!0)},n.relativeTimeThreshold=function(e,t){return void 0!==Nn[e]&&(void 0===t?Nn[e]:(Nn[e]=t,"s"===e&&(Nn.ss=t-1),!0))},n.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=nn,n}()}).call(this,n(197)(e))},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),o=i(n(710));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){return r.default.createElement("div",{className:"mdc-checkbox"},r.default.createElement(o.default,e),r.default.createElement("div",{className:"mdc-checkbox__background"},r.default.createElement("svg",{version:"1.1",className:"mdc-checkbox__checkmark",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},r.default.createElement("path",{className:"mdc-checkbox__checkmark__path",fill:"none",stroke:"white",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})),r.default.createElement("div",{className:"mdc-checkbox__mixedmark"})))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=s(n(0)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l={className:o.default.string,indeterminate:o.default.bool},c=function(e){var t=e.className,n=e.indeterminate,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","indeterminate"]);return i.default.createElement("input",r({className:(0,a.default)("mdc-checkbox__native-control",t),type:"checkbox",ref:function(e){e&&(e.indeterminate=n)}},o))};c.propTypes=l,t.default=c},,function(e,t,n){n(713),e.exports=n(66).Object.keys},function(e,t,n){var r=n(193),o=n(248);n(347)("keys",(function(){return function(e){return o(r(e))}}))},function(e,t,n){n(398),n(251),n(273),n(715),n(723),n(724),e.exports=n(66).Promise},function(e,t,n){"use strict";var r,o,i,a,s=n(250),l=n(92),c=n(191),u=n(346),d=n(117),h=n(153),p=n(269),f=n(716),m=n(717),g=n(422),v=n(423).set,y=n(719)(),b=n(354),_=n(424),w=n(720),C=n(425),S=l.TypeError,E=l.process,x=E&&E.versions,k=x&&x.v8||"",O=l.Promise,T="process"==u(E),M=function(){},P=o=b.f,L=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(93)("species")]=function(e){e(M,M)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(M)instanceof t&&0!==k.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var t;return!(!h(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,o=1==e._s,i=0,a=function(t){var n,i,a,s=o?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(o||(2==e._h&&D(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(S("Promise-chain cycle")):(i=N(n))?i.call(n,l,c):l(n)):c(r)}catch(e){u&&!a&&u.exit(),c(e)}};n.length>i;)a(n[i++]);e._c=[],e._n=!1,t&&!e._h&&I(e)}))}},I=function(e){v.call(l,(function(){var t,n,r,o=e._v,i=R(e);if(i&&(t=_((function(){T?E.emit("unhandledRejection",o,e):(n=l.onunhandledrejection)?n({promise:e,reason:o}):(r=l.console)&&r.error&&r.error("Unhandled promise rejection",o)})),e._h=T||R(e)?2:1),e._a=void 0,i&&t.e)throw t.v}))},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},D=function(e){v.call(l,(function(){var t;T?E.emit("rejectionHandled",e):(t=l.onrejectionhandled)&&t({promise:e,reason:e._v})}))},j=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},z=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=N(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(z,r,1),c(j,r,1))}catch(e){j.call(r,e)}})):(n._v=e,n._s=1,A(n,!1))}catch(e){j.call({_w:n,_d:!1},e)}}};L||(O=function(e){f(this,O,"Promise","_h"),p(e),r.call(this);try{e(c(z,this,1),c(j,this,1))}catch(e){j.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(721)(O.prototype,{then:function(e,t){var n=P(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?E.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=c(z,e,1),this.reject=c(j,e,1)},b.f=P=function(e){return e===O||e===a?new i(e):o(e)}),d(d.G+d.W+d.F*!L,{Promise:O}),n(272)(O,"Promise"),n(722)("Promise"),a=n(66).Promise,d(d.S+d.F*!L,"Promise",{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!L),"Promise",{resolve:function(e){return C(s&&this===a?O:this,e)}}),d(d.S+d.F*!(L&&n(396)((function(e){O.all(e).catch(M)}))),"Promise",{all:function(e){var t=this,n=P(t),r=n.resolve,o=n.reject,i=_((function(){var n=[],i=0,a=1;m(e,!1,(function(e){var s=i++,l=!1;n.push(void 0),a++,t.resolve(e).then((function(e){l||(l=!0,n[s]=e,--a||r(n))}),o)})),--a||r(n)}));return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=P(t),r=n.reject,o=_((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return o.e&&r(o.v),n.promise}})},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(191),o=n(394),i=n(395),a=n(124),s=n(338),l=n(345),c={},u={};(t=e.exports=function(e,t,n,d,h){var p,f,m,g,v=h?function(){return e}:l(e),y=r(n,d,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(p=s(e.length);p>b;b++)if((g=t?y(a(f=e[b])[0],f[1]):y(e[b]))===c||g===u)return g}else for(m=v.call(e);!(f=m.next()).done;)if((g=o(m,y,f.value,t))===c||g===u)return g}).BREAK=c,t.RETURN=u},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(92),o=n(423).set,i=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,l="process"==n(249)(a);e.exports=function(){var e,t,n,c=function(){var r,o;for(l&&(r=a.domain)&&r.exit();e;){o=e.fn,e=e.next;try{o()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(l)n=function(){a.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(c)}}else n=function(){o.call(r,c)};else{var d=!0,h=document.createTextNode("");new i(c).observe(h,{characterData:!0}),n=function(){h.data=d=!d}}return function(r){var o={fn:r,next:void 0};t&&(t.next=o),e||(e=o,n()),t=o}}},function(e,t,n){var r=n(92).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){var r=n(173);e.exports=function(e,t,n){for(var o in t)n&&e[o]?e[o]=t[o]:r(e,o,t[o]);return e}},function(e,t,n){"use strict";var r=n(92),o=n(66),i=n(135),a=n(136),s=n(93)("species");e.exports=function(e){var t="function"==typeof o[e]?o[e]:r[e];a&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(117),o=n(66),i=n(92),a=n(422),s=n(425);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,o.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then((function(){return n}))}:e,n?function(n){return s(t,e()).then((function(){throw n}))}:e)}})},function(e,t,n){"use strict";var r=n(117),o=n(354),i=n(424);r(r.S,"Promise",{try:function(e){var t=o.f(this),n=i(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){e.exports={default:n(726),__esModule:!0}},function(e,t,n){n(273),n(251),e.exports=n(727)},function(e,t,n){var r=n(346),o=n(93)("iterator"),i=n(194);e.exports=n(66).isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},function(e,t,n){e.exports={default:n(729),__esModule:!0}},function(e,t,n){n(273),n(251),e.exports=n(730)},function(e,t,n){var r=n(124),o=n(345);e.exports=n(66).getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t,n){var r=n(732),o=n(791),i=n(440);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(428),o=n(432);e.exports=function(e,t,n,i){var a=n.length,s=a,l=!i;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=n[a])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var p=new r;if(i)var f=i(d,h,u,e,t,p);if(!(void 0===f?o(h,d,3,i,p):f))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(279),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():o.call(t,n,1),--this.size,!0)}},function(e,t,n){var r=n(279);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(279);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(279);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(278);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(278),o=n(355),i=n(356);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(430),o=n(744),i=n(252),a=n(431),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?h:s).test(a(e))}},function(e,t,n){var r,o=n(745),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(125)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(748),o=n(278),i=n(355);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(749),o=n(750),i=n(751),a=n(752),s=n(753);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(280);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(280),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(280),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(280);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,n){var r=n(281);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(281);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(281);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(281);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(428),o=n(433),i=n(765),a=n(769),s=n(786),l=n(119),c=n(436),u=n(438),d="[object Object]",h=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,f,m){var g=l(e),v=l(t),y=g?"[object Array]":s(e),b=v?"[object Array]":s(t),_=(y="[object Arguments]"==y?d:y)==d,w=(b="[object Arguments]"==b?d:b)==d,C=y==b;if(C&&c(e)){if(!c(t))return!1;g=!0,_=!1}if(C&&!_)return m||(m=new r),g||u(e)?o(e,t,n,p,f,m):i(e,t,y,n,p,f,m);if(!(1&n)){var S=_&&h.call(e,"__wrapped__"),E=w&&h.call(t,"__wrapped__");if(S||E){var x=S?e.value():e,k=E?t.value():t;return m||(m=new r),f(x,k,n,p,m)}}return!!C&&(m||(m=new r),a(e,t,n,p,f,m))}},function(e,t,n){var r=n(356),o=n(761),i=n(762);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},function(e,t){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(275),o=n(766),i=n(429),a=n(433),s=n(767),l=n(768),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var f=1&r;if(p||(p=l),e.size!=t.size&&!f)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=a(p(e),p(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},function(e,t,n){var r=n(125).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},function(e,t,n){var r=n(770),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,i,a,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:o.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var f=!0;s.set(e,t),s.set(t,e);for(var m=l;++d<u;){var g=e[h=c[d]],v=t[h];if(i)var y=l?i(v,g,h,t,e,s):i(g,v,h,e,t,s);if(!(void 0===y?g===v||a(g,v,n,i,s):y)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var b=e.constructor,_=t.constructor;b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(f=!1)}return s.delete(e),s.delete(t),f}},function(e,t,n){var r=n(771),o=n(773),i=n(357);e.exports=function(e){return r(e,i,o)}},function(e,t,n){var r=n(772),o=n(119);e.exports=function(e,t,n){var i=t(e);return o(e)?i:r(i,n(e))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}},function(e,t,n){var r=n(434),o=n(774),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(776),o=n(435),i=n(119),a=n(436),s=n(437),l=n(438),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&o(e),d=!n&&!u&&a(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?r(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||f.push(g);return f}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(195),o=n(196);e.exports=function(e){return o(e)&&"[object Arguments]"==r(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(195),o=n(358),i=n(196),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(399),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(197)(e))},function(e,t,n){var r=n(783),o=n(784),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(785)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(787),o=n(355),i=n(788),a=n(789),s=n(790),l=n(195),c=n(431),u=c(r),d=c(o),h=c(i),p=c(a),f=c(s),m=l;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||a&&"[object Set]"!=m(new a)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(199)(n(125),"DataView");e.exports=r},function(e,t,n){var r=n(199)(n(125),"Promise");e.exports=r},function(e,t,n){var r=n(199)(n(125),"Set");e.exports=r},function(e,t,n){var r=n(199)(n(125),"WeakMap");e.exports=r},function(e,t,n){var r=n(439),o=n(357);e.exports=function(e){for(var t=o(e),n=t.length;n--;){var i=t[n],a=e[i];t[n]=[i,a,r(a)]}return t}},function(e,t,n){var r=n(432),o=n(793),i=n(799),a=n(360),s=n(439),l=n(440),c=n(282);e.exports=function(e,t){return a(e)&&s(t)?l(c(e),t):function(n){var a=o(n,e);return void 0===a&&a===t?i(n,e):r(t,a,3)}}},function(e,t,n){var r=n(441);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(795),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)})),t}));e.exports=a},function(e,t,n){var r=n(796);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},function(e,t,n){var r=n(356);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(798);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(275),o=n(426),i=n(119),a=n(253),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},function(e,t,n){var r=n(800),o=n(801);e.exports=function(e,t){return null!=e&&o(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(442),o=n(435),i=n(119),a=n(437),s=n(358),l=n(282);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(h,u)&&(i(e)||o(e))}},function(e,t,n){var r=n(803),o=n(804),i=n(360),a=n(282);e.exports=function(e){return i(e)?r(a(e)):o(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(441);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(361),o=n(359);e.exports=function(e,t){var n=-1,i=o(e)?Array(e.length):[];return r(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}},function(e,t,n){var r=n(807),o=n(357);e.exports=function(e,t){return e&&r(e,t,o)}},function(e,t,n){var r=n(808)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var o=-1,i=Object(t),a=r(t),s=a.length;s--;){var l=a[e?s:++o];if(!1===n(i[l],l,i))break}return t}}},function(e,t,n){var r=n(359);e.exports=function(e,t){return function(n,o){if(null==n)return n;if(!r(n))return e(n,o);for(var i=n.length,a=t?i:-1,s=Object(n);(t?a--:++a<i)&&!1!==o(s[a],a,s););return n}}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(283);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t){e.exports=function(e,t){return e<t}},function(e,t){e.exports=function(e,t){return e>t}},function(e,t,n){var r=n(361);e.exports=function(e,t){var n=[];return r(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}},,,function(e,t,n){"use strict";var r=n(818),o={Cell:n(364),Column:n(457),ColumnGroup:n(456),Table:r,version:"0.6.5"};e.exports=o},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(84),i=n(94),a=o.Children,s=n(1),l=n(819),c=n(843),u=n(844),d=n(845),h={};function p(e,t){0}var f=i({propTypes:{width:s.number.isRequired,height:s.number,maxHeight:s.number,ownerHeight:s.number,overflowX:s.oneOf(["hidden","auto"]),overflowY:s.oneOf(["hidden","auto"]),rowsCount:s.number.isRequired,rowHeight:s.number.isRequired,rowHeightGetter:s.func,rowGetter:s.func,rowClassNameGetter:s.func,groupHeaderHeight:s.number,headerHeight:s.number.isRequired,headerDataGetter:s.func,footerHeight:s.number,footerData:s.oneOfType([s.object,s.array]),footerDataGetter:s.func,scrollLeft:s.number,scrollToColumn:s.number,scrollTop:s.number,scrollToRow:s.number,onScrollStart:s.func,onScrollEnd:s.func,onContentHeightChange:s.func,onRowClick:s.func,onRowDoubleClick:s.func,onRowMouseDown:s.func,onRowMouseEnter:s.func,onRowMouseLeave:s.func,onColumnResizeEndCallback:s.func,isColumnResizing:s.bool},getInitialState:function(){var e={};return e.needsMigration=this._checkDeprecations(),e},_checkDeprecations:function(){var e=!1;return this.props.rowGetter&&(p(),e=!0),this.props.headerDataGetter&&p(),this.props.footerData&&p(),this.props.footerDataGetter&&p(),a.forEach(this.props.children,(function(e){if(e&&e.props){var t=e.props;t.label&&p(),t.dataKey&&p(),t.cellRenderer&&p(),t.headerRenderer&&p(),t.columnData&&p(),t.groupHeaderRenderer&&p(),t.groupHeaderData&&p()}})),e},_onRowAction:function(e,t){if(t)return function(n,r){t(n,r,e.rowGetter&&e.rowGetter(r)||h)}},_transformColumn:function(e,t,n){var i=e.props;if(e.type.__TableColumn__)return o.createElement(c,r({key:"column_"+n},i,{header:o.createElement(d,{isHeaderCell:!0,label:i.label,width:i.width,dataKey:i.dataKey,className:i.headerClassName,columnData:i.columnData||h,cellRenderer:i.headerRenderer,headerDataGetter:t.headerDataGetter}),columnKey:i.dataKey,cell:o.createElement(d,{dataKey:i.dataKey,className:i.cellClassName,rowGetter:t.rowGetter,width:i.width,columnData:i.columnData||h,cellDataGetter:i.cellDataGetter,cellRenderer:i.cellRenderer}),footer:o.createElement(d,{isFooterCell:!0,className:i.footerClassName,dataKey:i.dataKey,cellRenderer:i.footerRenderer,footerDataGetter:t.footerDataGetter,footerData:t.footerData||h})}))},_transformColumnGroup:function(e,t,n,i){var s=this,l=e.props,c=0,p=a.map(l.children,(function(e){return c++,s._transformColumn(e,t,n+"_"+c)}));return o.createElement(u,r({},l,{key:"group_"+n,header:o.createElement(d,{isHeaderCell:!0,label:e.props.label,dataKey:n,groupHeaderRenderer:l.groupHeaderRenderer,groupHeaderLabels:i,groupHeaderData:l.columnGroupData||h})}),p)},_convertedColumns:function(e){var t=this;if(!e)return a.map(this.props.children,(function(e){return e?e.type.__TableColumn__?o.createElement(c,e.props):e.type.__TableColumnGroup__?o.createElement(u,e.props):void 0:null}));var n=this.props,r=0;return a.map(this.props.children,(function(e){if(!e)return null;if(e.type.__TableColumn__&&(e=t._transformColumn(e,n,r)),e.type.__TableColumnGroup__){var o=[];a.forEach(t.props.children,(function(e){o.push(e.props.label)})),e=t._transformColumnGroup(e,n,r,o)}return r++,e}))},render:function(){var e=this.props;return o.createElement(l,r({},e,{onRowMouseDown:this._onRowAction(e,e.onRowMouseDown),onRowClick:this._onRowAction(e,e.onRowClick),onRowDoubleClick:this._onRowAction(e,e.onRowDoubleClick),onRowMouseEnter:this._onRowAction(e,e.onRowMouseEnter),onRowMouseLeave:this._onRowAction(e,e.onRowMouseLeave)}),this._convertedColumns(this.state.needsMigration))}});e.exports=f},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(84),i=n(94),a=n(362),s=n(448),l=n(824),c=n(832),u=n(838),d=n(453),h=n(839),p=n(841),f=n(138),m=n(842),g=n(200),v=n(256),y=n(201),b=n(458),_=n(255),w=n(1),C=o.Children,S={},E=i({propTypes:{width:w.number.isRequired,height:w.number,maxHeight:w.number,ownerHeight:w.number,overflowX:w.oneOf(["hidden","auto"]),overflowY:w.oneOf(["hidden","auto"]),rowsCount:w.number.isRequired,rowHeight:w.number.isRequired,rowHeightGetter:w.func,rowClassNameGetter:w.func,groupHeaderHeight:w.number,headerHeight:w.number.isRequired,footerHeight:w.number,scrollLeft:w.number,scrollToColumn:w.number,scrollTop:w.number,scrollToRow:w.number,onScrollStart:w.func,onScrollEnd:w.func,onContentHeightChange:w.func,onRowClick:w.func,onRowDoubleClick:w.func,onRowMouseDown:w.func,onRowMouseEnter:w.func,onRowMouseLeave:w.func,onColumnResizeEndCallback:w.func,isColumnResizing:w.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var e=this.props,t=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);return this._scrollHelper=new h(e.rowsCount,e.rowHeight,t,e.rowHeightGetter),e.scrollTop&&this._scrollHelper.scrollTo(e.scrollTop),this._didScrollStop=m(this._didScrollStop,200,this),this._calculateState(this.props)},componentWillMount:function(){var e=this.props.scrollToRow;null!=e&&(this._rowToScrollTo=e);var t=this.props.scrollToColumn;null!=t&&(this._columnToScrollTo=t),this._wheelHandler=new s(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(e){return"hidden"!==this.props.overflowX&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollX>0||e>=0&&this.state.scrollX<this.state.maxScrollX))},_shouldHandleWheelY:function(e){return"hidden"!==this.props.overflowY&&0!==e&&(0!==(e=Math.round(e))&&(e<0&&this.state.scrollY>0||e>=0&&this.state.scrollY<this.state.maxScrollY))},_reportContentHeight:function(){var e,t=this.state.scrollContentHeight+this.state.reservedHeight;(e=void 0===this.props.height&&this.props.maxHeight>t?t:this.state.height>t&&this.props.ownerHeight?Math.max(t,this.props.ownerHeight):this.state.height+this.state.maxScrollY)!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(e),this._contentHeight=e},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(e){var t=e.scrollToRow;null!=t&&(this._rowToScrollTo=t);var n=e.scrollToColumn;null!=n&&(this._columnToScrollTo=n);var r=e.overflowX,o=e.overflowY;r===this.props.overflowX&&o===this.props.overflowY||(this._wheelHandler=new s(this._onWheel,"hidden"!==r,"hidden"!==o)),this.props.ownerHeight===e.ownerHeight&&this.props.scrollTop===e.scrollTop||this._didScrollStart(),this._didScrollStop(),this.setState(this._calculateState(e,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var e,t=this.state,n=this.props;t.useGroupHeader&&(e=o.createElement(d,{key:"group_header",isScrolling:this._isScrolling,className:y(f("fixedDataTableLayout/header"),f("public/fixedDataTable/header")),width:t.width,height:t.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:t.scrollX,fixedColumns:t.groupHeaderFixedColumns,scrollableColumns:t.groupHeaderScrollableColumns,onColumnResize:this._onColumnResize}));var r=this.state.maxScrollY,i=t.maxScrollX>0&&"hidden"!==t.overflowX,a=r>0&&"hidden"!==t.overflowY,s=i?l.SIZE:0,c=t.height-s-2-t.footerHeight,h=t.useGroupHeader?t.groupHeaderHeight:0,p=h+t.headerHeight;c-=p;var m,g,v=0,b=null!=n.maxHeight?p+t.bodyHeight:p+c,_=b+t.footerHeight;if(void 0!==n.ownerHeight&&n.ownerHeight<t.height&&(v=n.ownerHeight-t.height,b=Math.min(b,n.ownerHeight-t.footerHeight-s),c=Math.max(0,b-p)),a&&(m=o.createElement(l,{size:c,contentSize:c+r,onScroll:this._onVerticalScroll,verticalTop:p,position:t.scrollY})),i){var w=t.width;g=o.createElement(x,{contentSize:w+t.maxScrollX,offset:v,onScroll:this._onHorizontalScroll,position:t.scrollX,size:w})}var C=o.createElement(u,{height:t.height,initialWidth:t.columnResizingData.width||0,minWidth:t.columnResizingData.minWidth||0,maxWidth:t.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!t.isColumnResizing,leftOffset:t.columnResizingData.left||0,knobHeight:t.headerHeight,initialEvent:t.columnResizingData.initialEvent,onColumnResizeEnd:n.onColumnResizeEndCallback,columnKey:t.columnResizingData.key}),S=null;t.footerHeight&&(S=o.createElement(d,{key:"footer",isScrolling:this._isScrolling,className:y(f("fixedDataTableLayout/footer"),f("public/fixedDataTable/footer")),width:t.width,height:t.footerHeight,index:-1,zIndex:1,offsetTop:b,fixedColumns:t.footFixedColumns,scrollableColumns:t.footScrollableColumns,scrollLeft:t.scrollX}));var E,k,O=this._renderRows(p),T=o.createElement(d,{key:"header",isScrolling:this._isScrolling,className:y(f("fixedDataTableLayout/header"),f("public/fixedDataTable/header")),width:t.width,height:t.headerHeight,index:-1,zIndex:1,offsetTop:h,scrollLeft:t.scrollX,fixedColumns:t.headFixedColumns,scrollableColumns:t.headScrollableColumns,onColumnResize:this._onColumnResize});return t.scrollY&&(E=o.createElement("div",{className:y(f("fixedDataTableLayout/topShadow"),f("public/fixedDataTable/topShadow")),style:{top:p}})),(null!=t.ownerHeight&&t.ownerHeight<t.height&&t.scrollContentHeight+t.reservedHeight>t.ownerHeight||t.scrollY<r)&&(k=o.createElement("div",{className:y(f("fixedDataTableLayout/bottomShadow"),f("public/fixedDataTable/bottomShadow")),style:{top:b}})),o.createElement("div",{className:y(f("fixedDataTableLayout/main"),f("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:t.height,width:t.width}},o.createElement("div",{className:f("fixedDataTableLayout/rowsContainer"),style:{height:_,width:t.width}},C,e,T,O,S,E,k),m,g)},_renderRows:function(e){var t=this.state;return o.createElement(c,{isScrolling:this._isScrolling,defaultRowHeight:t.rowHeight,firstRowIndex:t.firstRowIndex,firstRowOffset:t.firstRowOffset,fixedColumns:t.bodyFixedColumns,height:t.bodyHeight,offsetTop:e,onRowClick:t.onRowClick,onRowDoubleClick:t.onRowDoubleClick,onRowMouseDown:t.onRowMouseDown,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,rowClassNameGetter:t.rowClassNameGetter,rowsCount:t.rowsCount,rowGetter:t.rowGetter,rowHeightGetter:t.rowHeightGetter,scrollLeft:t.scrollX,scrollableColumns:t.bodyScrollableColumns,showLastRowBorder:!0,width:t.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(e,t,n,r,o,i,a){this.setState({isColumnResizing:!0,columnResizingData:{left:t+e-n,width:n,minWidth:r,maxWidth:o,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:g},key:i}})},_areColumnSettingsIdentical:function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!b(e[n].props,t[n].props))return!1;return!0},_populateColumnsAndColumnData:function(e,t,n){var r=!1,o=!1;n&&n.columns&&(r=this._areColumnSettingsIdentical(e,n.columns)),n&&n.columnGroups&&t&&(o=this._areColumnSettingsIdentical(t,n.columnGroups));var i={};if(r)i.bodyFixedColumns=n.bodyFixedColumns,i.bodyScrollableColumns=n.bodyScrollableColumns,i.headFixedColumns=n.headFixedColumns,i.headScrollableColumns=n.headScrollableColumns,i.footFixedColumns=n.footFixedColumns,i.footScrollableColumns=n.footScrollableColumns;else{var a=this._splitColumnTypes(e);i.bodyFixedColumns=a.fixed,i.bodyScrollableColumns=a.scrollable;var s=this._splitColumnTypes(this._selectColumnElement("header",e));i.headFixedColumns=s.fixed,i.headScrollableColumns=s.scrollable;var l=this._splitColumnTypes(this._selectColumnElement("footer",e));i.footFixedColumns=l.fixed,i.footScrollableColumns=l.scrollable}if(o)i.groupHeaderFixedColumns=n.groupHeaderFixedColumns,i.groupHeaderScrollableColumns=n.groupHeaderScrollableColumns;else if(t){var c=this._splitColumnTypes(this._selectColumnElement("header",t));i.groupHeaderFixedColumns=c.fixed,i.groupHeaderScrollableColumns=c.scrollable}return i},_calculateState:function(e,t){v(void 0!==e.height||void 0!==e.maxHeight,"You must set either a height or a maxHeight");var n=[];C.forEach(e.children,(function(e,t){null!=e&&(v(e.type.__TableColumnGroup__||e.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),n.push(e))}));var o=!1;n.length&&n[0].type.__TableColumnGroup__&&(o=!0);var i,a,s=t&&t.firstRowIndex||0,c=t&&t.firstRowOffset||0;i=t&&"hidden"!==e.overflowX?t.scrollX:e.scrollLeft,t&&"hidden"!==e.overflowY?a=t.scrollY:(s=(y=this._scrollHelper.scrollTo(e.scrollTop)).index,c=y.offset,a=y.position),void 0!==this._rowToScrollTo&&(s=(y=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo)).index,c=y.offset,a=y.position,delete this._rowToScrollTo);var u,d,f,m=o?e.groupHeaderHeight:0;if(t&&e.rowsCount!==t.rowsCount){var g=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);this._scrollHelper=new h(e.rowsCount,e.rowHeight,g,e.rowHeightGetter);var y=this._scrollHelper.scrollToRow(s,c);s=y.index,c=y.offset,a=y.position}else t&&e.rowHeightGetter!==t.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(e.rowHeightGetter);if(u=e.isColumnResizing?t&&t.columnResizingData:S,o){var b=p.adjustColumnGroupWidths(n,e.width);d=b.columns,f=b.columnGroups}else d=p.adjustColumnWidths(n,e.width);var _=this._populateColumnsAndColumnData(d,f,t);if(void 0!==this._columnToScrollTo){var w=_.bodyFixedColumns.length;if(this._columnToScrollTo>=w){var E,x=0;for(E=0;E<_.bodyFixedColumns.length;++E)x+=_.bodyFixedColumns[E].props.width;var k=Math.min(this._columnToScrollTo-w,_.bodyScrollableColumns.length-1),O=0;for(E=0;E<k;++E)O+=_.bodyScrollableColumns[E].props.width;var T=e.width-x,M=O+_.bodyScrollableColumns[k].props.width-T;i<M&&(i=M),i>O&&(i=O)}delete this._columnToScrollTo}var P=void 0===e.height,L=Math.round(P?e.maxHeight:e.height),N=e.footerHeight+e.headerHeight+m+2,A=L-N,I=this._scrollHelper.getContentHeight(),R=I+N,D=p.getTotalWidth(d),j=D>e.width&&"hidden"!==e.overflowX;j&&(A-=l.SIZE,R+=l.SIZE,N+=l.SIZE);var z=Math.max(0,D-e.width),F=Math.max(0,I-A);return i=Math.min(i,z),a=Math.min(a,F),F||(P&&(L=R),A=R-N),this._scrollHelper.setViewportHeight(A),r({isColumnResizing:t&&t.isColumnResizing},_,e,{columns:d,columnGroups:f,columnResizingData:u,firstRowIndex:s,firstRowOffset:c,horizontalScrollbarVisible:j,maxScrollX:z,maxScrollY:F,reservedHeight:N,scrollContentHeight:I,scrollX:i,scrollY:a,bodyHeight:A,height:L,groupHeaderHeight:m,useGroupHeader:o})},_selectColumnElement:function(e,t){for(var n=[],r=0;r<t.length;++r){var i=t[r];n.push(o.cloneElement(i,{cell:e?i.props[e]:i.props.cell}))}return n},_splitColumnTypes:function(e){for(var t=[],n=[],r=0;r<e.length;++r)e[r].props.fixed?t.push(e[r]):n.push(e[r]);return{fixed:t,scrollable:n}},_onWheel:function(e,t){if(this.isMounted()){this._isScrolling||this._didScrollStart();var n=this.state.scrollX;if(Math.abs(t)>Math.abs(e)&&"hidden"!==this.props.overflowY){var r=this._scrollHelper.scrollBy(Math.round(t)),o=Math.max(0,r.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:r.index,firstRowOffset:r.offset,scrollY:r.position,scrollContentHeight:r.contentHeight,maxScrollY:o})}else e&&"hidden"!==this.props.overflowX&&(n=(n=(n+=e)<0?0:n)>this.state.maxScrollX?this.state.maxScrollX:n,this.setState({scrollX:n}));this._didScrollStop()}},_onHorizontalScroll:function(e){this.isMounted()&&e!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:e}),this._didScrollStop())},_onVerticalScroll:function(e){if(this.isMounted()&&e!==this.state.scrollY){this._isScrolling||this._didScrollStart();var t=this._scrollHelper.scrollTo(Math.round(e));this.setState({firstRowIndex:t.index,firstRowOffset:t.offset,scrollY:t.position,scrollContentHeight:t.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.setState({redraw:!0}),this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),x=i({mixins:[a],propTypes:{contentSize:w.number.isRequired,offset:w.number.isRequired,onScroll:w.func.isRequired,position:w.number.isRequired,size:w.number.isRequired},render:function(){var e={height:l.SIZE,width:this.props.size},t={height:l.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return _(t,0,this.props.offset),o.createElement("div",{className:y(f("fixedDataTableLayout/horizontalScrollbar"),f("public/fixedDataTable/horizontalScrollbar")),style:e},o.createElement("div",{style:t},o.createElement(l,r({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});e.exports=E},function(e,t,n){"use strict";var r=n(821),o=n(822);function i(e){var t=0,n=0,r=0,o=0;return"detail"in e&&(n=e.detail),"wheelDelta"in e&&(n=-e.wheelDelta/120),"wheelDeltaY"in e&&(n=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=n,n=0),r=10*t,o=10*n,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(r=e.deltaX),(r||o)&&e.deltaMode&&(1==e.deltaMode?(r*=40,o*=40):(r*=800,o*=800)),r&&!t&&(t=r<1?-1:1),o&&!n&&(n=o<1?-1:1),{spinX:t,spinY:n,pixelX:r,pixelY:o}}i.getEventType=function(){return r.firefox()?"DOMMouseScroll":o("wheel")?"wheel":"mousewheel"},e.exports=i},function(e,t,n){"use strict";var r,o,i,a,s,l,c,u,d,h,p,f,m,g,v,y=!1;function b(){if(!y){y=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),n=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(f=/\b(iPhone|iP[ao]d)/.exec(e),m=/\b(iP[ao]d)/.exec(e),h=/Android/i.exec(e),g=/FBAN\/\w+;/i.exec(e),v=/Mobile/i.exec(e),p=!!/Win64/.exec(e),t){(r=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(r=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);l=b?parseFloat(b[1])+4:r,o=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,(a=t[4]?parseFloat(t[4]):NaN)?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),s=t&&t[1]?parseFloat(t[1]):NaN):s=NaN}else r=o=i=s=a=NaN;if(n){if(n[1]){var _=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!_||parseFloat(_[1].replace("_","."))}else c=!1;u=!!n[2],d=!!n[3]}else c=u=d=!1}}var _={ie:function(){return b()||r},ieCompatibilityMode:function(){return b()||l>r},ie64:function(){return _.ie()&&p},firefox:function(){return b()||o},opera:function(){return b()||i},webkit:function(){return b()||a},safari:function(){return _.webkit()},chrome:function(){return b()||s},windows:function(){return b()||u},osx:function(){return b()||c},linux:function(){return b()||d},iphone:function(){return b()||f},mobile:function(){return b()||f||m||h||v},nativeApp:function(){return b()||g},android:function(){return b()||h},ipad:function(){return b()||m}};e.exports=_},function(e,t,n){"use strict";var r,o=n(449);o.canUseDOM&&(r=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""))
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */,e.exports=function(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,i=n in document;if(!i){var a=document.createElement("div");a.setAttribute(n,"return;"),i="function"==typeof a[n]}return!i&&r&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},function(e,t,n){"use strict";(function(t){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame;e.exports=n}).call(this,n(45))},function(e,t,n){"use strict";var r=n(451),o=n(827),i=n(84),a=n(94),s=n(828),l=n(362),c=n(448),u=n(829),d=n(138),h=n(200),p=n(255),f=n(1),m={position:0,scrollable:!1},g=parseInt(u("scrollbar-face-margin"),10),v=2*g,y=null,b=a({mixins:[l],propTypes:{contentSize:f.number.isRequired,defaultPosition:f.number,isOpaque:f.bool,orientation:f.oneOf(["vertical","horizontal"]),onScroll:f.func,position:f.number,size:f.number.isRequired,trackColor:f.oneOf(["gray"]),zIndex:f.number,verticalTop:f.number},getInitialState:function(){var e=this.props;return this._calculateState(e.position||e.defaultPosition||0,e.size,e.contentSize,e.orientation)},componentWillReceiveProps:function(e){var t=e.position;void 0===t?this._setNextState(this._calculateState(this.state.position,e.size,e.contentSize,e.orientation)):this._setNextState(this._calculateState(t,e.size,e.contentSize,e.orientation),e)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:h,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var e,t,n=this.props.size,r=this.state.isHorizontal,o=!r,a=this.state.focused||this.state.isDragging,s=this.state.faceSize,l=this.props.isOpaque,c=this.props.verticalTop||0,h=d({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":o,"ScrollbarLayout/mainHorizontal":r,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":l,"public/Scrollbar/mainActive":a}),f=d({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":r,"ScrollbarLayout/faceVertical":o,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),m=this.state.position*this.state.scale+g;return r?(e={width:n},p(t={width:s-v},m,0)):(e={top:c,height:n},p(t={height:s-v},0,m)),e.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(e.backgroundColor=u("fbui-desktop-background-light")),i.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:h,style:e,tabIndex:0},i.createElement("div",{ref:"face",className:f,style:t}))},componentWillMount:function(){var e="horizontal"===this.props.orientation?this._onWheelX:this._onWheelY;this._wheelHandler=new c(e,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),y===this&&(y=null),delete this._mouseMoveTracker},scrollBy:function(e){this._onWheel(e)},_shouldHandleX:function(e){return"horizontal"===this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleY:function(e){return"horizontal"!==this.props.orientation&&this._shouldHandleChange(e)},_shouldHandleChange:function(e){return this._calculateState(this.state.position+e,this.props.size,this.props.contentSize,this.props.orientation).position!==this.state.position},_calculateState:function(e,t,n,r){if(t<1||n<=t)return m;var o=e+"_"+t+"_"+n+"_"+r;if(this._stateKey===o)return this._stateForKey;var i="horizontal"===r,a=t/n,s=t*a;s<30&&(a=(t-30)/(n-t),s=30);var l=n-t;e<0?e=0:e>l&&(e=l);var c={faceSize:s,isDragging:!!this._mouseMoveTracker&&this._mouseMoveTracker.isDragging(),isHorizontal:i,position:e,scale:a,scrollable:!0};return this._stateKey=o,this._stateForKey=c,c},_onWheelY:function(e,t){this._onWheel(t)},_onWheelX:function(e,t){this._onWheel(e)},_onWheel:function(e){var t=this.props;this._setNextState(this._calculateState(this.state.position+e,t.size,t.contentSize,t.orientation))},_onMouseDown:function(e){var t;if(e.target!==s.findDOMNode(this.refs.face)){var n=e.nativeEvent,r=this.state.isHorizontal?n.offsetX||n.layerX:n.offsetY||n.layerY,o=this.props;r/=this.state.scale,t=this._calculateState(r-.5*this.state.faceSize/this.state.scale,o.size,o.contentSize,o.orientation)}else t={};t.focused=!0,this._setNextState(t),this._mouseMoveTracker.captureMouseMoves(e),s.findDOMNode(this).focus()},_onMouseMove:function(e,t){var n=this.props,r=this.state.isHorizontal?e:t;r/=this.state.scale,this._setNextState(this._calculateState(this.state.position+r,n.size,n.contentSize,n.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(e){var t=e.keyCode;if(t!==o.TAB){var n=40,r=0;if(this.state.isHorizontal)switch(t){case o.HOME:r=-1,n=this.props.contentSize;break;case o.LEFT:r=-1;break;case o.RIGHT:r=1;break;default:return}if(!this.state.isHorizontal)switch(t){case o.SPACE:r=e.shiftKey?-1:1;break;case o.HOME:r=-1,n=this.props.contentSize;break;case o.UP:r=-1;break;case o.DOWN:r=1;break;case o.PAGE_UP:r=-1,n=this.props.size;break;case o.PAGE_DOWN:r=1,n=this.props.size;break;default:return}e.preventDefault();var i=this.props;this._setNextState(this._calculateState(this.state.position+n*r,i.size,i.contentSize,i.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),s.findDOMNode(this).blur()}catch(e){}},_setNextState:function(e,t){var n=(t=t||this.props).position,r=this.state.position!==e.position;if(void 0===n){var o=r?this._didScroll:void 0;this.setState(e,o)}else{if(n!==e.position)return void(void 0!==e.position&&e.position!==this.state.position&&this.props.onScroll(e.position));this.setState(e)}r&&y!==this&&(y&&y._blur(),y=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});b.KEYBOARD_SCROLL_AMOUNT=40,b.SIZE=parseInt(u("scrollbar-size"),10),e.exports=b},function(e,t,n){"use strict";var r=n(200),o={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=o},function(e,t,n){"use strict";(function(t){var n=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout;e.exports=n}).call(this,n(45))},function(e,t,n){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){"use strict";var r={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};function o(e){if(r.hasOwnProperty(e))return r[e];throw new Error('cssVar("'+e+'"): Unexpected class transformation.')}o.CSS_VARS=r,e.exports=o},function(e,t,n){"use strict";var r=n(452),o={hasCSSAnimations:function(){return!!r("animationName")},hasCSSTransforms:function(){return!!r("transform")},hasCSS3DTransforms:function(){return!!r("perspective")},hasCSSTransitions:function(){return!!r("transition")}};e.exports=o},function(e,t,n){"use strict";var r=/-(.)/g;e.exports=function(e){return e.replace(r,(function(e,t){return t.toUpperCase()}))}},function(e,t,n){"use strict";var r=n(84),o=n(94),i=n(833),a=n(453),s=n(138),l=n(200),c=n(201),u=n(255),d=n(1),h=o({propTypes:{isScrolling:d.bool,defaultRowHeight:d.number.isRequired,firstRowIndex:d.number.isRequired,firstRowOffset:d.number.isRequired,fixedColumns:d.array.isRequired,height:d.number.isRequired,offsetTop:d.number.isRequired,onRowClick:d.func,onRowDoubleClick:d.func,onRowMouseDown:d.func,onRowMouseEnter:d.func,onRowMouseLeave:d.func,rowClassNameGetter:d.func,rowsCount:d.number.isRequired,rowHeightGetter:d.func,rowPositionGetter:d.func.isRequired,scrollLeft:d.number.isRequired,scrollableColumns:d.array.isRequired,showLastRowBorder:d.bool,width:d.number.isRequired},getInitialState:function(){return this._rowBuffer=new i(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(e){e.rowsCount===this.props.rowsCount&&e.defaultRowHeight===this.props.defaultRowHeight&&e.height===this.props.height||(this._rowBuffer=new i(e.rowsCount,e.defaultRowHeight,e.height,this._getRowHeight)),this.props.isScrolling&&!e.isScrolling?this._updateBuffer():this.setState({rowsToRender:this._rowBuffer.getRows(e.firstRowIndex,e.firstRowOffset)})},_updateBuffer:function(){this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var e=this.props,t=e.rowClassNameGetter||l,n=e.rowPositionGetter,o=this.state.rowsToRender;this._staticRowArray.length=o.length;for(var i=0;i<o.length;++i){var d=o[i],h=this._getRowHeight(d),p=n(d),f=d===e.rowsCount-1&&e.showLastRowBorder;this._staticRowArray[i]=r.createElement(a,{key:i,isScrolling:e.isScrolling,index:d,width:e.width,height:h,scrollLeft:Math.round(e.scrollLeft),offsetTop:Math.round(p),fixedColumns:e.fixedColumns,scrollableColumns:e.scrollableColumns,onClick:e.onRowClick,onDoubleClick:e.onRowDoubleClick,onMouseDown:e.onRowMouseDown,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,className:c(t(d),s("public/fixedDataTable/bodyRow"),s({"fixedDataTableLayout/hasBottomBorder":f,"public/fixedDataTable/hasBottomBorder":f}))})}var m=e.rowPositionGetter(e.firstRowIndex),g={position:"absolute",pointerEvents:e.isScrolling?"none":"auto"};return u(g,0,e.firstRowOffset-m+e.offsetTop),r.createElement("div",{style:g},this._staticRowArray)},_getRowHeight:function(e){return this.props.rowHeightGetter?this.props.rowHeightGetter(e):this.props.defaultRowHeight}});e.exports=h},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(834),i=n(363),a=n(256),s=function(){function e(t,n,r,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),a(0!==n,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new o,this._defaultRowHeight=n,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(r/n)+1,this._bufferRowsCount=i(Math.floor(this._maxVisibleRowCount/2),3,6),this._rowsCount=t,this._rowHeightGetter=s,this._rows=[],this._viewportHeight=r,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return r(e,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var e=2*this._bufferRowsCount,t=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);t<this._viewportRowsBegin;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;for(t=this._viewportRowsEnd;t<this._rowsCount&&e>0;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;return this._rows}},{key:"getRows",value:function(e,t){var n=t,r=e,o=Math.min(e+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=e;r<o||n<this._viewportHeight&&r<this._rowsCount;)this._addRowToBuffer(r,e,o-1),n+=this._rowHeightGetter(r),++r,this._viewportRowsEnd=r;return this._rows}},{key:"_addRowToBuffer",value:function(e,t,n){var r=this._bufferSet.getValuePosition(e),o=n-t+1+2*this._bufferRowsCount;null===r&&this._bufferSet.getSize()>=o&&(r=this._bufferSet.replaceFurthestValuePosition(t,n,e)),null===r?(r=this._bufferSet.getNewPositionForValue(e),this._rows[r]=e):this._rows[r]=e}}]),e}();e.exports=s},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(835),i=n(256),a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._valueToPositionMap={},this._size=0,this._smallValues=new o([],this._smallerComparator),this._largeValues=new o([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return r(e,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(e){return void 0===this._valueToPositionMap[e]?null:this._valueToPositionMap[e]}},{key:"getNewPositionForValue",value:function(e){i(void 0===this._valueToPositionMap[e],"Shouldn't try to find new position for value already stored in BufferSet");var t=this._size;return this._size++,this._pushToHeaps(t,e),this._valueToPositionMap[e]=t,t}},{key:"replaceFurthestValuePosition",value:function(e,t,n){if(i(void 0===this._valueToPositionMap[n],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var r,o=this._smallValues.peek().value,a=this._largeValues.peek().value;if(o>=e&&a<=t)return null;e-o>a-t?(r=o,this._smallValues.pop()):(r=a,this._largeValues.pop());var s=this._valueToPositionMap[r];return delete this._valueToPositionMap[r],this._valueToPositionMap[n]=s,this._pushToHeaps(s,n),s}},{key:"_pushToHeaps",value:function(e,t){var n={position:e,value:t};this._smallValues.push(n),this._largeValues.push(n)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var e=Math.min(this._smallValues.size(),this._largeValues.size());Math.max(this._smallValues.size(),this._largeValues.size())>10*e&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var e=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,t=new o([],this._smallerComparator),n=new o([],this._greaterComparator);!e.empty();){var r=e.pop();void 0!==this._valueToPositionMap[r.value]&&(t.push(r),n.push(r))}this._smallValues=t,this._largeValues=n}},{key:"_cleanHeap",value:function(e){for(;!e.empty()&&void 0===this._valueToPositionMap[e.peek().value];)e.pop()}},{key:"_smallerComparator",value:function(e,t){return e.value<t.value}},{key:"_greaterComparator",value:function(e,t){return e.value>t.value}}]),e}();e.exports=a},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function o(e,t){return e<t}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=t||[],this._size=this._items.length,this._comparator=n||o,this._heapify()}return r(e,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var e=this._items[0],t=this._items.pop();return this._size--,this._size>0&&(this._items[0]=t,this._sinkDown(0)),e}}},{key:"push",value:function(e){this._items[this._size++]=e,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){if(0!==this._size)return this._items[0]}},{key:"_heapify",value:function(){for(var e=Math.floor((this._size+1)/2);e>=0;e--)this._sinkDown(e)}},{key:"_bubbleUp",value:function(e){for(var t=this._items[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this._items[n];if(this._comparator(r,t))return;this._items[n]=t,this._items[e]=r,e=n}}},{key:"_sinkDown",value:function(e){for(var t=this._items[e];;){var n=2*(e+1)-1,r=2*(e+1),o=-1;if(n<this._size){var i=this._items[n];this._comparator(i,t)&&(o=n)}if(r<this._size){var a=this._items[r];this._comparator(a,t)&&(-1===o||this._comparator(a,this._items[o]))&&(o=r)}if(-1===o)return;this._items[e]=this._items[o],this._items[o]=t,e=o}}}]),e}();e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(454),i=n(84),a=n(94),s=n(837),l=n(138),c=n(255),u=n(1),d=o.DIR_SIGN,h=a({propTypes_DISABLED_FOR_PERFORMANCE:{columns:u.array.isRequired,isScrolling:u.bool,left:u.number,onColumnResize:u.func,rowHeight:u.number.isRequired,rowIndex:u.number.isRequired,width:u.number.isRequired,zIndex:u.number.isRequired},render:function(){for(var e=this.props,t=e.columns,n=new Array(t.length),r=0,o=0,a=t.length;o<a;o++){var s=t[o].props;if(!s.allowCellsRecycling||r-e.left<=e.width&&r-e.left+s.width>=0){var u="cell_"+o;n[o]=this._renderCell(e.rowIndex,e.rowHeight,s,r,u)}r+=s.width}var h=this._getColumnsWidth(t),p={height:e.height,position:"absolute",width:h,zIndex:e.zIndex};return c(p,-1*d*e.left,0),i.createElement("div",{className:l("fixedDataTableCellGroupLayout/cellGroup"),style:p},n)},_renderCell:function(e,t,n,r,o){var a=n.isResizable&&this.props.onColumnResize?this.props.onColumnResize:null,l=n.cellClassName;return i.createElement(s,{isScrolling:this.props.isScrolling,align:n.align,className:l,height:t,key:o,maxWidth:n.maxWidth,minWidth:n.minWidth,onColumnResize:a,rowIndex:e,columnKey:n.columnKey,width:n.width,left:r,cell:n.cell})},_getColumnsWidth:function(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}}),p=a({propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:u.bool,height:u.number.isRequired,offsetLeft:u.number,left:u.number,zIndex:u.number.isRequired},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex||this.props.left!==e.left},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var e=this.props,t=e.offsetLeft,n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["offsetLeft"]),o={height:n.height};1===d?o.left=t:o.right=t;var a=n.onColumnResize?this._onColumnResize:null;return i.createElement("div",{style:o,className:l("fixedDataTableCellGroupLayout/cellGroupWrapper")},i.createElement(h,r({},n,{onColumnResize:a})))},_onColumnResize:function(e,t,n,r,o,i){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,e-this.props.left+t,t,n,r,o,i)}});e.exports=p},function(e,t,n){"use strict";var r=n(364),o=n(454),i=n(84),a=n(94),s=n(138),l=n(201),c=o.DIR_SIGN,u=n(1),d={align:"left",highlighted:!1},h=a({propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:u.bool,align:u.oneOf(["left","center","right"]),className:u.string,highlighted:u.bool,width:u.number.isRequired,minWidth:u.number,maxWidth:u.number,height:u.number.isRequired,cell:u.oneOfType([u.string,u.element,u.func]),columnKey:u.oneOfType([u.string,u.number]),rowIndex:u.number.isRequired,onColumnResize:u.func,left:u.number},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex},getDefaultProps:function(){return d},render:function(){var e=this.props,t=e.height,n=e.width,o=e.columnKey,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["height","width","columnKey"]),u={height:t,width:n};1===c?u.left=a.left:u.right=a.left;var d,h=l(s({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":a.lastChild,"fixedDataTableCellLayout/alignRight":"right"===a.align,"fixedDataTableCellLayout/alignCenter":"center"===a.align,"public/fixedDataTableCell/alignRight":"right"===a.align,"public/fixedDataTableCell/highlighted":a.highlighted,"public/fixedDataTableCell/main":!0}),a.className);if(a.onColumnResize){var p={height:t};d=i.createElement("div",{className:s("fixedDataTableCellLayout/columnResizerContainer"),style:p,onMouseDown:this._onColumnResizerMouseDown},i.createElement("div",{className:l(s("fixedDataTableCellLayout/columnResizerKnob"),s("public/fixedDataTableCell/columnResizerKnob")),style:p}))}var f,m={columnKey:o,height:t,width:n};return a.rowIndex>=0&&(m.rowIndex=a.rowIndex),f=i.isValidElement(a.cell)?i.cloneElement(a.cell,m):"function"==typeof a.cell?a.cell(m):i.createElement(r,m,a.cell),i.createElement("div",{className:h,style:u},d,f)},_onColumnResizerMouseDown:function(e){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.columnKey,e)}});e.exports=h},function(e,t,n){"use strict";var r=n(451),o=n(455),i=n(84),a=n(94),s=n(362),l=n(363),c=n(138),u=n(1),d=a({mixins:[s],propTypes:{visible:u.bool.isRequired,height:u.number.isRequired,leftOffset:u.number.isRequired,knobHeight:u.number.isRequired,initialWidth:u.number,minWidth:u.number,maxWidth:u.number,initialEvent:u.object,onColumnResizeEnd:u.func,columnKey:u.oneOfType([u.string,u.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(e){e.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(e.initialEvent),this.setState({width:e.initialWidth,cursorDelta:e.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new r(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var e={width:this.state.width,height:this.props.height};return o.isRTL()?e.right=this.props.leftOffset:e.left=this.props.leftOffset,i.createElement("div",{className:c({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:e},i.createElement("div",{className:c("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(e){o.isRTL()&&(e=-e);var t=this.state.cursorDelta+e,n=l(t,this.props.minWidth,this.props.maxWidth);this.setState({width:n,cursorDelta:t})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(840),i=n(363),a={index:0,offset:0,position:0,contentHeight:0},s=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rowOffsets=o.uniform(t,n),this._storedHeights=new Array(t);for(var a=0;a<t;++a)this._storedHeights[a]=n;this._rowCount=t,this._position=0,this._contentHeight=t*n,this._defaultRowHeight=n,this._rowHeightGetter=i||function(){return n},this._viewportHeight=r,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return r(e,[{key:"setRowHeightGetter",value:function(e){this._rowHeightGetter=e}},{key:"setViewportHeight",value:function(e){this._viewportHeight=e}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(e,t){for(var n=t,r=e;n<=this._viewportHeight&&r<this._rowCount;)this._updateRowHeight(r),n+=this._storedHeights[r],r++}},{key:"_updateHeightsAboveViewport",value:function(e){for(var t=e-1;t>=0&&t>=e-5;){var n=this._updateRowHeight(t);this._position+=n,t--}}},{key:"_updateRowHeight",value:function(e){if(e<0||e>=this._rowCount)return 0;var t=this._rowHeightGetter(e);if(t!==this._storedHeights[e]){var n=t-this._storedHeights[e];return this._rowOffsets.set(e,t),this._storedHeights[e]=t,this._contentHeight+=n,n}return 0}},{key:"getRowPosition",value:function(e){return this._updateRowHeight(e),this._rowOffsets.sumUntil(e)}},{key:"scrollBy",value:function(e){if(0===this._rowCount)return a;var t=this._rowOffsets.greatestLowerBound(this._position);t=i(t,0,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(t),r=t,o=this._position,s=this._updateRowHeight(r);0!==n&&(o+=s);var l=this._storedHeights[r]-(o-n);if(e>=0)for(;e>0&&r<this._rowCount;)e<l?(o+=e,e=0):(e-=l,o+=l,r++),r<this._rowCount&&(this._updateRowHeight(r),l=this._storedHeights[r]);else if(e<0){e=-e;for(var c=this._storedHeights[r]-l;e>0&&r>=0;)if(e<c?(o-=e,e=0):(o-=c,e-=c,r--),r>=0){var u=this._updateRowHeight(r);c=this._storedHeights[r],o+=u}}var d=this._contentHeight-this._viewportHeight;o=i(o,0,d),this._position=o;var h=this._rowOffsets.greatestLowerBound(o);h=i(h,0,Math.max(this._rowCount-1,0));var p=(n=this._rowOffsets.sumUntil(h))-o;return this._updateHeightsInViewport(h,p),this._updateHeightsAboveViewport(h),{index:h,offset:p,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(e){this._updateRowHeight(e);for(var t=e,n=this._storedHeights[t];n<this._viewportHeight&&t>=0;)--t>=0&&(this._updateRowHeight(t),n+=this._storedHeights[t]);var r=this._rowOffsets.sumTo(e)-this._viewportHeight;return r<0&&(r=0),r}},{key:"scrollTo",value:function(e){if(0===this._rowCount)return a;if(e<=0)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(e>=this._contentHeight-this._viewportHeight){var t=this._rowCount-1;e=this._getRowAtEndPosition(t)}this._position=e;var n=this._rowOffsets.greatestLowerBound(e);n=i(n,0,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(n)-e;return this._updateHeightsInViewport(n,r),this._updateHeightsAboveViewport(n),{index:n,offset:r,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(e,t){e=i(e,0,Math.max(this._rowCount-1,0)),t=i(t,-this._storedHeights[e],0);var n=this._rowOffsets.sumUntil(e);return this.scrollTo(n-t)}},{key:"scrollRowIntoView",value:function(e){e=i(e,0,Math.max(this._rowCount-1,0));var t=this._rowOffsets.sumUntil(e),n=t+this._storedHeights[e];if(t<this._position)return this.scrollTo(t);if(this._position+this._viewportHeight<n){var r=this._getRowAtEndPosition(e);return this.scrollTo(r)}return this.scrollTo(this._position)}}]),e}();e.exports=s},function(e,t,n){"use strict";(function(t){var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=n(256),i=function(e){return Math.floor(e/2)},a=t.Int32Array||function(e){for(var t=[],n=e-1;n>=0;--n)t[n]=0;return t};var s=function(){function e(t){var n;for(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._size=t.length,this._half=function(e){for(var t=1;t<e;)t*=2;return t}(this._size),this._heap=new a(2*this._half),n=0;n<this._size;++n)this._heap[this._half+n]=t[n];for(n=this._half-1;n>0;--n)this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}return r(e,[{key:"set",value:function(e,t){o(0<=e&&e<this._size,"Index out of range %s",e);var n=this._half+e;for(this._heap[n]=t,n=i(n);0!==n;n=i(n))this._heap[n]=this._heap[2*n]+this._heap[2*n+1]}},{key:"get",value:function(e){o(0<=e&&e<this._size,"Index out of range %s",e);var t=this._half+e;return this._heap[t]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(e){if(o(0<=e&&e<this._size+1,"Index out of range %s",e),0===e)return 0;for(var t=this._half+e-1,n=this._heap[t];1!==t;t=i(t))t%2==1&&(n+=this._heap[t-1]);return n}},{key:"sumTo",value:function(e){return o(0<=e&&e<this._size,"Index out of range %s",e),this.sumUntil(e+1)}},{key:"sum",value:function(e,t){return o(e<=t,"Begin must precede end"),this.sumUntil(t)-this.sumUntil(e)}},{key:"greatestLowerBound",value:function(e){if(e<0)return-1;var t=1;if(this._heap[t]<=e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"greatestStrictLowerBound",value:function(e){if(e<=0)return-1;var t=1;if(this._heap[t]<e)return this._size;for(;t<this._half;){var n=this._heap[2*t];e<=n?t*=2:(t=2*t+1,e-=n)}return t-this._half}},{key:"leastUpperBound",value:function(e){return this.greatestStrictLowerBound(e)+1}},{key:"leastStrictUpperBound",value:function(e){return this.greatestLowerBound(e)+1}}],[{key:"uniform",value:function(t,n){for(var r=[],o=t-1;o>=0;--o)r[o]=n;return new e(r)}},{key:"empty",value:function(t){return e.uniform(t,0)}}]),e}();e.exports=s}).call(this,n(45))},function(e,t,n){"use strict";var r=n(84);function o(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.width;return t}function i(e){for(var t=0,n=0;n<e.length;++n)t+=e[n].props.flexGrow||0;return t}function a(e,t){if(t<=0)return{columns:e,width:o(e)};for(var n=i(e),a=t,s=[],l=0,c=0;c<e.length;++c){var u=e[c];if(u.props.flexGrow){var d=Math.floor(u.props.flexGrow/n*a),h=Math.floor(u.props.width+d);l+=h,n-=u.props.flexGrow,a-=d,s.push(r.cloneElement(u,{width:h}))}else l+=u.props.width,s.push(u)}return{columns:s,width:l}}var s={getTotalWidth:o,getTotalFlexGrow:i,distributeFlexWidth:a,adjustColumnWidths:function(e,t){var n=o(e);return n<t?a(e,t-n).columns:e},adjustColumnGroupWidths:function(e,t){var n,s=[];for(n=0;n<e.length;++n)r.Children.forEach(e[n].props.children,(function(e){s.push(e)}));var l=o(s),c=i(s),u=Math.max(t-l,0),d=[],h=[];for(n=0;n<e.length;++n){var p=e[n],f=[];r.Children.forEach(p.props.children,(function(e){f.push(e)}));var m=i(f),g=Math.floor(m/c*u),v=a(f,g);c-=m,u-=g;for(var y=0;y<v.columns.length;++y)d.push(v.columns[y]);h.push(r.cloneElement(p,{width:v.width}))}return{columns:d,columnGroups:h}}};e.exports=s},function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){var i;function a(){for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];a.reset();var c=function(){e.apply(n,s)};c.__SMmeta=e.__SMmeta,i=r(c,t)}return r=r||setTimeout,o=o||clearTimeout,a.reset=function(){o(i)},a}},function(e,t,n){"use strict";n(84);var r=n(94),o=n(1),i=r({statics:{__TableColumn__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func]),cell:o.oneOfType([o.node,o.func]),footer:o.oneOfType([o.node,o.func]),columnKey:o.oneOfType([o.string,o.number]),width:o.number.isRequired,minWidth:o.number,maxWidth:o.number,flexGrow:o.number,isResizable:o.bool,allowCellsRecycling:o.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){return null}});e.exports=i},function(e,t,n){"use strict";n(84);var r=n(94),o=n(1),i=r({statics:{__TableColumnGroup__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func])},getDefaultProps:function(){return{fixed:!1}},render:function(){return null}});e.exports=i},function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(84),i=n(1),a=n(94),s=n(138),l=n(201),c=n(458),u=n(364),d=a({propTypes:{label:i.string,className:i.string,rowIndex:i.number,rowGetter:i.func,dataKey:i.oneOfType([i.string,i.number]),cellRenderer:i.func,cellDataGetter:i.func,footerDataGetter:i.func,footerData:i.any,columnData:i.any,width:i.number,height:i.number,isHeaderCell:i.bool,isFooterCell:i.bool},shouldComponentUpdate:function(e){var t,n,r=!1;return e.rowGetter&&(t=e.rowGetter(e.rowIndex),this._rowData!==t&&(r=!0)),null!=e.dataKey&&(e.cellDataGetter&&(n=e.cellDataGetter(e.dataKey,t)),!n&&t&&(n=t[e.dataKey])),this._cellData!==n&&(r=!0),this._rowData=t,this._cellData=n,r||!c(e,this.props)},_getCellData:function(e){var t,n=e.dataKey;return null==n?null:(e.rowGetter&&(t=e.rowGetter(e.rowIndex)),e.cellDataGetter?e.cellDataGetter(n,t):t?t[n]:e.footerDataGetter?e.footerDataGetter()[n]:e.footerData?e.footerData[n]:e.headerDataGetter?e.headerDataGetter[n]:void 0)},_getRowData:function(e){return e.rowGetter?e.rowGetter(e.rowIndex)||{}:e.footerDataGetter?e.footerDataGetter()||{}:e.footerData&&e.footerData||{}},render:function(){var e=this.props,t=this._getCellData(e),n=t,i=this._getRowData(e),a=!(!e.cellRenderer&&!e.groupHeaderRenderer);(e.isHeaderCell||e.isFooterCell)&&(n=n||e.label),e.cellRenderer&&(n=e.isHeaderCell||e.isFooterCell?e.cellRenderer(e.label,e.dataKey,e.columnData,i,e.width)||e.label:e.cellRenderer(t,e.dataKey,i,e.rowIndex,e.columnData,e.width)),e.groupHeaderRenderer&&(n=e.groupHeaderRenderer(e.label,e.dataKey,e.groupHeaderData,e.groupHeaderLabels,e.width)||n);var c=s("public/fixedDataTableCell/cellContent");if(!o.isValidElement(n)||!a)return o.createElement(u,e,n);n=o.cloneElement(n,{className:l(n.props.className,c)});var d=r({height:e.height,width:e.width},e.style);return o.createElement("div",r({},this.props,{className:l(s("fixedDataTableCellLayout/wrap1"),s("public/fixedDataTableCell/wrap1"),this.props.className),style:d}),o.createElement("div",{className:l(s("fixedDataTableCellLayout/wrap2"),s("public/fixedDataTableCell/wrap2"))},o.createElement("div",{className:l(s("fixedDataTableCellLayout/wrap3"),s("public/fixedDataTableCell/wrap3"))},n)))}});e.exports=d},function(e,t,n){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(o,i,a,s){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=i.createElement("div"),d=Math.round,h=Math.abs,p=Date.now;function f(e,t,n){return setTimeout(w(e,n),t)}function m(e,t,n){return!!Array.isArray(e)&&(g(e,n[t],n),!0)}function g(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function v(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,r,n),e.apply(this,arguments)}}l="function"!=typeof Object.assign?function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)r.hasOwnProperty(o)&&(t[o]=r[o])}return t}:Object.assign;var y=v((function(e,t,n){for(var r=Object.keys(t),o=0;o<r.length;)(!n||n&&void 0===e[r[o]])&&(e[r[o]]=t[r[o]]),o++;return e}),"extend","Use `assign`."),b=v((function(e,t){return y(e,t,!0)}),"merge","Use `assign`.");function _(e,t,n){var r,o=t.prototype;(r=e.prototype=Object.create(o)).constructor=e,r._super=o,n&&l(r,n)}function w(e,t){return function(){return e.apply(t,arguments)}}function C(e,t){return"function"==typeof e?e.apply(t&&t[0]||void 0,t):e}function S(e,t){return void 0===e?t:e}function E(e,t,n){g(T(t),(function(t){e.addEventListener(t,n,!1)}))}function x(e,t,n){g(T(t),(function(t){e.removeEventListener(t,n,!1)}))}function k(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function O(e,t){return e.indexOf(t)>-1}function T(e){return e.trim().split(/\s+/g)}function M(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}function P(e){return Array.prototype.slice.call(e,0)}function L(e,t,n){for(var r=[],o=[],i=0;i<e.length;){var a=t?e[i][t]:e[i];M(o,a)<0&&r.push(e[i]),o[i]=a,i++}return n&&(r=t?r.sort((function(e,n){return e[t]>n[t]})):r.sort()),r}function N(e,t){for(var n,r,o=t[0].toUpperCase()+t.slice(1),i=0;i<c.length;){if((r=(n=c[i])?n+o:t)in e)return r;i++}}var A=1;function I(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}var R="ontouchstart"in o,D=void 0!==N(o,"PointerEvent"),j=R&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),z=["x","y"],F=["clientX","clientY"];function B(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){C(e.options.enable,[e])&&n.handler(t)},this.init()}function W(e,t,n){var r=n.pointers.length,o=n.changedPointers.length,i=1&t&&r-o==0,a=12&t&&r-o==0;n.isFirst=!!i,n.isFinal=!!a,i&&(e.session={}),n.eventType=t,function(e,t){var n=e.session,r=t.pointers,o=r.length;n.firstInput||(n.firstInput=H(t));o>1&&!n.firstMultiple?n.firstMultiple=H(t):1===o&&(n.firstMultiple=!1);var i=n.firstInput,a=n.firstMultiple,s=a?a.center:i.center,l=t.center=U(r);t.timeStamp=p(),t.deltaTime=t.timeStamp-i.timeStamp,t.angle=q(s,l),t.distance=Y(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},o=e.prevDelta||{},i=e.prevInput||{};1!==t.eventType&&4!==i.eventType||(o=e.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y});t.deltaX=o.x+(n.x-r.x),t.deltaY=o.y+(n.y-r.y)}(n,t),t.offsetDirection=V(t.deltaX,t.deltaY);var c=G(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=h(c.x)>h(c.y)?c.x:c.y,t.scale=a?(u=a.pointers,d=r,Y(d[0],d[1],F)/Y(u[0],u[1],F)):1,t.rotation=a?function(e,t){return q(t[1],t[0],F)+q(e[1],e[0],F)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,o,i,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!=t.eventType&&(s>25||void 0===a.velocity)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,u=G(s,l,c);r=u.x,o=u.y,n=h(u.x)>h(u.y)?u.x:u.y,i=V(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,o=a.velocityY,i=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=o,t.direction=i}(n,t);var u,d;var f=e.element;k(t.srcEvent.target,f)&&(f=t.srcEvent.target);t.target=f}(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function H(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:d(e.pointers[n].clientX),clientY:d(e.pointers[n].clientY)},n++;return{timeStamp:p(),pointers:t,center:U(t),deltaX:e.deltaX,deltaY:e.deltaY}}function U(e){var t=e.length;if(1===t)return{x:d(e[0].clientX),y:d(e[0].clientY)};for(var n=0,r=0,o=0;o<t;)n+=e[o].clientX,r+=e[o].clientY,o++;return{x:d(n/t),y:d(r/t)}}function G(e,t,n){return{x:t/e||0,y:n/e||0}}function V(e,t){return e===t?1:h(e)>=h(t)?e<0?2:4:t<0?8:16}function Y(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return Math.sqrt(r*r+o*o)}function q(e,t,n){n||(n=z);var r=t[n[0]]-e[n[0]],o=t[n[1]]-e[n[1]];return 180*Math.atan2(o,r)/Math.PI}B.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(I(this.element),this.evWin,this.domHandler)}};var Z={mousedown:1,mousemove:2,mouseup:4};function $(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,B.apply(this,arguments)}_($,B,{handler:function(e){var t=Z[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:"mouse",srcEvent:e}))}});var K={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},X={2:"touch",3:"pen",4:"mouse",5:"kinect"},Q="pointerdown",J="pointermove pointerup pointercancel";function ee(){this.evEl=Q,this.evWin=J,B.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}o.MSPointerEvent&&!o.PointerEvent&&(Q="MSPointerDown",J="MSPointerMove MSPointerUp MSPointerCancel"),_(ee,B,{handler:function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),o=K[r],i=X[e.pointerType]||e.pointerType,a="touch"==i,s=M(t,e.pointerId,"pointerId");1&o&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&o&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,o,{pointers:t,changedPointers:[e],pointerType:i,srcEvent:e}),n&&t.splice(s,1))}});var te={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ne(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,B.apply(this,arguments)}function re(e,t){var n=P(e.touches),r=P(e.changedTouches);return 12&t&&(n=L(n.concat(r),"identifier",!0)),[n,r]}_(ne,B,{handler:function(e){var t=te[e.type];if(1===t&&(this.started=!0),this.started){var n=re.call(this,e,t);12&t&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}}});var oe={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ie(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},B.apply(this,arguments)}function ae(e,t){var n=P(e.touches),r=this.targetIds;if(3&t&&1===n.length)return r[n[0].identifier]=!0,[n,n];var o,i,a=P(e.changedTouches),s=[],l=this.target;if(i=n.filter((function(e){return k(e.target,l)})),1===t)for(o=0;o<i.length;)r[i[o].identifier]=!0,o++;for(o=0;o<a.length;)r[a[o].identifier]&&s.push(a[o]),12&t&&delete r[a[o].identifier],o++;return s.length?[L(i.concat(s),"identifier",!0),s]:void 0}_(ie,B,{handler:function(e){var t=oe[e.type],n=ae.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:e})}});function se(){B.apply(this,arguments);var e=w(this.handler,this);this.touch=new ie(this.manager,e),this.mouse=new $(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function le(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,ce.call(this,t)):12&e&&ce.call(this,t)}function ce(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout((function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)}),2500)}}function ue(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var o=this.lastTouches[r],i=Math.abs(t-o.x),a=Math.abs(n-o.y);if(i<=25&&a<=25)return!0}return!1}_(se,B,{handler:function(e,t,n){var r="touch"==n.pointerType,o="mouse"==n.pointerType;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)le.call(this,t,n);else if(o&&ue.call(this,n))return;this.callback(e,t,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var de=N(u.style,"touchAction"),he=void 0!==de,pe=function(){if(!he)return!1;var e={},t=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(n){e[n]=!t||o.CSS.supports("touch-action",n)})),e}();function fe(e,t){this.manager=e,this.set(t)}fe.prototype={set:function(e){"compute"==e&&(e=this.compute()),he&&this.manager.element.style&&pe[e]&&(this.manager.element.style[de]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return g(this.manager.recognizers,(function(t){C(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))})),function(e){if(O(e,"none"))return"none";var t=O(e,"pan-x"),n=O(e,"pan-y");if(t&&n)return"none";if(t||n)return t?"pan-x":"pan-y";if(O(e,"manipulation"))return"manipulation";return"auto"}(e.join(" "))},preventDefaults:function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,o=O(r,"none")&&!pe.none,i=O(r,"pan-y")&&!pe["pan-y"],a=O(r,"pan-x")&&!pe["pan-x"];if(o){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}if(!a||!i)return o||i&&6&n||a&&24&n?this.preventSrc(t):void 0}},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};function me(e){this.options=l({},this.defaults,e||{}),this.id=A++,this.manager=null,this.options.enable=S(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function ge(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function ve(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function ye(e,t){var n=t.manager;return n?n.get(e):e}function be(){me.apply(this,arguments)}function _e(){be.apply(this,arguments),this.pX=null,this.pY=null}function we(){be.apply(this,arguments)}function Ce(){me.apply(this,arguments),this._timer=null,this._input=null}function Se(){be.apply(this,arguments)}function Ee(){be.apply(this,arguments)}function xe(){me.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ke(e,t){return(t=t||{}).recognizers=S(t.recognizers,ke.defaults.preset),new Oe(e,t)}me.prototype={defaults:{},set:function(e){return l(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(m(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=ye(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return m(e,"dropRecognizeWith",this)?this:(e=ye(e,this),delete this.simultaneous[e.id],this)},requireFailure:function(e){if(m(e,"requireFailure",this))return this;var t=this.requireFail;return-1===M(t,e=ye(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(m(e,"dropRequireFailure",this))return this;e=ye(e,this);var t=M(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+ge(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+ge(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var t=l({},e);if(!C(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},_(be,me,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,n=e.eventType,r=6&t,o=this.attrTest(e);return r&&(8&n||!o)?16|t:r||o?4&n?8|t:2&t?4|t:2:32}}),_(_e,be,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,t=[];return 6&e&&t.push("pan-y"),24&e&&t.push("pan-x"),t},directionTest:function(e){var t=this.options,n=!0,r=e.distance,o=e.direction,i=e.deltaX,a=e.deltaY;return o&t.direction||(6&t.direction?(o=0===i?1:i<0?2:4,n=i!=this.pX,r=Math.abs(e.deltaX)):(o=0===a?1:a<0?8:16,n=a!=this.pY,r=Math.abs(e.deltaY))),e.direction=o,n&&r>t.threshold&&o&t.direction},attrTest:function(e){return be.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=ve(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),_(we,be,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),_(Ce,me,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime>t.time;if(this._input=e,!r||!n||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=f((function(){this.state=8,this.tryEmit()}),t.time,this);else if(4&e.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),_(Se,be,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),_(Ee,be,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return _e.prototype.getTouchAction.call(this)},attrTest:function(e){var t,n=this.options.direction;return 30&n?t=e.overallVelocity:6&n?t=e.overallVelocityX:24&n&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&h(t)>this.options.velocity&&4&e.eventType},emit:function(e){var t=ve(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),_(xe,me,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(e){var t=this.options,n=e.pointers.length===t.pointers,r=e.distance<t.threshold,o=e.deltaTime<t.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!=e.eventType)return this.failTimeout();var i=!this.pTime||e.timeStamp-this.pTime<t.interval,a=!this.pCenter||Y(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,a&&i?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=f((function(){this.state=8,this.tryEmit()}),t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=f((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ke.VERSION="2.0.7",ke.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Se,{enable:!1}],[we,{enable:!1},["rotate"]],[Ee,{direction:6}],[_e,{direction:6},["swipe"]],[xe],[xe,{event:"doubletap",taps:2},["tap"]],[Ce]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Oe(e,t){var n;this.options=l({},ke.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(D?ee:j?ie:R?se:$))(n,W),this.touchAction=new fe(this,this.options.touchAction),Te(this,!0),g(this.options.recognizers,(function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])}),this)}function Te(e,t){var n,r=e.element;r.style&&(g(e.options.cssProps,(function(o,i){n=N(r.style,i),t?(e.oldCssProps[n]=r.style[n],r.style[n]=o):r.style[n]=e.oldCssProps[n]||""})),t||(e.oldCssProps={}))}Oe.prototype={set:function(e){return l(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,o=t.curRecognizer;(!o||o&&8&o.state)&&(o=t.curRecognizer=null);for(var i=0;i<r.length;)n=r[i],2===t.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(e),!o&&14&n.state&&(o=t.curRecognizer=n),i++}},get:function(e){if(e instanceof me)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event==e)return t[n];return null},add:function(e){if(m(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(m(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,n=M(t,e);-1!==n&&(t.splice(n,1),this.touchAction.update())}return this},on:function(e,t){if(void 0!==e&&void 0!==t){var n=this.handlers;return g(T(e),(function(e){n[e]=n[e]||[],n[e].push(t)})),this}},off:function(e,t){if(void 0!==e){var n=this.handlers;return g(T(e),(function(e){t?n[e]&&n[e].splice(M(n[e],t),1):delete n[e]})),this}},emit:function(e,t){this.options.domEvents&&function(e,t){var n=i.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},destroy:function(){this.element&&Te(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(ke,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Oe,Input:B,TouchAction:fe,TouchInput:ie,MouseInput:$,PointerEventInput:ee,TouchMouseInput:se,SingleTouchInput:ne,Recognizer:me,AttrRecognizer:be,Tap:xe,Pan:_e,Swipe:Ee,Pinch:we,Rotate:Se,Press:Ce,on:E,off:x,each:g,merge:b,extend:y,assign:l,inherit:_,bindFn:w,prefixed:N}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=ke,void 0===(r=function(){return ke}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){
/*!
 * chartjs-plugin-zoom
 * http://chartjs.org/
 * Version: 0.6.5
 *
 * Copyright 2016 Evert Timberg
 * Released under the MIT license
 * https://github.com/chartjs/chartjs-plugin-zoom/blob/master/LICENSE.md
 */
!function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return o(t[a][1][e]||e)}),c,c.exports,e,t,n,r)}return n[a].exports}for(var i=!1,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){},{}],2:[function(e,t,n){var r=e("hammerjs");r="function"==typeof r?r:window.Hammer;var o=e("chart.js"),i=(o="function"==typeof o?o:window.Chart).helpers,a=o.Zoom=o.Zoom||{},s=a.zoomFunctions=a.zoomFunctions||{},l=a.panFunctions=a.panFunctions||{},c=a.defaults={pan:{enabled:!0,mode:"xy",speed:20,threshold:10},zoom:{enabled:!0,mode:"xy",sensitivity:3}};function u(e,t){return void 0===e||"string"==typeof e&&-1!==e.indexOf(t)}function d(e,t){if(e.scaleAxes&&e.rangeMax&&!i.isNullOrUndef(e.rangeMax[e.scaleAxes])){var n=e.rangeMax[e.scaleAxes];t>n&&(t=n)}return t}function h(e,t){if(e.scaleAxes&&e.rangeMin&&!i.isNullOrUndef(e.rangeMin[e.scaleAxes])){var n=e.rangeMin[e.scaleAxes];t<n&&(t=n)}return t}function p(e,t,n,r){var o=e.max-e.min,i=o*(t-1),a=e.isHorizontal()?n.x:n.y,s=(e.getValueForPixel(a)-e.min)/o,l=i*s,c=i*(1-s),u=e.min+l,p=e.max-c,f=p-u,m=h(r,f)!=f,g=d(r,f)!=f,v=e.chart.config.options.pan.rangeMin[r.scaleAxes],y=e.chart.config.options.pan.rangeMax[r.scaleAxes];m||g?g&&(e.options.ticks.min=v,e.options.ticks.max=y):(u<v?p+=v-(u+=v-u):p>y&&(u-=p-y,p-=p-y),e.options.ticks.min=u,e.options.ticks.max=p)}function f(e,t,n,r){var o=s[e.options.type];o&&o(e,t,n,r)}function m(e,t,n,r){var o=e.chartArea;n||(n={x:(o.left+o.right)/2,y:(o.top+o.bottom)/2});var a=e.options.zoom;if(a&&i.getValueOrDefault(a.enabled,c.zoom.enabled)){var s,l=i.getValueOrDefault(e.options.zoom.mode,c.zoom.mode);a.sensitivity=i.getValueOrDefault(e.options.zoom.sensitivity,c.zoom.sensitivity),s="xy"==l&&void 0!==r?r:"xy",i.each(e.scales,(function(e,r){e.isHorizontal()&&u(l,"x")&&u(s,"x")?(a.scaleAxes="x",f(e,t,n,a)):!e.isHorizontal()&&u(l,"y")&&u(s,"y")&&(a.scaleAxes="y",f(e,t,n,a))})),a.onZoom&&a.onZoom()}}function g(e,t,n){var r=e.options.ticks,o=e.start,i=e.end,a=(r.min,r.max,null),s=null;r.reverse?(s=e.getValueForPixel(e.getPixelForValue(o)-t),a=e.getValueForPixel(e.getPixelForValue(i)-t)):(a=e.getValueForPixel(e.getPixelForValue(o)-t),s=e.getValueForPixel(e.getPixelForValue(i)-t));var l=n.rangeMin[n.scaleAxes],c=n.rangeMax[n.scaleAxes];(a>l&&s<c||s<c&&s>r.max||a>l&&a<r.min)&&(r.min=a,r.max=s)}function v(e,t,n){var r=l[e.options.type];r&&r(e,t,n)}function y(e){var t=e.scales;for(var n in t){var r=t[n];if(!r.isHorizontal())return r}}a.zoomFunctions.category=function(e,t,n,r){var o=e.chart.data.labels,i=e.minIndex,s=o.length-1,l=e.maxIndex,c=r.sensitivity,u=e.isHorizontal()?e.left+e.width/2:e.top+e.height/2,p=e.isHorizontal()?n.x:n.y;a.zoomCumulativeDelta=t>1?a.zoomCumulativeDelta+1:a.zoomCumulativeDelta-1,Math.abs(a.zoomCumulativeDelta)>c&&(a.zoomCumulativeDelta<0?(p>=u?i<=0?l=Math.min(s,l+1):i=Math.max(0,i-1):p<u&&(l>=s?i=Math.max(0,i-1):l=Math.min(s,l+1)),a.zoomCumulativeDelta=0):a.zoomCumulativeDelta>0&&(p>=u?i=i<l?i=Math.min(l,i+1):i:p<u&&(l=l>i?l=Math.max(i,l-1):l),a.zoomCumulativeDelta=0),e.options.ticks.min=h(r,o[i]),e.options.ticks.max=d(r,o[l]))},a.zoomFunctions.time=function(e,t,n,r){var o,i;e.options,e.isHorizontal()?(o=e.right-e.left,i=(n.x-e.left)/o):(o=e.bottom-e.top,i=(n.y-e.top)/o);var a=o*(t-1),s=a*i,l=a*(1-i),c=e.getValueForPixel(e.getPixelForValue(e.min)+s),u=e.getValueForPixel(e.getPixelForValue(e.max)-l),p=u.diff(c),f=h(r,p)!=p,m=d(r,p)!=p,g=e.chart.config.options.pan.rangeMin[r.scaleAxes],v=e.chart.config.options.pan.rangeMax[r.scaleAxes];f||m?m&&(e.options.time.min=g,e.options.time.max=v):(c<g?u+=g-(c+=g-c):u>v&&(c-=u-v,u-=u-v),e.options.time.min=c,e.options.time.max=u)},a.zoomFunctions.linear=p,a.zoomFunctions.logarithmic=p,a.panFunctions.category=function(e,t,n){var r,o=e.chart.data.labels,i=o.length-1,s=Math.max(e.ticks.length-(e.options.gridLines.offsetGridLines?0:1),1),l=n.speed,c=e.minIndex,u=Math.round(e.width/(s*l));a.panCumulativeDelta+=t,c=a.panCumulativeDelta>u?Math.max(0,c-1):a.panCumulativeDelta<-u?Math.min(i-s+1,c+1):c,a.panCumulativeDelta=c!==e.minIndex?0:a.panCumulativeDelta,r=Math.min(i,c+s-1),e.options.ticks.min=h(n,o[c]),e.options.ticks.max=d(n,o[r])},a.panFunctions.time=function(e,t,n){var r=e.options,o=d(n,e.getValueForPixel(e.getPixelForValue(e.max)-t)),i=h(n,e.getValueForPixel(e.getPixelForValue(e.min)-t)),a=t<0?o-e.max:i-e.min;r.time.max=e.max+a,r.time.min=e.min+a},a.panFunctions.linear=g,a.panFunctions.logarithmic=g,a.panCumulativeDelta=0,a.zoomCumulativeDelta=0;var b={afterInit:function(e){i.each(e.scales,(function(e){e.originalOptions=i.clone(e.options)})),e.resetZoom=function(){i.each(e.scales,(function(e,t){var n=e.options.time,r=e.options.ticks;n&&(n.min=e.originalOptions.time.min,n.max=e.originalOptions.time.max),r&&(r.min=e.originalOptions.ticks.min,r.max=e.originalOptions.ticks.max)})),i.each(e.data.datasets,(function(e,t){e._meta=null})),e.update()}},beforeInit:function(e){e.zoom={};var t=e.zoom.node=e.chart.ctx.canvas,n=e.options,o=i.getValueOrDefault(n.pan?n.pan.threshold:void 0,a.defaults.pan.threshold);if(n.zoom&&n.zoom.enabled&&(n.zoom.drag?(n.zoom.mode="x",e.zoom._mouseDownHandler=function(t){e.zoom._dragZoomStart=t},t.addEventListener("mousedown",e.zoom._mouseDownHandler),e.zoom._mouseMoveHandler=function(t){e.zoom._dragZoomStart&&(e.zoom._dragZoomEnd=t,e.update(0))},t.addEventListener("mousemove",e.zoom._mouseMoveHandler),e.zoom._mouseUpHandler=function(t){if(e.zoom._dragZoomStart){var n=e.chartArea,r=y(e),o=e.zoom._dragZoomStart,i=o.target.getBoundingClientRect().left,a=Math.min(o.clientX,t.clientX)-i,s=Math.max(o.clientX,t.clientX)-i-a,l=n.right-n.left,c=1+(l-s)/l;e.zoom._dragZoomStart=null,e.zoom._dragZoomEnd=null,s>0&&m(e,c,{x:s/2+a,y:(r.bottom-r.top)/2})}},t.addEventListener("mouseup",e.zoom._mouseUpHandler)):(e.zoom._wheelHandler=function(t){var n=t.target.getBoundingClientRect(),r={x:t.clientX-n.left,y:t.clientY-n.top};let o=void 0;t.metaKey||t.ctrlKey?o="x":(t.altKey||t.shiftKey)&&(o="y"),t.deltaY<0?m(e,1.1,r,o):m(e,.909,r,o),t.preventDefault()},t.addEventListener("wheel",e.zoom._wheelHandler)),r)){var s,l=new r.Manager(t);l.add(new r.Pinch),l.add(new r.Pan({threshold:o}));var d=function(t){var n=1/s*t.scale,r=t.target.getBoundingClientRect(),o={x:t.center.x-r.left,y:t.center.y-r.top},i=Math.abs(t.pointers[0].clientX-t.pointers[1].clientX),a=Math.abs(t.pointers[0].clientY-t.pointers[1].clientY),l=i/a;m(e,n,o,l>.3&&l<1.7?"xy":i>a?"x":"y"),s=t.scale};l.on("pinchstart",(function(e){s=1})),l.on("pinch",d),l.on("pinchend",(function(e){d(e),s=null,a.zoomCumulativeDelta=0}));var h=null,p=null,f=!1,g=function(t){if(null!==h&&null!==p){f=!0;var n=t.deltaX-h,r=t.deltaY-p;h=t.deltaX,p=t.deltaY,function(e,t,n){var r=e.options.pan;if(r&&i.getValueOrDefault(r.enabled,c.pan.enabled)){var o=i.getValueOrDefault(e.options.pan.mode,c.pan.mode);r.speed=i.getValueOrDefault(e.options.pan.speed,c.pan.speed),i.each(e.scales,(function(e,i){e.isHorizontal()&&u(o,"x")&&0!==t?(r.scaleAxes="x",v(e,t,r)):!e.isHorizontal()&&u(o,"y")&&0!==n&&(r.scaleAxes="y",v(e,n,r))})),r.onPan&&r.onPan()}}(e,n,r)}};l.on("panstart",(function(e){h=0,p=0,g(e)})),l.on("panmove",g),l.on("panend",(function(e){h=null,p=null,a.panCumulativeDelta=0,setTimeout((function(){f=!1}),500)})),e.zoom._ghostClickHandler=function(e){f&&(e.stopImmediatePropagation(),e.preventDefault())},t.addEventListener("click",e.zoom._ghostClickHandler),e._mc=l}},beforeDatasetsDraw:function(e){var t=e.chart.ctx,n=e.chartArea;if(t.save(),t.beginPath(),e.zoom._dragZoomEnd){var r=y(e),o=e.zoom._dragZoomStart,i=e.zoom._dragZoomEnd,a=o.target.getBoundingClientRect().left,s=Math.min(o.clientX,i.clientX)-a,l=Math.max(o.clientX,i.clientX)-a-s;t.fillStyle="rgba(225,225,225,0.3)",t.lineWidth=5,t.fillRect(s,r.top,l,r.bottom-r.top)}t.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),t.clip()},afterDatasetsDraw:function(e){e.chart.ctx.restore()},destroy:function(e){if(e.zoom){var t=e.options,n=e.zoom.node;t.zoom&&t.zoom.drag?(n.removeEventListener("mousedown",e.zoom._mouseDownHandler),n.removeEventListener("mousemove",e.zoom._mouseMoveHandler),n.removeEventListener("mouseup",e.zoom._mouseUpHandler)):n.removeEventListener("wheel",e.zoom._wheelHandler),r&&n.removeEventListener("click",e.zoom._ghostClickHandler),delete e.zoom;var o=e._mc;o&&(o.remove("pinchstart"),o.remove("pinch"),o.remove("pinchend"),o.remove("panstart"),o.remove("pan"),o.remove("panend"))}}};t.exports=b,o.pluginService.register(b)},{"chart.js":1,hammerjs:1}]},{},[2])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(1)),o=n(0),i=u(o),a=u(n(849)),s=u(n(851)),l=u(n(180)),c=u(n(459));function u(e){return e&&e.__esModule?e:{default:e}}var d={className:r.default.string,children:r.default.arrayOf((function(e,t,n){return e[t].type!==c.default&&new Error("Invalid prop 'children["+t+"]' supplied to '"+n+"', expected 'Radio'")})),name:r.default.string.isRequired,onChange:r.default.func,value:r.default.oneOfType([r.default.number,r.default.string])},h=function(e){var t=e.className,n=e.name,r=e.onChange,c=e.value,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","name","onChange","value"]),d=o.Children.map(u.children,(function(e){var t=e.props,a=t.id,u=t.children,d=t.value,h=a||"radio-"+(n||"")+"-"+d,p=(0,o.cloneElement)(e,{checked:d===c,id:h,name:n,onChange:r});return i.default.createElement(s.default,null,i.default.createElement(l.default,{id:h},p,i.default.createElement("label",null,u)))}));return i.default.createElement(a.default,{className:t},d)};h.propTypes=d,t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(1)),i=n(0),a=c(i),s=c(n(4)),l=c(n(850));function c(e){return e&&e.__esModule?e:{default:e}}var u={className:o.default.string,children:o.default.node,dense:o.default.bool},d=function(e){var t=e.className,n=e.children,o=e.dense,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children","dense"]),u=i.Children.map(n,(function(e){return e.type===l.default?(0,i.cloneElement)(e,{isListItem:!0}):e}));return a.default.createElement("ul",r({className:(0,s.default)("mdc-list",{"mdc-list--dense":o},t)},c),u)};d.propTypes=u,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(1)),o=n(0),i=a(n(4));function a(e){return e&&e.__esModule?e:{default:e}}var s={className:r.default.string,isListItem:r.default.bool,inset:r.default.bool},l=function(e){var t=e.inset,n=e.isListItem,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["inset","isListItem"]),a=n?"li":"hr",s=(0,i.default)("mdc-list-divider",{"mdc-list-divider--inset":t},r.className),l=n?{className:s,role:"separator"}:{className:s};return(0,o.createElement)(a,l)};l.propTypes=s,l.defaultProps={isListItem:!1},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(1)),i=n(0),a=c(i),s=c(n(4)),l=c(n(852));function c(e){return e&&e.__esModule?e:{default:e}}var u={className:o.default.string,children:o.default.node},d=function(e){var t=e.className,n=e.children,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","children"]),c=i.Children.map(n,(function(e,t){return(0,l.default)(e,0===t)}));return a.default.createElement("li",r({className:(0,s.default)("mdc-list-item",t)},o),c)};d.propTypes=u,t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(0)),o=a(n(4)),i=a(n(853));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t?"mdc-list-item__start-detail":"mdc-list-item__end-detail";if(e.type===i.default){var a=e.props.className,s=(0,o.default)(n,a);return r.default.cloneElement(e,{className:s,"aria-hidden":!0})}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(854);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=s(n(1)),i=s(n(0)),a=s(n(4));function s(e){return e&&e.__esModule?e:{default:e}}var l={className:o.default.string,component:o.default.string,name:o.default.string.isRequired},c=function(e){var t=e.className,n=e.component,o=e.name,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["className","component","name"]),l=(0,a.default)("material-icons",t);return i.default.createElement(n,r({className:l},s),o)};c.propTypes=l,c.defaultProps={component:"i"},t.default=c},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(0)),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};t.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:r({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}},,function(e,t,n){var r,o;window,e.exports=(r=n(0),o=n(19),function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var a=o.apply(null,r);a&&e.push(a)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){var r=n(7),o=r.default,i=r.DraggableCore;e.exports=o,e.exports.default=o,e.exports.DraggableCore=i},function(e,t,n){"use strict";var r=n(6);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(0),a=n.n(i),s=n(2),l=n.n(s),c=n(3),u=n.n(c);function d(e,t){for(var n=0,r=e.length;n<r;n++)if(t.apply(t,[e[n],n,e]))return e[n]}function h(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function p(e){return"number"==typeof e&&!isNaN(e)}function f(e){return parseInt(e,10)}function m(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))}var g=["Moz","Webkit","O","ms"];function v(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,r=0;r<e.length;r++)n?(t+=e[r].toUpperCase(),n=!1):"-"===e[r]?n=!0:t+=e[r];return t}(e)):e}var y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"==typeof window||void 0===window.document)return"";var t=window.document.documentElement.style;if(e in t)return"";for(var n=0;n<g.length;n++)if(v(e,g[n])in t)return g[n];return""}();function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w="";function C(e,t){return w||(w=d(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return h(e[t])}))),!!h(e[w])&&e[w](t)}function S(e,t,n){var r=e;do{if(C(r,t))return!0;if(r===n)return!1;r=r.parentNode}while(r);return!1}function E(e,t,n){e&&(e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener?e.addEventListener(t,n,!0):e["on"+t]=n)}function x(e,t,n){e&&(e.detachEvent?e.detachEvent("on"+t,n):e.removeEventListener?e.removeEventListener(t,n,!0):e["on"+t]=null)}function k(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=f(n.borderTopWidth))+f(n.borderBottomWidth)}function O(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t+=f(n.borderLeftWidth))+f(n.borderRightWidth)}function T(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=f(n.paddingTop))-f(n.paddingBottom)}function M(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return(t-=f(n.paddingLeft))-f(n.paddingRight)}function P(e,t,n){var r=e.x,o=e.y,i="translate(".concat(r).concat(n,",").concat(o).concat(n,")");if(t){var a="".concat("string"==typeof t.x?t.x:t.x+n),s="".concat("string"==typeof t.y?t.y:t.y+n);i="translate(".concat(a,", ").concat(s,")")+i}return i}function L(e){if(e){var t,n,r=e.getElementById("react-draggable-style-el");r||((r=e.createElement("style")).type="text/css",r.id="react-draggable-style-el",r.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",r.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(r)),e.body&&(n="react-draggable-transparent-selection",(t=e.body).classList?t.classList.add(n):t.className.match(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)")))||(t.className+=" ".concat(n)))}}function N(e){try{e&&e.body&&(t=e.body,n="react-draggable-transparent-selection",t.classList?t.classList.remove(n):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(n,"(?!\\S)"),"g"),"")),e.selection?e.selection.empty():window.getSelection().removeAllRanges()}catch(e){}var t,n}function A(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach((function(t){_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({touchAction:"none"},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function I(e){return"both"===e.props.axis||"x"===e.props.axis}function R(e){return"both"===e.props.axis||"y"===e.props.axis}function D(e,t,n){var r="number"==typeof t?function(e,t){return e.targetTouches&&d(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&d(e.changedTouches,(function(e){return t===e.identifier}))}(e,t):null;if("number"==typeof t&&!r)return null;var o=F(n);return function(e,t,n){var r=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect();return{x:(e.clientX+t.scrollLeft-r.left)/n,y:(e.clientY+t.scrollTop-r.top)/n}}(r||e,n.props.offsetParent||o.offsetParent||o.ownerDocument.body,n.props.scale)}function j(e,t,n){var r=e.state,o=!p(r.lastX),i=F(e);return o?{node:i,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:i,deltaX:t-r.lastX,deltaY:n-r.lastY,lastX:r.lastX,lastY:r.lastY,x:t,y:n}}function z(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}}function F(e){var t=l.a.findDOMNode(e);if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q={start:"touchstart",move:"touchmove",stop:"touchend"},Z={start:"mousedown",move:"mousemove",stop:"mouseup"},$=Z,K=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return r=this,o=(e=U(t)).call.apply(e,[this].concat(a)),n=!o||"object"!==B(o)&&"function"!=typeof o?G(r):o,Y(G(n),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Y(G(n),"handleDragStart",(function(e){if(n.props.onMouseDown(e),!n.props.allowAnyClick&&"number"==typeof e.button&&0!==e.button)return!1;var t=l.a.findDOMNode(G(n));if(!t||!t.ownerDocument||!t.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var r=t.ownerDocument;if(!(n.props.disabled||!(e.target instanceof r.defaultView.Node)||n.props.handle&&!S(e.target,n.props.handle,t)||n.props.cancel&&S(e.target,n.props.cancel,t))){var o=function(e){return e.targetTouches&&e.targetTouches[0]?e.targetTouches[0].identifier:e.changedTouches&&e.changedTouches[0]?e.changedTouches[0].identifier:void 0}(e);n.setState({touchIdentifier:o});var i=D(e,o,G(n));if(null!=i){var a=i.x,s=i.y,c=j(G(n),a,s);n.props.onStart,!1!==n.props.onStart(e,c)&&(n.props.enableUserSelectHack&&L(r),n.setState({dragging:!0,lastX:a,lastY:s}),E(r,$.move,n.handleDrag),E(r,$.stop,n.handleDragStop))}}})),Y(G(n),"handleDrag",(function(e){"touchmove"===e.type&&e.preventDefault();var t=D(e,n.state.touchIdentifier,G(n));if(null!=t){var r,o,i,a=t.x,s=t.y;if(Array.isArray(n.props.grid)){var l=a-n.state.lastX,c=s-n.state.lastY,u=W((r=n.props.grid,o=l,i=c,[Math.round(o/r[0])*r[0],Math.round(i/r[1])*r[1]]),2);if(l=u[0],c=u[1],!l&&!c)return;a=n.state.lastX+l,s=n.state.lastY+c}var d=j(G(n),a,s);if(!1!==n.props.onDrag(e,d))n.setState({lastX:a,lastY:s});else try{n.handleDragStop(new MouseEvent("mouseup"))}catch(e){var h=document.createEvent("MouseEvents");h.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.handleDragStop(h)}}})),Y(G(n),"handleDragStop",(function(e){if(n.state.dragging){var t=D(e,n.state.touchIdentifier,G(n));if(null!=t){var r=t.x,o=t.y,i=j(G(n),r,o),a=l.a.findDOMNode(G(n));a&&n.props.enableUserSelectHack&&N(a.ownerDocument),n.setState({dragging:!1,lastX:NaN,lastY:NaN}),n.props.onStop(e,i),a&&(x(a.ownerDocument,$.move,n.handleDrag),x(a.ownerDocument,$.stop,n.handleDragStop))}}})),Y(G(n),"onMouseDown",(function(e){return $=Z,n.handleDragStart(e)})),Y(G(n),"onMouseUp",(function(e){return $=Z,n.handleDragStop(e)})),Y(G(n),"onTouchStart",(function(e){return $=q,n.handleDragStart(e)})),Y(G(n),"onTouchEnd",(function(e){return $=q,n.handleDragStop(e)})),n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){var e=l.a.findDOMNode(this);if(e){var t=e.ownerDocument;x(t,Z.move,this.handleDrag),x(t,q.move,this.handleDrag),x(t,Z.stop,this.handleDragStop),x(t,q.stop,this.handleDragStop),this.props.enableUserSelectHack&&N(t)}}},{key:"render",value:function(){return o.a.cloneElement(o.a.Children.only(this.props.children),{style:A(this.props.children.props.style),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&H(n.prototype,r),t}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oe(e,t,n){return t&&re(e.prototype,t),n&&re(e,n),e}function ie(e,t){return(ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Y(K,"displayName","DraggableCore"),Y(K,"propTypes",{allowAnyClick:a.a.bool,disabled:a.a.bool,enableUserSelectHack:a.a.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:a.a.arrayOf(a.a.number),handle:a.a.string,cancel:a.a.string,onStart:a.a.func,onDrag:a.a.func,onStop:a.a.func,onMouseDown:a.a.func,scale:a.a.number,className:m,style:m,transform:m}),Y(K,"defaultProps",{allowAnyClick:!1,cancel:null,disabled:!1,enableUserSelectHack:!0,offsetParent:null,handle:null,grid:null,transform:null,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),n.d(t,"default",(function(){return se})),n.d(t,"DraggableCore",(function(){return K}));var se=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=te(t).call(this,e),n=!r||"object"!==X(r)&&"function"!=typeof r?ne(this):r,ae(ne(n),"onDragStart",(function(e,t){if(!1===n.props.onStart(e,z(ne(n),t)))return!1;n.setState({dragging:!0,dragged:!0})})),ae(ne(n),"onDrag",(function(e,t){if(!n.state.dragging)return!1;var r=z(ne(n),t),o={x:r.x,y:r.y};if(n.props.bounds){var i=o.x,a=o.y;o.x+=n.state.slackX,o.y+=n.state.slackY;var s=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}(function(e,t,n){if(!e.props.bounds)return[t,n];var r=e.props.bounds;r="string"==typeof r?r:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(r);var o=F(e);if("string"==typeof r){var i,a=o.ownerDocument,s=a.defaultView;if(!((i="parent"===r?o.parentNode:a.querySelector(r))instanceof s.HTMLElement))throw new Error('Bounds selector "'+r+'" could not find an element.');var l=s.getComputedStyle(o),c=s.getComputedStyle(i);r={left:-o.offsetLeft+f(c.paddingLeft)+f(l.marginLeft),top:-o.offsetTop+f(c.paddingTop)+f(l.marginTop),right:M(i)-O(o)-o.offsetLeft+f(c.paddingRight)-f(l.marginRight),bottom:T(i)-k(o)-o.offsetTop+f(c.paddingBottom)-f(l.marginBottom)}}return p(r.right)&&(t=Math.min(t,r.right)),p(r.bottom)&&(n=Math.min(n,r.bottom)),p(r.left)&&(t=Math.max(t,r.left)),p(r.top)&&(n=Math.max(n,r.top)),[t,n]}(ne(n),o.x,o.y),2),l=s[0],c=s[1];o.x=l,o.y=c,o.slackX=n.state.slackX+(i-o.x),o.slackY=n.state.slackY+(a-o.y),r.x=o.x,r.y=o.y,r.deltaX=o.x-n.state.x,r.deltaY=o.y-n.state.y}if(!1===n.props.onDrag(e,r))return!1;n.setState(o)})),ae(ne(n),"onDragStop",(function(e,t){if(!n.state.dragging)return!1;if(!1===n.props.onStop(e,z(ne(n),t)))return!1;var r={dragging:!1,slackX:0,slackY:0};if(Boolean(n.props.position)){var o=n.props.position,i=o.x,a=o.y;r.x=i,r.y=a}n.setState(r)})),n.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:ee({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ie(e,t)}(t,o.a.Component),oe(t,null,[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,r=t.prevPropsPosition;return!n||r&&n.x===r.x&&n.y===r.y?null:{x:n.x,y:n.y,prevPropsPosition:ee({},n)}}}]),oe(t,[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&l.a.findDOMNode(this)instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),r=t.defaultPosition,i=t.defaultClassName,a=t.defaultClassNameDragging,s=t.defaultClassNameDragged,l=t.position,c=t.positionOffset,d=(t.scale,function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(t,["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"])),h={},p=null,f=!Boolean(l)||this.state.dragging,m=l||r,g={x:I(this)&&f?this.state.x:m.x,y:R(this)&&f?this.state.y:m.y};this.state.isElementSVG?p=function(e,t){return P(e,t,"")}(g,c):h=function(e,t){var n=P(e,t,"px");return _({},v("transform",y),n)}(g,c);var b=u()(n.props.className||"",i,(ae(e={},a,this.state.dragging),ae(e,s,this.state.dragged),e));return o.a.createElement(K,Q({},d,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),o.a.cloneElement(o.a.Children.only(n),{className:b,style:ee({},n.props.style,{},h),transform:p}))}}]),t}();ae(se,"displayName","Draggable"),ae(se,"propTypes",ee({},K.propTypes,{axis:a.a.oneOf(["both","x","y","none"]),bounds:a.a.oneOfType([a.a.shape({left:a.a.number,right:a.a.number,top:a.a.number,bottom:a.a.number}),a.a.string,a.a.oneOf([!1])]),defaultClassName:a.a.string,defaultClassNameDragging:a.a.string,defaultClassNameDragged:a.a.string,defaultPosition:a.a.shape({x:a.a.number,y:a.a.number}),positionOffset:a.a.shape({x:a.a.oneOfType([a.a.number,a.a.string]),y:a.a.oneOfType([a.a.number,a.a.string])}),position:a.a.shape({x:a.a.number,y:a.a.number}),className:m,style:m,transform:m})),ae(se,"defaultProps",ee({},K.defaultProps,{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},position:null,scale:1}))}]))},,function(e,t,n){var r=n(860);"object"==typeof window?(window.EventSourcePolyfill=r,window.EventSource||(window.EventSource=r),e.exports=window.EventSource):e.exports=r},function(e,t,n){(function(t,r){var o=n(863),i=n(365).parse,a=n(366),s=n(872),l=n(462),c=n(885),u=["pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","secureProtocol","servername","checkServerIdentity"],d=[239,187,191];function h(e,n){var a=h.CONNECTING;Object.defineProperty(this,"readyState",{get:function(){return a}}),Object.defineProperty(this,"url",{get:function(){return e}});var c,m=this;function g(t){a!==h.CLOSED&&(a=h.CONNECTING,S("error",new p("error",{message:t})),w&&(e=w,w=null),setTimeout((function(){a===h.CONNECTING&&C()}),m.reconnectInterval))}m.reconnectInterval=1e3;var v="";n&&n.headers&&n.headers["Last-Event-ID"]&&(v=n.headers["Last-Event-ID"],delete n.headers["Last-Event-ID"]);var y=!1,b="",_="",w=null;function C(){var o=i(e),f="https:"===o.protocol;if(o.headers={"Cache-Control":"no-cache",Accept:"text/event-stream"},v&&(o.headers["Last-Event-ID"]=v),n&&n.headers)for(var b in n.headers){var _=n.headers[b];_&&(o.headers[b]=_)}if(o.rejectUnauthorized=!(n&&!n.rejectUnauthorized),n&&n.proxy){var x=i(n.proxy);f="https:"===x.protocol,o.protocol=f?"https:":"http:",o.path=e,o.headers.Host=o.host,o.hostname=x.hostname,o.host=x.host,o.port=x.port}if(n&&n.https)for(var k in n.https)if(-1!==u.indexOf(k)){var O=n.https[k];void 0!==O&&(o[k]=O)}n&&void 0!==n.withCredentials&&(o.withCredentials=n.withCredentials),(c=(f?s:l).request(o,(function(n){if(500===n.statusCode||502===n.statusCode||503===n.statusCode||504===n.statusCode)return S("error",new p("error",{status:n.statusCode,message:n.statusMessage})),void g();if(301===n.statusCode||307===n.statusCode)return n.headers.location?(307===n.statusCode&&(w=e),e=n.headers.location,void t.nextTick(C)):void S("error",new p("error",{status:n.statusCode,message:n.statusMessage}));if(200!==n.statusCode)return S("error",new p("error",{status:n.statusCode,message:n.statusMessage})),m.close();a=h.OPEN,n.on("close",(function(){n.removeAllListeners("close"),n.removeAllListeners("end"),g()})),n.on("end",(function(){n.removeAllListeners("close"),n.removeAllListeners("end"),g()})),S("open",new p("open"));var o,i=!0;n.on("data",(function(e){o=o?r.concat([o,e]):e,i&&function(e){return d.every((function(t,n){return e[n]===t}))}(o)&&(o=o.slice(d.length)),i=!1;for(var t=0,n=o.length;t<n;){y&&(10===o[t]&&++t,y=!1);for(var a,s=-1,l=-1,c=t;s<0&&c<n;++c)58===(a=o[c])?l<0&&(l=c-t):13===a?(y=!0,s=c-t):10===a&&(s=c-t);if(s<0)break;E(o,t,l,s),t+=s+1}t===n?o=void 0:t>0&&(o=o.slice(t))}))}))).on("error",(function(e){g(e.message)})),c.setNoDelay&&c.setNoDelay(!0),c.end()}function S(){m.listeners(arguments[0]).length>0&&m.emit.apply(m,arguments)}function E(t,n,r,i){if(0===i){if(b.length>0){var a=_||"message";S(a,new f(a,{data:b.slice(0,-1),lastEventId:v,origin:o(e)})),b=""}_=void 0}else if(r>0){var s=r<0,l=0,c=t.slice(n,n+(s?i:r)).toString();n+=l=s?i:32!==t[n+r+1]?r+1:r+2;var u=i-l,d=t.slice(n,n+u).toString();if("data"===c)b+=d+"\n";else if("event"===c)_=d;else if("id"===c)v=d;else if("retry"===c){var h=parseInt(d,10);Number.isNaN(h)||(m.reconnectInterval=h)}}}C(),this._close=function(){a!==h.CLOSED&&(a=h.CLOSED,c.abort&&c.abort(),c.xhr&&c.xhr.abort&&c.xhr.abort())}}function p(e,t){if(Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)for(var n in t)t.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:t[n],enumerable:!0})}function f(e,t){for(var n in Object.defineProperty(this,"type",{writable:!1,value:e,enumerable:!0}),t)t.hasOwnProperty(n)&&Object.defineProperty(this,n,{writable:!1,value:t[n],enumerable:!0})}e.exports=h,c.inherits(h,a.EventEmitter),h.prototype.constructor=h,["open","error","message"].forEach((function(e){Object.defineProperty(h.prototype,"on"+e,{get:function(){var t=this.listeners(e)[0];return t?t._listener?t._listener:t:void 0},set:function(t){this.removeAllListeners(e),this.addEventListener(e,t)}})})),Object.defineProperty(h,"CONNECTING",{enumerable:!0,value:0}),Object.defineProperty(h,"OPEN",{enumerable:!0,value:1}),Object.defineProperty(h,"CLOSED",{enumerable:!0,value:2}),h.prototype.CONNECTING=0,h.prototype.OPEN=1,h.prototype.CLOSED=2,h.prototype.close=function(){this._close()},h.prototype.addEventListener=function(e,t){"function"==typeof t&&(t._listener=t,this.on(e,t))},h.prototype.dispatchEvent=function(e){if(!e.type)throw new Error("UNSPECIFIED_EVENT_TYPE_ERR");this.emit(e.type,e.detail)},h.prototype.removeEventListener=function(e,t){"function"==typeof t&&(t._listener=void 0,this.removeListener(e,t))}}).call(this,n(137),n(176).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,d=s>0?a-4:a;for(n=0;n<d;n+=4)t=o[e.charCodeAt(n)]<<18|o[e.charCodeAt(n+1)]<<12|o[e.charCodeAt(n+2)]<<6|o[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=o[e.charCodeAt(n)]<<2|o[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=o[e.charCodeAt(n)]<<10|o[e.charCodeAt(n+1)]<<4|o[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(u(e,a,a+16383>s?s:a+16383));1===o?(t=e[n-1],i.push(r[t>>2]+r[t<<4&63]+"==")):2===o&&(t=(e[n-2]<<8)+e[n-1],i.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],o[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var o,i,a=[],s=t;s<n;s+=3)o=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return a.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,o){var i,a,s=8*o-r-1,l=(1<<s)-1,c=l>>1,u=-7,d=n?o-1:0,h=n?-1:1,p=e[t+d];for(d+=h,i=p&(1<<-u)-1,p>>=-u,u+=s;u>0;i=256*i+e[t+d],d+=h,u-=8);for(a=i&(1<<-u)-1,i>>=-u,u+=r;u>0;a=256*a+e[t+d],d+=h,u-=8);if(0===i)i=1-c;else{if(i===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),i-=c}return(p?-1:1)*a*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var a,s,l,c=8*i-o-1,u=(1<<c)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+d>=1?h/l:h*Math.pow(2,1-d))*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,o),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,o),a=0));o>=8;e[n+p]=255&s,p+=f,s/=256,o-=8);for(a=a<<o|s,c+=o;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}},function(e,t,n){"use strict";var r=n(864);function o(e){return"string"==typeof e&&(e=r(e)),e.protocol&&e.hostname?(e.protocol+"//"+e.host).toLowerCase():"null"}o.same=function(e,t){return o(e)===o(t)},e.exports=o},function(e,t,n){"use strict";(function(t){var r=n(865),o=n(866),i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(e=e||r);if("blob:"===e.protocol)o=new d(unescape(e.pathname),{});else if("string"===i)for(n in o=new d(e,{}),l)delete o[n];else if("object"===i){for(n in e)n in l||(o[n]=e[n]);void 0===o.slashes&&(o.slashes=a.test(e.href))}return o}function u(e){var t=i.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t,n){if(!(this instanceof d))return new d(e,t,n);var i,a,l,h,p,f,m=s.slice(),g=typeof t,v=this,y=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=o.parse),t=c(t),i=!(a=u(e||"")).protocol&&!a.slashes,v.slashes=a.slashes||i&&t.slashes,v.protocol=a.protocol||t.protocol||"",e=a.rest,a.slashes||(m[3]=[/(.*)/,"pathname"]);y<m.length;y++)"function"!=typeof(h=m[y])?(l=h[0],f=h[1],l!=l?v[f]=e:"string"==typeof l?~(p=e.indexOf(l))&&("number"==typeof h[2]?(v[f]=e.slice(0,p),e=e.slice(p+h[2])):(v[f]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(v[f]=p[1],e=e.slice(0,p.index)),v[f]=v[f]||i&&h[3]&&t[f]||"",h[4]&&(v[f]=v[f].toLowerCase())):e=h(e);n&&(v.query=n(v.query)),i&&t.slashes&&"/"!==v.pathname.charAt(0)&&(""!==v.pathname||""!==t.pathname)&&(v.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,o=n[r-1],i=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(i=!0),n.splice(r,1),a--);return i&&n.unshift(""),"."!==o&&".."!==o||n.push(""),n.join("/")}(v.pathname,t.pathname)),r(v.port,v.protocol)||(v.host=v.hostname,v.port=""),v.username=v.password="",v.auth&&(h=v.auth.split(":"),v.username=h[0]||"",v.password=h[1]||""),v.origin=v.protocol&&v.host&&"file:"!==v.protocol?v.protocol+"//"+v.host:"null",v.href=v.toString()}d.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||o.parse)(t)),i[e]=t;break;case"port":i[e]=t,r(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,/:\d+$/.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";i[e]=t.charAt(0)!==a?a+t:t}else i[e]=t;break;default:i[e]=t}for(var l=0;l<s.length;l++){var c=s[l];c[4]&&(i[c[1]]=i[c[1]].toLowerCase())}return i.origin=i.protocol&&i.host&&"file:"!==i.protocol?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=o.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var i=r+(n.slashes?"//":"");return n.username&&(i+=n.username,n.password&&(i+=":"+n.password),i+="@"),i+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(i+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(i+=n.hash),i}},d.extractProtocol=u,d.location=c,d.qs=o,e.exports=d}).call(this,n(45))},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function o(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n,o,i=[];for(o in"string"!=typeof t&&(t="?"),e)r.call(e,o)&&((n=e[o])||null!=n&&!isNaN(n)||(n=""),i.push(encodeURIComponent(o)+"="+encodeURIComponent(n)));return i.length?t+i.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,r={};t=n.exec(e);){var i=o(t[1]),a=o(t[2]);i in r||(r[i]=a)}return r}},function(e,t,n){(function(e,r){var o;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof r&&r;a.global!==a&&a.window!==a&&a.self;var s,l=2147483647,c=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,f=String.fromCharCode;function m(e){throw new RangeError(h[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function v(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],o=0,i=e.length;o<i;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<i?56320==(64512&(n=e.charCodeAt(o++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),o--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=f((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=f(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var r=0;for(e=n?p(e/700):e>>1,e+=p(e/t);e>455;r+=36)e=p(e/35);return p(r+36*e/(e+38))}function C(e){var t,n,r,o,i,a,s,c,u,d,h,f=[],g=e.length,v=0,y=128,_=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&m("not-basic"),f.push(e.charCodeAt(r));for(o=n>0?n+1:0;o<g;){for(i=v,a=1,s=36;o>=g&&m("invalid-input"),((c=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||c>p((l-v)/a))&&m("overflow"),v+=c*a,!(c<(u=s<=_?1:s>=_+26?26:s-_));s+=36)a>p(l/(d=36-u))&&m("overflow"),a*=d;_=w(v-i,t=f.length+1,0==i),p(v/t)>l-y&&m("overflow"),y+=p(v/t),v%=t,f.splice(v++,0,y)}return b(f)}function S(e){var t,n,r,o,i,a,s,c,u,d,h,g,v,b,C,S=[];for(g=(e=y(e)).length,t=128,n=0,i=72,a=0;a<g;++a)(h=e[a])<128&&S.push(f(h));for(r=o=S.length,o&&S.push("-");r<g;){for(s=l,a=0;a<g;++a)(h=e[a])>=t&&h<s&&(s=h);for(s-t>p((l-n)/(v=r+1))&&m("overflow"),n+=(s-t)*v,t=s,a=0;a<g;++a)if((h=e[a])<t&&++n>l&&m("overflow"),h==t){for(c=n,u=36;!(c<(d=u<=i?1:u>=i+26?26:u-i));u+=36)C=c-d,b=36-d,S.push(f(_(d+C%b,0))),c=p(C/b);S.push(f(_(c,0))),i=w(n,v,r==o),n=0,++r}++n,++t}return S.join("")}s={version:"1.4.1",ucs2:{decode:y,encode:b},decode:C,encode:S,toASCII:function(e){return v(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return v(e,(function(e){return c.test(e)?C(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return s}.call(t,n,t,e))||(e.exports=o)}()}).call(this,n(197)(e),n(45))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(870),t.encode=t.stringify=n(871)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(t);var l=1e3;i&&"number"==typeof i.maxKeys&&(l=i.maxKeys);var c=e.length;l>0&&c>l&&(c=l);for(var u=0;u<c;++u){var d,h,p,f,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),h=m.substr(g+1)):(d=m,h=""),p=decodeURIComponent(d),f=decodeURIComponent(h),r(a,p)?o(a[p])?a[p].push(f):a[p]=[a[p],f]:a[p]=f}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(a(e),(function(a){var s=encodeURIComponent(r(a))+n;return o(e[a])?i(e[a],(function(e){return s+encodeURIComponent(r(e))})).join(t):s+encodeURIComponent(r(e[a]))})).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var a=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){var r=n(462),o=n(365),i=e.exports;for(var a in r)r.hasOwnProperty(a)&&(i[a]=r[a]);function s(e){if("string"==typeof e&&(e=o.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}i.request=function(e,t){return e=s(e),r.request.call(this,e,t)},i.get=function(e,t){return e=s(e),r.get.call(this,e,t)}},function(e,t,n){(function(t,r,o){var i=n(463),a=n(177),s=n(464),l=n(465),c=n(882),u=s.IncomingMessage,d=s.readyStates;var h=e.exports=function(e){var n,r=this;l.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+new t(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){r.setHeader(t,e.headers[t])}));var o=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!i.abortController)o=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!i.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");n=!0}r._mode=function(e,t){return i.fetch&&t?"fetch":i.mozchunkedarraybuffer?"moz-chunked-arraybuffer":i.msstream?"ms-stream":i.arraybuffer&&e?"arraybuffer":i.vbArray&&e?"text:vbarray":"text"}(n,o),r._fetchTimer=null,r.on("finish",(function(){r._onFinish()}))};a(h,l.Writable),h.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===p.indexOf(n)&&(this._headers[n]={name:e,value:t})},h.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},h.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},h.prototype._onFinish=function(){var e=this;if(!e._destroyed){var n=e._opts,a=e._headers,s=null;"GET"!==n.method&&"HEAD"!==n.method&&(s=i.arraybuffer?c(t.concat(e._body)):i.blobConstructor?new r.Blob(e._body.map((function(e){return c(e)})),{type:(a["content-type"]||{}).value||""}):t.concat(e._body).toString());var l=[];if(Object.keys(a).forEach((function(e){var t=a[e].name,n=a[e].value;Array.isArray(n)?n.forEach((function(e){l.push([t,e])})):l.push([t,n])})),"fetch"===e._mode){var u=null;if(i.abortController){var h=new AbortController;u=h.signal,e._fetchAbortController=h,"requestTimeout"in n&&0!==n.requestTimeout&&(e._fetchTimer=r.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),n.requestTimeout))}r.fetch(e._opts.url,{method:e._opts.method,headers:l,body:s||void 0,mode:"cors",credentials:n.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){r.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var p=e._xhr=new r.XMLHttpRequest;try{p.open(e._opts.method,e._opts.url,!0)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}"responseType"in p&&(p.responseType=e._mode.split(":")[0]),"withCredentials"in p&&(p.withCredentials=!!n.withCredentials),"text"===e._mode&&"overrideMimeType"in p&&p.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in n&&(p.timeout=n.requestTimeout,p.ontimeout=function(){e.emit("requestTimeout")}),l.forEach((function(e){p.setRequestHeader(e[0],e[1])})),e._response=null,p.onreadystatechange=function(){switch(p.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(p.onprogress=function(){e._onXHRProgress()}),p.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{p.send(s)}catch(t){return void o.nextTick((function(){e.emit("error",t)}))}}}},h.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},h.prototype._write=function(e,t,n){this._body.push(e),n()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,r.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(e,t,n){"function"==typeof e&&(n=e,e=void 0),l.Writable.prototype.end.call(this,e,t,n)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,n(176).Buffer,n(45),n(137))},function(e,t){},function(e,t,n){"use strict";var r=n(367).Buffer,o=n(876);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},e.prototype.concat=function(e){if(0===this.length)return r.alloc(0);if(1===this.length)return this.head.data;for(var t,n,o,i=r.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,n=i,o=s,t.copy(n,o),s+=a.data.length,a=a.next;return i},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},function(e,t){},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(878),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(45))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,o,i,a,s,l=1,c={},u=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){f(e.data)},r=function(e){i.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,o.removeChild(t),t=null},o.appendChild(t)}):r=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return c[l]=o,r(l),l++},h.clearImmediate=p}function p(e){delete c[e]}function f(e){if(u)setTimeout(f,0,e);else{var t=c[e];if(t){u=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{p(e),u=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(45),n(137))},function(e,t,n){(function(t){function n(e){try{if(!t.localStorage)return!1}catch(e){return!1}var n=t.localStorage[e];return null!=n&&"true"===String(n).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}}).call(this,n(45))},function(e,t,n){var r=n(176),o=r.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return o(e,t,n)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=a),a.prototype=Object.create(o.prototype),i(o,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=o(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){"use strict";e.exports=i;var r=n(471),o=Object.create(n(257));function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}o.inherits=n(177),o.inherits(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},function(e,t,n){var r=n(176).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(0===e.byteOffset&&e.byteLength===e.buffer.byteLength)return e.buffer;if("function"==typeof e.buffer.slice)return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}if(r.isBuffer(e)){for(var t=new Uint8Array(e.length),n=e.length,o=0;o<n;o++)t[o]=e[o];return t.buffer}throw new Error("Argument must be a Buffer")}},function(e,t){e.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var o in r)n.call(r,o)&&(e[o]=r[o])}return e};var n=Object.prototype.hasOwnProperty},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<i;l=r[++n])m(l)||!_(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),f(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return v(o)||(o=u(e,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(v(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(g(t))return e.stylize(""+t,"number");if(f(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return d(n);if(0===a.length){if(S(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(C(n))return d(n)}var c,_="",E=!1,x=["{","}"];(p(n)&&(E=!0,x=["[","]"]),S(n))&&(_=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(_=" "+RegExp.prototype.toString.call(n)),w(n)&&(_=" "+Date.prototype.toUTCString.call(n)),C(n)&&(_=" "+d(n)),0!==a.length||E&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)T(t,String(a))?i.push(h(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(h(e,t,n,r,o,!0))})),i}(e,n,r,s,a):a.map((function(t){return h(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,_,x)):x[0]+_+x[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,o,i){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),T(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(l.value)<0?(s=m(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function m(e){return null===e}function g(e){return"number"==typeof e}function v(e){return"string"==typeof e}function y(e){return void 0===e}function b(e){return _(e)&&"[object RegExp]"===E(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===E(e)}function C(e){return _(e)&&("[object Error]"===E(e)||e instanceof Error)}function S(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=f,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=g,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=_,t.isDate=w,t.isError=C,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(886);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function O(){var e=new Date,t=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":");return[e.getDate(),k[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",O(),t.format.apply(t,arguments))},t.inherits=n(887),t._extend=function(e,t){if(!t||!_(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var M="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(M&&e[M]){var t;if("function"!=typeof(t=e[M]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),M&&Object.defineProperty(t,M,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=M,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(137))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},,,,function(e,t,n){"use strict";var r=n(317);t.a=r.a},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,,,,,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,function(e,t){},,,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){},,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,,,,,,,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){},,function(e,t){}],[[674,1]]]);