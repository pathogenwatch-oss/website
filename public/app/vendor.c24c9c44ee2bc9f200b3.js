(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{0:function(t,e,i){var n=i(299),o=i(443),r=i(1);n.createClass=o,n.PropTypes=r,t.exports=n},18:function(t,e,i){"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}}(),t.exports=i(448)},21:function(t,e,i){var n,o,r,s;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}
/* @preserve
 * Leaflet 1.4.0, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2018 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */s=function(t){"use strict";var e=Object.freeze;function i(t){var e,i,n,o;for(i=1,n=arguments.length;i<n;i++)for(e in o=arguments[i])t[e]=o[e];return t}Object.freeze=function(t){return t};var n=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function o(t,e){var i=Array.prototype.slice;if(t.bind)return t.bind.apply(t,i.call(arguments,1));var n=i.call(arguments,2);return function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)}}var r=0;function s(t){return t._leaflet_id=t._leaflet_id||++r,t._leaflet_id}function h(t,e,i){var n,o,r,s;return s=function(){n=!1,o&&(r.apply(i,o),o=!1)},r=function(){n?o=arguments:(t.apply(i,arguments),setTimeout(s,e),n=!0)}}function l(t,e,i){var n=e[1],o=e[0],r=n-o;return t===n&&i?t:((t-o)%r+r)%r+o}function u(){return!1}function c(t,e){var i=Math.pow(10,void 0===e?6:e);return Math.round(t*i)/i}function d(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function f(t){return d(t).split(/\s+/)}function p(t,e){for(var i in t.hasOwnProperty("options")||(t.options=t.options?n(t.options):{}),e)t.options[i]=e[i];return t.options}function _(t,e,i){var n=[];for(var o in t)n.push(encodeURIComponent(i?o.toUpperCase():o)+"="+encodeURIComponent(t[o]));return(e&&-1!==e.indexOf("?")?"&":"?")+n.join("&")}var m=/\{ *([\w_-]+) *\}/g;function v(t,e){return t.replace(m,(function(t,i){var n=e[i];if(void 0===n)throw new Error("No value provided for variable "+t);return"function"==typeof n&&(n=n(e)),n}))}var g=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function y(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1}var C="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function x(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var b=0;function w(t){var e=+new Date,i=Math.max(0,16-(e-b));return b=e+i,window.setTimeout(t,i)}var S=window.requestAnimationFrame||x("RequestAnimationFrame")||w,P=window.cancelAnimationFrame||x("CancelAnimationFrame")||x("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function T(t,e,i){if(!i||S!==w)return S.call(window,o(t,e));t.call(e)}function M(t){t&&P.call(window,t)}var k=(Object.freeze||Object)({freeze:e,extend:i,create:n,bind:o,lastId:r,stamp:s,throttle:h,wrapNum:l,falseFn:u,formatNum:c,trim:d,splitWords:f,setOptions:p,getParamString:_,template:v,isArray:g,indexOf:y,emptyImageUrl:C,requestFn:S,cancelFn:P,requestAnimFrame:T,cancelAnimFrame:M});function E(){}E.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,r=n(o);for(var s in r.constructor=e,e.prototype=r,this)this.hasOwnProperty(s)&&"prototype"!==s&&"__super__"!==s&&(e[s]=this[s]);return t.statics&&(i(e,t.statics),delete t.statics),t.includes&&(function(t){if("undefined"!=typeof L&&L&&L.Mixin){t=g(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}(t.includes),i.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=i(n(r.options),t.options)),i(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},e},E.include=function(t){return i(this.prototype,t),this},E.mergeOptions=function(t){return i(this.prototype.options,t),this},E.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};var A={on:function(t,e,i){if("object"===a(t))for(var n in t)this._on(n,t[n],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._on(t[o],e,i);return this},off:function(t,e,i){if(t)if("object"===a(t))for(var n in t)this._off(n,t[n],e);else for(var o=0,r=(t=f(t)).length;o<r;o++)this._off(t[o],e,i);else delete this._events;return this},_on:function(t,e,i){this._events=this._events||{};var n=this._events[t];n||(n=[],this._events[t]=n),i===this&&(i=void 0);for(var o={fn:e,ctx:i},r=n,s=0,a=r.length;s<a;s++)if(r[s].fn===e&&r[s].ctx===i)return;r.push(o)},_off:function(t,e,i){var n,o,r;if(this._events&&(n=this._events[t]))if(e){if(i===this&&(i=void 0),n)for(o=0,r=n.length;o<r;o++){var s=n[o];if(s.ctx===i&&s.fn===e)return s.fn=u,this._firingCount&&(this._events[t]=n=n.slice()),void n.splice(o,1)}}else{for(o=0,r=n.length;o<r;o++)n[o].fn=u;delete this._events[t]}},fire:function(t,e,n){if(!this.listens(t,n))return this;var o=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var s=0,a=r.length;s<a;s++){var h=r[s];h.fn.call(h.ctx||this,o)}this._firingCount--}}return n&&this._propagateEvent(o),this},listens:function(t,e){var i=this._events&&this._events[t];if(i&&i.length)return!0;if(e)for(var n in this._eventParents)if(this._eventParents[n].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===a(t)){for(var n in t)this.once(n,t[n],e);return this}var r=o((function(){this.off(t,e,i).off(t,r,i)}),this);return this.on(t,e,i).on(t,r,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[s(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[s(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};A.addEventListener=A.on,A.removeEventListener=A.clearAllEventListeners=A.off,A.addOneTimeEventListener=A.once,A.fireEvent=A.fire,A.hasEventListeners=A.listens;var O=E.extend(A);function I(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e}var z=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};function N(t,e,i){return t instanceof I?t:g(t)?new I(t[0],t[1]):null==t?t:"object"===a(t)&&"x"in t&&"y"in t?new I(t.x,t.y):new I(t,e,i)}function B(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function Z(t,e){return!t||t instanceof B?t:new B(t,e)}function j(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;n<o;n++)this.extend(i[n])}function R(t,e){return t instanceof j?t:new j(t,e)}function D(t,e,i){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==i&&(this.alt=+i)}function F(t,e,i){return t instanceof D?t:g(t)&&"object"!==a(t[0])?3===t.length?new D(t[0],t[1],t[2]):2===t.length?new D(t[0],t[1]):null:null==t?t:"object"===a(t)&&"lat"in t?new D(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new D(t,e,i)}I.prototype={clone:function(){return new I(this.x,this.y)},add:function(t){return this.clone()._add(N(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(N(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new I(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new I(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=z(this.x),this.y=z(this.y),this},distanceTo:function(t){var e=(t=N(t)).x-this.x,i=t.y-this.y;return Math.sqrt(e*e+i*i)},equals:function(t){return(t=N(t)).x===this.x&&t.y===this.y},contains:function(t){return t=N(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+c(this.x)+", "+c(this.y)+")"}},B.prototype={extend:function(t){return t=N(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new I((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new I(this.min.x,this.max.y)},getTopRight:function(){return new I(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,i;return(t="number"==typeof t[0]||t instanceof I?N(t):Z(t))instanceof B?(e=t.min,i=t.max):e=i=t,e.x>=this.min.x&&i.x<=this.max.x&&e.y>=this.min.y&&i.y<=this.max.y},intersects:function(t){t=Z(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>=e.x&&n.x<=i.x,s=o.y>=e.y&&n.y<=i.y;return r&&s},overlaps:function(t){t=Z(t);var e=this.min,i=this.max,n=t.min,o=t.max,r=o.x>e.x&&n.x<i.x,s=o.y>e.y&&n.y<i.y;return r&&s},isValid:function(){return!(!this.min||!this.max)}},j.prototype={extend:function(t){var e,i,n=this._southWest,o=this._northEast;if(t instanceof D)e=t,i=t;else{if(!(t instanceof j))return t?this.extend(F(t)||R(t)):this;if(e=t._southWest,i=t._northEast,!e||!i)return this}return n||o?(n.lat=Math.min(e.lat,n.lat),n.lng=Math.min(e.lng,n.lng),o.lat=Math.max(i.lat,o.lat),o.lng=Math.max(i.lng,o.lng)):(this._southWest=new D(e.lat,e.lng),this._northEast=new D(i.lat,i.lng)),this},pad:function(t){var e=this._southWest,i=this._northEast,n=Math.abs(e.lat-i.lat)*t,o=Math.abs(e.lng-i.lng)*t;return new j(new D(e.lat-n,e.lng-o),new D(i.lat+n,i.lng+o))},getCenter:function(){return new D((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new D(this.getNorth(),this.getWest())},getSouthEast:function(){return new D(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"==typeof t[0]||t instanceof D||"lat"in t?F(t):R(t);var e,i,n=this._southWest,o=this._northEast;return t instanceof j?(e=t.getSouthWest(),i=t.getNorthEast()):e=i=t,e.lat>=n.lat&&i.lat<=o.lat&&e.lng>=n.lng&&i.lng<=o.lng},intersects:function(t){t=R(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>=e.lat&&n.lat<=i.lat,s=o.lng>=e.lng&&n.lng<=i.lng;return r&&s},overlaps:function(t){t=R(t);var e=this._southWest,i=this._northEast,n=t.getSouthWest(),o=t.getNorthEast(),r=o.lat>e.lat&&n.lat<i.lat,s=o.lng>e.lng&&n.lng<i.lng;return r&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=R(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},D.prototype={equals:function(t,e){return!!t&&(t=F(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+c(this.lat,t)+", "+c(this.lng,t)+")"},distanceTo:function(t){return G.distance(this,F(t))},wrap:function(){return G.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,i=e/Math.cos(Math.PI/180*this.lat);return R([this.lat-e,this.lng-i],[this.lat+e,this.lng+i])},clone:function(){return new D(this.lat,this.lng,this.alt)}};var H,W={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,i=this.scale(t);return new B(this.transformation.transform(e.min,i),this.transformation.transform(e.max,i))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?l(t.lng,this.wrapLng,!0):t.lng;return new D(this.wrapLat?l(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),i=this.wrapLatLng(e),n=e.lat-i.lat,o=e.lng-i.lng;if(0===n&&0===o)return t;var r=t.getSouthWest(),s=t.getNorthEast();return new j(new D(r.lat-n,r.lng-o),new D(s.lat-n,s.lng-o))}},G=i({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var i=Math.PI/180,n=t.lat*i,o=e.lat*i,r=Math.sin((e.lat-t.lat)*i/2),s=Math.sin((e.lng-t.lng)*i/2),a=r*r+Math.cos(n)*Math.cos(o)*s*s,h=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*h}}),U={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,t.lat),-i),o=Math.sin(n*e);return new I(this.R*t.lng*e,this.R*Math.log((1+o)/(1-o))/2)},unproject:function(t){var e=180/Math.PI;return new D((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:(H=6378137*Math.PI,new B([-H,-H],[H,H]))};function V(t,e,i,n){if(g(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=i,this._d=n}function q(t,e,i,n){return new V(t,e,i,n)}V.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new I((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Y=i({},G,{code:"EPSG:3857",projection:U,transformation:function(){var t=.5/(Math.PI*U.R);return q(t,.5,-t,.5)}()}),X=i({},Y,{code:"EPSG:900913"});function K(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function J(t,e){var i,n,o,r,s,a,h="";for(i=0,o=t.length;i<o;i++){for(n=0,r=(s=t[i]).length;n<r;n++)h+=(n?"L":"M")+(a=s[n]).x+" "+a.y;h+=e?Mt?"z":"x":""}return h||"M0 0"}var Q=document.documentElement.style,$="ActiveXObject"in window,tt=$&&!document.addEventListener,et="msLaunchUri"in navigator&&!("documentMode"in document),it=Et("webkit"),nt=Et("android"),ot=Et("android 2")||Et("android 3"),rt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),st=nt&&Et("Google")&&rt<537&&!("AudioNode"in window),at=!!window.opera,ht=Et("chrome"),lt=Et("gecko")&&!it&&!at&&!$,ut=!ht&&Et("safari"),ct=Et("phantom"),dt="OTransition"in Q,ft=0===navigator.platform.indexOf("Win"),pt=$&&"transition"in Q,_t="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ot,mt="MozPerspective"in Q,vt=!window.L_DISABLE_3D&&(pt||_t||mt)&&!dt&&!ct,gt="undefined"!=typeof orientation||Et("mobile"),yt=gt&&it,Ct=gt&&_t,xt=!window.PointerEvent&&window.MSPointerEvent,bt=!(!window.PointerEvent&&!xt),Lt=!window.L_NO_TOUCH&&(bt||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),wt=gt&&at,St=gt&&lt,Pt=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Tt=!!document.createElement("canvas").getContext,Mt=!(!document.createElementNS||!K("svg").createSVGRect),kt=!Mt&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===a(e.adj)}catch(t){return!1}}();function Et(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var At=(Object.freeze||Object)({ie:$,ielt9:tt,edge:et,webkit:it,android:nt,android23:ot,androidStock:st,opera:at,chrome:ht,gecko:lt,safari:ut,phantom:ct,opera12:dt,win:ft,ie3d:pt,webkit3d:_t,gecko3d:mt,any3d:vt,mobile:gt,mobileWebkit:yt,mobileWebkit3d:Ct,msPointer:xt,pointer:bt,touch:Lt,mobileOpera:wt,mobileGecko:St,retina:Pt,canvas:Tt,svg:Mt,vml:kt}),Ot=xt?"MSPointerDown":"pointerdown",It=xt?"MSPointerMove":"pointermove",zt=xt?"MSPointerUp":"pointerup",Nt=xt?"MSPointerCancel":"pointercancel",Bt=["INPUT","SELECT","OPTION"],Zt={},jt=!1,Rt=0;function Dt(t,e,i,n){return"touchstart"===e?function(t,e,i){var n=o((function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(Bt.indexOf(t.target.tagName)<0))return;Ze(t)}Gt(t,e)}));t["_leaflet_touchstart"+i]=n,t.addEventListener(Ot,n,!1),jt||(document.documentElement.addEventListener(Ot,Ft,!0),document.documentElement.addEventListener(It,Ht,!0),document.documentElement.addEventListener(zt,Wt,!0),document.documentElement.addEventListener(Nt,Wt,!0),jt=!0)}(t,i,n):"touchmove"===e?function(t,e,i){var n=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&Gt(t,e)};t["_leaflet_touchmove"+i]=n,t.addEventListener(It,n,!1)}(t,i,n):"touchend"===e&&function(t,e,i){var n=function(t){Gt(t,e)};t["_leaflet_touchend"+i]=n,t.addEventListener(zt,n,!1),t.addEventListener(Nt,n,!1)}(t,i,n),this}function Ft(t){Zt[t.pointerId]=t,Rt++}function Ht(t){Zt[t.pointerId]&&(Zt[t.pointerId]=t)}function Wt(t){delete Zt[t.pointerId],Rt--}function Gt(t,e){for(var i in t.touches=[],Zt)t.touches.push(Zt[i]);t.changedTouches=[t],e(t)}var Ut=xt?"MSPointerDown":bt?"pointerdown":"touchstart",Vt=xt?"MSPointerUp":bt?"pointerup":"touchend",qt="_leaflet_";function Yt(t,e,i){var n,o,r=!1,s=250;function a(t){var e;if(bt){if(!et||"mouse"===t.pointerType)return;e=Rt}else e=t.touches.length;if(!(e>1)){var i=Date.now(),a=i-(n||i);o=t.touches?t.touches[0]:t,r=a>0&&a<=s,n=i}}function h(t){if(r&&!o.cancelBubble){if(bt){if(!et||"mouse"===t.pointerType)return;var i,s,a={};for(s in o)i=o[s],a[s]=i&&i.bind?i.bind(o):i;o=a}o.type="dblclick",e(o),n=null}}return t[qt+Ut+i]=a,t[qt+Vt+i]=h,t[qt+"dblclick"+i]=e,t.addEventListener(Ut,a,!1),t.addEventListener(Vt,h,!1),t.addEventListener("dblclick",e,!1),this}function Xt(t,e){var i=t[qt+Ut+e],n=t[qt+Vt+e],o=t[qt+"dblclick"+e];return t.removeEventListener(Ut,i,!1),t.removeEventListener(Vt,n,!1),et||t.removeEventListener("dblclick",o,!1),this}var Kt,Jt,Qt,$t,te,ee=ve(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ie=ve(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ne="webkitTransition"===ie||"OTransition"===ie?ie+"End":"transitionend";function oe(t){return"string"==typeof t?document.getElementById(t):t}function re(t,e){var i=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!i||"auto"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return"auto"===i?null:i}function se(t,e,i){var n=document.createElement(t);return n.className=e||"",i&&i.appendChild(n),n}function ae(t){var e=t.parentNode;e&&e.removeChild(t)}function he(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function le(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function ue(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function ce(t,e){if(void 0!==t.classList)return t.classList.contains(e);var i=_e(t);return i.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(i)}function de(t,e){if(void 0!==t.classList)for(var i=f(e),n=0,o=i.length;n<o;n++)t.classList.add(i[n]);else if(!ce(t,e)){var r=_e(t);pe(t,(r?r+" ":"")+e)}}function fe(t,e){void 0!==t.classList?t.classList.remove(e):pe(t,d((" "+_e(t)+" ").replace(" "+e+" "," ")))}function pe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function _e(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function me(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&function(t,e){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=t.filters.item(n)}catch(t){if(1===e)return}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=" progid:"+n+"(opacity="+e+")"}(t,e)}function ve(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1}function ge(t,e,i){var n=e||new I(0,0);t.style[ee]=(pt?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function ye(t,e){t._leaflet_pos=e,vt?ge(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Ce(t){return t._leaflet_pos||new I(0,0)}if("onselectstart"in document)Kt=function(){ke(window,"selectstart",Ze)},Jt=function(){Ae(window,"selectstart",Ze)};else{var xe=ve(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Kt=function(){if(xe){var t=document.documentElement.style;Qt=t[xe],t[xe]="none"}},Jt=function(){xe&&(document.documentElement.style[xe]=Qt,Qt=void 0)}}function be(){ke(window,"dragstart",Ze)}function Le(){Ae(window,"dragstart",Ze)}function we(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(Se(),$t=t,te=t.style.outline,t.style.outline="none",ke(window,"keydown",Se))}function Se(){$t&&($t.style.outline=te,$t=void 0,te=void 0,Ae(window,"keydown",Se))}function Pe(t){do{t=t.parentNode}while(!(t.offsetWidth&&t.offsetHeight||t===document.body));return t}function Te(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Me=(Object.freeze||Object)({TRANSFORM:ee,TRANSITION:ie,TRANSITION_END:ne,get:oe,getStyle:re,create:se,remove:ae,empty:he,toFront:le,toBack:ue,hasClass:ce,addClass:de,removeClass:fe,setClass:pe,getClass:_e,setOpacity:me,testProp:ve,setTransform:ge,setPosition:ye,getPosition:Ce,disableTextSelection:Kt,enableTextSelection:Jt,disableImageDrag:be,enableImageDrag:Le,preventOutline:we,restoreOutline:Se,getSizedParentNode:Pe,getScale:Te});function ke(t,e,i,n){if("object"===a(e))for(var o in e)Oe(t,o,e[o],i);else for(var r=0,s=(e=f(e)).length;r<s;r++)Oe(t,e[r],i,n);return this}var Ee="_leaflet_events";function Ae(t,e,i,n){if("object"===a(e))for(var o in e)Ie(t,o,e[o],i);else if(e)for(var r=0,s=(e=f(e)).length;r<s;r++)Ie(t,e[r],i,n);else{for(var h in t[Ee])Ie(t,h,t[Ee][h]);delete t[Ee]}return this}function Oe(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):"");if(t[Ee]&&t[Ee][o])return this;var r=function(e){return i.call(n||t,e||window.event)},a=r;bt&&0===e.indexOf("touch")?Dt(t,e,r,o):!Lt||"dblclick"!==e||!Yt||bt&&ht?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):"mouseenter"===e||"mouseleave"===e?(r=function(e){e=e||window.event,Ve(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",r,!1)):("click"===e&&nt&&(r=function(t){!function(t,e){var i=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,n=He&&i-He;n&&n>100&&n<500||t.target._simulatedClick&&!t._simulated?je(t):(He=i,e(t))}(t,a)}),t.addEventListener(e,r,!1)):"attachEvent"in t&&t.attachEvent("on"+e,r):Yt(t,r,o),t[Ee]=t[Ee]||{},t[Ee][o]=r}function Ie(t,e,i,n){var o=e+s(i)+(n?"_"+s(n):""),r=t[Ee]&&t[Ee][o];if(!r)return this;bt&&0===e.indexOf("touch")?function(t,e,i){var n=t["_leaflet_"+e+i];"touchstart"===e?t.removeEventListener(Ot,n,!1):"touchmove"===e?t.removeEventListener(It,n,!1):"touchend"===e&&(t.removeEventListener(zt,n,!1),t.removeEventListener(Nt,n,!1))}(t,e,o):!Lt||"dblclick"!==e||!Xt||bt&&ht?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",r,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,r,!1):"detachEvent"in t&&t.detachEvent("on"+e,r):Xt(t,o),t[Ee][o]=null}function ze(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Ue(t),this}function Ne(t){return Oe(t,"mousewheel",ze),this}function Be(t){return ke(t,"mousedown touchstart dblclick",ze),Oe(t,"click",Ge),this}function Ze(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function je(t){return Ze(t),ze(t),this}function Re(t,e){if(!e)return new I(t.clientX,t.clientY);var i=Te(e),n=i.boundingClientRect;return new I((t.clientX-n.left)/i.x-e.clientLeft,(t.clientY-n.top)/i.y-e.clientTop)}var De=ft&&ht?2*window.devicePixelRatio:lt?window.devicePixelRatio:1;function Fe(t){return et?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/De:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var He,We={};function Ge(t){We[t.type]=!0}function Ue(t){var e=We[t.type];return We[t.type]=!1,e}function Ve(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(t){return!1}return i!==t}var qe=(Object.freeze||Object)({on:ke,off:Ae,stopPropagation:ze,disableScrollPropagation:Ne,disableClickPropagation:Be,preventDefault:Ze,stop:je,getMousePosition:Re,getWheelDelta:Fe,fakeStop:Ge,skipped:Ue,isExternalTarget:Ve,addListener:ke,removeListener:Ae}),Ye=O.extend({run:function(t,e,i,n){this.stop(),this._el=t,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=Ce(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=T(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,i=1e3*this._duration;e<i?this._runFrame(this._easeOut(e/i),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var i=this._startPos.add(this._offset.multiplyBy(t));e&&i._round(),ye(this._el,i),this.fire("step")},_complete:function(){M(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Xe=O.extend({options:{crs:Y,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=p(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(F(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ie&&vt&&!wt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ke(this._proxy,ne,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(F(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=i({animate:n.animate},n.zoom),n.pan=i({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(t,e),this)},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(vt?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,i){var n=this.getZoomScale(e),o=this.getSize().divideBy(2),r=(t instanceof I?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/n),s=this.containerPointToLatLng(o.add(r));return this.setView(s,e,{zoom:i})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():R(t);var i=N(e.paddingTopLeft||e.padding||[0,0]),n=N(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,i.add(n));if((o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0)return{center:t.getCenter(),zoom:o};var r=n.subtract(i).divideBy(2),s=this.project(t.getSouthWest(),o),a=this.project(t.getNorthEast(),o);return{center:this.unproject(s.add(a).divideBy(2).add(r),o),zoom:o}},fitBounds:function(t,e){if(!(t=R(t)).isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(t,e);return this.setView(i.center,i.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(e=e||{},!(t=N(t).round()).x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ye,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){de(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,i,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,i){if(!1===(i=i||{}).animate||!vt)return this.setView(t,e,i);this._stop();var n=this.project(this.getCenter()),o=this.project(t),r=this.getSize(),s=this._zoom;t=F(t),e=void 0===e?s:e;var a=Math.max(r.x,r.y),h=a*this.getZoomScale(s,e),l=o.distanceTo(n)||1,u=1.42,c=u*u;function d(t){var e=(h*h-a*a+(t?-1:1)*c*c*l*l)/(2*(t?h:a)*c*l),i=Math.sqrt(e*e+1)-e;return i<1e-9?-18:Math.log(i)}function f(t){return(Math.exp(t)-Math.exp(-t))/2}function p(t){return(Math.exp(t)+Math.exp(-t))/2}var _=d(0);function m(t){return a*(p(_)*(f(e=_+u*t)/p(e))-f(_))/c;var e}var v=Date.now(),g=(d(1)-_)/u,y=i.duration?1e3*i.duration:1e3*g*.8;return this._moveStart(!0,i.noMoveStart),function i(){var r=(Date.now()-v)/y,h=function(t){return 1-Math.pow(1-t,1.5)}(r)*g;r<=1?(this._flyToFrame=T(i,this),this._move(this.unproject(n.add(o.subtract(n).multiplyBy(m(h)/l)),s),this.getScaleZoom(a/function(t){return a*(p(_)/p(_+u*t))}(h),s),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){var i=this._getBoundsCenterZoom(t,e);return this.flyTo(i.center,i.zoom,e)},setMaxBounds:function(t){return(t=R(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,R(t));return i.equals(n)||this.panTo(n,e),this._enforcingBounds=!1,this},panInside:function(t,e){var i=N((e=e||{}).paddingTopLeft||e.padding||[0,0]),n=N(e.paddingBottomRight||e.padding||[0,0]),o=this.getCenter(),r=this.project(o),s=this.project(t),a=this.getPixelBounds(),h=a.getSize().divideBy(2),l=Z([a.min.add(i),a.max.subtract(n)]);if(!l.contains(s)){this._enforcingBounds=!0;var u=r.subtract(s),c=N(s.x+u.x,s.y+u.y);(s.x<l.min.x||s.x>l.max.x)&&(c.x=r.x-u.x,u.x>0?c.x+=h.x-i.x:c.x-=h.x-n.x),(s.y<l.min.y||s.y>l.max.y)&&(c.y=r.y-u.y,u.y>0?c.y+=h.y-i.y:c.y-=h.y-n.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var n=this.getSize(),r=e.divideBy(2).round(),s=n.divideBy(2).round(),a=r.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=o(this._handleGeolocationResponse,this),n=o(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+i+"."})},_handleGeolocationResponse:function(t){var e=new D(t.coords.latitude,t.coords.longitude),i=e.toBounds(2*t.coords.accuracy),n=this._locateOptions;if(n.setView){var o=this.getBoundsZoom(i);this.setView(e,n.maxZoom?Math.min(o,n.maxZoom):o)}var r={latlng:e,bounds:i,timestamp:t.timestamp};for(var s in t.coords)"number"==typeof t.coords[s]&&(r[s]=t.coords[s]);this.fire("locationfound",r)},addHandler:function(t,e){if(!e)return this;var i=this[t]=new e(this);return this._handlers.push(i),this.options[t]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var t;for(t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),ae(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(M(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)ae(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var i=se("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new j(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,i){t=R(t),i=N(i||[0,0]);var n=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),h=this.getSize().subtract(i),l=Z(this.project(a,n),this.project(s,n)).getSize(),u=vt?this.options.zoomSnap:1,c=h.x/l.x,d=h.y/l.y,f=e?Math.max(c,d):Math.min(c,d);return n=this.getScaleZoom(f,n),u&&(n=Math.round(n/(u/100))*(u/100),n=e?Math.ceil(n/u)*u:Math.floor(n/u)*u),Math.max(o,Math.min(r,n))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new I(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var i=this._getTopLeftPoint(t,e);return new B(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},getScaleZoom:function(t,e){var i=this.options.crs;e=void 0===e?this._zoom:e;var n=i.zoom(t*i.scale(e));return isNaN(n)?1/0:n},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(F(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(N(t),e)},layerPointToLatLng:function(t){var e=N(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(F(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(F(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(R(t))},distance:function(t,e){return this.options.crs.distance(F(t),F(e))},containerPointToLayerPoint:function(t){return N(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return N(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(N(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(F(t)))},mouseEventToContainerPoint:function(t){return Re(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=oe(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");ke(e,"scroll",this._onScroll,this),this._containerId=s(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&vt,de(t,"leaflet-container"+(Lt?" leaflet-touch":"")+(Pt?" leaflet-retina":"")+(tt?" leaflet-oldie":"")+(ut?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=re(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ye(this._mapPane,new I(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(de(t.markerPane,"leaflet-zoom-hide"),de(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){ye(this._mapPane,new I(0,0));var i=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var n=this._zoom!==e;this._moveStart(n,!1)._move(t,e)._moveEnd(n),this.fire("viewreset"),i&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,i){void 0===e&&(e=this._zoom);var n=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(n||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return M(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ye(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[s(this._container)]=this;var e=t?Ae:ke;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),vt&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){M(this._resizeRequest),this._resizeRequest=T((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var i,n=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,a=!1;r;){if((i=this._targets[s(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(i)){a=!0;break}if(i&&i.listens(e,!0)){if(o&&!Ve(r,t))break;if(n.push(i),o)break}if(r===this._container)break;r=r.parentNode}return n.length||a||o||!Ve(r,t)||(n=[this]),n},_handleDOMEvent:function(t){if(this._loaded&&!Ue(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||we(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type){var o=i({},t);o.type="preclick",this._fireDOMEvent(o,o.type,n)}if(!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var r=n[0];"contextmenu"===e&&r.listens(e,!0)&&Ze(t);var s={originalEvent:t};if("keypress"!==t.type){var a=r.getLatLng&&(!r._radius||r._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?r.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var h=0;h<n.length;h++)if(n[h].fire(e,s,!0),s.originalEvent._stopped||!1===n[h].options.bubblingMouseEvents&&-1!==y(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Ce(this._mapPane)||new I(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,i){var n=this._getNewPixelOrigin(i,e);return Z([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,i){if(!i)return t;var n=this.project(t,e),o=this.getSize().divideBy(2),r=new B(n.subtract(o),n.add(o)),s=this._getBoundsOffset(r,i,e);return s.round().equals([0,0])?t:this.unproject(n.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var i=this.getPixelBounds(),n=new B(i.min.add(t),i.max.add(t));return t.add(this._getBoundsOffset(n,e))},_getBoundsOffset:function(t,e,i){var n=Z(this.project(e.getNorthEast(),i),this.project(e.getSouthWest(),i)),o=n.min.subtract(t.min),r=n.max.subtract(t.max);return new I(this._rebound(o.x,-r.x),this._rebound(o.y,-r.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom(),n=vt?this.options.zoomSnap:1;return n&&(t=Math.round(t/n)*n),Math.max(e,Math.min(i,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){fe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var i=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(i)||(this.panBy(i,e),0))},_createAnimProxy:function(){var t=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",(function(t){var e=ee,i=this._proxy.style[e];ge(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),i===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",(function(){var t=this.getCenter(),e=this.getZoom();ge(this._proxy,this.project(t,e),this.getZoomScale(e,1))}),this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||!1===i.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);return!(!0!==i.animate&&!this.getSize().contains(o)||(T((function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)}),this),0))},_animateZoom:function(t,e,i,n){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,de(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:n}),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&fe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),T((function(){this._moveEnd(!0)}),this))}}),Ke=E.extend({options:{position:"topright"},initialize:function(t){p(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),i=this.getPosition(),n=t._controlCorners[i];return de(e,"leaflet-control"),-1!==i.indexOf("bottom")?n.insertBefore(e,n.firstChild):n.appendChild(e),this},remove:function(){return this._map?(ae(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Je=function(t){return new Ke(t)};Xe.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",i=this._controlContainer=se("div",e+"control-container",this._container);function n(n,o){var r=e+n+" "+e+o;t[n+o]=se("div",r,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)ae(this._controlCorners[t]);ae(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Qe=Ke.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,i,n){return i<n?-1:n<i?1:0}},initialize:function(t,e,i){for(var n in p(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[n],n);for(n in e)this._addLayer(e[n],n,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Ke.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(s(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){de(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(de(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):fe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return fe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=se("div",t),i=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Be(e),Ne(e);var n=this._section=se("section",t+"-list");i&&(this._map.on("click",this.collapse,this),nt||ke(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var o=this._layersLink=se("a",t+"-toggle",e);o.href="#",o.title="Layers",Lt?(ke(o,"click",je),ke(o,"click",this.expand,this)):ke(o,"focus",this.expand,this),i||this.expand(),this._baseLayersList=se("div",t+"-base",n),this._separator=se("div",t+"-separator",n),this._overlaysList=se("div",t+"-overlays",n),e.appendChild(n)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&s(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(o((function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)}),this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;he(this._baseLayersList),he(this._overlaysList),this._layerControlInputs=[];var t,e,i,n,o=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,o+=n.overlay?0:1;return this.options.hideSingleBase&&(t=t&&o>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(s(t.target)),i=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;i&&this._map.fire(i,e)},_createRadioElement:function(t,e){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,i=document.createElement("label"),n=this._map.hasLayer(t.layer);t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=n):e=this._createRadioElement("leaflet-base-layers",n),this._layerControlInputs.push(e),e.layerId=s(t.layer),ke(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var r=document.createElement("div");return i.appendChild(r),r.appendChild(e),r.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(i),this._checkDisabledLayers(),i},_onInputClick:function(){var t,e,i=this._layerControlInputs,n=[],o=[];this._handlingClick=!0;for(var r=i.length-1;r>=0;r--)t=i[r],e=this._getLayer(t.layerId).layer,t.checked?n.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<n.length;r++)this._map.hasLayer(n[r])||this._map.addLayer(n[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,i=this._layerControlInputs,n=this._map.getZoom(),o=i.length-1;o>=0;o--)t=i[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&n<e.options.minZoom||void 0!==e.options.maxZoom&&n>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),$e=Ke.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",i=se("div",e+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,e+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,e+"-out",i,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,i,n,o){var r=se("a",i,n);return r.innerHTML=t,r.href="#",r.title=e,r.setAttribute("role","button"),r.setAttribute("aria-label",e),Be(r),ke(r,"click",je),ke(r,"click",o,this),ke(r,"click",this._refocusOnMap,this),r},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";fe(this._zoomInButton,e),fe(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&de(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&de(this._zoomInButton,e)}});Xe.mergeOptions({zoomControl:!0}),Xe.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new $e,this.addControl(this.zoomControl))}));var ti=Ke.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=se("div","leaflet-control-scale"),i=this.options;return this._addScales(i,"leaflet-control-scale-line",e),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,i){t.metric&&(this._mScale=se("div",e,i)),t.imperial&&(this._iScale=se("div",e,i))},_update:function(){var t=this._map,e=t.getSize().y/2,i=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(i)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),i=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,i,e/t)},_updateImperial:function(t){var e,i,n,o=3.2808399*t;o>5280?(e=o/5280,i=this._getRoundNum(e),this._updateScale(this._iScale,i+" mi",i/e)):(n=this._getRoundNum(o),this._updateScale(this._iScale,n+" ft",n/o))},_updateScale:function(t,e,i){t.style.width=Math.round(this.options.maxWidth*i)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),i=t/e;return e*(i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1)}}),ei=Ke.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){p(this,t),this._attributions={}},onAdd:function(t){for(var e in t.attributionControl=this,this._container=se("div","leaflet-control-attribution"),Be(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(", ")),this._container.innerHTML=i.join(" | ")}}});Xe.mergeOptions({attributionControl:!0}),Xe.addInitHook((function(){this.options.attributionControl&&(new ei).addTo(this)})),Ke.Layers=Qe,Ke.Zoom=$e,Ke.Scale=ti,Ke.Attribution=ei,Je.layers=function(t,e,i){return new Qe(t,e,i)},Je.zoom=function(t){return new $e(t)},Je.scale=function(t){return new ti(t)},Je.attribution=function(t){return new ei(t)};var ii=E.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ii.addTo=function(t,e){return t.addHandler(e,this),this};var ni,oi={Events:A},ri=Lt?"touchstart mousedown":"mousedown",si={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ai={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},hi=O.extend({options:{clickTolerance:3},initialize:function(t,e,i,n){p(this,n),this._element=t,this._dragStartTarget=e||t,this._preventOutline=i},enable:function(){this._enabled||(ke(this._dragStartTarget,ri,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(hi._dragging===this&&this.finishDrag(),Ae(this._dragStartTarget,ri,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!ce(this._element,"leaflet-zoom-anim")&&!(hi._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(hi._dragging=this,this._preventOutline&&we(this._element),be(),Kt(),this._moving)))){this.fire("down");var e=t.touches?t.touches[0]:t,i=Pe(this._element);this._startPoint=new I(e.clientX,e.clientY),this._parentScale=Te(i),ke(document,ai[t.type],this._onMove,this),ke(document,si[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled)if(t.touches&&t.touches.length>1)this._moved=!0;else{var e=t.touches&&1===t.touches.length?t.touches[0]:t,i=new I(e.clientX,e.clientY)._subtract(this._startPoint);(i.x||i.y)&&(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ze(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=Ce(this._element).subtract(i),de(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),de(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,M(this._animRequest),this._lastEvent=t,this._animRequest=T(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ye(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in fe(document.body,"leaflet-dragging"),this._lastTarget&&(fe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ai)Ae(document,ai[t],this._onMove,this),Ae(document,si[t],this._onUp,this);Le(),Jt(),this._moved&&this._moving&&(M(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,hi._dragging=!1}});function li(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=function(t,e){var i=t.length,n=new(("undefined"==typeof Uint8Array?"undefined":a(Uint8Array))!==void 0+""?Uint8Array:Array)(i);n[0]=n[i-1]=1,function t(e,i,n,o,r){var s,a,h,l=0;for(a=o+1;a<=r-1;a++)(h=pi(e[a],e[o],e[r],!0))>l&&(s=a,l=h);l>n&&(i[s]=1,t(e,i,n,o,s),t(e,i,n,s,r))}(t,n,e,0,i-1);var o,r=[];for(o=0;o<i;o++)n[o]&&r.push(t[o]);return r}(t=function(t,e){for(var i=[t[0]],n=1,o=0,r=t.length;n<r;n++)s=t[n],a=t[o],h=void 0,l=void 0,h=a.x-s.x,l=a.y-s.y,h*h+l*l>e&&(i.push(t[n]),o=n);var s,a,h,l;return o<r-1&&i.push(t[r-1]),i}(t,i),i)}function ui(t,e,i){return Math.sqrt(pi(t,e,i,!0))}function ci(t,e,i,n,o){var r,s,a,h=n?ni:fi(t,i),l=fi(e,i);for(ni=l;;){if(!(h|l))return[t,e];if(h&l)return!1;a=fi(s=di(t,e,r=h||l,i,o),i),r===h?(t=s,h=a):(e=s,l=a)}}function di(t,e,i,n,o){var r,s,a=e.x-t.x,h=e.y-t.y,l=n.min,u=n.max;return 8&i?(r=t.x+a*(u.y-t.y)/h,s=u.y):4&i?(r=t.x+a*(l.y-t.y)/h,s=l.y):2&i?(r=u.x,s=t.y+h*(u.x-t.x)/a):1&i&&(r=l.x,s=t.y+h*(l.x-t.x)/a),new I(r,s,o)}function fi(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i}function pi(t,e,i,n){var o,r=e.x,s=e.y,a=i.x-r,h=i.y-s,l=a*a+h*h;return l>0&&((o=((t.x-r)*a+(t.y-s)*h)/l)>1?(r=i.x,s=i.y):o>0&&(r+=a*o,s+=h*o)),a=t.x-r,h=t.y-s,n?a*a+h*h:new I(r,s)}function _i(t){return!g(t[0])||"object"!==a(t[0][0])&&void 0!==t[0][0]}function mi(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),_i(t)}var vi=(Object.freeze||Object)({simplify:li,pointToSegmentDistance:ui,closestPointOnSegment:function(t,e,i){return pi(t,e,i)},clipSegment:ci,_getEdgeIntersection:di,_getBitCode:fi,_sqClosestPointOnSegment:pi,isFlat:_i,_flat:mi});function gi(t,e,i){var n,o,r,s,a,h,l,u,c,d=[1,4,2,8];for(o=0,l=t.length;o<l;o++)t[o]._code=fi(t[o],e);for(s=0;s<4;s++){for(u=d[s],n=[],o=0,r=(l=t.length)-1;o<l;r=o++)a=t[o],h=t[r],a._code&u?h._code&u||((c=di(h,a,u,e,i))._code=fi(c,e),n.push(c)):(h._code&u&&((c=di(h,a,u,e,i))._code=fi(c,e),n.push(c)),n.push(a));t=n}return t}var yi=(Object.freeze||Object)({clipPolygon:gi}),Ci={project:function(t){return new I(t.lng,t.lat)},unproject:function(t){return new D(t.y,t.x)},bounds:new B([-180,-90],[180,90])},xi={R:6378137,R_MINOR:6356752.314245179,bounds:new B([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,i=this.R,n=t.lat*e,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=r*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-s)/(1+s),r/2);return n=-i*Math.log(Math.max(a,1e-10)),new I(t.lng*e*i,n)},unproject:function(t){for(var e,i=180/Math.PI,n=this.R,o=this.R_MINOR/n,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/n),a=Math.PI/2-2*Math.atan(s),h=0,l=.1;h<15&&Math.abs(l)>1e-7;h++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=l=Math.PI/2-2*Math.atan(s*e)-a;return new D(a*i,t.x*i/n)}},bi=(Object.freeze||Object)({LonLat:Ci,Mercator:xi,SphericalMercator:U}),Li=i({},G,{code:"EPSG:3395",projection:xi,transformation:function(){var t=.5/(Math.PI*xi.R);return q(t,.5,-t,.5)}()}),wi=i({},G,{code:"EPSG:4326",projection:Ci,transformation:q(1/180,1,-1/180,.5)}),Si=i({},W,{projection:Ci,transformation:q(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var i=e.lng-t.lng,n=e.lat-t.lat;return Math.sqrt(i*i+n*n)},infinite:!0});W.Earth=G,W.EPSG3395=Li,W.EPSG3857=Y,W.EPSG900913=X,W.EPSG4326=wi,W.Simple=Si;var Pi=O.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[s(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[s(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var i=this.getEvents();e.on(i,this),this.once("remove",(function(){e.off(i,this)}),this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Xe.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=s(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=s(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&s(t)in this._layers},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},_addLayers:function(t){for(var e=0,i=(t=t?g(t)?t:[t]:[]).length;e<i;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[s(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=s(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var o=this._zoomBoundLayers[n].options;t=void 0===o.minZoom?t:Math.min(t,o.minZoom),e=void 0===o.maxZoom?e:Math.max(e,o.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ti=Pi.extend({initialize:function(t,e){var i,n;if(p(this,e),this._layers={},t)for(i=0,n=t.length;i<n;i++)this.addLayer(t[i])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)(i=this._layers[e])[t]&&i[t].apply(i,n);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var i in this._layers)t.call(e,this._layers[i]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return s(t)}}),Mi=Ti.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Ti.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Ti.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new j;for(var e in this._layers){var i=this._layers[e];t.extend(i.getBounds?i.getBounds():i.getLatLng())}return t}}),ki=E.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){p(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var i=this._getIconUrl(t);if(!i){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(n,t),n},_setIconStyles:function(t,e){var i=this.options,n=i[e+"Size"];"number"==typeof n&&(n=[n,n]);var o=N(n),r=N("shadow"===e&&i.shadowAnchor||i.iconAnchor||o&&o.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(i.className||""),r&&(t.style.marginLeft=-r.x+"px",t.style.marginTop=-r.y+"px"),o&&(t.style.width=o.x+"px",t.style.height=o.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return Pt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),Ei=ki.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return Ei.imagePath||(Ei.imagePath=this._detectIconPath()),(this.options.imagePath||Ei.imagePath)+ki.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=se("div","leaflet-default-icon-path",document.body),e=re(t,"background-image")||re(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),Ai=ii.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new hi(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),de(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&fe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,i=e._map,n=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=Ce(e._icon),s=i.getPixelBounds(),a=i.getPixelOrigin(),h=Z(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));if(!h.contains(r)){var l=N((Math.max(h.max.x,r.x)-h.max.x)/(s.max.x-h.max.x)-(Math.min(h.min.x,r.x)-h.min.x)/(s.min.x-h.min.x),(Math.max(h.max.y,r.y)-h.max.y)/(s.max.y-h.max.y)-(Math.min(h.min.y,r.y)-h.min.y)/(s.min.y-h.min.y)).multiplyBy(n);i.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),ye(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=T(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(M(this._panRequest),this._panRequest=T(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,i=e._shadow,n=Ce(e._icon),o=e._map.layerPointToLatLng(n);i&&ye(i,n),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){M(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Oi=Pi.extend({options:{icon:new Ei,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){p(this,e),this._latlng=F(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=F(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=t.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,t.title&&(i.title=t.title),"IMG"===i.tagName&&(i.alt=t.alt||"")),de(i,e),t.keyboard&&(i.tabIndex="0"),this._icon=i,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var o=t.icon.createShadow(this._shadow),r=!1;o!==this._shadow&&(this._removeShadow(),r=!0),o&&(de(o,e),o.alt=""),this._shadow=o,t.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),o&&r&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),ae(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ae(this._shadow),this._shadow=null},_setPos:function(t){ye(this._icon,t),this._shadow&&ye(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(de(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ai)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ai(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;me(this._icon,t),this._shadow&&me(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),Ii=Pi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return p(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),zi=Ii.extend({options:{fill:!0,radius:10},initialize:function(t,e){p(this,e),this._latlng=F(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=F(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return Ii.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,i=this._clickTolerance(),n=[t+i,e+i];this._pxBounds=new B(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),Ni=zi.extend({initialize:function(t,e,n){if("number"==typeof e&&(e=i({},n,{radius:e})),p(this,e),this._latlng=F(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new j(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:Ii.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===G.distance){var o=Math.PI/180,r=this._mRadius/G.R/o,s=i.project([e+r,t]),a=i.project([e-r,t]),h=s.add(a).divideBy(2),l=i.unproject(h).lat,u=Math.acos((Math.cos(r*o)-Math.sin(e*o)*Math.sin(l*o))/(Math.cos(e*o)*Math.cos(l*o)))/o;(isNaN(u)||0===u)&&(u=r/Math.cos(Math.PI/180*e)),this._point=h.subtract(i.getPixelOrigin()),this._radius=isNaN(u)?0:h.x-i.project([l,t-u]).x,this._radiusY=h.y-s.y}else{var c=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(c).x}this._updateBounds()}}),Bi=Ii.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){p(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,i,n=1/0,o=null,r=pi,s=0,a=this._parts.length;s<a;s++)for(var h=this._parts[s],l=1,u=h.length;l<u;l++){var c=r(t,e=h[l-1],i=h[l],!0);c<n&&(n=c,o=r(t,e,i))}return o&&(o.distance=Math.sqrt(n)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a=this._rings[0],h=a.length;if(!h)return null;for(t=0,e=0;t<h-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,n=0;t<h-1;t++)if(o=a[t],r=a[t+1],(n+=i=o.distanceTo(r))>e)return s=(n-e)/i,this._map.layerPointToLatLng([r.x-s*(r.x-o.x),r.y-s*(r.y-o.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=F(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new j,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return _i(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],i=_i(t),n=0,o=t.length;n<o;n++)i?(e[n]=F(t[n]),this._bounds.extend(e[n])):e[n]=this._convertLatLngs(t[n]);return e},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),i=new I(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(i),t.max._add(i),this._pxBounds=t)},_projectLatlngs:function(t,e,i){var n,o,r=t[0]instanceof D,s=t.length;if(r){for(o=[],n=0;n<s;n++)o[n]=this._map.latLngToLayerPoint(t[n]),i.extend(o[n]);e.push(o)}else for(n=0;n<s;n++)this._projectLatlngs(t[n],e,i)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else{var e,i,n,o,r,s,a,h=this._parts;for(e=0,n=0,o=this._rings.length;e<o;e++)for(i=0,r=(a=this._rings[e]).length;i<r-1;i++)(s=ci(a[i],a[i+1],t,i,!0))&&(h[n]=h[n]||[],h[n].push(s[0]),s[1]===a[i+1]&&i!==r-2||(h[n].push(s[1]),n++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,i=0,n=t.length;i<n;i++)t[i]=li(t[i],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var i,n,o,r,s,a,h=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(i=0,r=this._parts.length;i<r;i++)for(n=0,o=(s=(a=this._parts[i]).length)-1;n<s;o=n++)if((e||0!==n)&&ui(t,a[o],a[n])<=h)return!0;return!1}});Bi._flat=mi;var Zi=Bi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,i,n,o,r,s,a,h,l=this._rings[0],u=l.length;if(!u)return null;for(r=s=a=0,t=0,e=u-1;t<u;e=t++)i=l[t],n=l[e],o=i.y*n.x-n.y*i.x,s+=(i.x+n.x)*o,a+=(i.y+n.y)*o,r+=3*o;return h=0===r?l[0]:[s/r,a/r],this._map.layerPointToLatLng(h)},_convertLatLngs:function(t){var e=Bi.prototype._convertLatLngs.call(this,t),i=e.length;return i>=2&&e[0]instanceof D&&e[0].equals(e[i-1])&&e.pop(),e},_setLatLngs:function(t){Bi.prototype._setLatLngs.call(this,t),_i(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return _i(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,i=new I(e,e);if(t=new B(t.min.subtract(i),t.max.add(i)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,o=0,r=this._rings.length;o<r;o++)(n=gi(this._rings[o],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,i,n,o,r,s,a,h,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(h=(e=this._parts[o]).length)-1;r<h;s=r++)i=e[r],n=e[s],i.y>t.y!=n.y>t.y&&t.x<(n.x-i.x)*(t.y-i.y)/(n.y-i.y)+i.x&&(l=!l);return l||Bi.prototype._containsPoint.call(this,t,!0)}}),ji=Mi.extend({initialize:function(t,e){p(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,i,n,o=g(t)?t:t.features;if(o){for(e=0,i=o.length;e<i;e++)((n=o[e]).geometries||n.geometry||n.features||n.coordinates)&&this.addData(n);return this}var r=this.options;if(r.filter&&!r.filter(t))return this;var s=Ri(t,r);return s?(s.feature=Ui(t),s.defaultOptions=s.options,this.resetStyle(s),r.onEachFeature&&r.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer((function(e){this._setLayerStyle(e,t)}),this)},_setLayerStyle:function(t,e){"function"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}});function Ri(t,e){var i,n,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,h=[],l=e&&e.pointToLayer,u=e&&e.coordsToLatLng||Di;if(!a&&!s)return null;switch(s.type){case"Point":return i=u(a),l?l(t,i):new Oi(i);case"MultiPoint":for(o=0,r=a.length;o<r;o++)i=u(a[o]),h.push(l?l(t,i):new Oi(i));return new Mi(h);case"LineString":case"MultiLineString":return n=Fi(a,"LineString"===s.type?0:1,u),new Bi(n,e);case"Polygon":case"MultiPolygon":return n=Fi(a,"Polygon"===s.type?1:2,u),new Zi(n,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var c=Ri({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);c&&h.push(c)}return new Mi(h);default:throw new Error("Invalid GeoJSON object.")}}function Di(t){return new D(t[1],t[0],t[2])}function Fi(t,e,i){for(var n,o=[],r=0,s=t.length;r<s;r++)n=e?Fi(t[r],e-1,i):(i||Di)(t[r]),o.push(n);return o}function Hi(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[c(t.lng,e),c(t.lat,e),c(t.alt,e)]:[c(t.lng,e),c(t.lat,e)]}function Wi(t,e,i,n){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?Wi(t[r],e-1,i,n):Hi(t[r],n));return!e&&i&&o.push(o[0]),o}function Gi(t,e){return t.feature?i({},t.feature,{geometry:e}):Ui(e)}function Ui(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}var Vi={toGeoJSON:function(t){return Gi(this,{type:"Point",coordinates:Hi(this.getLatLng(),t)})}};function qi(t,e){return new ji(t,e)}Oi.include(Vi),Ni.include(Vi),zi.include(Vi),Bi.include({toGeoJSON:function(t){var e=!_i(this._latlngs);return Gi(this,{type:(e?"Multi":"")+"LineString",coordinates:Wi(this._latlngs,e?1:0,!1,t)})}}),Zi.include({toGeoJSON:function(t){var e=!_i(this._latlngs),i=e&&!_i(this._latlngs[0]),n=Wi(this._latlngs,i?2:e?1:0,!0,t);return e||(n=[n]),Gi(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}}),Ti.include({toMultiPoint:function(t){var e=[];return this.eachLayer((function(i){e.push(i.toGeoJSON(t).geometry.coordinates)})),Gi(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var i="GeometryCollection"===e,n=[];return this.eachLayer((function(e){if(e.toGeoJSON){var o=e.toGeoJSON(t);if(i)n.push(o.geometry);else{var r=Ui(o);"FeatureCollection"===r.type?n.push.apply(n,r.features):n.push(r)}}})),i?Gi(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});var Yi=qi,Xi=Pi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,i){this._url=t,this._bounds=R(e),p(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(de(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ae(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&le(this._image),this},bringToBack:function(){return this._map&&ue(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=R(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:se("img");de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),this.options.className&&de(e,this.options.className),e.onselectstart=u,e.onmousemove=u,e.onload=o(this.fire,this,"load"),e.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ge(this._image,i,e)},_reset:function(){var t=this._image,e=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=e.getSize();ye(t,e.min),t.style.width=i.x+"px",t.style.height=i.y+"px"},_updateOpacity:function(){me(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ki=Xi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:se("video");if(de(e,"leaflet-image-layer"),this._zoomAnimated&&de(e,"leaflet-zoom-animated"),e.onselectstart=u,e.onmousemove=u,e.onloadeddata=o(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),n=[],r=0;r<i.length;r++)n.push(i[r].src);this._url=i.length>0?n:[e.src]}else{g(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var s=0;s<this._url.length;s++){var a=se("source");a.src=this._url[s],e.appendChild(a)}}}}),Ji=Pi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){p(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&me(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&me(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(me(this._container,0),this._removeTimeout=setTimeout(o(ae,void 0,this._container),200)):ae(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=F(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&le(this._container),this},bringToBack:function(){return this._map&&ue(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=N(this.options.offset),i=this._getAnchor();this._zoomAnimated?ye(this._container,t.add(i)):e=e.add(t).add(i);var n=this._containerBottom=-e.y,o=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=n+"px",this._container.style.left=o+"px"}},_getAnchor:function(){return[0,0]}}),Qi=Ji.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Ji.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ii||this._source.on("preclick",ze))},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ii||this._source.off("preclick",ze))},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=se("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=se("div",t+"-content-wrapper",e);if(this._contentNode=se("div",t+"-content",i),Be(i),Ne(this._contentNode),ke(i,"contextmenu",ze),this._tipContainer=se("div",t+"-tip-container",e),this._tip=se("div",t+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=se("a",t+"-close-button",e);n.href="#close",n.innerHTML="&#215;",ke(n,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var i=t.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),e.width=i+1+"px",e.whiteSpace="",e.height="";var n=t.offsetHeight,o=this.options.maxHeight;o&&n>o?(e.height=o+"px",de(t,"leaflet-popup-scrolled")):fe(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),i=this._getAnchor();ye(this._container,e.add(i))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(re(this._container,"marginBottom"),10)||0,i=this._container.offsetHeight+e,n=this._containerWidth,o=new I(this._containerLeft,-i-this._containerBottom);o._add(Ce(this._container));var r=t.layerPointToContainerPoint(o),s=N(this.options.autoPanPadding),a=N(this.options.autoPanPaddingTopLeft||s),h=N(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),u=0,c=0;r.x+n+h.x>l.x&&(u=r.x+n-l.x+h.x),r.x-u-a.x<0&&(u=r.x-a.x),r.y+i+h.y>l.y&&(c=r.y+i-l.y+h.y),r.y-c-a.y<0&&(c=r.y-a.y),(u||c)&&t.fire("autopanstart").panBy([u,c])}},_onCloseButtonClick:function(t){this._close(),je(t)},_getAnchor:function(){return N(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});Xe.mergeOptions({closePopupOnClick:!0}),Xe.include({openPopup:function(t,e,i){return t instanceof Qi||(t=new Qi(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),Pi.include({bindPopup:function(t,e){return t instanceof Qi?(p(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Qi(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof Pi||(e=t,t=this),t instanceof Mi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(je(t),e instanceof Ii?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var $i=Ji.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Ji.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Ji.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Ji.prototype.getEvents.call(this);return Lt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,i=this._container,n=e.latLngToContainerPoint(e.getCenter()),o=e.layerPointToContainerPoint(t),r=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,h=N(this.options.offset),l=this._getAnchor();"top"===r?t=t.add(N(-s/2+h.x,-a+h.y+l.y,!0)):"bottom"===r?t=t.subtract(N(s/2-h.x,-h.y,!0)):"center"===r?t=t.subtract(N(s/2+h.x,a/2-l.y+h.y,!0)):"right"===r||"auto"===r&&o.x<n.x?(r="right",t=t.add(N(h.x+l.x,l.y-a/2+h.y,!0))):(r="left",t=t.subtract(N(s+l.x-h.x,a/2-l.y-h.y,!0))),fe(i,"leaflet-tooltip-right"),fe(i,"leaflet-tooltip-left"),fe(i,"leaflet-tooltip-top"),fe(i,"leaflet-tooltip-bottom"),de(i,"leaflet-tooltip-"+r),ye(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&me(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return N(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});Xe.include({openTooltip:function(t,e,i){return t instanceof $i||(t=new $i(i).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),Pi.include({bindTooltip:function(t,e){return t instanceof $i?(p(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new $i(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),Lt&&(i.click=this._openTooltip)),this[e](i),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof Pi||(e=t,t=this),t instanceof Mi)for(var i in this._layers){t=this._layers[i];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&(de(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(fe(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,i,n=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),i=this._map.containerPointToLayerPoint(e),n=this._map.layerPointToLatLng(i)),this._tooltip.setLatLng(n)}});var tn=ki.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),i=this.options;if(e.innerHTML=!1!==i.html?i.html:"",i.bgPos){var n=N(i.bgPos);e.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});ki.Default=Ei;var en=Pi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:gt,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){p(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),ae(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(le(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ue(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof I?t:new I(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,i=this.getPane().children,n=-t(-1/0,1/0),o=0,r=i.length;o<r;o++)e=i[o].style.zIndex,i[o]!==this._container&&e&&(n=t(n,+e));isFinite(n)&&(this.options.zIndex=n+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!tt){me(this._container,this.options.opacity);var t=+new Date,e=!1,i=!1;for(var n in this._tiles){var o=this._tiles[n];if(o.current&&o.loaded){var r=Math.min(1,(t-o.loaded)/200);me(o.el,r),r<1?e=!0:(o.active?i=!0:this._onOpaqueTile(o),o.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),e&&(M(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this))}},_onOpaqueTile:u,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var i in this._levels)this._levels[i].el.children.length||i===t?(this._levels[i].el.style.zIndex=e-Math.abs(t-i),this._onUpdateLevel(i)):(ae(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[t],o=this._map;return n||((n=this._levels[t]={}).el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=e,n.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),n.zoom=t,this._setZoomTransform(n,o.getCenter(),o.getZoom()),n.el.offsetWidth,this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:u,_onRemoveLevel:u,_onCreateLevel:u,_pruneTiles:function(){if(this._map){var t,e,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(e=this._tiles[t]).retain=e.current;for(t in this._tiles)if((e=this._tiles[t]).current&&!e.active){var n=e.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)ae(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,i,n){var o=Math.floor(t/2),r=Math.floor(e/2),s=i-1,a=new I(+o,+r);a.z=+s;var h=this._tileCoordsToKey(a),l=this._tiles[h];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>n&&this._retainParent(o,r,s,n))},_retainChildren:function(t,e,i,n){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new I(o,r);s.z=i+1;var a=this._tileCoordsToKey(s),h=this._tiles[a];h&&h.active?h.retain=!0:(h&&h.loaded&&(h.retain=!0),i+1<n&&this._retainChildren(o,r,i+1,n))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,i,n){var o=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom)&&(o=void 0);var r=this.options.updateWhenZooming&&o!==this._tileZoom;n&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var i in this._levels)this._setZoomTransform(this._levels[i],t,e)},_setZoomTransform:function(t,e,i){var n=this._map.getZoomScale(i,t.zoom),o=t.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(e,i)).round();vt?ge(t.el,o,n):ye(t.el,o)},_resetGrid:function(){var t=this._map,e=t.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],n).x/i.x),Math.ceil(t.project([0,e.wrapLng[1]],n).x/i.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],n).y/i.x),Math.ceil(t.project([e.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,i=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(i,this._tileZoom),o=e.project(t,this._tileZoom).floor(),r=e.getSize().divideBy(2*n);return new B(o.subtract(r),o.add(r))},_update:function(t){var e=this._map;if(e){var i=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var n=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(n),r=o.getCenter(),s=[],a=this.options.keepBuffer,h=new B(o.getBottomLeft().subtract([a,-a]),o.getTopRight().add([a,-a]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var u=this._tiles[l].coords;u.z===this._tileZoom&&h.contains(new I(u.x,u.y))||(this._tiles[l].current=!1)}if(Math.abs(i-this._tileZoom)>1)this._setView(t,i);else{for(var c=o.min.y;c<=o.max.y;c++)for(var d=o.min.x;d<=o.max.x;d++){var f=new I(d,c);if(f.z=this._tileZoom,this._isValidTile(f)){var p=this._tiles[this._tileCoordsToKey(f)];p?p.current=!0:s.push(f)}}if(s.sort((function(t,e){return t.distanceTo(r)-e.distanceTo(r)})),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var _=document.createDocumentFragment();for(d=0;d<s.length;d++)this._addTile(s[d],_);this._level.el.appendChild(_)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var i=this._globalTileRange;if(!e.wrapLng&&(t.x<i.min.x||t.x>i.max.x)||!e.wrapLat&&(t.y<i.min.y||t.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(t);return R(this.options.bounds).overlaps(n)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,i=this.getTileSize(),n=t.scaleBy(i),o=n.add(i);return[e.unproject(n,t.z),e.unproject(o,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),i=new j(e[0],e[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),i=new I(+e[0],+e[1]);return i.z=+e[2],i},_removeTile:function(t){var e=this._tiles[t];e&&(ae(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){de(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=u,t.onmousemove=u,tt&&this.options.opacity<1&&me(t,this.options.opacity),nt&&!ot&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),n=this._tileCoordsToKey(t),r=this.createTile(this._wrapCoords(t),o(this._tileReady,this,t));this._initTile(r),this.createTile.length<2&&T(o(this._tileReady,this,t,null,r)),ye(r,i),this._tiles[n]={el:r,coords:t,current:!0},e.appendChild(r),this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var n=this._tileCoordsToKey(t);(i=this._tiles[n])&&(i.loaded=+new Date,this._map._fadeAnimated?(me(i.el,0),M(this._fadeFrame),this._fadeFrame=T(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||(de(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),tt||!this._map._fadeAnimated?T(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new I(this._wrapX?l(t.x,this._wrapX):t.x,this._wrapY?l(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new B(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),nn=en.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=p(this,e)).detectRetina&&Pt&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),nt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return ke(i,"load",o(this._tileOnLoad,this,e,i)),ke(i,"error",o(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var e={r:Pt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=n),e["-y"]=n}return v(this._url,i(e,this.options))},_tileOnLoad:function(t,e){tt?setTimeout(o(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,i){var n=this.options.errorTileUrl;n&&e.getAttribute("src")!==n&&(e.src=n),t(i,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return this.options.zoomReverse&&(t=e-t),t+this.options.zoomOffset},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=u,e.onerror=u,e.complete||(e.src=C,ae(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return st||e.el.setAttribute("src",C),en.prototype._removeTile.call(this,t)},_tileReady:function(t,e,i){if(this._map&&(!i||i.getAttribute("src")!==C))return en.prototype._tileReady.call(this,t,e,i)}});function on(t,e){return new nn(t,e)}var rn=nn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n=i({},this.defaultWmsParams);for(var o in e)o in this.options||(n[o]=e[o]);var r=(e=p(this,e)).detectRetina&&Pt?2:1,s=this.getTileSize();n.width=s.x*r,n.height=s.y*r,this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,nn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),i=this._crs,n=Z(i.project(e[0]),i.project(e[1])),o=n.min,r=n.max,s=(this._wmsVersion>=1.3&&this._crs===wi?[o.y,o.x,r.y,r.x]:[o.x,o.y,r.x,r.y]).join(","),a=nn.prototype.getTileUrl.call(this,t);return a+_(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});nn.WMS=rn,on.wms=function(t,e){return new rn(t,e)};var sn=Pi.extend({options:{padding:.1,tolerance:0},initialize:function(t){p(this,t),s(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&de(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),n=Ce(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),s=this._map.project(t,e).subtract(r),a=o.multiplyBy(-i).add(n).add(o).subtract(s);vt?ge(this._container,a,i):ye(this._container,a)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new B(i,i.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),an=sn.extend({getEvents:function(){var t=sn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){sn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");ke(t,"mousemove",h(this._onMouseMove,32,this),this),ke(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ke(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){M(this._redrawRequest),delete this._ctx,ae(this._container),Ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){sn.prototype._update.call(this);var t=this._bounds,e=this._container,i=t.getSize(),n=Pt?2:1;ye(e,t.min),e.width=n*i.x,e.height=n*i.y,e.style.width=i.x+"px",e.style.height=i.y+"px",Pt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){sn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[s(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,i=e.next,n=e.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete t._order,delete this._layers[s(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){var e,i,n=t.options.dashArray.split(/[, ]+/),o=[];for(i=0;i<n.length;i++){if(e=Number(n[i]),isNaN(e))return;o.push(e)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||T(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var i=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)t=n.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var i,n,o,r,s=t._parts,a=s.length,h=this._ctx;if(a){for(h.beginPath(),i=0;i<a;i++){for(n=0,o=s[i].length;n<o;n++)r=s[i][n],h[n?"lineTo":"moveTo"](r.x,r.y);e&&h.closePath()}this._fillStroke(h,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,i=this._ctx,n=Math.max(Math.round(t._radius),1),o=(Math.max(Math.round(t._radiusY),1)||n)/n;1!==o&&(i.save(),i.scale(1,o)),i.beginPath(),i.arc(e.x,e.y/o,n,0,2*Math.PI,!1),1!==o&&i.restore(),this._fillStroke(i,t)}},_fillStroke:function(t,e){var i=e.options;i.fill&&(t.globalAlpha=i.fillOpacity,t.fillStyle=i.fillColor||i.color,t.fill(i.fillRule||"evenodd")),i.stroke&&0!==i.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=i.opacity,t.lineWidth=i.weight,t.strokeStyle=i.color,t.lineCap=i.lineCap,t.lineJoin=i.lineJoin,t.stroke())},_onClick:function(t){for(var e,i,n=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(n)&&!this._map._draggableMoved(e)&&(i=e);i&&(Ge(t),this._fireEvent([i],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(fe(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var i,n,o=this._drawFirst;o;o=o.next)(i=o.layer).options.interactive&&i._containsPoint(e)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(t),n&&(de(this._container,"leaflet-interactive"),this._fireEvent([n],t,"mouseover"),this._hoveredLayer=n)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,i){this._map._fireDOMEvent(e,i||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;i&&(i.prev=n,n?n.next=i:i&&(this._drawFirst=i),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var i=e.next,n=e.prev;n&&(n.next=i,i?i.prev=n:n&&(this._drawLast=n),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}});function hn(t){return Tt?new an(t):null}var ln=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),un={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(sn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=ln("shape");de(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=ln("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;ae(e),t.removeInteractiveTarget(e),delete this._layers[s(t)]},_updateStyle:function(t){var e=t._stroke,i=t._fill,n=t.options,o=t._container;o.stroked=!!n.stroke,o.filled=!!n.fill,n.stroke?(e||(e=t._stroke=ln("stroke")),o.appendChild(e),e.weight=n.weight+"px",e.color=n.color,e.opacity=n.opacity,n.dashArray?e.dashStyle=g(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=n.lineCap.replace("butt","flat"),e.joinstyle=n.lineJoin):e&&(o.removeChild(e),t._stroke=null),n.fill?(i||(i=t._fill=ln("fill")),o.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(o.removeChild(i),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),i=Math.round(t._radius),n=Math.round(t._radiusY||i);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+i+","+n+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){le(t._container)},_bringToBack:function(t){ue(t._container)}},cn=kt?ln:K,dn=sn.extend({getEvents:function(){var t=sn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container),Ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){sn.prototype._update.call(this);var t=this._bounds,e=t.getSize(),i=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,i.setAttribute("width",e.x),i.setAttribute("height",e.y)),ye(i,t.min),i.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=cn("path");t.options.className&&de(e,t.options.className),t.options.interactive&&de(e,"leaflet-interactive"),this._updateStyle(t),this._layers[s(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){ae(t._path),t.removeInteractiveTarget(t._path),delete this._layers[s(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,i=t.options;e&&(i.stroke?(e.setAttribute("stroke",i.color),e.setAttribute("stroke-opacity",i.opacity),e.setAttribute("stroke-width",i.weight),e.setAttribute("stroke-linecap",i.lineCap),e.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?e.setAttribute("stroke-dasharray",i.dashArray):e.removeAttribute("stroke-dasharray"),i.dashOffset?e.setAttribute("stroke-dashoffset",i.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),i.fill?(e.setAttribute("fill",i.fillColor||i.color),e.setAttribute("fill-opacity",i.fillOpacity),e.setAttribute("fill-rule",i.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,J(t._parts,e))},_updateCircle:function(t){var e=t._point,i=Math.max(Math.round(t._radius),1),n="a"+i+","+(Math.max(Math.round(t._radiusY),1)||i)+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-i)+","+e.y+n+2*i+",0 "+n+2*-i+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){le(t._path)},_bringToBack:function(t){ue(t._path)}});function fn(t){return Mt||kt?new dn(t):null}kt&&dn.include(un),Xe.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&hn(t)||fn(t)}});var pn=Zi.extend({initialize:function(t,e){Zi.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=R(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});dn.create=cn,dn.pointsToPath=J,ji.geometryToLayer=Ri,ji.coordsToLatLng=Di,ji.coordsToLatLngs=Fi,ji.latLngToCoords=Hi,ji.latLngsToCoords=Wi,ji.getFeature=Gi,ji.asFeature=Ui,Xe.mergeOptions({boxZoom:!0});var _n=ii.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Kt(),be(),this._startPoint=this._map.mouseEventToContainerPoint(t),ke(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),de(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new B(this._point,this._startPoint),i=e.getSize();ye(this._box,e.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(ae(this._box),fe(this._container,"leaflet-crosshair")),Jt(),Le(),Ae(document,{contextmenu:je,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var e=new j(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Xe.addInitHook("addHandler","boxZoom",_n),Xe.mergeOptions({doubleClickZoom:!0});var mn=ii.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,i=e.getZoom(),n=e.options.zoomDelta,o=t.originalEvent.shiftKey?i-n:i+n;"center"===e.options.doubleClickZoom?e.setZoom(o):e.setZoomAround(t.containerPoint,o)}});Xe.addInitHook("addHandler","doubleClickZoom",mn),Xe.mergeOptions({dragging:!0,inertia:!ot,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vn=ii.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new hi(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}de(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){fe(this._map._container,"leaflet-grab"),fe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=R(this._map.options.maxBounds);this._offsetLimit=Z(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,r=(n+e+i)%t-e-i,s=Math.abs(o+i)<Math.abs(r+i)?o:r;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,i=e.options,n=!i.inertia||this._times.length<2;if(e.fire("dragend",t),n)e.fire("moveend");else{this._prunePositions(+new Date);var o=this._lastPos.subtract(this._positions[0]),r=(this._lastTime-this._times[0])/1e3,s=i.easeLinearity,a=o.multiplyBy(s/r),h=a.distanceTo([0,0]),l=Math.min(i.inertiaMaxSpeed,h),u=a.multiplyBy(l/h),c=l/(i.inertiaDeceleration*s),d=u.multiplyBy(-c/2).round();d.x||d.y?(d=e._limitOffset(d,e.options.maxBounds),T((function(){e.panBy(d,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})}))):e.fire("moveend")}}});Xe.addInitHook("addHandler","dragging",vn),Xe.mergeOptions({keyboard:!0,keyboardPanDelta:80});var gn=ii.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),ke(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,i=t.scrollTop||e.scrollTop,n=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;e<i;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;e<i;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;e<i;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;e<i;e++)n[o.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;e<i;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;e<i;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,i=t.keyCode,n=this._map;if(i in this._panKeys)n._panAnim&&n._panAnim._inProgress||(e=this._panKeys[i],t.shiftKey&&(e=N(e).multiplyBy(3)),n.panBy(e),n.options.maxBounds&&n.panInsideBounds(n.options.maxBounds));else if(i in this._zoomKeys)n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[i]);else{if(27!==i||!n._popup||!n._popup.options.closeOnEscapeKey)return;n.closePopup()}je(t)}}});Xe.addInitHook("addHandler","keyboard",gn),Xe.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var yn=ii.extend({addHooks:function(){ke(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ae(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Fe(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),n),je(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),i=this._map.options.zoomSnap||0;t._stop();var n=this._delta/(4*this._map.options.wheelPxPerZoomLevel),o=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,r=i?Math.ceil(o/i)*i:o,s=t._limitZoom(e+(this._delta>0?r:-r))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Xe.addInitHook("addHandler","scrollWheelZoom",yn),Xe.mergeOptions({tap:!0,tapTolerance:15});var Cn=ii.extend({addHooks:function(){ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(Ze(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new I(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&de(i,"leaflet-active"),this._holdTimeout=setTimeout(o((function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))}),this),1e3),this._simulateEvent("mousedown",e),ke(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),Ae(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],i=e.target;i&&i.tagName&&"a"===i.tagName.toLowerCase()&&fe(i,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new I(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var i=document.createEvent("MouseEvents");i._simulated=!0,e.target._simulatedClick=!0,i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}});Lt&&!bt&&Xe.addInitHook("addHandler","tap",Cn),Xe.mergeOptions({touchZoom:Lt&&!ot,bounceAtZoomLimits:!0});var xn=ii.extend({addHooks:function(){de(this._map._container,"leaflet-touch-zoom"),ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){fe(this._map._container,"leaflet-touch-zoom"),Ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),ke(document,"touchmove",this._onTouchMove,this),ke(document,"touchend",this._onTouchEnd,this),Ze(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),n=e.mouseEventToContainerPoint(t.touches[1]),r=i.distanceTo(n)/this._startDist;if(this._zoom=e.getScaleZoom(r,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===r)return}else{var s=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(1===r&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),M(this._animRequest);var a=o(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=T(a,this,!0),Ze(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,M(this._animRequest),Ae(document,"touchmove",this._onTouchMove),Ae(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});Xe.addInitHook("addHandler","touchZoom",xn),Xe.BoxZoom=_n,Xe.DoubleClickZoom=mn,Xe.Drag=vn,Xe.Keyboard=gn,Xe.ScrollWheelZoom=yn,Xe.Tap=Cn,Xe.TouchZoom=xn,Object.freeze=e,t.version="1.4.0",t.Control=Ke,t.control=Je,t.Browser=At,t.Evented=O,t.Mixin=oi,t.Util=k,t.Class=E,t.Handler=ii,t.extend=i,t.bind=o,t.stamp=s,t.setOptions=p,t.DomEvent=qe,t.DomUtil=Me,t.PosAnimation=Ye,t.Draggable=hi,t.LineUtil=vi,t.PolyUtil=yi,t.Point=I,t.point=N,t.Bounds=B,t.bounds=Z,t.Transformation=V,t.transformation=q,t.Projection=bi,t.LatLng=D,t.latLng=F,t.LatLngBounds=j,t.latLngBounds=R,t.CRS=W,t.GeoJSON=ji,t.geoJSON=qi,t.geoJson=Yi,t.Layer=Pi,t.LayerGroup=Ti,t.layerGroup=function(t,e){return new Ti(t,e)},t.FeatureGroup=Mi,t.featureGroup=function(t){return new Mi(t)},t.ImageOverlay=Xi,t.imageOverlay=function(t,e,i){return new Xi(t,e,i)},t.VideoOverlay=Ki,t.videoOverlay=function(t,e,i){return new Ki(t,e,i)},t.DivOverlay=Ji,t.Popup=Qi,t.popup=function(t,e){return new Qi(t,e)},t.Tooltip=$i,t.tooltip=function(t,e){return new $i(t,e)},t.Icon=ki,t.icon=function(t){return new ki(t)},t.DivIcon=tn,t.divIcon=function(t){return new tn(t)},t.Marker=Oi,t.marker=function(t,e){return new Oi(t,e)},t.TileLayer=nn,t.tileLayer=on,t.GridLayer=en,t.gridLayer=function(t){return new en(t)},t.SVG=dn,t.svg=fn,t.Renderer=sn,t.Canvas=an,t.canvas=hn,t.Path=Ii,t.CircleMarker=zi,t.circleMarker=function(t,e){return new zi(t,e)},t.Circle=Ni,t.circle=function(t,e,i){return new Ni(t,e,i)},t.Polyline=Bi,t.polyline=function(t,e){return new Bi(t,e)},t.Polygon=Zi,t.polygon=function(t,e){return new Zi(t,e)},t.Rectangle=pn,t.rectangle=function(t,e){return new pn(t,e)},t.Map=Xe,t.map=function(t,e){return new Xe(t,e)};var bn=window.L;t.noConflict=function(){return window.L=bn,this},window.L=t},"object"===a(e)&&void 0!==t?s(e):(o=[e],void 0===(r="function"==typeof(n=s)?n.apply(e,o):n)||(t.exports=r))},405:function(t,e,i){var n,o,r;
/* @license
Papa Parse
v4.6.3
https://github.com/mholt/PapaParse
License: MIT
*/Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o=[],void 0===(r="function"==typeof(n=function(){"use strict";var t,e,i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==i?i:{},n=!i.document&&!!i.postMessage,o=n&&/(\?|&)papaworker(=|&|$)/.test(i.location.search),r=!1,s={},a=0,h={parse:function(e,n){var o=(n=n||{}).dynamicTyping||!1;if(L(o)&&(n.dynamicTypingFunction=o,o={}),n.dynamicTyping=o,n.transform=!!L(n.transform)&&n.transform,n.worker&&h.WORKERS_SUPPORTED){var l=function(){if(!h.WORKERS_SUPPORTED)return!1;if(!r&&null===h.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=h.SCRIPT_PATH||t;e+=(-1!==e.indexOf("?")?"&":"?")+"papaworker";var n=new i.Worker(e);return n.onmessage=g,n.id=a++,s[n.id]=n}();return l.userStep=n.step,l.userChunk=n.chunk,l.userComplete=n.complete,l.userError=n.error,n.step=L(n.step),n.chunk=L(n.chunk),n.complete=L(n.complete),n.error=L(n.error),delete n.worker,void l.postMessage({input:e,config:n,workerId:l.id})}var u=null;return h.NODE_STREAM_INPUT,"string"==typeof e?u=n.download?new c(n):new f(n):!0===e.readable&&L(e.read)&&L(e.on)?u=new p(n):(i.File&&e instanceof File||e instanceof Object)&&(u=new d(n)),u.stream(e)},unparse:function(t,e){var i=!1,n=!0,o=",",r="\r\n",s='"',a=!1;"object"==typeof e&&("string"!=typeof e.delimiter||h.BAD_DELIMITERS.filter((function(t){return-1!==e.delimiter.indexOf(t)})).length||(o=e.delimiter),("boolean"==typeof e.quotes||Array.isArray(e.quotes))&&(i=e.quotes),"boolean"!=typeof e.skipEmptyLines&&"string"!=typeof e.skipEmptyLines||(a=e.skipEmptyLines),"string"==typeof e.newline&&(r=e.newline),"string"==typeof e.quoteChar&&(s=e.quoteChar),"boolean"==typeof e.header&&(n=e.header));var l=new RegExp(m(s),"g");if("string"==typeof t&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return c(null,t,a);if("object"==typeof t[0])return c(u(t[0]),t,a)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:u(t.data[0])),Array.isArray(t.data[0])||"object"==typeof t.data[0]||(t.data=[t.data])),c(t.fields||[],t.data||[],a);throw"exception: Unable to serialize unrecognized input";function u(t){if("object"!=typeof t)return[];var e=[];for(var i in t)e.push(i);return e}function c(t,e,i){var s="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var a=Array.isArray(t)&&0<t.length,h=!Array.isArray(e[0]);if(a&&n){for(var l=0;l<t.length;l++)0<l&&(s+=o),s+=d(t[l],l);0<e.length&&(s+=r)}for(var u=0;u<e.length;u++){var c=a?t.length:e[u].length,f=!1,p=a?0===Object.keys(e[u]).length:0===e[u].length;if(i&&!a&&(f="greedy"===i?""===e[u].join("").trim():1===e[u].length&&0===e[u][0].length),"greedy"===i&&a){for(var _=[],m=0;m<c;m++){var v=h?t[m]:m;_.push(e[u][v])}f=""===_.join("").trim()}if(!f){for(var g=0;g<c;g++){0<g&&!p&&(s+=o);var y=a&&h?t[g]:g;s+=d(e[u][y],g)}u<e.length-1&&(!i||0<c&&!p)&&(s+=r)}}return s}function d(t,e){return null==t?"":t.constructor===Date?JSON.stringify(t).slice(1,25):(t=t.toString().replace(l,s+s),"boolean"==typeof i&&i||Array.isArray(i)&&i[e]||function(t,e){for(var i=0;i<e.length;i++)if(-1<t.indexOf(e[i]))return!0;return!1}(t,h.BAD_DELIMITERS)||-1<t.indexOf(o)||" "===t.charAt(0)||" "===t.charAt(t.length-1)?s+t+s:t)}}};if(h.RECORD_SEP=String.fromCharCode(30),h.UNIT_SEP=String.fromCharCode(31),h.BYTE_ORDER_MARK="\ufeff",h.BAD_DELIMITERS=["\r","\n",'"',h.BYTE_ORDER_MARK],h.WORKERS_SUPPORTED=!n&&!!i.Worker,h.SCRIPT_PATH=null,h.NODE_STREAM_INPUT=1,h.LocalChunkSize=10485760,h.RemoteChunkSize=5242880,h.DefaultDelimiter=",",h.Parser=v,h.ParserHandle=_,h.NetworkStreamer=c,h.FileStreamer=d,h.StringStreamer=f,h.ReadableStreamStreamer=p,i.jQuery){var l=i.jQuery;l.fn.parse=function(t){var e=t.config||{},n=[];return this.each((function(t){if("INPUT"!==l(this).prop("tagName").toUpperCase()||"file"!==l(this).attr("type").toLowerCase()||!i.FileReader||!this.files||0===this.files.length)return!0;for(var o=0;o<this.files.length;o++)n.push({file:this.files[o],inputElem:this,instanceConfig:l.extend({},e)})})),o(),this;function o(){if(0!==n.length){var e,i,o,s=n[0];if(L(t.before)){var a=t.before(s.file,s.inputElem);if("object"==typeof a){if("abort"===a.action)return e=s.file,i=s.inputElem,o=a.reason,void(L(t.error)&&t.error({name:"AbortError"},e,i,o));if("skip"===a.action)return void r();"object"==typeof a.config&&(s.instanceConfig=l.extend(s.instanceConfig,a.config))}else if("skip"===a)return void r()}var u=s.instanceConfig.complete;s.instanceConfig.complete=function(t){L(u)&&u(t,s.file,s.inputElem),r()},h.parse(s.file,s.instanceConfig)}else L(t.complete)&&t.complete()}function r(){n.splice(0,1),o()}}}function u(t){this._handle=null,this._finished=!1,this._completed=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(t){var e=x(t);e.chunkSize=parseInt(e.chunkSize),t.step||t.chunk||(e.chunkSize=null),this._handle=new _(e),(this._handle.streamer=this)._config=e}.call(this,t),this.parseChunk=function(t,e){if(this.isFirstChunk&&L(this._config.beforeFirstChunk)){var n=this._config.beforeFirstChunk(t);void 0!==n&&(t=n)}this.isFirstChunk=!1;var r=this._partialLine+t;this._partialLine="";var s=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var a=s.meta.cursor;this._finished||(this._partialLine=r.substring(a-this._baseIndex),this._baseIndex=a),s&&s.data&&(this._rowCount+=s.data.length);var l=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)i.postMessage({results:s,workerId:h.WORKER_ID,finished:l});else if(L(this._config.chunk)&&!e){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return;s=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!l||!L(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),l||s&&s.meta.paused||this._nextChunk(),s}},this._sendError=function(t){L(this._config.error)?this._config.error(t):o&&this._config.error&&i.postMessage({workerId:h.WORKER_ID,error:t,finished:!1})}}function c(t){var e;(t=t||{}).chunkSize||(t.chunkSize=h.RemoteChunkSize),u.call(this,t),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),n||(e.onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)),e.open("GET",this._input,!n),this._config.downloadRequestHeaders){var t=this._config.downloadRequestHeaders;for(var i in t)e.setRequestHeader(i,t[i])}if(this._config.chunkSize){var o=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+o),e.setRequestHeader("If-None-Match","webkit-no-cache")}try{e.send()}catch(t){this._chunkError(t.message)}n&&0===e.status?this._chunkError():this._start+=this._config.chunkSize}},this._chunkLoaded=function(){4===e.readyState&&(e.status<200||400<=e.status?this._chunkError():(this._finished=!this._config.chunkSize||this._start>function(t){var e=t.getResponseHeader("Content-Range");return null===e?-1:parseInt(e.substr(e.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(t){var i=e.statusText||t;this._sendError(new Error(i))}}function d(t){var e,i;(t=t||{}).chunkSize||(t.chunkSize=h.LocalChunkSize),u.call(this,t);var n="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,i=t.slice||t.webkitSlice||t.mozSlice,n?((e=new FileReader).onload=b(this._chunkLoaded,this),e.onerror=b(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var o=Math.min(this._start+this._config.chunkSize,this._input.size);t=i.call(t,this._start,o)}var r=e.readAsText(t,this._config.encoding);n||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function f(t){var e;u.call(this,t=t||{}),this.stream=function(t){return e=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,i=t?e.substr(0,t):e;return e=t?e.substr(t):"",this._finished=!e,this.parseChunk(i)}}}function p(t){u.call(this,t=t||{});var e=[],i=!0,n=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(t){this._input=t,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){n&&1===e.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):i=!0},this._streamData=b((function(t){try{e.push("string"==typeof t?t:t.toString(this._config.encoding)),i&&(i=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(t){this._streamError(t)}}),this),this._streamError=b((function(t){this._streamCleanUp(),this._sendError(t)}),this),this._streamEnd=b((function(){this._streamCleanUp(),n=!0,this._streamData("")}),this),this._streamCleanUp=b((function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)}),this)}function _(t){var e,i,n,o=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,r=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,s=this,a=0,l=0,u=!1,c=!1,d=[],f={data:[],errors:[],meta:{}};if(L(t.step)){var p=t.step;t.step=function(e){if(f=e,y())g();else{if(g(),0===f.data.length)return;a+=e.data.length,t.preview&&a>t.preview?i.abort():p(f,s)}}}function _(e){return"greedy"===t.skipEmptyLines?""===e.join("").trim():1===e.length&&0===e[0].length}function g(){if(f&&n&&(b("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+h.DefaultDelimiter+"'"),n=!1),t.skipEmptyLines)for(var e=0;e<f.data.length;e++)_(f.data[e])&&f.data.splice(e--,1);return y()&&function(){if(f){for(var e=0;y()&&e<f.data.length;e++)for(var i=0;i<f.data[e].length;i++){var n=f.data[e][i];t.trimHeaders&&(n=n.trim()),d.push(n)}f.data.splice(0,1)}}(),function(){if(!f||!t.header&&!t.dynamicTyping&&!t.transform)return f;for(var e=0;e<f.data.length;e++){var i,n=t.header?{}:[];for(i=0;i<f.data[e].length;i++){var o=i,r=f.data[e][i];t.header&&(o=i>=d.length?"__parsed_extra":d[i]),t.transform&&(r=t.transform(r,o)),r=C(o,r),"__parsed_extra"===o?(n[o]=n[o]||[],n[o].push(r)):n[o]=r}f.data[e]=n,t.header&&(i>d.length?b("FieldMismatch","TooManyFields","Too many fields: expected "+d.length+" fields but parsed "+i,l+e):i<d.length&&b("FieldMismatch","TooFewFields","Too few fields: expected "+d.length+" fields but parsed "+i,l+e))}return t.header&&f.meta&&(f.meta.fields=d),l+=f.data.length,f}()}function y(){return t.header&&0===d.length}function C(e,i){return n=e,t.dynamicTypingFunction&&void 0===t.dynamicTyping[n]&&(t.dynamicTyping[n]=t.dynamicTypingFunction(n)),!0===(t.dynamicTyping[n]||t.dynamicTyping)?"true"===i||"TRUE"===i||"false"!==i&&"FALSE"!==i&&(o.test(i)?parseFloat(i):r.test(i)?new Date(i):""===i?null:i):i;var n}function b(t,e,i,n){f.errors.push({type:t,code:e,message:i,row:n})}this.parse=function(o,r,s){var a=t.quoteChar||'"';if(t.newline||(t.newline=function(t,e){t=t.substr(0,1048576);var i=new RegExp(m(e)+"([^]*?)"+m(e),"gm"),n=(t=t.replace(i,"")).split("\r"),o=t.split("\n"),r=1<o.length&&o[0].length<n[0].length;if(1===n.length||r)return"\n";for(var s=0,a=0;a<n.length;a++)"\n"===n[a][0]&&s++;return s>=n.length/2?"\r\n":"\r"}(o,a)),n=!1,t.delimiter)L(t.delimiter)&&(t.delimiter=t.delimiter(o),f.meta.delimiter=t.delimiter);else{var l=function(e,i,n,o){for(var r,s,a,l=[",","\t","|",";",h.RECORD_SEP,h.UNIT_SEP],u=0;u<l.length;u++){var c=l[u],d=0,f=0,p=0;a=void 0;for(var m=new v({comments:o,delimiter:c,newline:i,preview:10}).parse(e),g=0;g<m.data.length;g++)if(n&&_(m.data[g]))p++;else{var y=m.data[g].length;f+=y,void 0!==a?1<y&&(d+=Math.abs(y-a),a=y):a=0}0<m.data.length&&(f/=m.data.length-p),(void 0===s||s<d)&&1.99<f&&(s=d,r=c)}return{successful:!!(t.delimiter=r),bestDelimiter:r}}(o,t.newline,t.skipEmptyLines,t.comments);l.successful?t.delimiter=l.bestDelimiter:(n=!0,t.delimiter=h.DefaultDelimiter),f.meta.delimiter=t.delimiter}var c=x(t);return t.preview&&t.header&&c.preview++,e=o,i=new v(c),f=i.parse(e,r,s),g(),u?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,i.abort(),e=e.substr(i.getCharIndex())},this.resume=function(){u=!1,s.streamer.parseChunk(e,!0)},this.aborted=function(){return c},this.abort=function(){c=!0,i.abort(),f.meta.aborted=!0,L(t.complete)&&t.complete(f),e=""}}function m(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(t){var e,i=(t=t||{}).delimiter,n=t.newline,o=t.comments,r=t.step,s=t.preview,a=t.fastMode,l=e=void 0===t.quoteChar?'"':t.quoteChar;if(void 0!==t.escapeChar&&(l=t.escapeChar),("string"!=typeof i||-1<h.BAD_DELIMITERS.indexOf(i))&&(i=","),o===i)throw"Comment character same as delimiter";!0===o?o="#":("string"!=typeof o||-1<h.BAD_DELIMITERS.indexOf(o))&&(o=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var u=0,c=!1;this.parse=function(t,h,d){if("string"!=typeof t)throw"Input must be a string";var f=t.length,p=i.length,_=n.length,v=o.length,g=L(r),y=[],C=[],x=[],b=u=0;if(!t)return B();if(a||!1!==a&&-1===t.indexOf(e)){for(var w=t.split(n),S=0;S<w.length;S++){if(x=w[S],u+=x.length,S!==w.length-1)u+=n.length;else if(d)return B();if(!o||x.substr(0,v)!==o){if(g){if(y=[],O(x.split(i)),Z(),c)return B()}else O(x.split(i));if(s&&s<=S)return y=y.slice(0,s),B(!0)}}return B()}for(var P,T=t.indexOf(i,u),M=t.indexOf(n,u),k=new RegExp(m(l)+m(e),"g");;)if(t[u]!==e)if(o&&0===x.length&&t.substr(u,v)===o){if(-1===M)return B();u=M+_,M=t.indexOf(n,u),T=t.indexOf(i,u)}else if(-1!==T&&(T<M||-1===M))x.push(t.substring(u,T)),u=T+p,T=t.indexOf(i,u);else{if(-1===M)break;if(x.push(t.substring(u,M)),N(M+_),g&&(Z(),c))return B();if(s&&y.length>=s)return B(!0)}else for(P=u,u++;;){if(-1===(P=t.indexOf(e,P+1)))return d||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:y.length,index:u}),z();if(P===f-1)return z(t.substring(u,P).replace(k,e));if(e!==l||t[P+1]!==l){if(e===l||0===P||t[P-1]!==l){var E=I(-1===M?T:Math.min(T,M));if(t[P+1+E]===i){x.push(t.substring(u,P).replace(k,e)),u=P+1+E+p,T=t.indexOf(i,u),M=t.indexOf(n,u);break}var A=I(M);if(t.substr(P+1+A,_)===n){if(x.push(t.substring(u,P).replace(k,e)),N(P+1+A+_),T=t.indexOf(i,u),g&&(Z(),c))return B();if(s&&y.length>=s)return B(!0);break}C.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:y.length,index:u}),P++}}else P++}return z();function O(t){y.push(t),b=u}function I(e){var i=0;if(-1!==e){var n=t.substring(P+1,e);n&&""===n.trim()&&(i=n.length)}return i}function z(e){return d||(void 0===e&&(e=t.substr(u)),x.push(e),u=f,O(x),g&&Z()),B()}function N(e){u=e,O(x),x=[],M=t.indexOf(n,u)}function B(t){return{data:y,errors:C,meta:{delimiter:i,linebreak:n,aborted:c,truncated:!!t,cursor:b+(h||0)}}}function Z(){r(B()),y=[],C=[]}},this.abort=function(){c=!0},this.getCharIndex=function(){return u}}function g(t){var e=t.data,i=s[e.workerId],n=!1;if(e.error)i.userError(e.error,e.file);else if(e.results&&e.results.data){var o={abort:function(){n=!0,y(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:C,resume:C};if(L(i.userStep)){for(var r=0;r<e.results.data.length&&(i.userStep({data:[e.results.data[r]],errors:e.results.errors,meta:e.results.meta},o),!n);r++);delete e.results}else L(i.userChunk)&&(i.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!n&&y(e.workerId,e.results)}function y(t,e){var i=s[t];L(i.userComplete)&&i.userComplete(e),i.terminate(),delete s[t]}function C(){throw"Not implemented."}function x(t){if("object"!=typeof t||null===t)return t;var e=Array.isArray(t)?[]:{};for(var i in t)e[i]=x(t[i]);return e}function b(t,e){return function(){t.apply(e,arguments)}}function L(t){return"function"==typeof t}return o?i.onmessage=function(t){var e=t.data;if(void 0===h.WORKER_ID&&e&&(h.WORKER_ID=e.workerId),"string"==typeof e.input)i.postMessage({workerId:h.WORKER_ID,results:h.parse(e.input,e.config),finished:!0});else if(i.File&&e.input instanceof File||e.input instanceof Object){var n=h.parse(e.input,e.config);n&&i.postMessage({workerId:h.WORKER_ID,results:n,finished:!0})}}:h.WORKERS_SUPPORTED&&(e=document.getElementsByTagName("script"),t=e.length?e[e.length-1].src:"",document.body?document.addEventListener("DOMContentLoaded",(function(){r=!0}),!0):r=!0),(c.prototype=Object.create(u.prototype)).constructor=c,(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(f.prototype)).constructor=f,(p.prototype=Object.create(u.prototype)).constructor=p,h})?n.apply(e,o):n)||(t.exports=r)},409:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){"use strict";e.b=function(t,e,i,o){return{contextMenu:n({},t.state.contextMenu,{open:!0,x:e,y:i,nodeId:o})}},e.a=function(t){return{contextMenu:n({},t.state.contextMenu,{open:!1,x:void 0,y:void 0,nodeId:void 0})}};var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2),o=(i.n(n),i(3)),r=i(4),s=i(0),a=i(7),h=i(8),l=i(9),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},c=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function d(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.default=function(t,e){e("getInitialState",(function(t,e){var i=c(e,1)[0].contextMenu,n=void 0===i?{}:i;return u({},t.apply(void 0,d(e)),{contextMenu:u({},o.a,n)})})),e("init",(function(e,i){e.apply(void 0,d(i));var n=c(i,1)[0],s=t.state.contextMenu;return t.contextMenu={},n.contextMenu&&"string"==typeof n.contextMenu.parent?t.contextMenu.parent=document.querySelector(n.contextMenu.parent):n.contextMenu&&(t.contextMenu.parent=n.contextMenu.parent),t.contextMenu.parent||(t.contextMenu.parent=document.body),t.contextMenu.el=document.createElement("ul"),t.contextMenu.el.className="phylocanvas-context-menu",t.contextMenu.parent.appendChild(t.contextMenu.el),t.contextMenu.treeMenuItems=Object(h.a)(r.b,s.treeMenuItems),t.contextMenu.nodeMenuItems=Object(h.a)(r.a,s.nodeMenuItems),u({},e.apply(void 0,d(i)),{contextMenu:u({},o.a,s)})}));var i=function(e){e.preventDefault();var i=n.utils.mapPoint(t,e.offsetX,e.offsetY),o=t.getNodeAtPoint(i.x,i.y);t.setState(Object(s.b)(t,e.pageX,e.pageY,o?o.id:null))};t.ctx.canvas.addEventListener("contextmenu",i);var f=function(e){(t.state.contextMenu.open||2===e.button&&!t.state.contextMenu.open)&&e.stopImmediatePropagation()};t.ctx.canvas.addEventListener("mousedown",f);var p=function(e){t.state.contextMenu.open&&(e.stopImmediatePropagation(),2!==e.button&&t.setState(Object(s.a)(t)))};t.ctx.canvas.addEventListener("mouseup",p),e("render",(function(e,i){t._.contextMenu&&t._.contextMenu.open!==t.state.contextMenu.open?t.state.contextMenu.open?Object(l.a)(t):Object(a.a)(t):e.apply(void 0,d(i)),t._.contextMenu=t.state.contextMenu})),e("destroy",(function(e,n){t.contextMenu.parent.removeChild(t.contextMenu.el),t.ctx.canvas.removeEventListener("contextmenu",i),t.ctx.canvas.removeEventListener("mousedown",f),t.ctx.canvas.removeEventListener("mouseup",p),e.apply(void 0,d(n))}))}},function(e,i){e.exports=t},function(t,e,i){"use strict";e.a={open:!1,filenames:{image:"phylocanvas.png",leafLabels:"phylocanvas-leaf-labels.txt",newick:"phylocanvas.nwk"}}},function(t,e,i){"use strict";i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return s}));var n=i(5),o=i(6),r=[[{text:"Show Labels",handler:function(t){return t.toggleLeafLabels()},isActive:function(t){return t.state.renderLeafLabels}},{text:"Align Labels",handler:function(t){return t.toggleAlignLeafLabels()},isActive:function(t){return t.state.alignLabels}}],[{text:"Fit in Panel",handler:function(t){return t.fitInPanel()}},{text:"Expand Collapsed Subtrees",visible:function(t){return t.state.collapsedIds.length>0},handler:function(t){return t.resetCollapsedNodes({refit:!0})}},{text:"Redraw Original Tree",handler:function(t){return t.setSource(t.nodes.originalSource)}}],[function(t,e){return Object(o.b)(t,e,"Export Leaf Labels")},function(t,e){return Object(o.d)(t,e,"Export Selected Labels")},function(t,e){return Object(o.c)(t,e,"Export as Newick File")},function(t,e){return Object(o.a)(t,e,"Export as Image")}],n.a],s=[[{text:function(t,e){return-1===t.state.collapsedIds.indexOf(e.id)?"Collapse Subtree":"Expand Subtree"},handler:function(t,e){return t.collapseNode(e,{refit:!0})}},{text:"Rotate Subtree",handler:function(t,e){return t.rotateNode(e,{refit:!0})}}],[{text:"View Subtree",handler:function(t,e){return t.setRoot(e)}},{text:"Re-root Tree",handler:function(t,e){return t.rerootNode(e)}}],[function(t,e){return Object(o.b)(t,e,"Export Subtree Leaf Labels")},function(t,e){return Object(o.c)(t,e,"Export Subtree as Newick File")}],n.a]},function(t,e,i){"use strict";var n,o;e.a=[(n=document.createElement("a"),o=document.createElement("img"),o.src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22Micro%22%20viewBox%3D%220%200%20433.16%20103.04%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bisolation%3Aisolate%3B%7D.cls-2%7Bfill%3A%233b7383%3B%7D.cls-3%7Bopacity%3A0.53%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3ELOGOS%20OCT%202018%3C%2Ftitle%3E%3Cg%20class%3D%22cls-1%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M110.22%2C28.17H126c3.28%2C0%2C5.75.58%2C7.39%2C1.73a7.58%2C7.58%2C0%2C0%2C1%2C3.14%2C4.54%2C32.31%2C32.31%2C0%2C0%2C1%2C.67%2C7.3%2C31.25%2C31.25%2C0%2C0%2C1-.7%2C7.2%2C7.87%2C7.87%2C0%2C0%2C1-3.14%2C4.61c-1.62%2C1.17-4.08%2C1.76-7.36%2C1.76h-12.1V72.2h-3.71Zm15%2C23.81a10.15%2C10.15%2C0%2C0%2C0%2C5.47-1.15A5.25%2C5.25%2C0%2C0%2C0%2C133%2C47.6a26%2C26%2C0%2C0%2C0%2C.51-5.86%2C27.48%2C27.48%2C0%2C0%2C0-.48-5.89%2C5%2C5%2C0%2C0%2C0-2.27-3.17%2C10.71%2C10.71%2C0%2C0%2C0-5.51-1.12H113.93V52Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M165.45%2C52.75a29.42%2C29.42%2C0%2C0%2C0-.57-6.91A4%2C4%2C0%2C0%2C0%2C162.73%2C43a13.56%2C13.56%2C0%2C0%2C0-5.15-.7q-4%2C0-5.86%2C1.56a6.85%2C6.85%2C0%2C0%2C0-2.27%2C4.1%2C44.88%2C44.88%2C0%2C0%2C0-.45%2C7.33V72.2h-3.58V24.65H149V43.92h.26a7.06%2C7.06%2C0%2C0%2C1%2C3-3.52q2.17-1.35%2C6.59-1.35a13.48%2C13.48%2C0%2C0%2C1%2C6.53%2C1.25%2C6.16%2C6.16%2C0%2C0%2C1%2C2.91%2C3.87A29%2C29%2C0%2C0%2C1%2C169%2C51.6V72.2h-3.59Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M180.17%2C84.75V81.68q4.94.31%2C9%2C.32c3%2C0%2C5.24-.41%2C6.65-1.22A5.74%2C5.74%2C0%2C0%2C0%2C198.6%2C77a34.38%2C34.38%2C0%2C0%2C0%2C.64-7.71V67.72h-.32A6.69%2C6.69%2C0%2C0%2C1%2C196%2C71.31q-2.17%2C1.34-6.66%2C1.34c-2.9%2C0-5.06-.42-6.49-1.28a6.32%2C6.32%2C0%2C0%2C1-2.88-4%2C30.7%2C30.7%2C0%2C0%2C1-.74-7.68V39.56h3.59V59a29.12%2C29.12%2C0%2C0%2C0%2C.57%2C6.85%2C4%2C4%2C0%2C0%2C0%2C2.15%2C2.81%2C13.28%2C13.28%2C0%2C0%2C0%2C5.08.71q4%2C0%2C5.89-1.54a6.59%2C6.59%2C0%2C0%2C0%2C2.31-4.09%2C46.38%2C46.38%2C0%2C0%2C0%2C.44-7.3V39.56h3.59V67.85a43%2C43%2C0%2C0%2C1-1%2C10.4%2C8.37%2C8.37%2C0%2C0%2C1-3.71%2C5.28q-2.76%2C1.66-8.32%2C1.67A94.52%2C94.52%2C0%2C0%2C1%2C180.17%2C84.75Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M213.13%2C72.2V24.65h3.59V72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M229.77%2C71.4a6.29%2C6.29%2C0%2C0%2C1-3.26-4.6A58.17%2C58.17%2C0%2C0%2C1%2C225.8%2C56%2C58.48%2C58.48%2C0%2C0%2C1%2C226.51%2C45a6.38%2C6.38%2C0%2C0%2C1%2C3.26-4.64c1.71-.9%2C4.52-1.35%2C8.45-1.35s6.79.45%2C8.48%2C1.35A6.52%2C6.52%2C0%2C0%2C1%2C250%2C45%2C56.15%2C56.15%2C0%2C0%2C1%2C250.7%2C56%2C55.85%2C55.85%2C0%2C0%2C1%2C250%2C66.8a6.42%2C6.42%2C0%2C0%2C1-3.26%2C4.6c-1.69.88-4.51%2C1.32-8.48%2C1.32S231.48%2C72.28%2C229.77%2C71.4Zm14.72-2.78a4.48%2C4.48%2C0%2C0%2C0%2C2.21-3.49%2C66%2C66%2C0%2C0%2C0%2C.42-9.18%2C67%2C67%2C0%2C0%2C0-.42-9.22%2C4.61%2C4.61%2C0%2C0%2C0-2.21-3.55c-1.19-.66-3.29-1-6.27-1s-5.07.33-6.24%2C1a4.61%2C4.61%2C0%2C0%2C0-2.18%2C3.52%2C69.07%2C69.07%2C0%2C0%2C0-.41%2C9.25%2C68.13%2C68.13%2C0%2C0%2C0%2C.41%2C9.18A4.5%2C4.5%2C0%2C0%2C0%2C232%2C68.62q1.76%2C1%2C6.24%2C1C241.2%2C69.58%2C243.3%2C69.26%2C244.49%2C68.62Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M274.28%2C72.46a38.71%2C38.71%2C0%2C0%2C1-4.32.26c-3.63%2C0-6.3-.58-8-1.73a7.86%2C7.86%2C0%2C0%2C1-3.33-5.12%2C50.73%2C50.73%2C0%2C0%2C1-.73-10%2C43.71%2C43.71%2C0%2C0%2C1%2C.86-10%2C8.36%2C8.36%2C0%2C0%2C1%2C3.42-5.18q2.57-1.7%2C7.68-1.7a37.92%2C37.92%2C0%2C0%2C1%2C4.29.26%2C26.45%2C26.45%2C0%2C0%2C1%2C3.71.64v4.93a35.76%2C35.76%2C0%2C0%2C0-6.46-.58%2C9.62%2C9.62%2C0%2C0%2C0-4.77.9%2C4.57%2C4.57%2C0%2C0%2C0-2%2C3.23%2C41%2C41%2C0%2C0%2C0-.48%2C7.45%2C39.8%2C39.8%2C0%2C0%2C0%2C.51%2C7.56%2C4.47%2C4.47%2C0%2C0%2C0%2C2%2C3.2%2C10.53%2C10.53%2C0%2C0%2C0%2C4.83.83%2C35.91%2C35.91%2C0%2C0%2C0%2C6.59-.58v4.93A28.78%2C28.78%2C0%2C0%2C1%2C274.28%2C72.46Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M285.48%2C70.54q-2.21-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92%2C22.33%2C22.33%2C0%2C0%2C0-5.38-.45c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9q5.31%2C0%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2h-5.64L302.22%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q287.69%2C72.72%2C285.48%2C70.54ZM298.7%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55H294a9.3%2C9.3%2C0%2C0%2C0-2.95.35%2C2.19%2C2.19%2C0%2C0%2C0-1.34%2C1.41%2C10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C298.7%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M335.62%2C54a33.45%2C33.45%2C0%2C0%2C0-.41-6.37%2C3.33%2C3.33%2C0%2C0%2C0-1.57-2.46%2C9.56%2C9.56%2C0%2C0%2C0-4-.58%2C6.79%2C6.79%2C0%2C0%2C0-4.35%2C1.15%2C5.33%2C5.33%2C0%2C0%2C0-1.79%2C3.33%2C37.72%2C37.72%2C0%2C0%2C0-.38%2C6.21V72.2h-6.21V39.56h5.63l.26%2C4.36h.44a7.45%2C7.45%2C0%2C0%2C1%2C3.2-3.62%2C11.88%2C11.88%2C0%2C0%2C1%2C5.89-1.25%2C11.25%2C11.25%2C0%2C0%2C1%2C6.05%2C1.31%2C6.53%2C6.53%2C0%2C0%2C1%2C2.72%2C3.94%2C29.52%2C29.52%2C0%2C0%2C1%2C.7%2C7.3V72.2h-6.21Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M357.32%2C72.2l-9.86-32.64h6.4l7.3%2C26.05h.51l7.23-26h6.34L365.38%2C72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M380.71%2C70.54q-2.2-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92A22.33%2C22.33%2C0%2C0%2C0%2C389%2C44.3c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9c3.55%2C0%2C6.19.41%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2H397.7L397.45%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q382.92%2C72.72%2C380.71%2C70.54ZM393.93%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55h-7.87a9.3%2C9.3%2C0%2C0%2C0-2.95.35A2.19%2C2.19%2C0%2C0%2C0%2C385%2C59.31a10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C393.93%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M416.58%2C72.46c-2-.17-3.73-.36-5.18-.58v-5a77.88%2C77.88%2C0%2C0%2C0%2C9.79.58A12.66%2C12.66%2C0%2C0%2C0%2C425.1%2C67a2.63%2C2.63%2C0%2C0%2C0%2C1.66-1.34%2C6.93%2C6.93%2C0%2C0%2C0%2C.38-2.63%2C10.13%2C10.13%2C0%2C0%2C0-.25-2.72%2C1.7%2C1.7%2C0%2C0%2C0-.9-1.09%2C8.75%2C8.75%2C0%2C0%2C0-2.24-.48l-7-1c-2.43-.29-4.07-1.14-4.93-2.52s-1.28-3.58-1.28-6.56a10.91%2C10.91%2C0%2C0%2C1%2C1.41-6.08%2C6.88%2C6.88%2C0%2C0%2C1%2C3.87-2.85%2C22.85%2C22.85%2C0%2C0%2C1%2C6.37-.74c1.62%2C0%2C3.32.09%2C5.09.26a27%2C27%2C0%2C0%2C1%2C4.32.7v4.93a60.27%2C60.27%2C0%2C0%2C0-9-.64%2C10%2C10%2C0%2C0%2C0-4.74.8c-.89.53-1.34%2C1.7-1.34%2C3.49a9.81%2C9.81%2C0%2C0%2C0%2C.22%2C2.49%2C1.65%2C1.65%2C0%2C0%2C0%2C.87%2C1.09%2C6.53%2C6.53%2C0%2C0%2C0%2C2.05.51l7.23.9a9.89%2C9.89%2C0%2C0%2C1%2C3.61%2C1.09%2C4.77%2C4.77%2C0%2C0%2C1%2C2%2C2.65%2C17.4%2C17.4%2C0%2C0%2C1%2C.67%2C5.54A12.27%2C12.27%2C0%2C0%2C1%2C431.91%2C69a6.46%2C6.46%2C0%2C0%2C1-3.65%2C3%2C20.26%2C20.26%2C0%2C0%2C1-6.24.8C420.4%2C72.72%2C418.59%2C72.63%2C416.58%2C72.46Z%22%2F%3E%3C%2Fg%3E%3Cg%20class%3D%22cls-3%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.84.07h-.33a14.31%2C14.31%2C0%2C0%2C0-14%2C14.63v0h0v0a28.13%2C28.13%2C0%2C0%2C1-1.29%2C9.09%2C28.63%2C28.63%2C0%2C0%2C1-5.42%2C9.92%2C28.56%2C28.56%2C0%2C0%2C1-35.57%2C6.69h0A14.3%2C14.3%2C0%2C1%2C0%2C14.37%2C67.3a14.45%2C14.45%2C0%2C0%2C0%2C7-1.82c.15-.11.31-.21.47-.31h0l.48-.29A28.53%2C28.53%2C0%2C0%2C1%2C36.71%2C61a28%2C28%2C0%2C0%2C1%2C5%2C.45%2C28.45%2C28.45%2C0%2C0%2C1%2C7.65%2C2.49l0%2C0c.72.35%2C1.44.74%2C2.13%2C1.16h0a27.94%2C27.94%2C0%2C0%2C1%2C6.19%2C5.07%2C28.86%2C28.86%2C0%2C0%2C1%2C3.4%2C4.5%2C28.81%2C28.81%2C0%2C0%2C1%2C4.15%2C13.53c0%2C.22%2C0%2C.44%2C0%2C.66s0%2C.49%2C0%2C.74A14.3%2C14.3%2C0%2C1%2C0%2C86.46%2C76.09L86.34%2C76h0A28.6%2C28.6%2C0%2C0%2C1%2C72.86%2C42.53a29.14%2C29.14%2C0%2C0%2C1%2C2.23-5.24%2C28.57%2C28.57%2C0%2C0%2C1%2C3.19-4.68%2C28.25%2C28.25%2C0%2C0%2C1%2C6.92-6h0A14.3%2C14.3%2C0%2C0%2C0%2C77.84.07%22%2F%3E%3C%2Fg%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M14.37%2C38.56a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.28%2C14.28%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M79.58%2C74.27a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.36%2C14.36%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.87%2C0A14.39%2C14.39%2C0%2C1%2C0%2C90.16%2C6.9%2C14.37%2C14.37%2C0%2C0%2C0%2C77.87%2C0%22%2F%3E%3C%2Fsvg%3E",n.appendChild(o),n.title="About Phylocanvas...",n.href="http://phylocanvas.org/",n.target="_blank",n.className="phylocanvas-context-menu-about",n)]},function(t,e,i){"use strict";e.a=function(t,e,i){var n=t.state.contextMenu.filenames;return r(i,n.image,(function(){return t.ctx.canvas.toDataURL()}))},e.b=function(t,e,i){var n=t.state.contextMenu.filenames;return r(i,n.leafLabels,(function(){return o(t.getLeafLabels(e).join("\n"))}))},e.d=function(t,e,i){var n=t.state,s=n.selectedIds,a=n.contextMenu.filenames;return 0===s.length?null:r(i,a.leafLabels,(function(){return o(t.getLeafLabels(null,s).join("\n"))}))},e.c=function(t,e,i){var n=t.state.contextMenu.filenames;return r(i,n.newick,(function(){return o(t.getNewick(e))}))};var n=window.URL||window.webkitURL;function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/plain;charset=utf-8",i=new Blob([t],{type:e});return n.createObjectURL(i)}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",i=arguments[2],n=document.createElement("a");return n.appendChild(document.createTextNode(t)),n.download=e,n.addEventListener("click",(function(){n.href=i()})),n}},function(t,e,i){"use strict";e.a=function(t){t.contextMenu.el.classList.remove("visible")}},function(t,e,i){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return t;var i=t.map((function(t){return Array.from(t)})),n=!0,o=!1,r=void 0;try{for(var s,a=function(){var t=s.value;i[t.section].splice(t.index,0,{text:t.text,handler:t.handler?t.handler:function(e,i){return e.trigger(t.method,[e,i])},isActive:t.isActive})},h=e[Symbol.iterator]();!(n=(s=h.next()).done);n=!0)a()}catch(t){o=!0,r=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw r}}return i}},function(t,e,i){"use strict";e.a=function(t){var e=t.state.contextMenu;if(e!==t.contextMenu.previous){t.contextMenu.previous=e;var i=e.nodeId?t.getNodeById(e.nodeId):null;Object(n.a)(t,i),Object(o.a)(t)}};var n=i(10),o=i(11)},function(t,e,i){"use strict";e.a=function(t,e){for(var i=t.contextMenu.el;i.hasChildNodes();)i.removeChild(i.firstChild);var n=e&&!e.isLeaf?t.contextMenu.nodeMenuItems:t.contextMenu.treeMenuItems,r=!0,s=!1,a=void 0;try{for(var h,l=n[Symbol.iterator]();!(r=(h=l.next()).done);r=!0){var u=h.value;o(t,u,e||void 0)}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}};var n=i(0);function o(t,e,i){var o=t.contextMenu.el,r=document.createElement("ul"),s=!0,a=!1,h=void 0;try{for(var l,u=e[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var c=l.value,d=null;if(c instanceof HTMLElement)(d=document.createElement("li")).appendChild(c);else if("function"==typeof c){var f=c(t,i);f&&(d=document.createElement("li")).appendChild(f)}else!function(){var e=c.text,n=c.handler,o=c.visible,r=c.isActive;if(!o||o(t)){d=document.createElement("li");var s=document.createElement("button");s.addEventListener("click",n.bind(null,t,i));var a="function"==typeof e?e(t,i):e;if(s.appendChild(document.createTextNode(a)),"function"==typeof r){var h=document.createElement("span");h.classList.add("phylocanvas-context-menu-toggle"),r(t,i)&&h.classList.add("is-active"),s.appendChild(h),s.classList.add("phylocanvas-context-menu-has-toggle"),d.addEventListener("click",(function(){r(t,i)?h.classList.add("is-active"):h.classList.remove("is-active")}))}d.appendChild(s)}}();d&&(c.isActive||d.addEventListener("click",(function(){return t.setState(Object(n.a)(t))})),d.addEventListener("contextmenu",(function(t){return t.preventDefault(),!1})),r.appendChild(d))}}catch(t){a=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw h}}r.hasChildNodes()&&o.appendChild(r)}},function(t,e,i){"use strict";function n(t,e,i,n){return t+e<i+n?t:t-e>i?t-e:i}e.a=function(t){var e=t.contextMenu,i=e.el,o=e.parent,r=t.state.contextMenu;i.classList.remove("visible","top","bottom","left","right"),i.style.top=i.style.bottom=i.style.left=i.style.right=null;var s=i.offsetWidth,a=i.offsetHeight,h=r.x,l=r.y,u=n(l,a,window.scrollY,window.innerHeight),c=n(h,s,window.scrollX,window.innerWidth),d=u+a/2>l,f=c+s/2>h;i.style.left=c+"px",i.style.top=u+"px",i.style.transformOrigin=(d?"top":"bottom")+" "+(f?"left":"right"),o.removeChild(i),o.appendChild(i),i.offsetWidth,i.classList.add("visible")}}])},t.exports=n(i(91))},410:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=2)}([function(t,e){function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function o(t){return"object"==typeof t&&null!==t}function r(t){return void 0===t}t.exports=i,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,i,s,a,h,l;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(r(i=this._events[t]))return!1;if(n(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1),i.apply(this,a)}else if(o(i))for(a=Array.prototype.slice.call(arguments,1),s=(l=i.slice()).length,h=0;h<s;h++)l[h].apply(this,a);return!0},i.prototype.addListener=function(t,e){var s;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(s=r(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[t].length>s&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var i=!1;function o(){this.removeListener(t,o),i||(i=!0,e.apply(this,arguments))}return o.listener=e,this.on(t,o),this},i.prototype.removeListener=function(t,e){var i,r,s,a;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(s=(i=this._events[t]).length,r=-1,i===e||n(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(i)){for(a=s;a-- >0;)if(i[a]===e||i[a].listener&&i[a].listener===e){r=a;break}if(r<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(i=this._events[t]))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var i={left:0,top:0};t.exports=function(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var o,r=t.clientX||0,s=t.clientY||0,a=(o=e)===window||o===document||o===document.body?i:o.getBoundingClientRect();return n[0]=r-a.left,n[1]=s-a.top,n}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),o=i(4),r=i.n(o),s=i(13),a=(i.n(s),i(14)),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},l=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function u(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.default=function(t,e){var i={mousedown:!1,offsetX:void 0,offsetY:void 0},o={visible:!1,element:Object(a.a)()};function c(e){1===e.button&&e.preventDefault(),i.mousedown=!0,i.offsetX=t.state.offsetX,i.offsetY=t.state.offsetY}function d(e){if(i.mousedown)t.state.interactions.tooltip&&o.visible&&(Object(a.b)(o.element),o.visible=!1);else{var n=s.utils.mapPoint(t,e.offsetX,e.offsetY),r=t.getNodeAtPoint(n.x,n.y);t.state.interactions.highlight&&t.highlightNode(r,e.metaKey||e.ctrlKey),t.state.interactions.tooltip&&(r&&!r.isLeaf?(Object(a.c)(o.element,e.clientX,e.clientY,r.totalLeaves),o.visible=!0):o.visible&&(Object(a.b)(o.element),o.visible=!1))}}function f(e){i.mousedown=!1;var n=t.state.offsetX-i.offsetX,o=t.state.offsetY-i.offsetY,r=0!==n||0!==o;if(t.state.interactions.selection&&0===e.button&&!r){var a=s.utils.mapPoint(t,e.offsetX,e.offsetY),h=t.getNodeAtPoint(a.x,a.y);t.selectNode(h,e.metaKey||e.ctrlKey)}}t.ctx.canvas.addEventListener("mousemove",d),t.ctx.canvas.addEventListener("mousedown",c),t.ctx.canvas.addEventListener("touchstart",c),t.ctx.canvas.addEventListener("mouseup",f),t.ctx.canvas.addEventListener("touchend",f),r()(t.ctx.canvas,(function(e){var i=e.dx,n=e.dy,o=e.dz,r=e.x,s=e.y,a=e.event;0!==o&&0===i&&0===n?t.state.interactions.zoom&&(a&&(a.metaKey||a.ctrlKey)?t.changeBranchScale(o<0?1:-1,{x:r,y:s}):a&&(a.altKey||a.shiftKey)?t.changeStepScale(o<0?1:-1,{x:r,y:s}):o>0&&t.state.scale>t.state.minScale*t.pixelRatio?t.transform(0,0,-1,{x:r,y:s}):o<0&&t.state.scale<t.state.maxScale*t.pixelRatio&&t.transform(0,0,1,{x:r,y:s})):t.state.interactions.pan&&t.transform(i,n,0,{x:r,y:s})})),t.ctx.canvas.onselectstart=function(){return!1},e("getInitialState",(function(t,e){var i=l(e,1)[0],r=i.interactions,s=void 0===r?{}:r;return("string"==typeof i.parent?document.querySelector(i.parent):i.parent||document.body).appendChild(o.element),h({},t.apply(void 0,u(e)),{interactions:h({},n.a,s)})})),e("destroy",(function(e,i){t.ctx.canvas.removeEventListener("mousemove",d),t.ctx.canvas.removeEventListener("mousedown",c),t.ctx.canvas.removeEventListener("touchstart",c),t.ctx.canvas.removeEventListener("mouseup",f),t.ctx.canvas.removeEventListener("touchend",f),Object(a.b)(o.element),e.apply(void 0,u(i))}))}},function(t,e,i){"use strict";e.a={highlight:!0,pan:!0,selection:!0,tooltip:!0,zoom:!0}},function(t,e,i){"use strict";const n=i(5),o=i(6),r=i(9),s=i(12);t.exports=function(t,e){if(!(t&&e instanceof Function))return!1;let i,a=s({element:t}),h=0,l=0;i=new n({source:t,update:(t,i)=>{let n={type:"mouse",dx:t-l,dy:i-h,dz:0,x:a[0],y:a[1]};l=t,h=i,e(n)},multiplier:1,friction:.75}),o(t,(t,i,n,o)=>{o.preventDefault(),e({type:"mouse",dx:0,dy:0,dz:i,x:a[0],y:a[1],event:o})});let u,c=r(t);c.on("start",t=>{i&&i.pause();let[e,n]=c.fingers;u=[.5*n.position[0]+.5*e.position[0],.5*n.position[1]+.5*e.position[1]]}),c.on("end",()=>{u=null,i&&i.resume()}),c.on("change",(t,i)=>{c.pinching&&u&&e({type:"touch",dx:0,dy:0,dz:2*-(t-i),x:u[0],y:u[1]})})}},function(t,e,i){var n,o,r;o=[e,t],void 0===(r="function"==typeof(n=function(t,e){"use strict";var i=.04,n=.11;window.addEventListener("touchmove",(function(){})),e.exports=function t(e){var s,a,h,l,u,c,d,f,p,_,m,v=e.source,g=void 0===v?document:v,y=e.update,C=e.multiplier,x=void 0===C?1:C,b=e.friction,L=void 0===b?.92:b,w=e.initialValues,S=e.boundX,P=e.boundY,T=e.bounce,M=void 0===T||T;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var k=0,E=0,A=.3*x,O=!1,I=!1,z=!1,N=!1,B=[];function Z(){y.call(g,k,E)}function j(t){if("touchmove"===t.type||"touchstart"===t.type||"touchend"===t.type){var e=t.targetTouches[0]||t.changedTouches[0];return{x:e.clientX,y:e.clientY,id:e.identifier}}return{x:t.clientX,y:t.clientY,id:null}}function R(t){var e=j(t);I||z||(I=!0,N=!1,p=e.id,u=d=e.x,c=f=e.y,B=[],W(u,c),document.addEventListener("touchmove",D,!!r()&&{passive:!1}),document.addEventListener("touchend",F),document.addEventListener("touchcancel",H),document.addEventListener("mousemove",D,!!r()&&{passive:!1}),document.addEventListener("mouseup",F))}function D(t){t.preventDefault();var e=j(t);I&&e.id===p&&(d=e.x,f=e.y,W(u,c),O||o(G),O=!0)}function F(t){var e=j(t);I&&e.id===p&&H()}function H(){I=!1,W(u,c),function(){var t=B[0],e=B[B.length-1],i=e.x-t.x,n=e.y-t.y,r=(e.time-t.time)/15/x;_=i/r||0,m=n/r||0;var s=V();(Math.abs(_)>1||Math.abs(m)>1||!s.inBounds)&&(N=!0,o(q))}(),document.removeEventListener("touchmove",D),document.removeEventListener("touchend",F),document.removeEventListener("touchcancel",H),document.removeEventListener("mouseup",F),document.removeEventListener("mousemove",D)}function W(t,e){for(var i=Date.now();B.length>0&&!(i-B[0].time<=100);)B.shift();B.push({x:t,y:e,time:i})}function G(){var t=d-u,e=f-c;if(k+=t*x,E+=e*x,M){var i=V();0!==i.x&&(k-=t*U(i.x)*x),0!==i.y&&(E-=e*U(i.y)*x)}else V(!0);Z(),u=d,c=f,O=!1}function U(t){return 5e-6*Math.pow(t,2)+1e-4*t+.55}function V(t){var e=0,i=0;return void 0!==s&&k<s?e=s-k:void 0!==a&&k>a&&(e=a-k),void 0!==h&&E<h?i=h-E:void 0!==l&&E>l&&(i=l-E),t&&(0!==e&&(k=e>0?s:a),0!==i&&(E=i>0?h:l)),{x:e,y:i,inBounds:0===e&&0===i}}function q(){if(N){k+=_*=L,E+=m*=L;var t=V();if(Math.abs(_)>A||Math.abs(m)>A||!t.inBounds){if(M){if(0!==t.x)if(t.x*_<=0)_+=t.x*i;else{var e=t.x>0?2.5:-2.5;_=(t.x+e)*n}0!==t.y&&(t.y*m<=0?m+=t.y*i:(e=t.y>0?2.5:-2.5,m=(t.y+e)*n))}else 0!==t.x&&(k=t.x>0?s:a,_=0),0!==t.y&&(E=t.y>0?h:l,m=0);Z(),o(q)}else N=!1}}!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!y)throw new Error("IMPETUS: update function not defined.");w&&(w[0]&&(k=w[0]),w[1]&&(E=w[1]),Z()),S&&(s=S[0],a=S[1]),P&&(h=P[0],l=P[1]),g.addEventListener("touchstart",R),g.addEventListener("mousedown",R)}(),this.destroy=function(){return g.removeEventListener("touchstart",R),g.removeEventListener("mousedown",R),null},this.pause=function(){I=!1,z=!0},this.resume=function(){z=!1},this.setValues=function(t,e){"number"==typeof t&&(k=t),"number"==typeof e&&(E=e)},this.setMultiplier=function(t){A=.3*(x=t)},this.setBoundX=function(t){s=t[0],a=t[1]},this.setBoundY=function(t){h=t[0],l=t[1]}};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function r(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e)}catch(t){}return r=function(){return t},t}})?n.apply(e,o):n)||(t.exports=r)},function(t,e,i){"use strict";var n=i(7);t.exports=function(t,e,i){"function"==typeof t&&(i=!!e,e=t,t=window);var o=n("ex",t),r=function(t){i&&t.preventDefault();var n=t.deltaX||0,r=t.deltaY||0,s=t.deltaZ||0,a=1;switch(t.deltaMode){case 1:a=o;break;case 2:a=window.innerHeight}if(r*=a,s*=a,(n*=a)||r||s)return e(n,r,s,t)};return t.addEventListener("wheel",r),r}},function(t,e,i){"use strict";var n=i(8);t.exports=s;var o=96;function r(t,e){var i=n(getComputedStyle(t).getPropertyValue(e));return i[0]*s(i[1],t)}function s(t,e){switch(e=e||document.body,t=(t||"px").trim().toLowerCase(),e!==window&&e!==document||(e=document.body),t){case"%":return e.clientHeight/100;case"ch":case"ex":return function(t,e){var i=document.createElement("div");i.style["font-size"]="128"+t,e.appendChild(i);var n=r(i,"font-size")/128;return e.removeChild(i),n}(t,e);case"em":return r(e,"font-size");case"rem":return r(document.body,"font-size");case"vw":return window.innerWidth/100;case"vh":return window.innerHeight/100;case"vmin":return Math.min(window.innerWidth,window.innerHeight)/100;case"vmax":return Math.max(window.innerWidth,window.innerHeight)/100;case"in":return o;case"cm":return o/2.54;case"mm":return o/25.4;case"pt":return o/72;case"pc":return o/6}return 1}},function(t,e){t.exports=function(t,e){e||(e=[0,""]),t=String(t);var i=parseFloat(t,10);return e[0]=i,e[1]=t.match(/[\d.\-\+]*\s*(.*)/)[1]||"",e}},function(t,e,i){var n=i(10),o=i(0).EventEmitter,r=i(11),s=i(1);function a(){this.position=[0,0],this.touch=null}t.exports=function(t){t=t||window;var e=new o,i=[null,null],h=0,l=0,u=!1,c=!1;return Object.defineProperties(e,{pinching:r((function(){return 2===h})),fingers:r((function(){return i}))}),f(),e.enable=f,e.disable=function(){c&&(c=!1,h=0,i[0]=null,i[1]=null,l=0,u=!1,t.removeEventListener("touchstart",p,!1),t.removeEventListener("touchmove",_,!1),t.removeEventListener("touchend",m,!1),t.removeEventListener("touchcancel",m,!1))},e.indexOfTouch=d,e;function d(t){for(var e=t.identifier,n=0;n<i.length;n++)if(i[n]&&i[n].touch&&i[n].touch.identifier===e)return n;return-1}function f(){c||(c=!0,t.addEventListener("touchstart",p,!1),t.addEventListener("touchmove",_,!1),t.addEventListener("touchend",m,!1),t.addEventListener("touchcancel",m,!1))}function p(n){for(var o=0;o<n.changedTouches.length;o++){var r=n.changedTouches[o];if(-1===d(r.identifier)&&h<2){var c=0===h,f=i[0]?1:0,p=i[0]?0:1,_=new a;i[f]=_,h++,_.touch=r,s(r,t,_.position);var m=i[p]?i[p].touch:void 0;if(e.emit("place",r,m),!c){var g=v();u=!1,e.emit("start",g),l=g}}}}function _(n){for(var o=!1,r=0;r<n.changedTouches.length;r++){var a=n.changedTouches[r],u=d(a);-1!==u&&(o=!0,i[u].touch=a,s(a,t,i[u].position))}if(2===h&&o){var c=v();e.emit("change",c,l),l=c}}function m(t){for(var n=0;n<t.changedTouches.length;n++){var o=t.changedTouches[n],r=d(o);if(-1!==r){i[r]=null,h--;var s=0===r?1:0,a=i[s]?i[s].touch:void 0;e.emit("lift",o,a)}}u||2===h||(u=!0,e.emit("end"))}function v(){return h<2?0:n(i[0].position,i[1].position)}}},function(t,e){t.exports=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)}},function(t,e){t.exports=function(t,e){return{configurable:!0,enumerable:!0,get:t,set:e}}},function(t,e,i){var n=i(1),o=i(0).EventEmitter;function r(t){var e=(t=t||{}).element||window,i=new o,r=t.position||[0,0];return!1!==t.touchstart&&(e.addEventListener("mousedown",a,!1),e.addEventListener("touchstart",s,!1)),e.addEventListener("mousemove",a,!1),e.addEventListener("touchmove",s,!1),i.position=r,i.dispose=function(){e.removeEventListener("mousemove",a,!1),e.removeEventListener("mousedown",a,!1),e.removeEventListener("touchmove",s,!1),e.removeEventListener("touchstart",s,!1)},i;function s(t){a(t.targetTouches[0])}function a(t){n(t,e,r),i.emit("move",t)}}t.exports=function(t){return r(t).position},t.exports.emitter=function(t){return r(t)}},function(e,i){e.exports=t},function(t,e,i){"use strict";e.a=function(){var t=document.createElement("div");return t.className="phylocanvas-tooltip",t.style.position="absolute",t.style.pointerEvents="none",t},e.c=function(t,e,i,o){t.innerHTML=o,t.style.left=e+"px",t.style.top=i+"px",t.classList.add(n)},e.b=function(t){t.classList.remove(n)};var n="phylocanvas-tooltip-visible"}])},t.exports=n(i(91))},411:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=(i.n(n),i(2)),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}var h=n.utils.mapScalar,l=n.constants.Angles,u=n.constants.TreeTypes;function c(t,e){var i={},n=!0,o=!1,r=void 0;try{for(var s,a=Object.keys(e)[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var h=s.value;i[h]=e[h]/t.state.scale}}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}e.default=function(t,e){e("getInitialState",(function(t,e){var i=s(e,1)[0].metadata,n=void 0===i?{}:i;return r({},t.apply(void 0,a(e)),{metadata:r({},o.a,n)})})),e("layout",(function(e,i){var n=t.state,o=e.apply(void 0,a(i));if(o.metadata||(o.metadata={}),o.metadata.values!==n.metadata.values||o.metadata.columns!==n.metadata.columns||o.metadata.blockPadding!==n.metadata.blockPadding||o.metadata.blockLength!==n.metadata.blockLength||o.metadata.fontSize!==n.fontSize){o.metadata.columnWidths={},o.metadata.headerWidths={};var r=!0,s=!1,h=void 0;try{for(var l,u=n.metadata.columns[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var c=l.value,d="",f=!0,p=!1,_=void 0;try{for(var m,v=o.leafNodes[Symbol.iterator]();!(f=(m=v.next()).done);f=!0){var g=m.value;if(g.id in n.metadata.values){var y=n.metadata.values[g.id][c];y&&("string"==typeof y.label?y.label.length>d.length&&(d=y.label):console.error("Invalid metadata label for node ",g.id," column ",c))}}}catch(t){p=!0,_=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw _}}d.length?o.metadata.columnWidths[c]=t.measureTextWidth(d):o.metadata.columnWidths[c]=0,o.metadata.headerWidths[c]=2*n.fontSize+t.measureTextWidth(c,n.metadata.headerFontWeight)}}catch(t){s=!0,h=t}finally{try{!r&&u.return&&u.return()}finally{if(s)throw h}}}return o.metadata.blockLength=n.metadata.blockLength,o.metadata.blockPadding=n.metadata.blockPadding,o.metadata.columns=n.metadata.columns,o.metadata.values=n.metadata.values,o.metadata.fontSize=n.fontSize,o})),e("postRender",(function(e,i){var o=t.ctx,r=t.state,d=s(i,1)[0],f=h(t,r.metadata.blockLength),p=h(t,r.metadata.blockPadding),_=c(t,d.metadata.headerWidths),m=c(t,d.metadata.columnWidths),v=h(t,r.metadata.textPadding),g=new Set(Object.keys(r.metadata.values)),y=n.types[r.type],C=r.metadata.showHeaders&&y.mainAxis&&(!y.alignableLabels||y.alignableLabels&&t.state.alignLabels),x=r.metadata.showLabels,b=r.metadata.columns||[];o.save(),o.fillStyle=r.metadata.fillStyle;var L=v;if(r.showNodes&&(L+=t._.actualNodeSize),r.renderLeafLabels&&(L+=t._.actualMaxLabelWidth),C){o.textAlign="left",o.textBaseline="middle",o.font=r.metadata.headerFontWeight+" "+t._.actualFontSize+"px "+r.fontFamily;var w=d.leafNodes[0];w.angle,r.metadata.showLabels||l.Degrees90,o.translate(w.x,w.y),o.rotate(w.angle);var S=L;y.alignableLabels&&(S+=t.state.branchScale*(d.rootNode.longestLeaf-w.distanceFromRoot));for(var P=-.5*r.stepScale,T=0;T<b.length;T++){var M=b[T],k=p;k+=x?Math.max(_[M],p+f+m[M]):f;var E=x?S+p+f+v:S+p+f/2,A=x?P-t._.actualFontSize/2:P-v;o.translate(E,A),x||o.rotate(-l.Degrees90),o.fillText(M,0,0),x||o.rotate(l.Degrees90),o.translate(-1*E,-1*A),S+=k}o.rotate(-w.angle),o.translate(-w.x,-w.y)}var O=r.stepScale,I=0;if(r.type===u.Circular&&t.state.alignLabels){var z=l.Degrees360/d.rootNode.totalLeaves;O=z*(d.rootNode.totalLeafLength*t.state.branchScale+t._.actualNodeSize+t._.actualMaxLabelWidth),I=z*(f+p)}else r.type===u.Radial&&(O=t._.actualNodeSize);var N=Math.min(O,r.blockSize||O);o.font=t._.actualFontSize+"px "+r.fontFamily;var B=!0,Z=!1,j=void 0;try{for(var R,D=d.leafNodes[Symbol.iterator]();!(B=(R=D.next()).done);B=!0){var F=R.value;if(g.has(F.id)){var H=r.metadata.values[F.id];o.translate(F.x,F.y),o.rotate(F.angle),o.beginPath();var W=L;y.alignableLabels&&t.state.alignLabels&&(W+=t.state.branchScale*(d.rootNode.longestLeaf-F.distanceFromRoot));for(var G=0;G<b.length;G++){var U=b[G];if(void 0!==H[U]&&!F.isHidden&&(o.fillStyle=H[U].colour||H[U],o.fillRect(W+p,0-N/2,f,N+G*I),o.fillStyle=r.metadata.fillStyle,t._.renderLabels&&x&&"string"==typeof H[U].label)){var V=F.angle>l.Degrees90&&F.angle<l.Degrees270;V&&o.rotate(l.Degrees180),o.textAlign=V?"right":"left",o.textBaseline="middle",o.fillText(H[U].label,(V?-1:1)*(W+p+f+v),0),V&&o.rotate(-l.Degrees180)}W+=p+Math.max(C&&x?_[U]:0,x?p+f+m[U]:f)}o.closePath(),o.rotate(-F.angle),o.translate(-F.x,-F.y)}}}catch(t){Z=!0,j=t}finally{try{!B&&D.return&&D.return()}finally{if(Z)throw j}}o.restore(),e.apply(void 0,a(i))})),e("getDrawingArea",(function(e,i){var o=e.apply(void 0,a(i)),r=n.types[t.state.type],s=t.layout(),h=t.state.metadata.blockLength,l=t.state.metadata.blockPadding,c=s.metadata.headerWidths,d=s.metadata.columnWidths,f=t.state.metadata.showLabels,p=t.state.metadata.showHeaders&&r.mainAxis&&(!r.alignableLabels||r.alignableLabels&&t.state.alignLabels),_=0;t.state.renderLeafLabels&&(_+=s.maxLabelWidth);var m=!0,v=!1,g=void 0;try{for(var y,C=t.state.metadata.columns[Symbol.iterator]();!(m=(y=C.next()).done);m=!0){var x=y.value;_+=l+Math.max(p&&f?c[x]:0,f?l+h+d[x]:h)}}catch(t){v=!0,g=t}finally{try{!m&&C.return&&C.return()}finally{if(v)throw g}}var b=0,L=0,w=0,S=0;switch(t.state.type){case u.Rectangular:case u.Diagonal:w=p?t.state.stepScale:0,L=_;break;case u.Hierarchical:b=p?t.state.stepScale:0,S=_;break;case u.Circular:case u.Radial:b=_,w=_,L=_,S=_}return{width:o.width,height:o.height,left:o.left+b,top:o.top+w,right:o.right-L,bottom:o.bottom-S}}))}},function(e,i){e.exports=t},function(t,e,i){"use strict";e.a={blockFontSize:null,blockLength:16,blockSize:null,blockPadding:0,columns:[],fillStyle:"black",headerFontWeight:"bold",showLabels:!0,showHeaders:!0,textPadding:4,values:{}}}])},t.exports=n(i(91))},412:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(t){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i(2),r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},s=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,o=!1,r=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(i.push(s.value),!e||i.length!==e);n=!0);}catch(t){o=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function a(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.default=function(t,e){e("getInitialState",(function(t,e){var i=s(e,1)[0].scalebar,o=void 0===i?{}:i;return r({},t.apply(void 0,a(e)),{scalebar:r({},n.a,o)})})),e("render",(function(e,i){e.apply(void 0,a(i)),Object(o.a)(t)}))}},function(t,e,i){"use strict";e.a={background:"rgba(255, 255, 255, 0.87)",digits:2,fillStyle:"#222",fontSize:13,height:16,lineWidth:1,padding:8,position:{left:8,bottom:8},strokeStyle:"#222",textAlign:"center",textBaseline:"bottom",textBaselineOffset:2,width:80}},function(t,e,i){"use strict";var n=i(3);i.n(n),e.a=function(t){var e=t.state.scalebar,i=e.position,o=t.ctx,r=n.utils.getPixelRatio(o),s=e.lineWidth,a=e.fontSize,h=e.padding,l=e.height,u=e.width,c=e.digits,d=u/t.state.branchScale/t.state.scale,f=0;if(Number.isInteger(d))f=d;else for(;0===f;)0===(f=parseFloat(d.toFixed(c),10))&&c++;var p=u*f/d;o.save(),o.scale(r,r);var _=o.canvas.width/r,m=o.canvas.height/r,v=0;void 0!==i.left?v=i.left:void 0!==i.centre?v=_/2-p/2-h+i.centre:void 0!==i.right?v=_-p-i.right-2*h:t.error("Invalid horizontal position specified. Supported values are `left`, `centre`, or `right`");var g=0;void 0!==i.top?g=i.top+h:void 0!==i.middle?g=m/2-l+i.middle+h:void 0!==i.bottom?g=m-l-i.bottom-h:t.error("Invalid vertical position specified. Supported values are `top`, `middle`, or `bottom`"),o.fillStyle=e.background,o.fillRect(v,g-h,p+2*h,l+2*h),o.font=a+"px "+(e.fontFamily||t.state.fontFamily),o.fillStyle=e.fillStyle,o.strokeStyle=e.strokeStyle,o.lineWidth=s,o.textBaseline=e.textBaseline,o.textAlign=e.textAlign,o.beginPath(),o.moveTo(v+h+s,g+s),o.lineTo(v+p+h-s,g+s),o.moveTo(v+h+s,g+s),o.lineTo(v+h+s,g+l),o.moveTo(v+p+h-s,g+s),o.lineTo(v+p+h-s,g+l),o.stroke(),o.closePath(),o.fillText(f,v+(p+2*h)/2,g+l+e.textBaselineOffset),o.restore()}},function(e,i){e.exports=t}])},t.exports=n(i(91))},413:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(1),o=i.n(n);function r(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=t.ctx,r=n.canvas,s=r.width,a=r.height,h=new o.a(s,a);t.ctx=h,t.render();var l=h[e].apply(h,i);return t.ctx=n,t.render(),l}e.default=function(t){t.exportSVG=function(){return r(t,"getSvg")},t.exportSerialisedSVG=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r(t,"getSerializedSvg",[e])}}},function(t,e){!function(){"use strict";var e,i,n,o,r;function s(t,e){var i,n=Object.keys(e);for(i=0;i<n.length;i++)t=t.replace(new RegExp("\\{"+n[i]+"\\}","gi"),e[n[i]]);return t}function a(t){var e,i,n;if(!t)throw new Error("cannot create a random attribute name for an undefined object");e="ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",i="";do{for(i="",n=0;n<12;n++)i+=e[Math.floor(Math.random()*e.length)]}while(t[i]);return i}function h(t){var e={alphabetic:"alphabetic",hanging:"hanging",top:"text-before-edge",bottom:"text-after-edge",middle:"central"};return e[t]||e.alphabetic}r=function(t,e){var i,n,o,r={};for(t=t.split(","),e=e||10,i=0;i<t.length;i+=2)n="&"+t[i+1]+";",o=parseInt(t[i],e),r[n]="&#"+o+";";return r["\\xa0"]="&#160;",r}("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),e={strokeStyle:{svgAttr:"stroke",canvas:"#000000",svg:"none",apply:"stroke"},fillStyle:{svgAttr:"fill",canvas:"#000000",svg:null,apply:"fill"},lineCap:{svgAttr:"stroke-linecap",canvas:"butt",svg:"butt",apply:"stroke"},lineJoin:{svgAttr:"stroke-linejoin",canvas:"miter",svg:"miter",apply:"stroke"},miterLimit:{svgAttr:"stroke-miterlimit",canvas:10,svg:4,apply:"stroke"},lineWidth:{svgAttr:"stroke-width",canvas:1,svg:1,apply:"stroke"},globalAlpha:{svgAttr:"opacity",canvas:1,svg:1,apply:"fill stroke"},font:{canvas:"10px sans-serif"},shadowColor:{canvas:"#000000"},shadowOffsetX:{canvas:0},shadowOffsetY:{canvas:0},shadowBlur:{canvas:0},textAlign:{canvas:"start"},textBaseline:{canvas:"alphabetic"}},(n=function(t,e){this.__root=t,this.__ctx=e}).prototype.addColorStop=function(t,e){var i,n=this.__ctx.__createElement("stop");n.setAttribute("offset",t),-1!==e.indexOf("rgba")?(i=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(e),n.setAttribute("stop-color",s("rgb({r},{g},{b})",{r:i[1],g:i[2],b:i[3]})),n.setAttribute("stop-opacity",i[4])):n.setAttribute("stop-color",e),this.__root.appendChild(n)},o=function(t,e){this.__root=t,this.__ctx=e},(i=function(t){var e,n={width:500,height:500,enableMirroring:!1};if(arguments.length>1?((e=n).width=arguments[0],e.height=arguments[1]):e=t||n,!(this instanceof i))return new i(e);this.width=e.width||n.width,this.height=e.height||n.height,this.enableMirroring=void 0!==e.enableMirroring?e.enableMirroring:n.enableMirroring,this.canvas=this,this.__document=e.document||document,this.__canvas=this.__document.createElement("canvas"),this.__ctx=this.__canvas.getContext("2d"),this.__setDefaultStyles(),this.__stack=[this.__getStyleState()],this.__groupStack=[],this.__root=this.__document.createElementNS("http://www.w3.org/2000/svg","svg"),this.__root.setAttribute("version",1.1),this.__root.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.__root.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),this.__root.setAttribute("width",this.width),this.__root.setAttribute("height",this.height),this.__ids={},this.__defs=this.__document.createElementNS("http://www.w3.org/2000/svg","defs"),this.__root.appendChild(this.__defs),this.__currentElement=this.__document.createElementNS("http://www.w3.org/2000/svg","g"),this.__root.appendChild(this.__currentElement)}).prototype.__createElement=function(t,e,i){void 0===e&&(e={});var n,o,r=this.__document.createElementNS("http://www.w3.org/2000/svg",t),s=Object.keys(e);for(i&&(r.setAttribute("fill","none"),r.setAttribute("stroke","none")),n=0;n<s.length;n++)o=s[n],r.setAttribute(o,e[o]);return r},i.prototype.__setDefaultStyles=function(){var t,i,n=Object.keys(e);for(t=0;t<n.length;t++)this[i=n[t]]=e[i].canvas},i.prototype.__applyStyleState=function(t){var e,i,n=Object.keys(t);for(e=0;e<n.length;e++)this[i=n[e]]=t[i]},i.prototype.__getStyleState=function(){var t,i,n={},o=Object.keys(e);for(t=0;t<o.length;t++)n[i=o[t]]=this[i];return n},i.prototype.__applyStyleToCurrentElement=function(t){var i,r,a,h,l,u=Object.keys(e);for(i=0;i<u.length;i++)if(r=e[u[i]],a=this[u[i]],r.apply)if(-1!==r.apply.indexOf("fill")&&a instanceof o){if(a.__ctx)for(;a.__ctx.__defs.childNodes.length;)h=a.__ctx.__defs.childNodes[0].getAttribute("id"),this.__ids[h]=h,this.__defs.appendChild(a.__ctx.__defs.childNodes[0]);this.__currentElement.setAttribute("fill",s("url(#{id})",{id:a.__root.getAttribute("id")}))}else-1!==r.apply.indexOf("fill")&&a instanceof n?this.__currentElement.setAttribute("fill",s("url(#{id})",{id:a.__root.getAttribute("id")})):-1!==r.apply.indexOf(t)&&r.svg!==a&&("stroke"!==r.svgAttr&&"fill"!==r.svgAttr||-1===a.indexOf("rgba")?this.__currentElement.setAttribute(r.svgAttr,a):(l=/rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d?\.?\d*)\s*\)/gi.exec(a),this.__currentElement.setAttribute(r.svgAttr,s("rgb({r},{g},{b})",{r:l[1],g:l[2],b:l[3]})),this.__currentElement.setAttribute(r.svgAttr+"-opacity",l[4])))},i.prototype.__closestGroupOrSvg=function(t){return"g"===(t=t||this.__currentElement).nodeName||"svg"===t.nodeName?t:this.__closestGroupOrSvg(t.parentNode)},i.prototype.getSerializedSvg=function(t){var e,i,n,o,s,a=(new XMLSerializer).serializeToString(this.__root);if(/xmlns="http:\/\/www\.w3\.org\/2000\/svg".+xmlns="http:\/\/www\.w3\.org\/2000\/svg/gi.test(a)&&(a=a.replace('xmlns="http://www.w3.org/2000/svg','xmlns:xlink="http://www.w3.org/1999/xlink')),t)for(e=Object.keys(r),i=0;i<e.length;i++)n=e[i],o=r[n],(s=new RegExp(n,"gi")).test(a)&&(a=a.replace(s,o));return a},i.prototype.getSvg=function(){return this.__root},i.prototype.save=function(){var t=this.__createElement("g"),e=this.__closestGroupOrSvg();this.__groupStack.push(e),e.appendChild(t),this.__currentElement=t,this.__stack.push(this.__getStyleState())},i.prototype.restore=function(){this.__currentElement=this.__groupStack.pop();var t=this.__stack.pop();this.__applyStyleState(t)},i.prototype.__addTransform=function(t){var e=this.__closestGroupOrSvg();if(e.childNodes.length>0){var i=this.__createElement("g");e.appendChild(i),this.__currentElement=i}var n=this.__currentElement.getAttribute("transform");n?n+=" ":n="",n+=t,this.__currentElement.setAttribute("transform",n)},i.prototype.scale=function(t,e){void 0===e&&(e=t),this.__addTransform(s("scale({x},{y})",{x:t,y:e}))},i.prototype.rotate=function(t){var e=180*t/Math.PI;this.__addTransform(s("rotate({angle},{cx},{cy})",{angle:e,cx:0,cy:0}))},i.prototype.translate=function(t,e){this.__addTransform(s("translate({x},{y})",{x:t,y:e}))},i.prototype.transform=function(t,e,i,n,o,r){this.__addTransform(s("matrix({a},{b},{c},{d},{e},{f})",{a:t,b:e,c:i,d:n,e:o,f:r}))},i.prototype.beginPath=function(){var t;this.__currentDefaultPath="",this.__currentPosition={},t=this.__createElement("path",{},!0),this.__closestGroupOrSvg().appendChild(t),this.__currentElement=t},i.prototype.__applyCurrentDefaultPath=function(){if("path"!==this.__currentElement.nodeName)throw new Error("Attempted to apply path command to node "+this.__currentElement.nodeName);var t=this.__currentDefaultPath;this.__currentElement.setAttribute("d",t)},i.prototype.__addPathCommand=function(t){this.__currentDefaultPath+=" ",this.__currentDefaultPath+=t},i.prototype.moveTo=function(t,e){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.__currentPosition={x:t,y:e},this.__addPathCommand(s("M {x} {y}",{x:t,y:e}))},i.prototype.closePath=function(){this.__addPathCommand("Z")},i.prototype.lineTo=function(t,e){this.__currentPosition={x:t,y:e},this.__currentDefaultPath.indexOf("M")>-1?this.__addPathCommand(s("L {x} {y}",{x:t,y:e})):this.__addPathCommand(s("M {x} {y}",{x:t,y:e}))},i.prototype.bezierCurveTo=function(t,e,i,n,o,r){this.__currentPosition={x:o,y:r},this.__addPathCommand(s("C {cp1x} {cp1y} {cp2x} {cp2y} {x} {y}",{cp1x:t,cp1y:e,cp2x:i,cp2y:n,x:o,y:r}))},i.prototype.quadraticCurveTo=function(t,e,i,n){this.__currentPosition={x:i,y:n},this.__addPathCommand(s("Q {cpx} {cpy} {x} {y}",{cpx:t,cpy:e,x:i,y:n}))};var l=function(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]);return[t[0]/e,t[1]/e]};i.prototype.arcTo=function(t,e,i,n,o){var r=this.__currentPosition&&this.__currentPosition.x,s=this.__currentPosition&&this.__currentPosition.y;if(void 0!==r&&void 0!==s){if(o<0)throw new Error("IndexSizeError: The radius provided ("+o+") is negative.");if(r===t&&s===e||t===i&&e===n||0===o)this.lineTo(t,e);else{var a=l([r-t,s-e]),h=l([i-t,n-e]);if(a[0]*h[1]!=a[1]*h[0]){var u=a[0]*h[0]+a[1]*h[1],c=Math.acos(Math.abs(u)),d=l([a[0]+h[0],a[1]+h[1]]),f=o/Math.sin(c/2),p=t+f*d[0],_=e+f*d[1],m=[-a[1],a[0]],v=[h[1],-h[0]],g=function(t){var e=t[0];return t[1]>=0?Math.acos(e):-Math.acos(e)},y=g(m),C=g(v);this.lineTo(p+m[0]*o,_+m[1]*o),this.arc(p,_,o,y,C)}else this.lineTo(t,e)}}},i.prototype.stroke=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","fill stroke markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("stroke")},i.prototype.fill=function(){"path"===this.__currentElement.nodeName&&this.__currentElement.setAttribute("paint-order","stroke fill markers"),this.__applyCurrentDefaultPath(),this.__applyStyleToCurrentElement("fill")},i.prototype.rect=function(t,e,i,n){"path"!==this.__currentElement.nodeName&&this.beginPath(),this.moveTo(t,e),this.lineTo(t+i,e),this.lineTo(t+i,e+n),this.lineTo(t,e+n),this.lineTo(t,e),this.closePath()},i.prototype.fillRect=function(t,e,i,n){var o;o=this.__createElement("rect",{x:t,y:e,width:i,height:n},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("fill")},i.prototype.strokeRect=function(t,e,i,n){var o;o=this.__createElement("rect",{x:t,y:e,width:i,height:n},!0),this.__closestGroupOrSvg().appendChild(o),this.__currentElement=o,this.__applyStyleToCurrentElement("stroke")},i.prototype.clearRect=function(t,e,i,n){var o,r=this.__closestGroupOrSvg();o=this.__createElement("rect",{x:t,y:e,width:i,height:n,fill:"#FFFFFF"},!0),r.appendChild(o)},i.prototype.createLinearGradient=function(t,e,i,o){var r=this.__createElement("linearGradient",{id:a(this.__ids),x1:t+"px",x2:i+"px",y1:e+"px",y2:o+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(r),new n(r,this)},i.prototype.createRadialGradient=function(t,e,i,o,r,s){var h=this.__createElement("radialGradient",{id:a(this.__ids),cx:o+"px",cy:r+"px",r:s+"px",fx:t+"px",fy:e+"px",gradientUnits:"userSpaceOnUse"},!1);return this.__defs.appendChild(h),new n(h,this)},i.prototype.__parseFont=function(){var t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-,\"\sa-z]+?)\s*$/i.exec(this.font),e={style:t[1]||"normal",size:t[4]||"10px",family:t[6]||"sans-serif",weight:t[3]||"normal",decoration:t[2]||"normal",href:null};return"underline"===this.__fontUnderline&&(e.decoration="underline"),this.__fontHref&&(e.href=this.__fontHref),e},i.prototype.__wrapTextLink=function(t,e){if(t.href){var i=this.__createElement("a");return i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t.href),i.appendChild(e),i}return e},i.prototype.__applyText=function(t,e,i,n){var o,r,s=this.__parseFont(),a=this.__closestGroupOrSvg(),l=this.__createElement("text",{"font-family":s.family,"font-size":s.size,"font-style":s.style,"font-weight":s.weight,"text-decoration":s.decoration,x:e,y:i,"text-anchor":(o=this.textAlign,r={left:"start",right:"end",center:"middle",start:"start",end:"end"},r[o]||r.start),"dominant-baseline":h(this.textBaseline)},!0);l.appendChild(this.__document.createTextNode(t)),this.__currentElement=l,this.__applyStyleToCurrentElement(n),a.appendChild(this.__wrapTextLink(s,l))},i.prototype.fillText=function(t,e,i){this.__applyText(t,e,i,"fill")},i.prototype.strokeText=function(t,e,i){this.__applyText(t,e,i,"stroke")},i.prototype.measureText=function(t){return this.__ctx.font=this.font,this.__ctx.measureText(t)},i.prototype.arc=function(t,e,i,n,o,r){if(n!==o){(n%=2*Math.PI)==(o%=2*Math.PI)&&(o=(o+2*Math.PI-.001*(r?-1:1))%(2*Math.PI));var a=t+i*Math.cos(o),h=e+i*Math.sin(o),l=t+i*Math.cos(n),u=e+i*Math.sin(n),c=r?0:1,d=0,f=o-n;f<0&&(f+=2*Math.PI),d=r?f>Math.PI?0:1:f>Math.PI?1:0,this.lineTo(l,u),this.__addPathCommand(s("A {rx} {ry} {xAxisRotation} {largeArcFlag} {sweepFlag} {endX} {endY}",{rx:i,ry:i,xAxisRotation:0,largeArcFlag:d,sweepFlag:c,endX:a,endY:h})),this.__currentPosition={x:a,y:h}}},i.prototype.clip=function(){var t=this.__closestGroupOrSvg(),e=this.__createElement("clipPath"),i=a(this.__ids),n=this.__createElement("g");t.removeChild(this.__currentElement),e.setAttribute("id",i),e.appendChild(this.__currentElement),this.__defs.appendChild(e),t.setAttribute("clip-path",s("url(#{id})",{id:i})),t.appendChild(n),this.__currentElement=n},i.prototype.drawImage=function(){var t,e,n,o,r,s,a,h,l,u,c,d,f,p,_=Array.prototype.slice.call(arguments),m=_[0],v=0,g=0;if(3===_.length)t=_[1],e=_[2],n=r=m.width,o=s=m.height;else if(5===_.length)t=_[1],e=_[2],n=_[3],o=_[4],r=m.width,s=m.height;else{if(9!==_.length)throw new Error("Inavlid number of arguments passed to drawImage: "+arguments.length);v=_[1],g=_[2],r=_[3],s=_[4],t=_[5],e=_[6],n=_[7],o=_[8]}if(a=this.__closestGroupOrSvg(),c=this.__currentElement,m instanceof i){for(l=(h=m.getSvg()).childNodes[0];l.childNodes.length;)p=l.childNodes[0].getAttribute("id"),this.__ids[p]=p,this.__defs.appendChild(l.childNodes[0]);u=h.childNodes[1],a.appendChild(u),this.__currentElement=u,this.translate(t,e),this.__currentElement=c}else"CANVAS"!==m.nodeName&&"IMG"!==m.nodeName||((d=this.__createElement("image")).setAttribute("width",n),d.setAttribute("height",o),d.setAttribute("preserveAspectRatio","none"),(v||g||r!==m.width||s!==m.height)&&((f=this.__document.createElement("canvas")).width=n,f.height=o,f.getContext("2d").drawImage(m,v,g,r,s,0,0,n,o),m=f),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===m.nodeName?m.toDataURL():m.getAttribute("src")),a.appendChild(d),this.__currentElement=d,this.translate(t,e),this.__currentElement=c)},i.prototype.createPattern=function(t,e){var n,r=this.__document.createElementNS("http://www.w3.org/2000/svg","pattern"),s=a(this.__ids);return r.setAttribute("id",s),r.setAttribute("width",t.width),r.setAttribute("height",t.height),"CANVAS"===t.nodeName||"IMG"===t.nodeName?((n=this.__document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("width",t.width),n.setAttribute("height",t.height),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","CANVAS"===t.nodeName?t.toDataURL():t.getAttribute("src")),r.appendChild(n),this.__defs.appendChild(r)):t instanceof i&&(r.appendChild(t.__root.childNodes[1]),this.__defs.appendChild(r)),new o(r,this)},i.prototype.drawFocusRing=function(){},i.prototype.createImageData=function(){},i.prototype.getImageData=function(){},i.prototype.putImageData=function(){},i.prototype.globalCompositeOperation=function(){},i.prototype.setTransform=function(){},"object"==typeof window&&(window.C2S=i),"object"==typeof t&&"object"==typeof t.exports&&(t.exports=i)}()}])},t.exports=n()},536:function(t,e,i){"use strict";t.exports.version="0.24.0",t.exports.Node=i(273),t.exports.Parser=i(537),t.exports.HtmlRenderer=i(549),t.exports.XmlRenderer=i(550)},675:function(t,e,i){var n,o,r,s;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s=function(t){"use strict";var e=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(t){L.Util.setOptions(this,t),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var e=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,e?this._withAnimation:this._noAnimation),this._markerCluster=e?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(t){if(t instanceof L.LayerGroup)return this.addLayers([t]);if(!t.getLatLng)return this._nonPointGroup.addLayer(t),this.fire("layeradd",{layer:t}),this;if(!this._map)return this._needsClustering.push(t),this.fire("layeradd",{layer:t}),this;if(this.hasLayer(t))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(t,this._maxZoom),this.fire("layeradd",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var e=t,i=this._zoom;if(t.__parent)for(;e.__parent._zoom>=i;)e=e.__parent;return this._currentShownBounds.contains(e.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(t,e):this._animationAddLayerNonAnimated(t,e)),this},removeLayer:function(t){return t instanceof L.LayerGroup?this.removeLayers([t]):t.getLatLng?this._map?t.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(t)),this._removeLayer(t,!0),this.fire("layerremove",{layer:t}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),t.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(t)&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,t)&&this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng}),this.fire("layerremove",{layer:t}),this):(this._nonPointGroup.removeLayer(t),this.fire("layerremove",{layer:t}),this)},addLayers:function(t,e){if(!L.Util.isArray(t))return this.addLayer(t);var i,n=this._featureGroup,o=this._nonPointGroup,r=this.options.chunkedLoading,s=this.options.chunkInterval,a=this.options.chunkProgress,h=t.length,l=0,u=!0;if(this._map){var c=(new Date).getTime(),d=L.bind((function(){for(var f=(new Date).getTime();l<h&&!(r&&l%200==0&&(new Date).getTime()-f>s);l++)if((i=t[l])instanceof L.LayerGroup)u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),h=t.length;else if(i.getLatLng){if(!this.hasLayer(i)&&(this._addLayer(i,this._maxZoom),e||this.fire("layeradd",{layer:i}),i.__parent&&2===i.__parent.getChildCount())){var p=i.__parent.getAllChildMarkers(),_=p[0]===i?p[1]:p[0];n.removeLayer(_)}}else o.addLayer(i),e||this.fire("layeradd",{layer:i});a&&a(l,h,(new Date).getTime()-c),l===h?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)}),this);d()}else for(var f=this._needsClustering;l<h;l++)(i=t[l])instanceof L.LayerGroup?(u&&(t=t.slice(),u=!1),this._extractNonGroupLayers(i,t),h=t.length):i.getLatLng?this.hasLayer(i)||f.push(i):o.addLayer(i);return this},removeLayers:function(t){var e,i,n=t.length,o=this._featureGroup,r=this._nonPointGroup,s=!0;if(!this._map){for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):(this._arraySplice(this._needsClustering,i),r.removeLayer(i),this.hasLayer(i)&&this._needsRemoving.push({layer:i,latlng:i._latlng}),this.fire("layerremove",{layer:i}));return this}if(this._unspiderfy){this._unspiderfy();var a=t.slice(),h=n;for(e=0;e<h;e++)(i=a[e])instanceof L.LayerGroup?(this._extractNonGroupLayers(i,a),h=a.length):this._unspiderfyLayer(i)}for(e=0;e<n;e++)(i=t[e])instanceof L.LayerGroup?(s&&(t=t.slice(),s=!1),this._extractNonGroupLayers(i,t),n=t.length):i.__parent?(this._removeLayer(i,!0,!0),this.fire("layerremove",{layer:i}),o.hasLayer(i)&&(o.removeLayer(i),i.clusterShow&&i.clusterShow())):(r.removeLayer(i),this.fire("layerremove",{layer:i}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(t){t.off(this._childMarkerEventHandlers,this),delete t.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var t=new L.LatLngBounds;this._topClusterLevel&&t.extend(this._topClusterLevel._bounds);for(var e=this._needsClustering.length-1;e>=0;e--)t.extend(this._needsClustering[e].getLatLng());return t.extend(this._nonPointGroup.getBounds()),t},eachLayer:function(t,e){var i,n,o,r=this._needsClustering.slice(),s=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),n=r.length-1;n>=0;n--){for(i=!0,o=s.length-1;o>=0;o--)if(s[o].layer===r[n]){i=!1;break}i&&t.call(e,r[n])}this._nonPointGroup.eachLayer(t,e)},getLayers:function(){var t=[];return this.eachLayer((function(e){t.push(e)})),t},getLayer:function(t){var e=null;return t=parseInt(t,10),this.eachLayer((function(i){L.stamp(i)===t&&(e=i)})),e},hasLayer:function(t){if(!t)return!1;var e,i=this._needsClustering;for(e=i.length-1;e>=0;e--)if(i[e]===t)return!0;for(e=(i=this._needsRemoving).length-1;e>=0;e--)if(i[e].layer===t)return!1;return!(!t.__parent||t.__parent._group!==this)||this._nonPointGroup.hasLayer(t)},zoomToShowLayer:function(t,e){"function"!=typeof e&&(e=function(){});var i=function i(){!t._icon&&!t.__parent._icon||this._inZoomAnimation||(this._map.off("moveend",i,this),this.off("animationend",i,this),t._icon?e():t.__parent._icon&&(this.once("spiderfied",e,this),t.__parent.spiderfy()))};t._icon&&this._map.getBounds().contains(t.getLatLng())?e():t.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",i,this),this._map.panTo(t.getLatLng())):(this._map.on("moveend",i,this),this.on("animationend",i,this),t.__parent.zoomToBounds())},onAdd:function(t){var e,i,n;if(this._map=t,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(t),this._nonPointGroup.addTo(t),this._gridClusters||this._generateInitialClusters(),this._maxLat=t.options.crs.projection.MAX_LATITUDE,e=0,i=this._needsRemoving.length;e<i;e++)(n=this._needsRemoving[e]).newlatlng=n.layer._latlng,n.layer._latlng=n.latlng;for(e=0,i=this._needsRemoving.length;e<i;e++)n=this._needsRemoving[e],this._removeLayer(n.layer,!0),n.layer._latlng=n.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),i=this._needsClustering,this._needsClustering=[],this.addLayers(i,!0)},onRemove:function(t){t.off("zoomend",this._zoomEnd,this),t.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(t){for(var e=t;e&&!e._icon;)e=e.__parent;return e||null},_arraySplice:function(t,e){for(var i=t.length-1;i>=0;i--)if(t[i]===e)return t.splice(i,1),!0},_removeFromGridUnclustered:function(t,e){for(var i=this._map,n=this._gridUnclustered,o=Math.floor(this._map.getMinZoom());e>=o&&n[e].removeObject(t,i.project(t.getLatLng(),e));e--);},_childMarkerDragStart:function(t){t.target.__dragStart=t.target._latlng},_childMarkerMoved:function(t){if(!this._ignoreMove&&!t.target.__dragStart){var e=t.target._popup&&t.target._popup.isOpen();this._moveChild(t.target,t.oldLatLng,t.latlng),e&&t.target.openPopup()}},_moveChild:function(t,e,i){t._latlng=e,this.removeLayer(t),t._latlng=i,this.addLayer(t)},_childMarkerDragEnd:function(t){var e=t.target.__dragStart;delete t.target.__dragStart,e&&this._moveChild(t.target,e,t.target._latlng)},_removeLayer:function(t,e,i){var n=this._gridClusters,o=this._gridUnclustered,r=this._featureGroup,s=this._map,a=Math.floor(this._map.getMinZoom());e&&this._removeFromGridUnclustered(t,this._maxZoom);var h,l=t.__parent,u=l._markers;for(this._arraySplice(u,t);l&&(l._childCount--,l._boundsNeedUpdate=!0,!(l._zoom<a));)e&&l._childCount<=1?(h=l._markers[0]===t?l._markers[1]:l._markers[0],n[l._zoom].removeObject(l,s.project(l._cLatLng,l._zoom)),o[l._zoom].addObject(h,s.project(h.getLatLng(),l._zoom)),this._arraySplice(l.__parent._childClusters,l),l.__parent._markers.push(h),h.__parent=l.__parent,l._icon&&(r.removeLayer(l),i||r.addLayer(h))):l._iconNeedsUpdate=!0,l=l.__parent;delete t.__parent},_isOrIsParent:function(t,e){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},fire:function(t,e,i){if(e&&e.layer instanceof L.MarkerCluster){if(e.originalEvent&&this._isOrIsParent(e.layer._icon,e.originalEvent.relatedTarget))return;t="cluster"+t}L.FeatureGroup.prototype.fire.call(this,t,e,i)},listens:function(t,e){return L.FeatureGroup.prototype.listens.call(this,t,e)||L.FeatureGroup.prototype.listens.call(this,"cluster"+t,e)},_defaultIconCreateFunction:function(t){var e=t.getChildCount(),i=" marker-cluster-";return i+=e<10?"small":e<100?"medium":"large",new L.DivIcon({html:"<div><span>"+e+"</span></div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var t=this._map,e=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick;(e||n)&&this.on("clusterclick",this._zoomOrSpiderfy,this),i&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),t.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(t){for(var e=t.layer,i=e;1===i._childClusters.length;)i=i._childClusters[0];i._zoom===this._maxZoom&&i._childCount===e._childCount&&this.options.spiderfyOnMaxZoom?e.spiderfy():this.options.zoomToBoundsOnClick&&e.zoomToBounds(),t.originalEvent&&13===t.originalEvent.keyCode&&this._map._container.focus()},_showCoverage:function(t){var e=this._map;this._inZoomAnimation||(this._shownPolygon&&e.removeLayer(this._shownPolygon),t.layer.getChildCount()>2&&t.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(t.layer.getConvexHull(),this.options.polygonOptions),e.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var t=this.options.spiderfyOnMaxZoom,e=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,n=this._map;(t||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this),e&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),n.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var t=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),t),this._currentShownBounds=t}},_generateInitialClusters:function(){var t=Math.ceil(this._map.getMaxZoom()),e=Math.floor(this._map.getMinZoom()),i=this.options.maxClusterRadius,n=i;"function"!=typeof i&&(n=function(){return i}),null!==this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={};for(var o=t;o>=e;o--)this._gridClusters[o]=new L.DistanceGrid(n(o)),this._gridUnclustered[o]=new L.DistanceGrid(n(o));this._topClusterLevel=new this._markerCluster(this,e-1)},_addLayer:function(t,e){var i,n,o=this._gridClusters,r=this._gridUnclustered,s=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(t),t.on(this._childMarkerEventHandlers,this);e>=s;e--){i=this._map.project(t.getLatLng(),e);var a=o[e].getNearObject(i);if(a)return a._addChild(t),void(t.__parent=a);if(a=r[e].getNearObject(i)){var h=a.__parent;h&&this._removeLayer(a,!1);var l=new this._markerCluster(this,e,a,t);o[e].addObject(l,this._map.project(l._cLatLng,e)),a.__parent=l,t.__parent=l;var u=l;for(n=e-1;n>h._zoom;n--)u=new this._markerCluster(this,n,u),o[n].addObject(u,this._map.project(a.getLatLng(),n));return h._addChild(u),void this._removeFromGridUnclustered(a,e)}r[e].addObject(t,i)}this._topClusterLevel._addChild(t),t.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(t){t instanceof L.MarkerCluster&&t._iconNeedsUpdate&&t._updateIcon()}))},_enqueue:function(t){this._queue.push(t),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var t=0;t<this._queue.length;t++)this._queue[t].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var t=Math.round(this._map._zoom);this._processQueue(),this._zoom<t&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,t)):this._zoom>t?(this._animationStart(),this._animationZoomOut(this._zoom,t)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(t){var e=this._maxLat;return void 0!==e&&(t.getNorth()>=e&&(t._northEast.lat=1/0),t.getSouth()<=-e&&(t._southWest.lat=-1/0)),t},_animationAddLayerNonAnimated:function(t,e){if(e===t)this._featureGroup.addLayer(t);else if(2===e._childCount){e._addToMap();var i=e.getAllChildMarkers();this._featureGroup.removeLayer(i[0]),this._featureGroup.removeLayer(i[1])}else e._updateIcon()},_extractNonGroupLayers:function(t,e){var i,n=t.getLayers(),o=0;for(e=e||[];o<n.length;o++)(i=n[o])instanceof L.LayerGroup?this._extractNonGroupLayers(i,e):e.push(i);return e},_overrideMarkerIcon:function(t){return t.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[t]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(t,e){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(t,e){this._animationAddLayerNonAnimated(t,e)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(t,e){var i,n=this._getExpandedVisibleBounds(),o=this._featureGroup,r=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(n,t,r,(function(r){var s,a=r._latlng,h=r._markers;for(n.contains(a)||(a=null),r._isSingleParent()&&t+1===e?(o.removeLayer(r),r._recursivelyAddChildrenToMap(null,e,n)):(r.clusterHide(),r._recursivelyAddChildrenToMap(a,e,n)),i=h.length-1;i>=0;i--)s=h[i],n.contains(s._latlng)||o.removeLayer(s)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(n,e),o.eachLayer((function(t){t instanceof L.MarkerCluster||!t._icon||t.clusterShow()})),this._topClusterLevel._recursively(n,t,e,(function(t){t._recursivelyRestoreChildPositions(e)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(n,t,r,(function(t){o.removeLayer(t),t.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(t,e){this._animationZoomOutSingle(this._topClusterLevel,t-1,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,e,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),t,this._getExpandedVisibleBounds())},_animationAddLayer:function(t,e){var i=this,n=this._featureGroup;n.addLayer(t),e!==t&&(e._childCount>2?(e._updateIcon(),this._forceLayout(),this._animationStart(),t._setPos(this._map.latLngToLayerPoint(e.getLatLng())),t.clusterHide(),this._enqueue((function(){n.removeLayer(t),t.clusterShow(),i._animationEnd()}))):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(e,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(t,e,i){var n=this._getExpandedVisibleBounds(),o=Math.floor(this._map.getMinZoom());t._recursivelyAnimateChildrenInAndAddSelfToMap(n,o,e+1,i);var r=this;this._forceLayout(),t._recursivelyBecomeVisible(n,i),this._enqueue((function(){if(1===t._childCount){var s=t._markers[0];this._ignoreMove=!0,s.setLatLng(s.getLatLng()),this._ignoreMove=!1,s.clusterShow&&s.clusterShow()}else t._recursively(n,i,o,(function(t){t._recursivelyRemoveChildrenFromMap(n,o,e+1)}));r._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(t){return new L.MarkerClusterGroup(t)};var i=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(t,e,i,n){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this,pane:t.options.clusterPane}),this._group=t,this._zoom=e,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,i&&this._addChild(i),n&&this._addChild(n)},getAllChildMarkers:function(t,e){t=t||[];for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i].getAllChildMarkers(t);for(var n=this._markers.length-1;n>=0;n--)e&&this._markers[n].__dragStart||t.push(this._markers[n]);return t},getChildCount:function(){return this._childCount},zoomToBounds:function(t){for(var e,i=this._childClusters.slice(),n=this._group._map,o=n.getBoundsZoom(this._bounds),r=this._zoom+1,s=n.getZoom();i.length>0&&o>r;){r++;var a=[];for(e=0;e<i.length;e++)a=a.concat(i[e]._childClusters);i=a}o>r?this._group._map.setView(this._latlng,r):o<=s?this._group._map.setView(this._latlng,s+1):this._group._map.fitBounds(this._bounds,t)},getBounds:function(){var t=new L.LatLngBounds;return t.extend(this._bounds),t},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(t,e){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(t),t instanceof L.MarkerCluster?(e||(this._childClusters.push(t),t.__parent=this),this._childCount+=t._childCount):(e||this._markers.push(t),this._childCount++),this.__parent&&this.__parent._addChild(t,!0)},_setClusterCenter:function(t){this._cLatLng||(this._cLatLng=t._cLatLng||t._latlng)},_resetBounds:function(){var t=this._bounds;t._southWest&&(t._southWest.lat=1/0,t._southWest.lng=1/0),t._northEast&&(t._northEast.lat=-1/0,t._northEast.lng=-1/0)},_recalculateBounds:function(){var t,e,i,n,o=this._markers,r=this._childClusters,s=0,a=0,h=this._childCount;if(0!==h){for(this._resetBounds(),t=0;t<o.length;t++)i=o[t]._latlng,this._bounds.extend(i),s+=i.lat,a+=i.lng;for(t=0;t<r.length;t++)(e=r[t])._boundsNeedUpdate&&e._recalculateBounds(),this._bounds.extend(e._bounds),i=e._wLatLng,n=e._childCount,s+=i.lat*n,a+=i.lng*n;this._latlng=this._wLatLng=new L.LatLng(s/h,a/h),this._boundsNeedUpdate=!1}},_addToMap:function(t){t&&(this._backupLatlng=this._latlng,this.setLatLng(t)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(t,e,i){this._recursively(t,this._group._map.getMinZoom(),i-1,(function(t){var i,n,o=t._markers;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())}),(function(t){var i,n,o=t._childClusters;for(i=o.length-1;i>=0;i--)(n=o[i])._icon&&(n._setPos(e),n.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(t,e,i,n){this._recursively(t,n,e,(function(o){o._recursivelyAnimateChildrenIn(t,o._group._map.latLngToLayerPoint(o.getLatLng()).round(),i),o._isSingleParent()&&i-1===n?(o.clusterShow(),o._recursivelyRemoveChildrenFromMap(t,e,i)):o.clusterHide(),o._addToMap()}))},_recursivelyBecomeVisible:function(t,e){this._recursively(t,this._group._map.getMinZoom(),e,null,(function(t){t.clusterShow()}))},_recursivelyAddChildrenToMap:function(t,e,i){this._recursively(i,this._group._map.getMinZoom()-1,e,(function(n){if(e!==n._zoom)for(var o=n._markers.length-1;o>=0;o--){var r=n._markers[o];i.contains(r._latlng)&&(t&&(r._backupLatlng=r.getLatLng(),r.setLatLng(t),r.clusterHide&&r.clusterHide()),n._group._featureGroup.addLayer(r))}}),(function(e){e._addToMap(t)}))},_recursivelyRestoreChildPositions:function(t){for(var e=this._markers.length-1;e>=0;e--){var i=this._markers[e];i._backupLatlng&&(i.setLatLng(i._backupLatlng),delete i._backupLatlng)}if(t-1===this._zoom)for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n]._restorePosition();else for(var o=this._childClusters.length-1;o>=0;o--)this._childClusters[o]._recursivelyRestoreChildPositions(t)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(t,e,i,n){var o,r;this._recursively(t,e-1,i-1,(function(t){for(r=t._markers.length-1;r>=0;r--)o=t._markers[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}),(function(t){for(r=t._childClusters.length-1;r>=0;r--)o=t._childClusters[r],n&&n.contains(o._latlng)||(t._group._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow())}))},_recursively:function(t,e,i,n,o){var r,s,a=this._childClusters,h=this._zoom;if(e<=h&&(n&&n(this),o&&h===i&&o(this)),h<e||h<i)for(r=a.length-1;r>=0;r--)(s=a[r])._boundsNeedUpdate&&s._recalculateBounds(),t.intersects(s._bounds)&&s._recursively(t,e,i,n,o)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var t=this.options.opacity;return this.setOpacity(0),this.options.opacity=t,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(t){this._cellSize=t,this._sqCellSize=t*t,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(t,e){var i=this._getCoord(e.x),n=this._getCoord(e.y),o=this._grid,r=o[n]=o[n]||{},s=r[i]=r[i]||[],a=L.Util.stamp(t);this._objectPoint[a]=e,s.push(t)},updateObject:function(t,e){this.removeObject(t),this.addObject(t,e)},removeObject:function(t,e){var i,n,o=this._getCoord(e.x),r=this._getCoord(e.y),s=this._grid,a=s[r]=s[r]||{},h=a[o]=a[o]||[];for(delete this._objectPoint[L.Util.stamp(t)],i=0,n=h.length;i<n;i++)if(h[i]===t)return h.splice(i,1),1===n&&delete a[o],!0},eachObject:function(t,e){var i,n,o,r,s,a,h=this._grid;for(i in h)for(n in s=h[i])for(o=0,r=(a=s[n]).length;o<r;o++)t.call(e,a[o])&&(o--,r--)},getNearObject:function(t){var e,i,n,o,r,s,a,h,l=this._getCoord(t.x),u=this._getCoord(t.y),c=this._objectPoint,d=this._sqCellSize,f=null;for(e=u-1;e<=u+1;e++)if(o=this._grid[e])for(i=l-1;i<=l+1;i++)if(r=o[i])for(n=0,s=r.length;n<s;n++)a=r[n],((h=this._sqDist(c[L.Util.stamp(a)],t))<d||h<=d&&null===f)&&(d=h,f=a);return f},_getCoord:function(t){var e=Math.floor(t/this._cellSize);return isFinite(e)?e:t},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n}},L.QuickHull={getDistant:function(t,e){var i=e[1].lat-e[0].lat;return(e[0].lng-e[1].lng)*(t.lat-e[0].lat)+i*(t.lng-e[0].lng)},findMostDistantPointFromBaseLine:function(t,e){var i,n,o,r=0,s=null,a=[];for(i=e.length-1;i>=0;i--)n=e[i],(o=this.getDistant(n,t))>0&&(a.push(n),o>r&&(r=o,s=n));return{maxPoint:s,newPoints:a}},buildConvexHull:function(t,e){var i=[],n=this.findMostDistantPointFromBaseLine(t,e);return n.maxPoint?i=(i=i.concat(this.buildConvexHull([t[0],n.maxPoint],n.newPoints))).concat(this.buildConvexHull([n.maxPoint,t[1]],n.newPoints)):[t[0]]},getConvexHull:function(t){var e,i=!1,n=!1,o=!1,r=!1,s=null,a=null,h=null,l=null,u=null,c=null;for(e=t.length-1;e>=0;e--){var d=t[e];(!1===i||d.lat>i)&&(s=d,i=d.lat),(!1===n||d.lat<n)&&(a=d,n=d.lat),(!1===o||d.lng>o)&&(h=d,o=d.lng),(!1===r||d.lng<r)&&(l=d,r=d.lng)}return n!==i?(c=a,u=s):(c=l,u=h),[].concat(this.buildConvexHull([c,u],t),this.buildConvexHull([u,c],t))}},L.MarkerCluster.include({getConvexHull:function(){var t,e,i=this.getAllChildMarkers(),n=[];for(e=i.length-1;e>=0;e--)t=i[e].getLatLng(),n.push(t);return L.QuickHull.getConvexHull(n)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var t,e=this.getAllChildMarkers(null,!0),i=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,e.length>=this._circleSpiralSwitchover?t=this._generatePointsSpiral(e.length,i):(i.y+=10,t=this._generatePointsCircle(e.length,i)),this._animationSpiderfy(e,t)}},unspiderfy:function(t){this._group._inZoomAnimation||(this._animationUnspiderfy(t),this._group._spiderfied=null)},_generatePointsCircle:function(t,e){var i,n,o=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+t)/this._2PI,r=this._2PI/t,s=[];for(o=Math.max(o,35),s.length=t,i=0;i<t;i++)n=this._circleStartAngle+i*r,s[i]=new L.Point(e.x+o*Math.cos(n),e.y+o*Math.sin(n))._round();return s},_generatePointsSpiral:function(t,e){var i,n=this._group.options.spiderfyDistanceMultiplier,o=n*this._spiralLengthStart,r=n*this._spiralFootSeparation,s=n*this._spiralLengthFactor*this._2PI,a=0,h=[];for(h.length=t,i=t;i>=0;i--)i<t&&(h[i]=new L.Point(e.x+o*Math.cos(a),e.y+o*Math.sin(a))._round()),o+=s/(a+=r/o+5e-4*i);return h},_noanimationUnspiderfy:function(){var t,e,i=this._group,n=i._map,o=i._featureGroup,r=this.getAllChildMarkers(null,!0);for(i._ignoreMove=!0,this.setOpacity(1),e=r.length-1;e>=0;e--)t=r[e],o.removeLayer(t),t._preSpiderfyLatlng&&(t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng),t.setZIndexOffset&&t.setZIndexOffset(0),t._spiderLeg&&(n.removeLayer(t._spiderLeg),delete t._spiderLeg);i.fire("unspiderfied",{cluster:this,markers:r}),i._ignoreMove=!1,i._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(t,e){var i,n,o,r,s=this._group,a=s._map,h=s._featureGroup,l=this._group.options.spiderLegPolylineOptions;for(s._ignoreMove=!0,i=0;i<t.length;i++)r=a.layerPointToLatLng(e[i]),n=t[i],o=new L.Polyline([this._latlng,r],l),a.addLayer(o),n._spiderLeg=o,n._preSpiderfyLatlng=n._latlng,n.setLatLng(r),n.setZIndexOffset&&n.setZIndexOffset(1e6),h.addLayer(n);this.setOpacity(.3),s._ignoreMove=!1,s.fire("spiderfied",{cluster:this,markers:t})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(t,e){var i,n,o,r,s,a,h=this,l=this._group,u=l._map,c=l._featureGroup,d=this._latlng,f=u.latLngToLayerPoint(d),p=L.Path.SVG,_=L.extend({},this._group.options.spiderLegPolylineOptions),m=_.opacity;for(void 0===m&&(m=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(_.opacity=0,_.className=(_.className||"")+" leaflet-cluster-spider-leg"):_.opacity=m,l._ignoreMove=!0,i=0;i<t.length;i++)n=t[i],a=u.layerPointToLatLng(e[i]),o=new L.Polyline([d,a],_),u.addLayer(o),n._spiderLeg=o,p&&(s=(r=o._path).getTotalLength()+.1,r.style.strokeDasharray=s,r.style.strokeDashoffset=s),n.setZIndexOffset&&n.setZIndexOffset(1e6),n.clusterHide&&n.clusterHide(),c.addLayer(n),n._setPos&&n._setPos(f);for(l._forceLayout(),l._animationStart(),i=t.length-1;i>=0;i--)a=u.layerPointToLatLng(e[i]),(n=t[i])._preSpiderfyLatlng=n._latlng,n.setLatLng(a),n.clusterShow&&n.clusterShow(),p&&((r=(o=n._spiderLeg)._path).style.strokeDashoffset=0,o.setStyle({opacity:m}));this.setOpacity(.3),l._ignoreMove=!1,setTimeout((function(){l._animationEnd(),l.fire("spiderfied",{cluster:h,markers:t})}),200)},_animationUnspiderfy:function(t){var e,i,n,o,r,s,a=this,h=this._group,l=h._map,u=h._featureGroup,c=t?l._latLngToNewLayerPoint(this._latlng,t.zoom,t.center):l.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),f=L.Path.SVG;for(h._ignoreMove=!0,h._animationStart(),this.setOpacity(1),i=d.length-1;i>=0;i--)(e=d[i])._preSpiderfyLatlng&&(e.closePopup(),e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng,s=!0,e._setPos&&(e._setPos(c),s=!1),e.clusterHide&&(e.clusterHide(),s=!1),s&&u.removeLayer(e),f&&(r=(o=(n=e._spiderLeg)._path).getTotalLength()+.1,o.style.strokeDashoffset=r,n.setStyle({opacity:0})));h._ignoreMove=!1,setTimeout((function(){var t=0;for(i=d.length-1;i>=0;i--)(e=d[i])._spiderLeg&&t++;for(i=d.length-1;i>=0;i--)(e=d[i])._spiderLeg&&(e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),t>1&&u.removeLayer(e),l.removeLayer(e._spiderLeg),delete e._spiderLeg);h._animationEnd(),h.fire("unspiderfied",{cluster:a,markers:d})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(t){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(t))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(t){this._spiderfied&&this._spiderfied.unspiderfy(t)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(t){t._spiderLeg&&(this._featureGroup.removeLayer(t),t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),this._map.removeLayer(t._spiderLeg),delete t._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(t){return t?t instanceof L.MarkerClusterGroup?t=t._topClusterLevel.getAllChildMarkers():t instanceof L.LayerGroup?t=t._layers:t instanceof L.MarkerCluster?t=t.getAllChildMarkers():t instanceof L.Marker&&(t=[t]):t=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(t),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(t),this},_flagParentsIconsNeedUpdate:function(t){var e,i;for(e in t)for(i=t[e].__parent;i;)i._iconNeedsUpdate=!0,i=i.__parent},_refreshSingleMarkerModeMarkers:function(t){var e,i;for(e in t)i=t[e],this.hasLayer(i)&&i.setIcon(this._overrideMarkerIcon(i))}}),L.Marker.include({refreshIconOptions:function(t,e){var i=this.options.icon;return L.setOptions(i,t),this.setIcon(i),e&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),t.MarkerClusterGroup=e,t.MarkerCluster=i},"object"===a(e)&&void 0!==t?s(e):(o=[e],void 0===(r="function"==typeof(n=s)?n.apply(e,o):n)||(t.exports=r))},91:function(t,e,i){var n;"undefined"!=typeof self&&self,n=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=21)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"Angles",(function(){return n})),i.d(e,"TreeTypes",(function(){return o})),i.d(e,"EmptyArray",(function(){return r}));var n={Degrees0:0,Degrees45:.25*Math.PI,Degrees90:.5*Math.PI,Degrees180:Math.PI,Degrees270:1.5*Math.PI,Degrees360:2*Math.PI},o={Radial:"rd",Rectangular:"rc",Circular:"cr",Diagonal:"dg",Hierarchical:"hr"},r=[]},function(t,e,i){"use strict";var n=i(32),o=i(33),r=i(34),s=i(35),a=i(36);e.a={rd:n.a,rc:o.a,cr:r.a,dg:s.a,hr:a.a}},function(t,e,i){"use strict";var n=i(0);e.a={alignLabels:!1,branchScale:null,collapsedIds:n.EmptyArray,fillStyle:"#222",fontFamily:"serif",fontSize:16,fontWeight:"normal",haloRadius:12,haloStyle:"#3C7383",haloWidth:4,highlightedId:null,highlightedStyle:"#3C7383",internalNodeStyle:{shape:"none"},labelThreshold:8,leafNodeStyle:{shape:"circle"},lineWidth:1,nodeSize:14,nodesPowRatio:.5,padding:32,renderInternalLabels:!1,renderLabels:!0,renderLeafLabels:!0,rootId:null,rotatedIds:n.EmptyArray,selectableInternalNodes:!0,selectableLeafNodes:!0,selectedIds:n.EmptyArray,showLabels:!1,showNodes:!0,stepScale:8,strokeStyle:"#222",styleLeafLabels:!1,styleNodeLines:!1,styles:{},type:n.TreeTypes.Rectangular,zoomFactor:3}},function(t,e,i){"use strict";var n=i(1),o=i(12);e.a=function(t){var e=t.getBounds(!1),i=t.getDrawingArea(),r=e.maxX-e.minX,s=e.maxY-e.minY,a=Math.max(.333*i.width,i.right-i.left-t.state.nodeSize),h=Math.max(.333*i.height,i.bottom-i.top-t.state.nodeSize),l=a/r,u=h/s,c=Math.min(l,u),d=t.state.padding+Math.max(t.state.nodeSize,t.state.fontSize)/2,f=-1*e.minX*c,p=-1*e.minY*c;l>u?(f+=d+(a-r*c)/2,p+=d):l<u?(f+=d,p+=d+(h-s*c)/2):(f+=d,p+=d),void 0===n.a[t.state.type].mainAxis&&(f+=(i.width-a)/2-d,p+=(i.height-h)/2-d);var _=Object(o.a)(c);return{offsetX:f,offsetY:p,scale:c,minScale:_.minScale,maxScale:_.maxScale}}},function(t,e,i){"use strict";e.a=function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(i){var n=t.indexOf(e);if(-1===n)return t.concat(e);var o=t.concat();return o.splice(n,1),o}return[e]}},function(t,e,i){"use strict";e.a=function(t,e){return e/t.state.scale}},function(t,e,i){"use strict";var n=i(3),o=i(14),r=i(15);e.a=function(t){return t.chain(r.a,o.a,n.a)}},function(t,e,i){"use strict";e.a=function(t,e,i){var n=t.state.zoomFactor;return 0===i?e:Math.pow(10,Math.log(e)/Math.log(10)+i*n*.01)}},function(t,e,i){"use strict";e.a=function(t){var e=t.backingStorePixelRatio||t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||1;return(window.devicePixelRatio||1)/e}},function(t,e,i){"use strict";var n=i(0);e.a=function(t){return{collapsedIds:n.EmptyArray}}},function(t,e,i){"use strict";var n=i(8);e.a=function(t,e,i){return t.pixelRatio=Object(n.a)(t.ctx),{size:{width:e,height:i}}}},function(t,e,i){"use strict";var n=i(25),o=i(26),r=i(27),s=i(28),a=i(29),h=i(30),l=i(37),u=i(38),c=i(39),d=i(40),f=i(41),p=i(42),_=i(43),m=i(44),v=i(45),g=i(46),y=i(47),C=i(48),x=i(49),b=i(50),L=i(51),w=i(52),S=i(53),P=i(60),T=i(61),M=i(62),k=i(64),E=i(65),A=i(66),O=i(67),I=i(68),z=i(69),N=i(70),B=i(71),Z=i(72),j=i(73),R=i(74),D=i(76),F=i(78),H=i(82),W=i(84),G=i(85),U=i(86),V=i(88),q=i(89),Y=i(91),X=i(92),K=i(94),J=i(95),Q=i(97),$=i(98),tt=i(99),et=i(101);e.a={cache:n.a,chain:o.a,changeBranchScale:r.a,changeScale:s.a,changeStepScale:a.a,collapseNode:h.a,destroy:l.a,drawHighlight:u.a,drawNode:c.a,drawNodeShape:d.a,exportPNG:f.a,fitInPanel:p.a,getBounds:_.a,getCentrePoint:m.a,getDrawingArea:v.a,getInitialState:g.a,getLabel:y.a,getLeafIds:C.a,getLeafLabels:x.a,getNewick:b.a,getNodeAtPoint:L.a,getNodeById:w.a,getVirtualTree:S.a,highlightNode:P.a,init:T.a,layout:M.a,measureTextWidth:k.a,mergeState:E.a,postRender:A.a,preRender:O.a,render:I.a,rerootNode:z.a,reset:N.a,resetCollapsedNodes:B.a,resize:Z.a,resizeCanvas:j.a,rotateNode:R.a,selectLeafNodes:D.a,selectNode:F.a,setBranchScale:H.a,setFontSize:W.a,setNodeSize:G.a,setRoot:U.a,setScale:V.a,setSource:q.a,setState:Y.a,setStepScale:X.a,setStyles:K.a,setTreeType:J.a,toggleAlignLeafLabels:Q.a,toggleLeafLabels:$.a,transform:tt.a,trigger:et.a}},function(t,e,i){"use strict";e.a=function(t){return{minScale:t/2,maxScale:Math.max(t,16)}}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.a=function(t){for(var e=[],i=[t];i.length;){var o=i.pop();Array.isArray(o.children)&&i.push.apply(i,n(o.children)),e.push(o)}return e.reverse()}},function(t,e,i){"use strict";var n=i(1),o=i(2);e.a=function(t){return{branchScale:n.a[t.state.type].getBranchScale(t,o.a.stepScale)}}},function(t,e,i){"use strict";var n=i(2);e.a=function(t){return{stepScale:n.a.stepScale}}},function(t,e,i){"use strict";var n=i(3);e.a=function(t){return{minScale:Object(n.a)(t).minScale}}},function(t,e,i){"use strict";var n=i(2);e.a=function(t){return{rootId:n.a.rootId}}},function(t,e,i){"use strict";var n=i(0);e.a=function(t){return{rotatedIds:n.EmptyArray}}},function(t,e,i){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{x:(e-t.state.offsetX)/t.state.scale,y:(i-t.state.offsetY)/t.state.scale}}},function(t,e,i){"use strict";var n=i(12),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=function(t,e,i,r){var s=t.startPoint,a=t.centrePoint,h=t.endPoint,l=r-2*e,u=(i-2*e)/(h.x-s.x),c=l/(h.y-s.y),d=Math.min(u,c),f=i/2-a.x*d,p=r/2-a.y*d;return o({offsetX:f,offsetY:p,scale:d},Object(n.a)(d))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(0),o=i(2),r=i(22),s=i(11),a=i(1),h=i(104);i.d(e,"constants",(function(){return n})),i.d(e,"defaults",(function(){return o.a})),i.d(e,"createTree",(function(){return r.a})),i.d(e,"methods",(function(){return s.a})),i.d(e,"types",(function(){return a.a})),i.d(e,"utils",(function(){return h.a})),e.default={constants:n,defaults:o.a,createTree:r.a,methods:s.a,types:a.a,utils:h.a}},function(t,e,i){"use strict";var n=i(23),o=i(24),r=i(3),s=i(14),a=i(9),h=i(17),l=i(18),u=i(15),c=i(10),d=i(102);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],f={canvas:t,ctx:t.getContext("2d"),state:{},_:{cache:{}}};if(Object(o.a)(f),i.length&&Object(n.a)(f,i),f.init(e),e.source){var p=f.ctx.canvas,_=p.width,m=p.height;f.setState(f.chain((function(){return f.state.size?Object(d.a)(f,_,m):Object(c.a)(f,_,m)}),(function(){return{source:e.source}}),(function(){return f.state.rootId?{rootId:f.state.rootId}:Object(h.a)(f)}),(function(){return f.state.collapsedIds?{collapsedIds:f.state.collapsedIds}:Object(a.a)(f)}),(function(){return f.state.rotatedIds?{rotatedIds:f.state.rotatedIds}:Object(l.a)(f)}),(function(){return f.state.stepScale?{stepScale:f.state.stepScale}:Object(u.a)(f)}),(function(){return f.state.branchScale?{branchScale:f.state.branchScale}:Object(s.a)(f)}),(function(){var t=Object(r.a)(f),e=t.offsetX,i=t.offsetY,n=t.scale,o=t.minScale,s=t.maxScale;return{offsetX:f.state.offsetX||e,offsetY:f.state.offsetY||i,scale:f.state.scale||n,minScale:f.state.minScale||o,maxScale:f.state.maxScale||s}})))}return f}},function(t,e,i){"use strict";function n(t,e){var i=this[t];this[t]=function(){for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.call(this,i.bind(this),n)}}e.a=function(t,e){var i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done);i=!0){var h=s.value;if("function"!=typeof h)throw new Error("Invalid plugin provided.");h.call(t,t,n.bind(t),h.options)}}catch(t){o=!0,r=t}finally{try{!i&&a.return&&a.return()}finally{if(o)throw r}}}},function(t,e,i){"use strict";var n=i(11);e.a=function(t){t.error=console.error,t.log=function(){};var e=!0,i=!1,o=void 0;try{for(var r,s=Object.keys(n.a)[Symbol.iterator]();!(e=(r=s.next()).done);e=!0){var a=r.value;t[a]=n.a[a].bind(null,t)}}catch(t){i=!0,o=t}finally{try{!e&&s.return&&s.return()}finally{if(i)throw o}}}},function(t,e,i){"use strict";e.a=function(t,e){return t._.cache[e]||(t._.cache[e]=new Map)}},function(t,e,i){"use strict";e.a=function(t){for(var e={},i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var r=!0,s=!1,a=void 0;try{for(var h,l=n[Symbol.iterator]();!(r=(h=l.next()).done);r=!0){var u=h.value;if("function"==typeof u){var c=u(t);Object.assign(e,c),Object.assign(t.state,c)}}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}return e}},function(t,e,i){"use strict";var n=i(7);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint();t.setBranchScale(Object(n.a)(t,t.state.branchScale,e),i)}},function(t,e,i){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint();t.transform(0,0,e,i)}},function(t,e,i){"use strict";var n=i(7);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint();t.setStepScale(Object(n.a)(t,t.state.stepScale,e),i)}},function(t,e,i){"use strict";var n=i(31);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.refit,r=void 0!==o&&o,s=t.getNodeById(e);s&&t.setState(Object(n.a)(t,s.id,r))}},function(t,e,i){"use strict";var n=i(4),o=i(3);e.a=function(t,e,i){var r=Object(n.a)(t.state.collapsedIds,e);return t.chain((function(){return{collapsedIds:r}}),i?o.a:null)}},function(t,e,i){"use strict";var n=i(0);e.a={alignableLabels:!1,branchScalingAxis:"xy",drawLine:function(t,e,i){t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(i.parent.x,i.parent.y),t.ctx.stroke(),t.ctx.closePath()},getBranchScale:function(t){var e=function(t){return Math.min(t.ctx.canvas.width,t.ctx.canvas.height)}(t)/2,i=t.getVirtualTree(),n=i.rootNode.totalLeafLength-i.rootNode.branchLength;return n>0?e/n:n<0?e*n:0},getNodeAtPoint:function(t,e,i,n){for(var o=t.layout(),r=o.rootNode,s=o.postorderTraversal,a=r.postIndex-r.totalNodes+1;a<=r.postIndex;a++){var h=s[a];if(h.parent&&(h.x>h.parent.x?e<h.x&&e>h.parent.x:e<h.parent.x&&e>h.x))if(isNaN(h.slope)){if(h.y>h.parent.y?i<h.y&&i>h.parent.y:i<h.parent.y&&i>h.y)return h}else if(i>h.slope*e+h.intercept-n&&i<h.slope*e+h.intercept+n)return h}return null},layoutNodes:function(t,e){for(var i=0,o=e.rootNode,r=o.postIndex-o.totalNodes+1;r<=o.postIndex;r++){var s=e.postorderTraversal[r];if(s.isLeaf)s.angle=i*(n.Angles.Degrees360/o.visibleLeaves);else{var a=0,h=!0,l=!1,u=void 0;try{for(var c,d=s.children[Symbol.iterator]();!(h=(c=d.next()).done);h=!0){var f=c.value;a+=f.angle*f.totalLeaves}}catch(t){l=!0,u=t}finally{try{!h&&d.return&&d.return()}finally{if(l)throw u}}s.angle=a/s.totalLeaves}(s.isLeaf&&!s.isHidden||s.isCollapsed&&!s.isHidden)&&(i+=1)}for(var p=o.preIndex;p<o.preIndex+o.totalNodes;p++){var _=e.preorderTraversal[p],m=_.branchLength*t.state.branchScale;_.x=(_!==o?_.parent.x:0)+m*Math.cos(_.angle),_.y=(_!==o?_.parent.y:0)+m*Math.sin(_.angle),_!==o&&(_.slope=(_.parent.y-_.y)/(_.parent.x-_.x),_.intercept=_.y-_.slope*_.x)}}}},function(t,e,i){"use strict";var n=i(0);e.a={alignableLabels:!0,branchScalingAxis:"x",drawLine:function(t,e,i){i!==e.rootNode&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(i.parent.x,i.y),t.ctx.lineTo(i.parent.x,i.parent.y),t.ctx.stroke(),t.ctx.closePath())},getBranchScale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.stepScale,i=t.getVirtualTree(),n=i.rootNode.totalLeaves*e,o=t.ctx.canvas.width/t.ctx.canvas.height*n,r=i.rootNode.totalLeafLength-i.rootNode.branchLength;return 0===r&&t.error(501),o/r},getNodeAtPoint:function(t,e,i,n){for(var o=t.layout(),r=o.rootNode,s=o.postorderTraversal,a=r.postIndex-r.totalNodes+1;a<=r.postIndex;a++){var h=s[a];if(h.parent&&(e<h.x+n&&e>h.parent.x-n&&i<h.y+n&&i>h.y-n||e<h.parent.x+n&&e>h.parent.x-n&&(i<h.parent.y?i>h.y-n:i<h.y+n)))return h}return null},mainAxis:"x",layoutNodes:function(t,e){for(var i=0,o=e.rootNode,r=o.postIndex-o.totalNodes+1;r<=o.postIndex;r++){var s=e.postorderTraversal[r];if(s.angle=n.Angles.Degrees0,s.x=s.distanceFromRoot*t.state.branchScale,s.isLeaf)s.y=i*t.state.stepScale;else if(s.isCollapsed)s.y=i*t.state.stepScale;else{var a=s.children[0].y,h=s.children[s.children.length-1].y;s.y=(h+a)/2}(s.isLeaf&&!s.isHidden||s.isCollapsed&&!s.isHidden)&&(i+=1)}},stepScalingAxis:"y"}},function(t,e,i){"use strict";var n=i(0);e.a={alignableLabels:!0,branchScalingAxis:"xy",drawLine:function(t,e,i){var n=e.rootNode,o=i.parent.distanceFromRoot-n.distanceFromRoot;if(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(o*t.state.branchScale*Math.cos(i.angle),o*t.state.branchScale*Math.sin(i.angle)),t.ctx.stroke(),t.ctx.closePath(),i.children&&i.children.length&&!i.isCollapsed){var r=i.children[0].angle,s=i.children[i.children.length-1].angle,a=Math.abs(i.distanceFromRoot-n.distanceFromRoot);t.ctx.beginPath(),t.ctx.arc(0,0,a*t.state.branchScale,r,s,s<r),t.ctx.stroke(),t.ctx.closePath()}},getBranchScale:function(t){var e=function(t){return Math.min(t.ctx.canvas.width,t.ctx.canvas.height)}(t)/2,i=t.getVirtualTree().rootNode;return i.totalLeafLength>0?e/i.totalLeafLength:i.totalLeafLength<0?e*i.totalLeafLength:0},getNodeAtPoint:function(t,e,i,n){for(var o=t.layout(),r=o.rootNode,s=o.postorderTraversal,a=r.postIndex-r.totalNodes+1;a<=r.postIndex;a++){var h=s[a];if(h.parent){var l=h.parent.distanceFromRoot-r.distanceFromRoot,u=l*t.state.branchScale*Math.cos(h.angle);if(h.x>u?e<h.x&&e>u:e<u&&e>h.x)if(isNaN(h.slope)){var c=l*t.state.branchScale*Math.sin(h.angle);if(h.y>c?i<h.y&&i>c:i<c&&i>h.y)return h}else if(i>h.slope*e+h.intercept-n&&i<h.slope*e+h.intercept+n)return h}}return null},layoutNodes:function(t,e){for(var i=0,o=e.rootNode,r=o.postIndex-o.totalNodes+1;r<=o.postIndex;r++){var s=e.postorderTraversal[r];if(s.isLeaf)s.angle=i*(n.Angles.Degrees360/e.rootNode.visibleLeaves);else{var a=s.children[0].angle,h=s.children[s.children.length-1].angle;s.angle=(h+a)/2}var l=(s.distanceFromRoot-e.rootNode.distanceFromRoot)*t.state.branchScale;s.x=l*Math.cos(s.angle),s.y=l*Math.sin(s.angle),(s.isLeaf&&!s.isHidden||s.isCollapsed&&!s.isHidden)&&(i+=1),s.parent&&(s.slope=Math.tan(s.angle),s.intercept=s.y-s.slope*s.x)}}}},function(t,e,i){"use strict";var n=i(0);e.a={alignableLabels:!1,getBranchScale:function(t){var e=t.getVirtualTree().rootNode,i=t.ctx.canvas.width-2*t.state.padding;return e.totalLeafLength>0?i/e.totalLeafLength:e.totalLeafLength<0?i*e.totalLeafLength:0},getNodeAtPoint:function(t,e,i,n){for(var o=t.getVirtualTree(),r=o.rootNode,s=o.postorderTraversal,a=r.postIndex-r.totalNodes+1;a<=r.postIndex;a++){var h=s[a];if(h&&h.parent&&e<h.x&&e>h.parent.x&&i>h.slope*e+h.intercept-n&&i<h.slope*e+h.intercept+n)return h}return null},drawLine:function(t,e,i){i!==e.rootNode&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(i.parent.x,i.parent.y),t.ctx.stroke(),t.ctx.closePath())},layoutNodes:function(t,e){for(var i=0,o=e.rootNode,r=o.postIndex-o.totalNodes+1;r<=o.postIndex;r++){var s=e.postorderTraversal[r];if(s.angle=n.Angles.Degrees0,s.x=(e.rootNode.visibleLeaves-s.visibleLeaves)*t.state.stepScale/2,s.isLeaf)s.y=i*t.state.stepScale;else if(s.isCollapsed)s.y=i*t.state.stepScale;else{var a=s.children[0].y,h=(s.visibleLeaves-s.children[0].visibleLeaves)*t.state.stepScale;s.y=a+h/2}s.isLeaf&&i++}for(var l=o.preIndex;l<o.preIndex+o.totalNodes;l++){var u=e.preorderTraversal[l];u.parent&&(u.slope=(u.parent.y-u.y)/(u.parent.x-u.x),u.intercept=u.y-u.slope*u.x)}},mainAxis:"x",stepScalingAxis:"y"}},function(t,e,i){"use strict";var n=i(0);e.a={alignableLabels:!0,drawLine:function(t,e,i){i!==e.rootNode&&(t.ctx.beginPath(),t.ctx.moveTo(i.x,i.y),t.ctx.lineTo(i.x,i.parent.y),t.ctx.lineTo(i.parent.x,i.parent.y),t.ctx.stroke(),t.ctx.closePath())},branchScalingAxis:"y",getBranchScale:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.state.stepScale,i=t.getVirtualTree(),n=i.rootNode.totalLeaves*e,o=t.ctx.canvas.height/t.ctx.canvas.width*n,r=i.rootNode.totalLeafLength-i.rootNode.branchLength;return 0===r&&t.error(501),o/r},getNodeAtPoint:function(t,e,i,n){for(var o=t.layout(),r=o.rootNode,s=o.preorderTraversal,a=r.preIndex;a<r.preIndex+r.totalNodes;a++){var h=s[a];if(h.parent&&(e<h.x+n&&e>h.x-n&&i<h.y+n&&i>h.parent.y-n||i<h.parent.y+n&&i>h.parent.y-n&&(e<h.parent.x?e>h.x-n:e<h.x+n)))return h}return null},mainAxis:"y",layoutNodes:function(t,e){for(var i=0,o=e.rootNode,r=o.postIndex-o.totalNodes+1;r<=o.postIndex;r++){var s=e.postorderTraversal[r];if(s.angle=n.Angles.Degrees90,s.y=s.distanceFromRoot*t.state.branchScale,s.isLeaf)s.x=-1*i*t.state.stepScale;else if(s.isCollapsed)s.x=i*t.state.stepScale;else{var a=s.children[0].x,h=s.children[s.children.length-1].x;s.x=(h+a)/2}(s.isLeaf&&!s.isHidden||s.isCollapsed&&!s.isHidden)&&(i+=1)}},stepScalingAxis:"x"}},function(t,e,i){"use strict";e.a=function(t){}},function(t,e,i){"use strict";var n=i(0),o=i(5),r=i(2);e.a=function(t,e){var i=t.ctx,s=t.state,a=t._,h=a.actualNodeSize,l=a.actualHaloWidth;i.lineWidth=l,i.strokeWidth=l,i.strokeStyle=s.haloStyle;var u=h/2,c=Object(o.a)(t,r.a.nodeSize/2),d=e.isLeaf?s.leafNodeStyle:s.internalNodeStyle,f=(s.styles[e.id]||d).shape,p="none"===(void 0===f?d.shape:f)?1.5*l:u+c+Math.floor(u/c/2);i.beginPath(),i.arc(e.x,e.y,p,0,n.Angles.Degrees360,!1),i.closePath(),i.stroke()}},function(t,e,i){"use strict";var n=i(1),o=i(0),r={};e.a=function(t,e,i){var s=t.ctx,a=t.state;s.translate(i.x,i.y),s.rotate(i.angle);var h=(a.styles?a.styles[i.id]:void 0)||r,l=i.isLeaf?a.leafNodeStyle:a.internalNodeStyle;s.fillStyle=h.fillStyle||a.fillStyle||l.fillStyle,s.strokeStyle=t.state.strokeStyle;var u=t._.actualNodeSize,c=t._.actualNodeSize/2;if(t._.renderShapes){var d=(h?h.shape:void 0)||l.shape;t.drawNodeShape(i,d,u)}if((t.state.showLabels||t._.renderLabels)&&(i.isLeaf&&a.renderLeafLabels||!i.isLeaf&&a.renderInternalLabels)){var f=i.isLeaf&&a.alignLabels&&!1!==n.a[a.type].alignableLabels?a.branchScale*(e.rootNode.longestLeaf-i.distanceFromRoot):0;if(f>0&&t.state.lineWidth*t.state.scale>1){var p=t.ctx.lineWidth;t.ctx.lineWidth=t.ctx.lineWidth/4,t.ctx.strokeWidth=t.ctx.lineWidth,s.beginPath(),s.moveTo(c,0),s.lineTo(c+f,0),s.stroke(),s.closePath(),t.ctx.lineWidth=p,t.ctx.strokeWidth=t.ctx.lineWidth}var _=(i.isLeaf?2:0)*c+f,m=i.angle>o.Angles.Degrees90&&i.angle<o.Angles.Degrees270;m&&s.rotate(o.Angles.Degrees180),s.textAlign=m?"right":"left";var v=s.font;h.fontStyle&&(s.font=h.fontStyle+" "+t._.actualFontSize+"px "+t.state.fontFamily),!1===a.styleLeafLabels&&(s.fillStyle=h.labelFillStyle||a.fillStyle||l.fillStyle),s.fillText(t.getLabel(i),m?-_:_,0),s.font=v,m&&s.rotate(-o.Angles.Degrees180)}s.rotate(-i.angle),s.translate(-i.x,-i.y)}},function(t,e,i){"use strict";var n=i(0);e.a=function(t,e,i,o){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:o/2,s=t.ctx;if(s.beginPath(),"dot"===i)s.arc(0,0,2*s.lineWidth,n.Angles.Degrees0,n.Angles.Degrees360);else if("circle"===i)s.arc(0,0,r,n.Angles.Degrees0,n.Angles.Degrees360);else if("square"===i)s.rect(-r,-r,o,o);else if("triangle"===i)s.moveTo(0,-r),s.lineTo(r,r),s.lineTo(-r,r),s.lineTo(0,-r);else if("star"===i){var a=Math.PI/5,h=Math.PI/2*3;s.moveTo(0,-r);for(var l=0;l<5;l++)s.lineTo(Math.cos(h)*r,Math.sin(h)*r),h+=a,s.lineTo(Math.cos(h)*r*.5,Math.sin(h)*r*.5),h+=a;s.lineTo(0,-r)}s.fill(),s.stroke(),s.closePath()}},function(t,e,i){"use strict";e.a=function(t){return t.ctx.canvas.toDataURL()}},function(t,e,i){"use strict";var n=i(3);e.a=function(t){t.setState(Object(n.a)(t))}},function(t,e,i){"use strict";var n=i(0);e.a=function(t){for(var e=t.state,i=t.layout(),o=Number.MAX_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,h=e.type===n.TreeTypes.Circular&&e.alignLabels,l=i.rootNode,u=l.preIndex;u<l.preIndex+l.totalNodes;u++){var c=i.preorderTraversal[u],d=c.x,f=c.x,p=c.y,_=c.y;if(c.isLeaf){var m=0;h&&(m+=e.branchScale*(i.rootNode.totalLeafLength-c.distanceFromRoot)),f+=m*Math.cos(c.angle),_+=m*Math.sin(c.angle)}d<o&&(o=d),f<o&&(o=f),d>s&&(s=d),f>s&&(s=f),p<r&&(r=p),_<r&&(r=_),p>a&&(a=p),_>a&&(a=_),c.isCollapsed&&(u+=c.totalNodes-1)}return{minX:o,maxX:s,minY:r,maxY:a}}},function(t,e,i){"use strict";e.a=function(t){return{x:t.ctx.canvas.width/2/t.pixelRatio,y:t.ctx.canvas.height/2/t.pixelRatio}}},function(t,e,i){"use strict";e.a=function(t){var e=t.state.size.width,i=t.state.size.height,n=t.state.padding;return{width:e,height:i,left:n,top:n,right:e-n,bottom:i-n}}},function(t,e,i){"use strict";var n=i(2),o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=function(t,e){return o({},n.a,e)}},function(t,e,i){"use strict";e.a=function(t,e){var i=t.state.styles;return e.id in i&&i[e.id].label||e.label||e.id}},function(t,e,i){"use strict";e.a=function(t,e){var i=t.getVirtualTree();if(e){for(var n=t.getNodeById(e),o=[],r=n.preIndex;r<n.preIndex+n.totalNodes;r++)i.preorderTraversal[r].isLeaf&&o.push(i.preorderTraversal[r].id);return o}return i.leafNodes.map((function(t){return t.id}))}},function(t,e,i){"use strict";e.a=function(t,e,i){var n=t.getVirtualTree();if(e){for(var o=t.getNodeById(e),r=[],s=o.preIndex;s<o.preIndex+o.totalNodes;s++){var a=n.preorderTraversal[s];!a.isLeaf||i&&!i.includes(a.id)||r.push(t.getLabel(a))}return r}if(i){var h=[],l=!0,u=!1,c=void 0;try{for(var d,f=i[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){var p=d.value,_=t.getNodeById(p);_&&_.isLeaf&&h.push(t.getLabel(_))}}catch(t){u=!0,c=t}finally{try{!l&&f.return&&f.return()}finally{if(u)throw c}}return h}return n.leafNodes.map((function(e){return t.getLabel(e)}))}},function(t,e,i){"use strict";e.a=function(t,e){for(var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=t.layout(),o=e?t.getNodeById(e):n.rootNode,r=i.excludeCollapsed,s=void 0===r||r,a=[],h=o.postIndex-o.totalNodes+1;h<o.postIndex;h++){var l=n.postorderTraversal[h];if(l.isLeaf)a.push(t.getLabel(l)+":"+l.branchLength);else{var u=a.splice(a.length-l.children.length,l.children.length);s&&l.isCollapsed?a.push("["+l.totalLeaves+" hidden "+(1===l.totalLeaves?"leaf":"leaves")+"]:"+l.branchLength):a.push("("+u.join(",")+"):"+l.branchLength)}}return"("+a.join(",")+");"}},function(t,e,i){"use strict";var n=i(1),o=i(5);e.a=function(t,e,i){for(var r=t._.actualNodeSize/2+Object(o.a)(t,3),s=t.layout(),a=s.rootNode,h=a.preIndex;h<a.preIndex+a.totalNodes;h++){var l=s.preorderTraversal[h];if(!l.isHidden&&e>l.x-r&&e<l.x+r&&i>l.y-r&&i<l.y+r)return l}var u=n.a[t.state.type];return u.getNodeAtPoint?u.getNodeAtPoint(t,e,i,r):null}},function(t,e,i){"use strict";e.a=function(t,e){var i=t.getVirtualTree();if("string"==typeof e){var n=i.nodeById[e];return n||t.error("Cannot find node of ID=",e),n}var o=i.nodeById[e.id];return o&&o===e||t.error("Node not found",e),o}},function(t,e,i){"use strict";var n=i(54);e.a=function(t){var e=t.state,i=void 0===e?{}:e,o=t.cache("virtual");if(o.get("source")!==i.source){var r=performance.now(),s=Object(n.a)(i.source),a=s.nodeById,h=s.rootNode,l=s.leafNodes,u=s.postorderTraversal,c=s.preorderTraversal;t.nodes={nodeById:a,rootNode:h,leafNodes:l,postorderTraversal:u,preorderTraversal:c,source:i.source,originalSource:i.source.original||i.source};var d=performance.now();t.log("parsing virtual tree took ",d-r," milliseconds.")}if((o.get("rootId")||null)!==t.state.rootId){var f=t.nodes.nodeById[t.state.rootId]||t.nodes.preorderTraversal[0],p=[];f.distanceFromRoot=0;for(var _=f.preIndex+1;_<f.preIndex+f.totalNodes;_++){var m=t.nodes.preorderTraversal[_];m.distanceFromRoot=m.parent.distanceFromRoot+m.branchLength,m.isLeaf&&p.push(m)}t.nodes.leafNodes=p,t.nodes.rootNode=f}return o.set("source",i.source),o.set("rootId",t.state.rootId),t.nodes}},function(t,e,i){"use strict";var n=i(58),o=i(55);e.a=function(t){var e=t;"string"==typeof t&&(e={type:"newick",data:t});var i=e,r=i.type,s=i.data,a=function(t,e){var i={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(i[n]=t[n]);return i}(i,["type","data"]),h=null;if("newick"===r||void 0===r)h=o.parse_newick(s);else{if("biojs"!==r)throw new Error("Source type is not supported: "+r);h=s}return Object(n.a)(h,a)}},function(t,e,i){t.exports=i(56),t.exports.parse_nhx=i(57)},function(t,e){t.exports.parse_newick=function(t){for(var e=[],i={},n=t.split(/\s*(;|\(|\)|,|:)\s*/),o=0;o<n.length;o++){var r=n[o];switch(r){case"(":var s={};i.children=[s],e.push(i),i=s;break;case",":s={},e[e.length-1].children.push(s),i=s;break;case")":i=e.pop();break;case":":break;default:var a=n[o-1];")"==a||"("==a||","==a?i.name=r:":"==a&&(i.branch_length=parseFloat(r))}}return i},t.exports.parse_json=function(t){return function t(e){var i="";if(e.hasOwnProperty("children")){var n=[];e.children.forEach((function(e){var i=t(e);n.push(i)}));var o=n.join();e.hasOwnProperty("name")&&(i="("+o+")"+e.name),e.hasOwnProperty("branch_length")&&(i=i+":"+e.branch_length)}else{var r="";e.hasOwnProperty("name")&&(r=e.name),e.hasOwnProperty("branch_length")&&(r=r+":"+e.branch_length),i+=r}return i}(t)+";"}},function(t,e){t.exports=parse_nhx=function(t){for(var e=[],i={},n=t.split(/\s*(;|\(|\)|\[|\]|,|:|=)\s*/),o=0;o<n.length;o++){var r=n[o];switch(r){case"(":var s={};i.children=[s],e.push(i),i=s;break;case",":s={},e[e.length-1].children.push(s),i=s;break;case")":i=e.pop();break;case":":break;default:var a=n[o-1];if(")"==a||"("==a||","==a)i.name=r;else if(":"==a)isNaN(r)||(i.branch_length=parseFloat(r));else if("="==a)switch(n[o-2]){case"D":i.duplication=r;break;case"G":i.gene_id=r;break;case"T":i.taxon_id=r}}}return i}},function(t,e,i){"use strict";var n=i(59),o=i(13);e.a=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.trimQuotes,r=void 0===i||i,s=Object(o.a)(t),a=Object(n.a)(t),h=0;h<s.length;h++){var l=s[h];if(l.postIndex=h,l.isLeaf=!Array.isArray(l.children),l.branchLength=Math.abs(l.branchLength||l.branch_length||0),delete l.branch_length,l.isLeaf&&"string"==typeof l.name&&(l.id=r?l.name.trim().replace(/^['"]|['"]$/g,""):l.name,delete l.name),l.totalNodes=1,l.totalLeaves=1,l.totalLeafLength=l.branchLength,!l.isLeaf){l.totalNodes=1,l.totalLeaves=0;var u=0,c=!0,d=!1,f=void 0;try{for(var p,_=l.children[Symbol.iterator]();!(c=(p=_.next()).done);c=!0){var m=p.value;l.totalNodes+=m.totalNodes,l.totalLeaves+=m.totalLeaves,m.totalLeafLength>u&&(u=m.totalLeafLength),m.parent=l}}catch(t){d=!0,f=t}finally{try{!c&&_.return&&_.return()}finally{if(d)throw f}}l.totalLeafLength=l.branchLength+u,l.longestLeaf=u}}for(var v={},g=[],y=0;y<a.length;y++){var C=a[y];C.preIndex=y,C.id||(C.id=y.toString()),v[C.id]=C,C.distanceFromRoot=(C.parent?C.parent.distanceFromRoot:0)+C.branchLength,C.isLeaf&&g.push(C),C.visibleLeaves=C.totalLeaves}return{nodeById:v,rootNode:t,leafNodes:g,postorderTraversal:s,preorderTraversal:a}}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}e.a=function(t){for(var e=[],i=[t];i.length;){var o=i.shift();e.push(o),Array.isArray(o.children)&&i.unshift.apply(i,n(o.children))}return e}},function(t,e,i){"use strict";e.a=function(t,e,i){var n="string"==typeof e?t.getNodeById(e):e,o=n&&!n.isHidden?n.id:null;t._.highlightedId!==o&&(t._.highlightedId=o,t.render())}},function(t,e,i){"use strict";var n=i(8);e.a=function(t,e){t.state=t.getInitialState(e),t.pixelRatio=Object(n.a)(t.ctx)}},function(t,e,i){"use strict";var n=i(1),o=i(63);e.a=function(t){var e=t.state,i=t.cache("layout"),r=t.getVirtualTree();if(isNaN(r.maxLabelWidth)||i.get("styles")!==e.styles){var s="",a=!0,h=!1,l=void 0;try{for(var u,c=r.leafNodes[Symbol.iterator]();!(a=(u=c.next()).done);a=!0){var d=u.value,f=t.getLabel(d);f.length>s.length&&(s=f)}}catch(t){h=!0,l=t}finally{try{!a&&c.return&&c.return()}finally{if(h)throw l}}r.maxLabelWidth=t.measureTextWidth(s)}if(i.get("rotatedIds")!==e.rotatedIds){var p=new Set(e.rotatedIds);if(r.rotatedIds){var _=!0,m=!1,v=void 0;try{for(var g,y=r.rotatedIds[Symbol.iterator]();!(_=(g=y.next()).done);_=!0){var C=g.value,x=r.nodeById[C];p.has(x.id)||(Object(o.a)(t,r,x),x.isInverted=!1)}}catch(t){m=!0,v=t}finally{try{!_&&y.return&&y.return()}finally{if(m)throw v}}}var b=!0,L=!1,w=void 0;try{for(var S,P=e.rotatedIds[Symbol.iterator]();!(b=(S=P.next()).done);b=!0){var T=S.value,M=r.nodeById[T];M.isInverted||(Object(o.a)(t,r,M),M.isInverted=!0)}}catch(t){L=!0,w=t}finally{try{!b&&P.return&&P.return()}finally{if(L)throw w}}}if(i.get("collapsedIds")!==e.collapsedIds){for(var k=new Set(e.collapsedIds),E=0;E<r.postorderTraversal.length;E++){var A=r.preorderTraversal[E];A.isCollapsed=k.has(A.id),A.parent&&(A.parent.isCollapsed||A.parent.isHidden)?A.isHidden=!0:A.isHidden=!1}for(var O=0;O<r.postorderTraversal.length;O++){var I=r.postorderTraversal[O];if(I.isLeaf)I.visibleLeaves=1;else if(I.isCollapsed)I.visibleLeaves=1;else{I.visibleLeaves=0;var z=!0,N=!1,B=void 0;try{for(var Z,j=I.children[Symbol.iterator]();!(z=(Z=j.next()).done);z=!0){var R=Z.value;I.visibleLeaves+=R.visibleLeaves}}catch(t){N=!0,B=t}finally{try{!z&&j.return&&j.return()}finally{if(N)throw B}}}}}if(i.get("branchScale")!==e.branchScale||i.get("collapsedIds")!==e.collapsedIds||i.get("rootId")!==e.rootId||i.get("rotatedIds")!==e.rotatedIds||i.get("stepScale")!==e.stepScale||i.get("type")!==e.type){var D=performance.now();n.a[e.type].layoutNodes(t,r);var F=performance.now();t.log("layout nodes took ",F-D," milliseconds.")}return i.set("branchScale",e.branchScale),i.set("collapsedIds",e.collapsedIds),i.set("rootId",e.rootId),i.set("rotatedIds",e.rotatedIds),i.set("stepScale",e.stepScale),i.set("type",e.type),i.set("styles",e.styles),r}},function(t,e,i){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}function o(t,e,i){var o=[],r=!0,s=!1,a=void 0;try{for(var h,l=i.children[Symbol.iterator]();!(r=(h=l.next()).done);r=!0){var u=h.value,c=t.splice(e,u.totalNodes);o.push(c)}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}var d=!0,f=!1,p=void 0;try{for(var _,m=o[Symbol.iterator]();!(d=(_=m.next()).done);d=!0){var v=_.value;t.splice.apply(t,[e,0].concat(n(v)))}}catch(t){f=!0,p=t}finally{try{!d&&m.return&&m.return()}finally{if(f)throw p}}}e.a=function(t,e,i){var n=e.preorderTraversal,r=e.postorderTraversal;o(n,n.indexOf(i)+1,i);for(var s=0;s<n.length;s++)n[s].preIndex=s;o(r,r.indexOf(i)-i.totalNodes+1,i);for(var a=0;a<r.length;a++)r[a].postIndex=a;i.children.reverse()}},function(t,e,i){"use strict";e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.state.fontWeight,n=t.ctx.font;t.ctx.font=i+" "+t.state.fontSize+"px "+t.state.fontFamily;var o=t.ctx.measureText(e);return t.ctx.font=n,Math.ceil(o.width+t.state.fontSize)}},function(t,e,i){"use strict";var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=function(t,e){t.state=n({},t.state,e)}},function(t,e,i){"use strict";e.a=function(t,e){for(var i=t.state,n=e.rootNode.preIndex;n<e.rootNode.preIndex+e.rootNode.totalNodes;n++){var o=e.preorderTraversal[n];-1===i.selectedIds.indexOf(o.id)&&o.id!==t._.highlightedId||t.drawHighlight(o),o.isCollapsed&&(n+=o.totalNodes-1)}t.ctx.restore(),t.ctx.canvas.title="",t.ctx.canvas.style&&(t.ctx.canvas.style.cursor=t._.highlightedId?"pointer":"")}},function(t,e,i){"use strict";var n=i(5);e.a=function(t,e){t.ctx.save(),t.ctx.clearRect(0,0,t.ctx.canvas.width,t.ctx.canvas.height),t._.actualMaxLabelWidth=Object(n.a)(t,e.maxLabelWidth),t._.actualFontSize=Object(n.a)(t,t.state.fontSize),t._.actualNodeSize=Object(n.a)(t,t.state.nodeSize),t._.actualHaloRadius=Object(n.a)(t,Math.max(.75*t.state.nodeSize,t.state.haloRadius)),t._.actualHaloWidth=Object(n.a)(t,t.state.haloWidth),t._.renderShapes=t.state.showNodes,t._.renderLabels=t.state.showLabels||t.state.stepScale*t.state.scale>=t.state.labelThreshold,t.ctx.textBaseline="middle",t.ctx.font=t._.actualFontSize+"px "+t.state.fontFamily,t.ctx.lineWidth=Object(n.a)(t,t.state.lineWidth),t.ctx.strokeWidth=t.ctx.lineWidth,t.ctx.translate(t.state.offsetX*t.pixelRatio,t.state.offsetY*t.pixelRatio),t.ctx.scale(t.state.scale*t.pixelRatio,t.state.scale*t.pixelRatio)}},function(t,e,i){"use strict";var n=i(1);e.a=function(t){t.resizeCanvas();var e=t.layout(),i=performance.now();if(t.preRender(e),t.state.styleNodeLines){var o=!0,r=!1,s=void 0;try{for(var a,h=e.postorderTraversal[Symbol.iterator]();!(o=(a=h.next()).done);o=!0){var l=a.value;if(l.isLeaf){var u=t.state.styles?t.state.styles[l.id]:void 0;l.strokeStyle=(u?u.strokeStyle:void 0)||t.state.strokeStyle}else{l.strokeStyle=l.children[0].strokeStyle;var c=!0,d=!1,f=void 0;try{for(var p,_=l.children[Symbol.iterator]();!(c=(p=_.next()).done);c=!0)if(p.value.strokeStyle!==l.strokeStyle){l.strokeStyle=t.state.strokeStyle;break}}catch(t){d=!0,f=t}finally{try{!c&&_.return&&_.return()}finally{if(d)throw f}}}}}catch(t){r=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(r)throw s}}}for(var m=e.rootNode.preIndex,v=e.rootNode.preIndex+e.rootNode.totalNodes,g=m;g<v;g++){var y=e.preorderTraversal[g];y!==e.rootNode&&(y.id===t._.highlightedId?t.ctx.strokeStyle=t.state.highlightedStyle:t.state.styleNodeLines?t.ctx.strokeStyle=y.strokeStyle:t.ctx.strokeStyle=t.state.strokeStyle,n.a[t.state.type].drawLine(t,e,y),y.isCollapsed&&(g+=y.totalNodes-1))}for(var C=m;C<v;C++){var x=e.preorderTraversal[C];t.drawNode(e,x),x.isCollapsed&&(C+=x.totalNodes-1)}t.postRender(e);var b=performance.now();t.log("render took ",b-i," milliseconds.")}},function(t,e,i){"use strict";var n=i(13);function o(t){var e=Object(n.a)(t),i=[],o=!0,r=!1,s=void 0;try{for(var a,h=e[Symbol.iterator]();!(o=(a=h.next()).done);o=!0){var l=a.value;if(l.isLeaf)i.push(l.id+":"+l.branchLength);else if(l!==t){var u=i.splice(i.length-l.children.length,l.children.length);i.push("("+u.join(",")+"):"+l.branchLength)}}}catch(t){r=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(r)throw s}}return"("+i.join(",")+");"}e.a=function(t,e){var i=t.getNodeById(e),n=t.layout();if(i.parent){var r={branchLength:0,children:[]};!function t(e,i,n,o){var r={branchLength:o.branchLength,children:[],parent:n};n.children.push(r);var s=!0,a=!1,h=void 0;try{for(var l,u=o.parent.children[Symbol.iterator]();!(s=(l=u.next()).done);s=!0){var c=l.value;c!==o&&r.children.push(c)}}catch(t){a=!0,h=t}finally{try{!s&&u.return&&u.return()}finally{if(a)throw h}}o.parent.parent&&o.parent!==i.rootNode&&t(e,i,r,o.parent)}(t,n,r,i),r.children.push(i);var s={type:"newick",original:t.state.source,data:o(r)};t.setSource(s)}}},function(t,e,i){"use strict";var n=i(6);e.a=function(t,e){t.setState(Object(n.a)(t,e))}},function(t,e,i){"use strict";var n=i(9);e.a=function(t,e){var i=e.refit,o=void 0!==i&&i;t.setState(Object(n.a)(t,o))}},function(t,e,i){"use strict";var n=i(10);e.a=function(t,e,i){t.setState(Object(n.a)(t,e,i))}},function(t,e,i){"use strict";e.a=function(t){var e=t.state.size,i=e.width,n=e.height;t.ctx.canvas.style&&(t.ctx.canvas.style.width=i+"px",t.ctx.canvas.style.height=n+"px",t.ctx.canvas.width=i*t.pixelRatio,t.ctx.canvas.height=n*t.pixelRatio)}},function(t,e,i){"use strict";var n=i(75);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=i.refit,r=void 0!==o&&o,s=t.getNodeById(e);s&&t.setState(Object(n.a)(t,s.id,r))}},function(t,e,i){"use strict";var n=i(4),o=i(3);e.a=function(t,e,i){var r=Object(n.a)(t.state.rotatedIds,e);return t.chain((function(){return{rotatedIds:r}}),i?o.a:null)}},function(t,e,i){"use strict";var n=i(77);e.a=function(t,e,i){e&&Array.isArray(e)&&t.setState(Object(n.a)(t,e,i))}},function(t,e,i){"use strict";var n=i(0);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i){var o=new Set(t.state.selectedIds),r=!0,s=!1,a=void 0;try{for(var h,l=e[Symbol.iterator]();!(r=(h=l.next()).done);r=!0){var u=h.value;o.add(u)}}catch(t){s=!0,a=t}finally{try{!r&&l.return&&l.return()}finally{if(s)throw a}}return{selectedIds:Array.from(o)}}return{selectedIds:e.length?e:n.EmptyArray}}},function(t,e,i){"use strict";var n=i(0),o=i(79),r=i(80),s=i(81);e.a=function(t,e,i){var a=e?t.getNodeById(e):null;if(a&&a.isLeaf)t.setState(Object(o.a)(t,a.id,i));else if(a){var h=a&&!a.isHidden?t.getLeafIds(a):n.EmptyArray;t.setState(Object(r.a)(t,h,i))}else t.setState(Object(s.a)(t))}},function(t,e,i){"use strict";var n=i(4);e.a=function(t,e,i){return{selectedIds:Object(n.a)(t.state.selectedIds,e,i)}}},function(t,e,i){"use strict";e.a=function(t,e,i){if(i){var n=new Set(t.state.selectedIds),o=!0,r=!1,s=void 0;try{for(var a,h=e[Symbol.iterator]();!(o=(a=h.next()).done);o=!0){var l=a.value;n.add(l)}}catch(t){r=!0,s=t}finally{try{!o&&h.return&&h.return()}finally{if(r)throw s}}return{selectedIds:Array.from(n)}}return{selectedIds:e}}},function(t,e,i){"use strict";var n=i(0);e.a=function(t){return{selectedIds:n.EmptyArray}}},function(t,e,i){"use strict";var n=i(1),o=i(83);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint(),r=n.a[t.state.type].branchScalingAxis;r&&e>0&&t.setState(Object(o.a)(t,e,i))}},function(t,e,i){"use strict";var n=i(1),o=i(16);e.a=function(t,e,i){var r=i.x,s=i.y,a=t.state.offsetX,h=t.state.offsetY;if(i){var l=n.a[t.state.type].branchScalingAxis,u=e/t.state.branchScale;if("x"===l||"xy"===l){var c=t.state.offsetX;a=c+(r-((r-c)*u+c))}if("y"===l||"xy"===l){var d=t.state.offsetY;h=d+(s-((s-d)*u+d))}}return t.chain((function(){return{branchScale:e,offsetX:a,offsetY:h}}),o.a)}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){"number"==typeof e?t.setState({fontSize:e}):t.error("Invalid font size value, expected number, got ",void 0===e?"undefined":n(e))}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){"number"==typeof e?t.setState({nodeSize:e}):t.error("Invalid node size value, expected number, got ",void 0===e?"undefined":n(e))}},function(t,e,i){"use strict";var n=i(87);e.a=function(t,e){var i=null;null!==e&&(i=t.getNodeById(e)),t.setState(Object(n.a)(t,i?i.id:null))}},function(t,e,i){"use strict";var n=i(6);e.a=function(t,e){return t.chain((function(){return{rootId:e}}),n.a)}},function(t,e,i){"use strict";e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint();if(!(e<=0)){if(i){var n=e/t.state.scale,o=t.state.offsetX;t.state.offsetX=o+(i.x-((i.x-o)*n+o));var r=t.state.offsetY;t.state.offsetY=r+(i.y-((i.y-r)*n+r))}t.state.scale=e,t.render()}}},function(t,e,i){"use strict";var n=i(90);e.a=function(t,e){t.setState(Object(n.a)(t,e))}},function(t,e,i){"use strict";var n=i(9),o=i(17),r=i(18),s=i(6);e.a=function(t,e){return t.chain((function(){return{source:e}}),o.a,n.a,r.a,s.a)}},function(t,e,i){"use strict";e.a=function(t,e){Object.assign(t.state,e),t.render()}},function(t,e,i){"use strict";var n=i(1),o=i(93);e.a=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.getCentrePoint(),r=n.a[t.state.type].stepScalingAxis;r&&e>0&&t.setState(Object(o.a)(t,e,i))}},function(t,e,i){"use strict";var n=i(1),o=i(16);e.a=function(t,e,i){var r=i.x,s=i.y,a=t.state.offsetX,h=t.state.offsetY,l=e/t.state.stepScale;if(i){var u=n.a[t.state.type].stepScalingAxis;if("x"===u||"xy"===u){var c=t.state.offsetX;a=c+(r-((r-c)*l+c))}if("y"===u||"xy"===u){var d=t.state.offsetY;h=d+(s-((s-d)*l+d))}}return t.chain((function(){return{stepScale:e,offsetX:a,offsetY:h}}),o.a)}},function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=function(t,e){"object"===(void 0===e?"undefined":n(e))?t.setState({styles:e}):t.error("Invalid node styles, expected object, got ",void 0===e?"undefined":n(e))}},function(t,e,i){"use strict";var n=i(96);e.a=function(t,e){t.setState(Object(n.a)(t,e))}},function(t,e,i){"use strict";var n=i(6);e.a=function(t,e){return t.chain((function(){return{type:e}}),n.a)}},function(t,e,i){"use strict";e.a=function(t){t.setState({alignLabels:!t.state.alignLabels})}},function(t,e,i){"use strict";e.a=function(t){t.setState({renderLeafLabels:!t.state.renderLeafLabels})}},function(t,e,i){"use strict";var n=i(100);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.getCentrePoint();0===e&&0===i&&0===o||t.setState(Object(n.a)(t,e,i,o,r))}},function(t,e,i){"use strict";var n=i(7);e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments[4],s=r.x,a=r.y,h=t.state.offsetX+e,l=t.state.offsetY+i;if(0===o)return{offsetX:h,offsetY:l};var u=Object(n.a)(t,t.state.scale,o),c=t.state.scale;return{offsetX:-1*((-1*h+s)/c*u-s),offsetY:-1*((-1*l+a)/c*u-a),scale:u}}},function(t,e,i){"use strict";e.a=function(t,e,i){var n=t["on"+e];"function"==typeof n&&n.apply(t,i)}},function(t,e,i){"use strict";var n=i(103),o=i(10),r=i(20),s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};e.a=function(t,e,i){var a=t.state.size;if(a.width===e&&a.height===i)return{};var h=Object(n.a)(t);return s({},Object(o.a)(t,e,i),Object(r.a)(h,t.state.padding,e,i))}},function(t,e,i){"use strict";var n=i(19);e.a=function(t){var e=t.getDrawingArea(),i=e.width,o=e.height,r=t.getBounds(),s=r.minX,a=r.maxX,h=r.minY,l=r.maxY,u=Object(n.a)(t,t.state.padding,t.state.padding),c=Object(n.a)(t,i-t.state.padding,o-t.state.padding),d=Object(n.a)(t,i/2,o/2);return{startPoint:{x:Math.max(u.x,s),y:Math.max(u.y,h)},endPoint:{x:Math.min(c.x,a),y:Math.min(c.y,l)},centrePoint:d}}},function(t,e,i){"use strict";var n=i(4),o=i(8),r=i(19),s=i(5),a=i(20),h=i(105),l=i(106);e.a={appendToArray:n.a,getPixelRatio:o.a,mapPoint:r.a,mapScalar:s.a,restoreViewport:a.a,unmapPoint:h.a,unmapScalar:l.a}},function(t,e,i){"use strict";e.a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return{x:e*t.state.scale+t.state.offsetX,y:i*t.state.scale+t.state.offsetY}}},function(t,e,i){"use strict";e.a=function(t,e){return e*t.state.scale}}])},t.exports=n()}}]);